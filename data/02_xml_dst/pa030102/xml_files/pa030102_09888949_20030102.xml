<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030000303A1-20030102-M00001.NB SYSTEM "US20030000303A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00001.TIF SYSTEM "US20030000303A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-M00002.NB SYSTEM "US20030000303A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00002.TIF SYSTEM "US20030000303A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-M00003.NB SYSTEM "US20030000303A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00003.TIF SYSTEM "US20030000303A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-M00004.NB SYSTEM "US20030000303A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00004.TIF SYSTEM "US20030000303A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-M00005.NB SYSTEM "US20030000303A1-20030102-M00005.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00005.TIF SYSTEM "US20030000303A1-20030102-M00005.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-M00006.NB SYSTEM "US20030000303A1-20030102-M00006.NB" NDATA NB>
<!ENTITY US20030000303A1-20030102-M00006.TIF SYSTEM "US20030000303A1-20030102-M00006.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00000.TIF SYSTEM "US20030000303A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00001.TIF SYSTEM "US20030000303A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00002.TIF SYSTEM "US20030000303A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00003.TIF SYSTEM "US20030000303A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00004.TIF SYSTEM "US20030000303A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00005.TIF SYSTEM "US20030000303A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00006.TIF SYSTEM "US20030000303A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030000303A1-20030102-D00007.TIF SYSTEM "US20030000303A1-20030102-D00007.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030000303</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09888949</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010625</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G08B021/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>073</class>
<subclass>30400C</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>340</class>
<subclass>620000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Auto-compensating capacitive level sensor</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Richard</given-name>
<middle-name>A.</middle-name>
<family-name>Livingston</family-name>
</name>
<residence>
<residence-us>
<city>Webster Groves</city>
<state>MO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Roger</given-name>
<middle-name>D.</middle-name>
<family-name>Chamberlain</family-name>
</name>
<residence>
<residence-us>
<city>St. Louis</city>
<state>MO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>Daniel A. Crowe, Esq.</name-1>
<name-2>Bryan Cave, LLP</name-2>
<address>
<address-1>Suite 3600</address-1>
<address-2>211 North Broadway</address-2>
<city>St. Louis</city>
<state>MO</state>
<postalcode>63102</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A capacitive sensor array is adapted to be disposed in a reservoir containing fluid or material along an axis of measurement of the fluid or material to determine the level of fluid or material contained within the reservoir. The sensor array includes a plurality of reference electrodes, wherein the capacitance of each of the electrodes varies in accordance both with the extent of the array&apos;s immersion in the fluid or material and the dielectric constant of the fluid or material. The plurality of reference electrodes preferably includes a lower electrode adapted to be immersed within the fluid or material in the reservoir and whose capacitance provides an estimate of the dielectric constant of the fluid or material contained within the reservoir. The reference electrodes also include an upper electrode adapted to be positioned above the fluid or material level that provides an estimate of the dielectric constant above the level of the fluid or material in the reservoir, and a middle electrode whose capacitance varies from a calibrated initial value to a value that is dependent on the level of and the dielectric constant of the fluid or material contained within the reservoir as determined from the capacitance of the lower electrode. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates generally to capacitive sensors used to determine the presence or level of an object, fluid or materials. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Capacitive sensors are used extensively for level measurement and proximity detection. A conventional capacitive sensor, which includes one or more conductive plates, is sensitive to changes in the dielectric constants of materials or fluids near or surrounding the plates. The capacitive sensor detects the presence or lack of material in the vicinity of the plates by measuring the capacitance between the plates, which is proportional to the dielectric constant of the material filling the space between the plates. By measuring this capacitance, the quantity of material (for level measurement) or the existence of the material (for proximity detection) may be determined. Similarly, another conventional form of capacitive sensor, which uses a sensing antenna, e.g., a long wire or strip immersed into a tank or storage bin holding a variable level of fluid or material, measures the level of the fluid or material by sensing and measuring the capacitance of the sensing antenna. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The accuracy of conventional capacitive sensors is based in large part on the dielectric constant of the material to be sensed. For example, when sensing capacitance, a fifty percent change in relative permittivity (the dielectric constant) causes a corresponding fifty percent change in the measured capacitance, i.e., the relationship is linear. Designing and producing capacitive sensors is therefor hampered by the sensitivity of conventional capacitive sensors to changes in the dielectric constant of the material to be sensed. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> As an example, one application for a conventional capacitive sensor is a gasoline fuel gauge, which typically incorporates a sensor having a pair of parallel conductors that extend vertically into the fuel tank. As the fuel level rises, the capacitance measured across the two conductors increases because the dielectric constant of the fuel is higher than the air that it replaces. One problem that can arise in this convention application is when a small amount of water exists in the fuel tank together with the fuel. As the dielectric constant of water is significantly higher (about 80) than that of gasoline (about 2), even a small amount of water near the sensor can cause the capacitance to rise to a level corresponding to a full tank. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> A similar situation may arise with a conventional capacitive sensor used as a proximity detector. A proximity detector typically compares a measured capacitance to a predetermined threshold and determines if materials are near the sensor by comparing the measured capacitance to the predetermined threshold. If the capacitance associated with the material can vary significantly (e.g., due to differing dielectric constants of the materials) it can be difficult to establish an appropriate threshold value. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> There is a need, therefore, for a capacitive material sensor that is insensitive to changes or fluctuations in the dielectric constant of the fluid or material to be sensed. The preferred sensor would be capable of first extracting information regarding the nature of the sensed fluid or material and then capable of automatically compensating the sensor readings based on such information. Preferably, the sensor would accurately measure a variety of fluids or materials and be capable of manufacture at a relatively low cost. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The present invention overcomes these traditional difficulties and provides a capacitive sensor that automatically compensates for variations in its environment and operates reliably when used to measure or detect fluid or materials that may have varying dielectric constants. The capacitive level sensor incorporates multiple actual sensors (reference electrodes) that are used to extract information on the nature or composition of the fluid or material to be sensed and to allow the sensor to adjust or scale the level measurement based upon such extracted information. The sensor thus compensates for variations in the composition of the material or fluid being sensed. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The level sensor of the present invention includes a sensor array, which may take one of may forms, adapted to be disposed in the reservoir along an axis of measurement of the fluid or material. The sensor array includes a plurality of reference electrodes, wherein the capacitance of each of the electrodes varies in accordance both with the extent of the array&apos;s immersion in the fluid or material and the dielectric constant of the fluid or material. The plurality of reference electrodes preferably includes a lower electrode adapted to be immersed within the fluid or material in the reservoir and whose capacitance provides an estimate of the dielectric constant of the fluid or material contained within the reservoir and a middle electrode whose capacitance varies from a calibrated initial value to a value that is dependent on the level of and the dielectric constant of the fluid or material contained within the reservoir as determined from the capacitance of the lower electrode. The level sensor further includes a circuit capable of measuring the current required to repetitively charge each reference electrode to a predetermined voltage and for converting each current to a digitized sensor voltage representing the capacitance of each electrode. A microprocessor then receives and processes the digitized sensor voltages to determine the fluid or material level such that the fluid or material level is determined from the capacitance of the middle electrode and is compensated by the amount and rate of change of the capacitance of the lower electrode. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The reference electrodes may, in certain embodiments, include an upper electrode adapted to be positioned above the fluid or material level that provides an estimate of the drift in the circuit, that is then used to further compensate the calculation of the fluid or material level. The reference electrodes may comprise a relatively large number of electrodes positioned along the length of the sensor array such that the particular upper, lower, and middle electrode used for the calculation of the level are dynamically selected. In another embodiment of the present invention, the sensor array may include a compensation electrode formed from an electrode positioned at each end of the sensor array, wherein the electrodes are electrically coupled together such that the sensor array may be disposed in the reservoir regardless of its orientation.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> These and other features, aspects, and advantages of the present invention will become better understood with regard to the following description, appended claims, and accompanying drawings wherein: </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a simplified diagram of one embodiment of a capacitive sensor array in accordance with the present invention; </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a simplified diagram of an alternative embodiment of the capacitive sensor array of the present invention; </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a simplified diagram of another alternative embodiment of the capacitive sensor array of the present invention; </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a block diagram of a capacitive level sensor that incorporates the sensor array of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a graph showing voltage as a function of rising fluid level, as determined by the capacitive level sensor of the present invention; and </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 6, 7</cross-reference> and <highlight><bold>8</bold></highlight> illustrate alternative embodiments of the capacitive sensor array of the present invention. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> These drawings are provided for illustrative purposes only and should not be used to unduly limit the scope of the present invention. </paragraph>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> The capacitive level sensor of the present invention includes a capacitive sensor array that is adapted to be placed in a reservoir for determining the level of the fluid or material contained within the reservoir. <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a simplified diagram illustrating a capacitive sensor array <highlight><bold>10</bold></highlight> having three pairs of reference electrodes or plates, identified as lower electrode <highlight><bold>16</bold></highlight>, middle electrode <highlight><bold>14</bold></highlight>, and an optional upper electrode <highlight><bold>12</bold></highlight>. The sensor array <highlight><bold>10</bold></highlight> may be used as part of a capacitive fluid or material level sensor to calculate the level of fluid or material stored within a reservoir using the capacitive readings from each of the three reference electrodes. The term reservoir as used here refers to any form of container, vessel or basin retaining fluid or materials to be measured, such as bins, tanks, hoppers, or open ponds, lakes, rivers. The fluids or materials may be water, milk, detergent, oil, fuels, and various chemical solutions, powders, and granular materials, including livestock grain, feed, plastic pellets, rock, gravel, and metals. One particular application is an oil reservoir for a diesel engine. The sensor array <highlight><bold>10</bold></highlight> is positioned vertically within the reservoir containing the fluid or material to be sensed and along the axis of measurement such that the amount of area of the array <highlight><bold>10</bold></highlight> that is covered by the fluid or material in the reservoir ultimately provides an indication of the level of the fluid or material. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the upper and lower electrodes, <highlight><bold>12</bold></highlight> and <highlight><bold>16</bold></highlight>, may be pairs of flat plates placed at each end of the sensor array <highlight><bold>10</bold></highlight>. The size and shape of the flat plates may vary depending on the application and desired range of resolution. One example is to use rectangular-shaped plates approximately two inches in length and one inch in width. In the embodiment illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, each reference electrode <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight>, is housed on an electrode support structure, such as within the interior of a hollow non-conducting pipe <highlight><bold>18</bold></highlight>. Each reference electrode pair is physically spaced apart along the length of the non-conducting pipe <highlight><bold>18</bold></highlight>. In this embodiment, each reference electrode is preferably comprised of two plates positioned opposed each other with a space therebetween forming an insulating gap. As the non-conducting pipe <highlight><bold>18</bold></highlight> is immersed in the fluid or material under measurement, the fluid or material flows into the interior of the pipe <highlight><bold>18</bold></highlight> and modifies the capacitance measured between the plates forming each electrode <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight>. In addition to flat plates, the upper and lower electrodes, <highlight><bold>12</bold></highlight> and <highlight><bold>16</bold></highlight>, may be comprised of a series of thin wire strips that have a relatively narrow gap between each of the individual electrodes, which results in a relatively large change in capacitance of the electrode when the electrode is immersed or covered with fluid or material having a large dielectric constant. The middle electrode <highlight><bold>14</bold></highlight> may be comprised of a pair of long rectangular metallic strips or plates extending about eight inches long that preferably change capacitance about as much as the upper and lower electrodes, <highlight><bold>12</bold></highlight> and <highlight><bold>16</bold></highlight>, when immersed in or covered with fluid or material. The dielectric constant of the material or fluid present within the reservoir affects the capacitance of the middle electrode <highlight><bold>14</bold></highlight>, and as the level of the liquid within the reservoir changes, the capacitance of the middle electrode <highlight><bold>14</bold></highlight> changes substantially linearly with the level. While <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates one exemplary geometric configuration for the reference electrodes, those skilled in the art will recognize that other geometries may be used (some of which are described below) and all such alternative geometries are within the scope of the present invention. The dimensions of the non-conducting pipe <highlight><bold>18</bold></highlight> and the electrodes forming the sensor array <highlight><bold>10</bold></highlight> are dependent on the application because of the wide variety of shapes which the fluid reservoir may take and the required resolution (i.e., accuracy). The dielectric constant of the material or fluid present within the reservoir affects the capacitance of the middle electrode <highlight><bold>14</bold></highlight>, and as the level of the liquid within the reservoir changes, the capacitance of the middle electrode <highlight><bold>14</bold></highlight> changes substantially linearly with the level. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> One plate of each electrode <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, <highlight><bold>16</bold></highlight> is preferably coupled to a fixed voltage, such as a ground reference. Each of these plates may be coupled together with connecting wire. Alternatively, there may be a single ground reference electrode plate <highlight><bold>19</bold></highlight>, which forms a portion of each of the reference electrodes <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> In the embodiments shown in <cross-reference target="DRAWINGS">FIGS. 1 and 2</cross-reference>, the upper electrode <highlight><bold>12</bold></highlight> is optional. Thus, a capacitive level sensor may be formed from a sensor array having only lower and middle electrodes wherein the level of fluid or material is determined from the capacitance of the middle electrode and is compensated by the amount and rate of change of the capacitance of the lower electrode. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates another embodiment of the sensor array <highlight><bold>10</bold></highlight> of the present invention in which each reference electrode is formed of a conducting cylinder. In this embodiment, upper electrode <highlight><bold>12</bold></highlight> and lower electrode <highlight><bold>16</bold></highlight> are cylinders of approximately equal diameter and middle electrode <highlight><bold>14</bold></highlight> is a longer, narrower cylinder. Each of these cylindrical electrodes may be placed inside of a grounded conducting pipe <highlight><bold>18</bold></highlight> wherein fluid is allowed to enter from the bottom. Again, in this embodiment, the upper electrode <highlight><bold>12</bold></highlight> is optional. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Another embodiment of the present invention incorporates the sensor array <highlight><bold>10</bold></highlight> into a capacitive level sensor that includes a circuit capable of measuring the current required to repetitively charge each reference electrode of the sensor array <highlight><bold>10</bold></highlight> to a predetermined voltage and for converting each current to a digitized sensor voltage representing the capacitance of each electrode. One embodiment of such a capacitive level sensor <highlight><bold>20</bold></highlight> is illustrated in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, in which each of the three reference electrodes of the sensor array <highlight><bold>10</bold></highlight> are coupled to a charging and detection circuit <highlight><bold>30</bold></highlight>. The charging and detection circuit <highlight><bold>30</bold></highlight> includes a charge pump circuit <highlight><bold>28</bold></highlight>, designed to measure the amount of current required to charge each of the electrodes <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight> of the sensor array <highlight><bold>10</bold></highlight> to a predetermined voltage. The predetermined voltage is established as a function of the various components used in circuit <highlight><bold>30</bold></highlight>. Although many forms of charge pump circuitry may be used, one preferred implementation is disclosed in U.S. patent application Ser. No. 09/587,010, entitled &ldquo;Balanced Charge Pump Capacitive Material Sensor&rdquo; (incorporated herein), which is designed to automatically compensate for expected variations in the reference voltages commonly used in conventional switched capacitor or charge pump capacitive sensor assemblies. The measured current from each of the three sensor electrodes is fed into a transimpedance amplifier <highlight><bold>22</bold></highlight> and converted into a voltage, which is then delivered to an 8 bit A/D converter <highlight><bold>24</bold></highlight>. The A/D converter <highlight><bold>24</bold></highlight> converts the analog voltage signals associated with each reference electrode into a digital signal ranging from 0 to 255 counts. The three digital signals are then coupled to a digital computer or microprocessor <highlight><bold>26</bold></highlight> adapted to calculate the level of fluid or material within the reservoir based on the A/D counts from each of the three reference electrodes. In certain implementations, each of the circuit elements shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> may be incorporated into an assembly together with insulating pipe <highlight><bold>18</bold></highlight> and the capacitive sensor array <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a graph showing representative data derived from the output of the A/D converter <highlight><bold>24</bold></highlight> as the fluid level varies within a reservoir from empty to full. The data shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> was collected using an inverting transimpedance amplifier <highlight><bold>22</bold></highlight> and, therefore, the reading (A/D counts) from each of the three reference electrode decreases as the fluid level (and capacitance) increases. As illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, as the fluid level increases in the reservoir, the capacitance of the reference electrodes increases and the associated A/D counts decrease. Precisely where and by how much the A/D counts change with a change in fluid or material level depends on the shape and location of the individual electrodes. The data represented in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> was obtained using the capacitive sensor array <highlight><bold>10</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. Thus, for the lower electrode <highlight><bold>16</bold></highlight>, which is about two inches in length, the A/D counts drop abruptly between one and three inches and then level off. We note that the shallow slope to the curve for the lower electrode counts above a fluid level of three inches arises due to the capacitance of the wiring connecting the lower electrode <highlight><bold>16</bold></highlight> to the circuitry used in connection with the sensor array <highlight><bold>10</bold></highlight>. This must be accounted for in the calculations presented below. The A/D counts associated with the middle electrode <highlight><bold>14</bold></highlight> begin to decrease at about two inches and continue to decrease gradually to a much higher fluid level. The A/D counts associated with the upper electrode <highlight><bold>12</bold></highlight> demonstrate little change until the fluid level rises within a few inches of the top of the reservoir. At this point the A/D count associated with the upper electrode <highlight><bold>12</bold></highlight> abruptly drops off. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The microprocessor <highlight><bold>26</bold></highlight> calculates the fluid level based on the A/D counts associated with each of the three reference electrodes. The A/D counts as a function of fluid height for each electrode may be represented as: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Ucal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Udrift </subscript></highlight>&emsp;&emsp;(1) </in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>M</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Mcal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Mdrift</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>M&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>M&Dgr;max</subscript></highlight><highlight><italic>&middot;l</italic></highlight>) &emsp;&emsp;(2) </in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Lcal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Ldrift</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>L&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>L&Dgr;max &middot;l</subscript></highlight>) &emsp;&emsp;(b <highlight><bold>3</bold></highlight>) </in-line-formula></paragraph>
<paragraph id="P-0026" lvl="7"><number>&lsqb;0026&rsqb;</number> where: </paragraph>
<paragraph id="P-0027" lvl="2"><number>&lsqb;0027&rsqb;</number> the level (l) is between some predetermined ZERO and FULL levels, over which range the lower electrode <highlight><bold>16</bold></highlight> is always fully immersed in the fluid, the middle electrode <highlight><bold>14</bold></highlight> is partially immersed to a greater or lesser extent, and the upper electrode <highlight><bold>12</bold></highlight> is always completely clear of the fluid; </paragraph>
<paragraph id="P-0028" lvl="2"><number>&lsqb;0028&rsqb;</number> V<highlight><subscript>M</subscript></highlight>(l) is the A/D count value for the middle electrode <highlight><bold>14</bold></highlight> as a function of the height of the fluid (or material) (l); </paragraph>
<paragraph id="P-0029" lvl="2"><number>&lsqb;0029&rsqb;</number> V<highlight><subscript>Mcal </subscript></highlight>is the A/D count value for the middle electrode <highlight><bold>14</bold></highlight> when the sensor array <highlight><bold>10</bold></highlight> is not immersed in fluid (i.e., the calibration value); </paragraph>
<paragraph id="P-0030" lvl="2"><number>&lsqb;0030&rsqb;</number> V<highlight><subscript>Mdrift </subscript></highlight>is the amount of circuit drift, if any, at a given time, in the A/D count value for the middle electrode <highlight><bold>14</bold></highlight>; </paragraph>
<paragraph id="P-0031" lvl="2"><number>&lsqb;0031&rsqb;</number> V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0 </subscript></highlight>represents the change in A/D count value, from V<highlight><subscript>Mcal</subscript></highlight>, for the middle electrode <highlight><bold>14</bold></highlight> when the fluid is up to the desired ZERO level; </paragraph>
<paragraph id="P-0032" lvl="2"><number>&lsqb;0032&rsqb;</number> V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max </subscript></highlight>represents the change in A/D count value, from V<highlight><subscript>Mcal</subscript></highlight>, when the middle electrode <highlight><bold>14</bold></highlight> is immersed in fluid up to the desired FULL level; and </paragraph>
<paragraph id="P-0033" lvl="2"><number>&lsqb;0033&rsqb;</number> &egr;<highlight><subscript>r </subscript></highlight>is the relative dielectric constant of the fluid or material. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Note that the subscripts M (representing the middle electrode <highlight><bold>14</bold></highlight> ) may be replaced with either U (representing the upper electrode <highlight><bold>12</bold></highlight> ) or L (lower electrode <highlight><bold>16</bold></highlight> ) in the subscripts in each of these definitions. </paragraph>
<paragraph id="P-0035" lvl="7"><number>&lsqb;0035&rsqb;</number> Also, </paragraph>
<paragraph id="P-0036" lvl="2"><number>&lsqb;0036&rsqb;</number> L<highlight><subscript>max </subscript></highlight>is the fluid level l at the desired FULL level on the middle electrode <highlight><bold>14</bold></highlight>; and </paragraph>
<paragraph id="P-0037" lvl="2"><number>&lsqb;0037&rsqb;</number> L<highlight><subscript>min</subscript></highlight>&equals;0 is the fluid level l at which the lower electrode <highlight><bold>16</bold></highlight> is completely covered with fluid and the fluid is up to the desired ZERO level on the middle electrode <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> The unknowns &egr;<highlight><subscript>r,</subscript></highlight>l and V<highlight><subscript>xdrift </subscript></highlight>may be calculated in terms of the other known parameters (V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0</subscript></highlight>,, V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;0</superscript></highlight></subscript></highlight>, V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>,, V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>), which are based on the design of the sensor array <highlight><bold>10</bold></highlight> and may be determined experimentally during calibration and stored in the microprocessor <highlight><bold>26</bold></highlight>. This calibration may be conducted once and the parameters then stored into the microprocessor <highlight><bold>26</bold></highlight> of each level sensor manufactured based on the same design. Likewise, the V<highlight><subscript>Mcal</subscript></highlight>, V<highlight><subscript>Ucal </subscript></highlight>and V<highlight><subscript>Lcal </subscript></highlight>values may be determined for each individual unit, if necessary, and likewise stored in the microprocessor <highlight><bold>26</bold></highlight>. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> The fundamental operating concept for the sensor array <highlight><bold>10</bold></highlight> is that the lower electrode <highlight><bold>16</bold></highlight> provides an estimate of the dielectric constant of the unknown fluid or material contained within the reservoir and that the capacitance of the middle electrode <highlight><bold>14</bold></highlight> changes from some known and calibrated initial value to another value that is dependent on the level of and the dielectric constant of the fluid. The equations provided below take into account both the amount and rate of change in the capacitance of the lower electrode <highlight><bold>16</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Initially the circuit drift values are estimated, assuming that all three electrodes will drift by the same amount, which may be safely assumed based on the design of the charging and detection circuit <highlight><bold>30</bold></highlight>. Thus: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>Udrift</subscript></highlight><highlight><italic>&equals;V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)&minus;<highlight><italic>V</italic></highlight><highlight><subscript>Ucal </subscript></highlight></in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula>V<highlight><subscript>Mdrift</subscript></highlight>&cong;V<highlight><subscript>Udrift </subscript></highlight>&emsp;&emsp;(4) </in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula>V<highlight><subscript>Ldrift</subscript></highlight>&cong;V<highlight><subscript>Udrift </subscript></highlight></in-line-formula></paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Under this assumption, V<highlight><subscript>xdrift </subscript></highlight>can be effectively eliminated from equations (2) and (3) by subtracting V<highlight><subscript>U</subscript></highlight>(l)&minus;V<highlight><subscript>UCal </subscript></highlight>from V<highlight><subscript>M</subscript></highlight>(l) and V<highlight><subscript>L</subscript></highlight>(l). Likewise, the V<highlight><subscript>xCal </subscript></highlight>values, determined during calibration, can also be subtracted from each V<highlight><subscript>x</subscript></highlight>(l), giving corrected values:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Mcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>M</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mi>Mcal</mi>
                </msub>
                <mo>-</mo>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>U</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msub>
                  <mi>V</mi>
                  <mi>Ucal</mi>
                </msub>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <mo>-</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>&varepsilon;</mi>
                        <mi>r</mi>
                      </msub>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&CenterDot;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>V</mi>
                      <mrow>
                        <mi>M</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>&Delta;0</mi>
                      </mrow>
                    </msub>
                    <mo>+</mo>
                    <mrow>
                      <msub>
                        <mi>V</mi>
                        <mrow>
                          <mi>M</mi>
                          <mo>&it;</mo>
                          <mstyle>
                            <mtext>&emsp;</mtext>
                          </mstyle>
                          <mo>&it;</mo>
                          <mi>&Delta;</mi>
                          <mo>&it;</mo>
                          <mstyle>
                            <mtext>&emsp;</mtext>
                          </mstyle>
                          <mo>&it;</mo>
                          <mi>max</mi>
                        </mrow>
                      </msub>
                      <mo>&CenterDot;</mo>
                      <mi>l</mi>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Lcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>L</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mi>Lcal</mi>
                </msub>
                <mo>-</mo>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>U</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msub>
                  <mi>V</mi>
                  <mi>Ucal</mi>
                </msub>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <mo>-</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>&varepsilon;</mi>
                        <mi>r</mi>
                      </msub>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&CenterDot;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>V</mi>
                      <mrow>
                        <mi>L</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>&Delta;0</mi>
                      </mrow>
                    </msub>
                    <mo>+</mo>
                    <mrow>
                      <msub>
                        <mi>V</mi>
                        <mrow>
                          <mi>L</mi>
                          <mo>&it;</mo>
                          <mstyle>
                            <mtext>&emsp;</mtext>
                          </mstyle>
                          <mo>&it;</mo>
                          <mi>&Delta;</mi>
                          <mo>&it;</mo>
                          <mstyle>
                            <mtext>&emsp;</mtext>
                          </mstyle>
                          <mo>&it;</mo>
                          <mi>max</mi>
                        </mrow>
                      </msub>
                      <mo>&CenterDot;</mo>
                      <mi>l</mi>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030000303A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="46.0971" file="US20030000303A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The level may now be calculated using the following formula:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>level</mi>
        <mo>=</mo>
        <mrow>
          <mi>K</mi>
          <mo>&CenterDot;</mo>
          <mfrac>
            <mrow>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Mcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>A</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>Lcorrected</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Lcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>B</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <msub>
                    <mi>V</mi>
                    <mi>Mcorrected</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>l</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030000303A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="18.96615" file="US20030000303A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0043" lvl="7"><number>&lsqb;0043&rsqb;</number> where the values A, B and K can be calculated during calibration as:  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>A</mi>
        <mo>=</mo>
        <mfrac>
          <msub>
            <mi>V</mi>
            <mrow>
              <mi>M</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&Delta;0</mi>
            </mrow>
          </msub>
          <msub>
            <mi>V</mi>
            <mrow>
              <mi>L</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&Delta;0</mi>
            </mrow>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>B</mi>
        <mo>=</mo>
        <mfrac>
          <msub>
            <mi>V</mi>
            <mrow>
              <mi>L</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&Delta;max</mi>
            </mrow>
          </msub>
          <msub>
            <mi>V</mi>
            <mrow>
              <mi>M</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&Delta;max</mi>
            </mrow>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>K</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>level</mi>
              <mi>max</mi>
            </msub>
            <msub>
              <mi>L</mi>
              <mi>max</mi>
            </msub>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030000303A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="65.0349" file="US20030000303A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0044" lvl="7"><number>&lsqb;0044&rsqb;</number> where level<highlight><subscript>max </subscript></highlight>is the desired value to be calculated when the fluid level is &ldquo;full&rdquo;. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Equation (7) automatically compensates for changes in the dielectric constant of the fluid or material within the reservoir (by calculating (&egr;<highlight><subscript>r</subscript></highlight>&minus;1)). In addition, the calculation compensates for electronic drift, to the extent that the electronic drift is common to all three electrodes in a similar fashion and to the extent that the upper electrode <highlight><bold>12</bold></highlight> is not yet immersed. This calculation also compensates for the slope on the reading from the lower electrode <highlight><bold>16</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, and for some initial offset to the middle electrode reading that is dependent on the dielectric constant of the fluid. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The equations set forth above assume a sensor array <highlight><bold>10</bold></highlight> having an upper, middle, and lower electrodes. The same equations also apply to a sensor array <highlight><bold>10</bold></highlight> without an upper electrode, wherein all of the terms related to the upper electrode are considered to be zero. Thus, the readings associated with the lower and middle electrodes will not be corrected. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> As discussed above, the sensor array <highlight><bold>10</bold></highlight> may take many forms. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> illustrates an alternative embodiment for the sensor array <highlight><bold>10</bold></highlight>, in which the three reference electrodes (shown as interdigitated fingers) are integrally incorporated onto a flat printed circuit board as deposits of electroless plating or printing on the surface of the board. The circuit board also contains circuitry (such as that illustrated in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>) for calculating the fluid or material level based on the capacitance readings from the three reference electrodes, <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight>. This configuration minimizes lead capacitance associated with the capacitive sensor. The printed circuit board and its components may be sealed forming a complete sensing module. Certain of the components, for example, the charge and detection circuitry <highlight><bold>30</bold></highlight>, the A/D converter <highlight><bold>24</bold></highlight>, and the microprocessor <highlight><bold>26</bold></highlight> may be packaged together as a single application specific integrated circuit (ASIC) that is disposed on the board. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows another embodiment for the capacitive level sensor capable of accurately determining fluid height regardless of its orientation into a reservoir, thus easing the installation of the level sensor. In this embodiment, the upper and lower reference electrodes, <highlight><bold>12</bold></highlight> and <highlight><bold>16</bold></highlight> are connected together and treated as the lower electrode. This embodiment generally requires the drift in the A/D counts for the upper and lower electrodes to be negligible. The calculations used with this embodiment are identical to those used with the sensor array of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, except that the upper electrodes values V<highlight><subscript>U </subscript></highlight>and V<highlight><subscript>Ucal </subscript></highlight>are both assumed to be zero. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> illustrates a sensor array <highlight><bold>10</bold></highlight> having more than three reference electrodes (each labeled as <highlight><bold>32</bold></highlight>). During use, three of these electrodes are dynamically selected as the lower, middle, and upper reference electrodes. For example, the electrode at or near the surface level of the fluid or materials is selected as the middle electrode <highlight><bold>14</bold></highlight>, the electrode below the surface level is selected as the lower electrode <highlight><bold>16</bold></highlight>, and the first electrode above the surface level is selected as the upper electrode <highlight><bold>12</bold></highlight>. In practice, this may be accomplished by measuring the capacitance of each electrode <highlight><bold>32</bold></highlight>, then deciding (in software) which electrode is at the level of the liquid, and then choosing the electrodes adjacent (above and below) as the upper and lower reference electrodes respectively. For example, starting with the two electrodes <highlight><bold>32</bold></highlight> nearest to the bottom of the sensor array <highlight><bold>10</bold></highlight>, the capacitance of each is measured. If the measured capacitance of these two electrodes are within a threshold of each other, which threshold may vary depending on the particular application, then it is determined that both electrodes are fully immersed. This process of measuring and comparing capacitances continues up along the sensor array with the next electrode. If the next electrode has a measured capacitance within the threshold of the first two, then this electrode is also determined to be fully immersed. This process continues until a electrode is reached that has a measured capacitance that is different than the measured capacitance of its lower neighbor electrode (i.e., outside the threshold). This electrode is then identified as the lower electrode <highlight><bold>16</bold></highlight>. A similar process proceeds from the top of the sensor array <highlight><bold>10</bold></highlight>. The capacitance of the top two electrodes <highlight><bold>32</bold></highlight> are measured and compared. If these capacitances are within a threshold, which again may vary depending on the application, then both electrodes are determined to be above the fluid or materials. The process then continues to the next electrode until an electrode is reached that has a measure capacitance that is different (i.e., outside the threshold) of the electrodes above it. The last electrode having a matched capacitance is then viewed as the upper electrode <highlight><bold>12</bold></highlight>. The electrode between the upper electrode <highlight><bold>12</bold></highlight> and the lower electrode <highlight><bold>16</bold></highlight> is selected as the middle electrode <highlight><bold>14</bold></highlight>. The sensor array <highlight><bold>10</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is particularly useful with stratified liquids. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The present invention also includes a method for calculating the level of fluid or material contained within a reservoir using any multi-electrode capacitive sensor array <highlight><bold>10</bold></highlight>, including those described above. Preferably, the calibrated capacitance of each of the reference electrodes in both air and when fully immersed in the fluid or material is initially determined. The method includes disposing the sensor array <highlight><bold>10</bold></highlight> in the reservoir along an axis of measurement of the fluid or material contained within the reservoir. The capacitance of each of the upper, middle and lower reference electrodes <highlight><bold>12</bold></highlight>, <highlight><bold>14</bold></highlight>, and <highlight><bold>16</bold></highlight>, will vary in accordance both with the extent of the electrode&apos;s immersion in the fluid and the dielectric constant of the fluid or material contained within the reservoir. The sensor array <highlight><bold>10</bold></highlight> is positioned within the reservoir such that the lower electrode <highlight><bold>16</bold></highlight> is submersed in the fluid or material and the upper electrode <highlight><bold>12</bold></highlight> of the sensor array <highlight><bold>10</bold></highlight> extends above the surface of the fluid or material with the fluid or material surface being at a level between the upper and lower electrodes and in contact with the middle electrode <highlight><bold>14</bold></highlight>. The sensor array is coupled to a circuit, such as charging and detection circuitry <highlight><bold>30</bold></highlight>, to measure the amount of current required to repetitively charge each reference electrode to a predetermined voltage. These measured currents are then converted to a digitized sensor voltage representing the capacitance of each reference electrode. The dielectric constant of the fluid or material within the container may then be calculated based on the capacitance of the lower electrode <highlight><bold>16</bold></highlight> as represented by the digitized voltage from the lower electrode <highlight><bold>16</bold></highlight>. The level of the fluid or material within the reservoir may then be calculated using the equations provided above. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The capacitive sensor described herein has a number of uses including as a level sensor and/or proximity detector that can operate over a wide range of materials without the need to be tuned for each specific material application. In addition, the present invention provides the ability to detect variations in dielectric constant along the sensing conductor. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Although the present invention has been described in considerable detail with reference to certain presently preferred embodiments thereof, other embodiments are possible without departing from the spirit and scope of the present invention. Therefore the appended claims should not be limited to the description of the preferred versions contained herein. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">I claim: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A capacitive level sensor for measuring the level of fluid or material contained within a reservoir comprising: 
<claim-text>a capacitive sensor array adapted to be disposed in the reservoir along an axis of measurement of the material or fluid contained within the reservoir, the sensor array comprising a plurality of reference electrodes wherein the capacitance of each of the electrodes varies in accordance both with the extent of the array&apos;s immersion in the fluid or material and the dielectric constant of the fluid or material, the plurality of reference electrodes comprising: 
<claim-text>a lower electrode adapted to be positioned near the bottom of the reservoir and whose capacitance provides an estimate of the dielectric constant of the fluid or material contained within the reservoir; and </claim-text>
<claim-text>a middle electrode that extends along the length of the array and whose capacitance varies from a calibrated initial value to a value that is dependent on the level of and the dielectric constant of the fluid or material contained within the reservoir as determined from the capacitance of the lower electrode; </claim-text>
<claim-text>a circuit capable of measuring the capacitance of each reference electrode and generating a digitized sensor voltage representing the capacitance of each electrode; and </claim-text>
<claim-text>a microprocessor for receiving and processing the digitized sensor voltages to determine the fluid or material level, wherein the level is determined from the capacitance of the middle electrode and is compensated by the amount and rate of change of the capacitance of the lower electrode. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the microprocessor determines the level of the fluid or material in accordance with: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
  <mrow>
    <mrow>
      <mi>level</mi>
      <mo>=</mo>
      <mrow>
        <mi>K</mi>
        <mo>&CenterDot;</mo>
        <mfrac>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Mcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>A</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Lcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Lcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>B</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Mcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mi>where</mi>
  </mrow>
</math>
<math>
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <mi>A</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mi>B</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mi>K</mi>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <msub>
                <mi>level</mi>
                <mi>max</mi>
              </msub>
              <msub>
                <mi>L</mi>
                <mi>max</mi>
              </msub>
            </mfrac>
            <mo>&CenterDot;</mo>
            <mfrac>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>&Delta;0</mi>
                </mrow>
              </msub>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>M</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>&Delta;max</mi>
                </mrow>
              </msub>
            </mfrac>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030000303A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="90.97515" file="US20030000303A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>Mcorrected</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>M</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&minus;V</italic></highlight><highlight><subscript>Mcal </subscript></highlight></in-line-formula><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>Lcorrected</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&minus;V</italic></highlight><highlight><subscript>Lcal </subscript></highlight></in-line-formula>
<claim-text>L<highlight><subscript>max </subscript></highlight>represents the fluid or material level when the fluid or material is at the top of the middle reference electrode; </claim-text>
<claim-text>level<highlight><subscript>max </subscript></highlight>represents a calibrated full fluid level; </claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>M</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Mcal</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>M&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>M&Dgr;max</subscript></highlight><highlight><italic>&middot;l</italic></highlight>) </in-line-formula><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Lcal</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>L&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>L&Dgr;max</subscript></highlight><highlight><italic>&middot;l</italic></highlight>) </in-line-formula></claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0, </subscript></highlight>V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0 </subscript></highlight>represent the change in the digitized sensor voltages from the lower and middle reference electrodes from the calibrated initial values to values obtained when the level of the fluid or material is at the bottom of each electrode; </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>, V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max </subscript></highlight>represent the change in digitized sensor voltages from the lower and middle reference electrodes from the calibrated values to values obtained when the electrodes are each fully immersed in the fluid or material; where: </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight>(l) and V<highlight><subscript>M</subscript></highlight>(l) represent the digitized sensor voltages from the lower and middle reference electrodes as a function of the level of the fluid or material; </claim-text>
<claim-text>V<highlight><subscript>Lcal </subscript></highlight>and V<highlight><subscript>Mcal </subscript></highlight>represent the calibrated initial values for the digitized sensor voltages from the lower and middle reference electrodes, calibrated when the sensor array is not immersed into the fluid or material; and </claim-text>
<claim-text>&egr;<highlight><subscript>r </subscript></highlight>is the relative dielectric constant of the fluid or material. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the plurality of reference electrodes further comprises an upper electrode adapted to be positioned above the fluid or material level that provides an estimate of any offset drift in the circuit. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the microprocessor determines the level of the fluid or material in accordance with: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00005">
<number>5</number>
<math>
  <mrow>
    <mrow>
      <mi>level</mi>
      <mo>=</mo>
      <mrow>
        <mi>K</mi>
        <mo>&CenterDot;</mo>
        <mfrac>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Mcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>A</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Lcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Lcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>B</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Mcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mi>where</mi>
  </mrow>
</math>
<math>
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <mi>A</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mi>B</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mi>K</mi>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <msub>
                <mi>level</mi>
                <mi>max</mi>
              </msub>
              <msub>
                <mi>L</mi>
                <mi>max</mi>
              </msub>
            </mfrac>
            <mo>&CenterDot;</mo>
            <mfrac>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>&Delta;0</mi>
                </mrow>
              </msub>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>M</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>&Delta;max</mi>
                </mrow>
              </msub>
            </mfrac>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
<mathematica-file id="MATHEMATICA-00005" file="US20030000303A1-20030102-M00005.NB"/>
<image id="EMI-M00005" wi="216.027" he="90.97515" file="US20030000303A1-20030102-M00005.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>Mcorrected</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>M</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&minus;V</italic></highlight><highlight><subscript>MCal</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&plus;V</italic></highlight><highlight><subscript>Ucal </subscript></highlight></in-line-formula></claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>Lcorrected</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&minus;V</italic></highlight><highlight><subscript>Lcal</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&plus;V</italic></highlight><highlight><subscript>Ucal </subscript></highlight></in-line-formula>
<claim-text>L<highlight><subscript>max </subscript></highlight>represents the fluid or material level when the fluid or material is at the top of the middle reference electrode; </claim-text>
<claim-text>level<highlight><subscript>max </subscript></highlight>represents a calibrated full fluid level; </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0</subscript></highlight>, V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0</subscript></highlight>, V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0 </subscript></highlight>represent the change in the digitized sensor voltages from the lower, middle and upper reference electrodes from the calibrated initial values to values obtained when the level of the fluid or material is at the bottom of each electrode; </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>, V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>, V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max </subscript></highlight>represent the change in digitized sensor voltages from the lower, middle and upper reference electrodes from the calibrated initial values to values obtained when the electrodes are each fully immersed in the fluid or material; </claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Ucal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Udrift </subscript></highlight></in-line-formula><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>M</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Mcal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Mdrift</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>M&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>M&Dgr;max</subscript></highlight><highlight><italic>&middot;l</italic></highlight>) </in-line-formula><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>(<highlight><italic>l</italic></highlight>)&equals;<highlight><italic>V</italic></highlight><highlight><subscript>Lcal</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>Ldrift</subscript></highlight>&minus;(&egr;<highlight><subscript>r</subscript></highlight>&minus;1)&middot;(<highlight><italic>V</italic></highlight><highlight><subscript>L&Dgr;0</subscript></highlight><highlight><italic>&plus;V</italic></highlight><highlight><subscript>L&Dgr;max</subscript></highlight><highlight><italic>&middot;l</italic></highlight>) </in-line-formula></claim-text>
<claim-text>V<highlight><subscript>U</subscript></highlight>(l), V<highlight><subscript>L</subscript></highlight>(l), and V<highlight><subscript>M</subscript></highlight>(l) represent the digitized sensor voltages from the upper, lower and middle reference electrodes as a function of the level of the fluid or material; </claim-text>
<claim-text>V<highlight><subscript>Ucal</subscript></highlight>, V<highlight><subscript>Lcal</subscript></highlight>, and V<highlight><subscript>Mcal </subscript></highlight>represent calibrated values for the digitized sensor voltages from the upper, lower and middle reference electrodes, calibrated when the sensor array is not immersed into the fluid or material; </claim-text>
<claim-text>V<highlight><subscript>Mdrift</subscript></highlight>, V<highlight><subscript>Mdrift</subscript></highlight>, and V<highlight><subscript>Mdrift </subscript></highlight>represent an amount of circuit drift in the digitized sensor voltage from the upper, lower and middle reference electrodes; and </claim-text>
<claim-text>&egr;<highlight><subscript>r </subscript></highlight>is the relative dielectric constant of the fluid or material. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> further comprising an electrode support structure, wherein the plurality of reference electrodes are mounted onto the support and are physically separated along the length of the support. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> wherein the electrode support comprises an elongated hollow cylindrical non-conducting pipe having a lower end adapted to be disposed first into the reservoir and submersed in the fluid or material, and an upper end, wherein each of the reference electrodes is positioned within the interior of the pipe such that the lower electrode is adjacent the lower end of the pipe, the upper electrode is adjacent the upper end of the pipe and the middle electrode extends along the length of the pipe between the upper and lower electrodes. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> wherein the electrode support comprises a flat insulating board having a lower end adapted to be disposed first into the reservoir and submersed in the fluid or material, and an upper end, wherein each of the reference electrodes is mounted onto the insulating board such that the lower electrode is adjacent the lower end of the board, the upper electrode is adjacent the upper end of the board and the middle electrode extends along the length of the board between the upper and lower electrodes. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein each of the plurality of reference electrodes comprises a pair of plates positioned opposing each other with a space therebetween such that as the sensor array is disposed in the reservoir, the fluid or material flows into the spaces and modifies the capacitance between each pair of plates. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the reference electrodes comprise deposits of electroless plating or printing on the surface of the board. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the reference electrodes comprise conducting cylinders. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A capacitive level sensor for measuring the level of fluid or material contained within a reservoir comprising: 
<claim-text>an elongate capacitive sensor array having a first and second end and adapted to be disposed in the reservoir along an axis of measurement of the material or fluid contained within the reservoir, the sensor array comprising: 
<claim-text>a compensation electrode formed from an electrode positioned at each end of the sensor array, wherein the electrodes are electrically coupled together such that the sensor array may be disposed in the reservoir regardless of its orientation, the compensation electrode having capacitance that provides an estimate of the dielectric constant of the fluid or material contained within the reservoir; and </claim-text>
<claim-text>a measurement electrode that extends along the length of the array and whose capacitance varies from a calibrated initial value to a value that is dependent on the level of and the dielectric constant of the fluid or material contained within the reservoir as determined from the capacitance of the compensation electrode; </claim-text>
</claim-text>
<claim-text>a circuit capable of measuring the capacitance of each electrode and generating a digitized sensor voltage representing the capacitance of each electrode; and </claim-text>
<claim-text>a microprocessor for receiving and processing the digitized sensor voltages to determine the fluid or material level, wherein the level is determined from the capacitance of the measurement electrode and is compensated by the amount and rate of change of the capacitance of the compensation electrode. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> further comprising an electrode support structure, wherein the compensation and measurement electrodes are mounted onto the support and are physically separated along the length of the support. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference> wherein the electrode support comprises an elongated hollow cylindrical non-conducting pipe having a lower end adapted to be disposed first into the reservoir and submersed in the fluid or material, and an upper end, wherein compensation and measurement electrodes are positioned within the interior of the pipe such that the compensation electrode is adjacent the lower and upper end of the pipe, and the measurement electrode extends along the length of the pipe between the upper and lower electrodes. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein each of the compensation and measurement electrodes comprises a pair of plates positioned opposing each other with a space therebetween such that as the sensor array is disposed in the reservoir, the fluid or material flows into the spaces and modifies the capacitance between each pair of plates. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein the electrode support comprises a flat insulating board having a lower end adapted to be disposed first into the reservoir and submersed in the fluid or material, and an upper end, wherein each of the compensation and measurement electrodes is mounted onto the insulating board such that the compensation electrode is adjacent the lower and upper end of the board and the measurement electrode extends along the length of the board between the compensation electrodes. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein the compensation and measurement electrodes comprise deposits of electroless plating or printing on the surface of the board. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The capacitive level sensor of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein the compensation and measurement electrodes comprise conducting cylinders. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A method for calculating the level of fluid or material contained within a reservoir comprising the steps of: 
<claim-text>providing a capacitive sensor array adapted to be disposed in the reservoir along an axis of measurement of the fluid or material contained within the reservoir, the sensor array comprising a middle and a lower reference electrode wherein the capacitance of each of the electrodes varies in accordance both with the extent of the electrode&apos;s immersion in the fluid and the dielectric constant of the fluid or material; </claim-text>
<claim-text>determining the calibrated capacitance of each of the electrodes in air; </claim-text>
<claim-text>determining the capacitance of each of the electrodes when the reference electrodes are fully immersed in the fluid or material; </claim-text>
<claim-text>positioning the sensor array within the reservoir such that the lower electrode is submersed in the fluid or material with the fluid or material surface being in contact with the middle electrode; </claim-text>
<claim-text>measuring the capacitance of each reference electrode and generating a digitized sensor voltage representing the capacitance of each electrode; and </claim-text>
<claim-text>calculating the level of the fluid or material within the reservoir from the capacitance of the middle electrode compensated by the amount and rate of change of the capacitance of the lower electrode. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference> wherein the sensor array further comprises an upper electrode adapted to be positioned above the fluid or material level to provide an estimate of any offset drift in the measurement of the current required to repetitively charge each reference electrode to a predetermined voltage. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference> wherein the level of the fluid or materials is calculated in accordance with: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00006">
<number>6</number>
<math>
  <mrow>
    <mrow>
      <mi>level</mi>
      <mo>=</mo>
      <mrow>
        <mi>K</mi>
        <mo>&CenterDot;</mo>
        <mfrac>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Mcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>A</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Lcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>Lcorrected</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>l</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>B</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>Mcorrected</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>l</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mi>where</mi>
  </mrow>
</math>
<math>
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <mi>A</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;0</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mi>B</mi>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>L</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>M</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&Delta;max</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mrow>
            <mi>K</mi>
            <mo>=</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>level</mi>
                  <mi>max</mi>
                </msub>
                <msub>
                  <mi>L</mi>
                  <mi>max</mi>
                </msub>
              </mfrac>
              <mo>&CenterDot;</mo>
              <mfrac>
                <msub>
                  <mi>V</mi>
                  <mrow>
                    <mi>L</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>&Delta;0</mi>
                  </mrow>
                </msub>
                <msub>
                  <mi>V</mi>
                  <mrow>
                    <mi>M</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>&Delta;max</mi>
                  </mrow>
                </msub>
              </mfrac>
            </mrow>
          </mrow>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&NewLine;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mtable>
            <mtr>
              <mtd>
                <mtable>
                  <mtr>
                    <mtd>
                      <mrow>
                        <mrow>
                          <msub>
                            <mi>V</mi>
                            <mi>Mcorrected</mi>
                          </msub>
                          <mo>&af;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>l</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mo>=</mo>
                        <mrow>
                          <mrow>
                            <msub>
                              <mi>V</mi>
                              <mi>M</mi>
                            </msub>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>l</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>-</mo>
                          <msub>
                            <mi>V</mi>
                            <mi>Mcal</mi>
                          </msub>
                          <mo>-</mo>
                          <mrow>
                            <msub>
                              <mi>V</mi>
                              <mi>U</mi>
                            </msub>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>l</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>+</mo>
                          <msub>
                            <mi>V</mi>
                            <mi>Ucal</mi>
                          </msub>
                        </mrow>
                      </mrow>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mrow>
                        <mo>=</mo>
                        <mrow>
                          <mrow>
                            <mo>-</mo>
                            <mrow>
                              <mo>(</mo>
                              <mrow>
                                <msub>
                                  <mi>&varepsilon;</mi>
                                  <mi>r</mi>
                                </msub>
                                <mo>-</mo>
                                <mn>1</mn>
                              </mrow>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&CenterDot;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <msub>
                                <mi>V</mi>
                                <mrow>
                                  <mi>M</mi>
                                  <mo>&it;</mo>
                                  <mstyle>
                                    <mtext>&emsp;</mtext>
                                  </mstyle>
                                  <mo>&it;</mo>
                                  <mi>&Delta;0</mi>
                                </mrow>
                              </msub>
                              <mo>+</mo>
                              <mrow>
                                <msub>
                                  <mi>V</mi>
                                  <mrow>
                                    <mi>M</mi>
                                    <mo>&it;</mo>
                                    <mstyle>
                                      <mtext>&emsp;</mtext>
                                    </mstyle>
                                    <mo>&it;</mo>
                                    <mi>&Delta;</mi>
                                    <mo>&it;</mo>
                                    <mstyle>
                                      <mtext>&emsp;</mtext>
                                    </mstyle>
                                    <mo>&it;</mo>
                                    <mi>max</mi>
                                  </mrow>
                                </msub>
                                <mo>&CenterDot;</mo>
                                <mi>l</mi>
                              </mrow>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                    </mtd>
                  </mtr>
                </mtable>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mtable>
                  <mtr>
                    <mtd>
                      <mrow>
                        <mrow>
                          <msub>
                            <mi>V</mi>
                            <mi>Lcorrected</mi>
                          </msub>
                          <mo>&af;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>l</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mo>=</mo>
                        <mrow>
                          <mrow>
                            <msub>
                              <mi>V</mi>
                              <mi>L</mi>
                            </msub>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>l</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>-</mo>
                          <msub>
                            <mi>V</mi>
                            <mi>Lcal</mi>
                          </msub>
                          <mo>-</mo>
                          <mrow>
                            <msub>
                              <mi>V</mi>
                              <mi>U</mi>
                            </msub>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>l</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>+</mo>
                          <msub>
                            <mi>V</mi>
                            <mi>Ucal</mi>
                          </msub>
                        </mrow>
                      </mrow>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mrow>
                        <mo>=</mo>
                        <mrow>
                          <mrow>
                            <mo>-</mo>
                            <mrow>
                              <mo>(</mo>
                              <mrow>
                                <msub>
                                  <mi>&varepsilon;</mi>
                                  <mi>r</mi>
                                </msub>
                                <mo>-</mo>
                                <mn>1</mn>
                              </mrow>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&CenterDot;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <msub>
                                <mi>V</mi>
                                <mrow>
                                  <mi>L</mi>
                                  <mo>&it;</mo>
                                  <mstyle>
                                    <mtext>&emsp;</mtext>
                                  </mstyle>
                                  <mo>&it;</mo>
                                  <mi>&Delta;0</mi>
                                </mrow>
                              </msub>
                              <mo>+</mo>
                              <mrow>
                                <msub>
                                  <mi>V</mi>
                                  <mrow>
                                    <mi>L</mi>
                                    <mo>&it;</mo>
                                    <mstyle>
                                      <mtext>&emsp;</mtext>
                                    </mstyle>
                                    <mo>&it;</mo>
                                    <mi>&Delta;</mi>
                                    <mo>&it;</mo>
                                    <mstyle>
                                      <mtext>&emsp;</mtext>
                                    </mstyle>
                                    <mo>&it;</mo>
                                    <mi>max</mi>
                                  </mrow>
                                </msub>
                                <mo>&CenterDot;</mo>
                                <mi>l</mi>
                              </mrow>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                    </mtd>
                  </mtr>
                </mtable>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
<mathematica-file id="MATHEMATICA-00006" file="US20030000303A1-20030102-M00006.NB"/>
<image id="EMI-M00006" wi="216.027" he="148.1004" file="US20030000303A1-20030102-M00006.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
<claim-text>L<highlight><subscript>max </subscript></highlight>represents the fluid or material level when the fluid or material is at the top of the middle reference electrode; </claim-text>
<claim-text>level<highlight><subscript>max </subscript></highlight>represents a calibrated full fluid level; </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0</subscript></highlight>, V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0</subscript></highlight>, V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>0 </subscript></highlight>represent the change in the digitized sensor voltages from the lower, middle and upper reference electrodes from the calibrated values to values obtained when the level of the fluid or material is at the bottom of each electrode; </claim-text>
<claim-text>V<highlight><subscript>L</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>, V<highlight><subscript>M</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max</subscript></highlight>, V<highlight><subscript>U</subscript></highlight><highlight><subscript><highlight><superscript>&Dgr;</superscript></highlight></subscript></highlight><highlight><subscript>max </subscript></highlight>represent the change in digitized sensor voltages from the lower, middle and upper reference electrodes from the calibrated values to values obtained when the electrodes are each fully immersed in the fluid or material; </claim-text>
<claim-text><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>U</subscript></highlight>(<highlight><italic>l</italic></highlight>)<highlight><italic>&equals;V</italic></highlight><highlight><subscript>Ucal</subscript></highlight><highlight><italic>&plus;Udrift </italic></highlight></in-line-formula></claim-text>
<claim-text>V<highlight><subscript>U</subscript></highlight>(l), V<highlight><subscript>L</subscript></highlight>(l), and V<highlight><subscript>M</subscript></highlight>(l) represent the digitized sensor voltages from the upper, lower and middle reference electrodes as a function of the level of the fluid or material; </claim-text>
<claim-text>V<highlight><subscript>Ucal, </subscript></highlight>V<highlight><subscript>Lcal, </subscript></highlight>and V<highlight><subscript>Mcal </subscript></highlight>represent calibrated values for the digitized sensor voltages from the upper, lower and middle reference electrodes, calibrated when the sensor array is not immersed into the fluid or material; </claim-text>
<claim-text>V<highlight><subscript>Mdrift, </subscript></highlight>V<highlight><subscript>Mdrift, </subscript></highlight>and V<highlight><subscript>Mdrift </subscript></highlight>represent the amount of circuit drift in the digitized sensor voltage from the upper, lower and middle reference electrodes; and </claim-text>
<claim-text>&egr;<highlight><subscript>r </subscript></highlight>is the relative dielectric constant of the fluid or material. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A method for calculating the level of fluid or material contained within a reservoir comprising the steps of: 
<claim-text>providing a capacitive sensor array adapted to be disposed in the reservoir along an axis of measurement of the fluid or material contained within the reservoir, the sensor array comprising a plurality of reference electrodes wherein the capacitance of each of the electrodes varies in accordance both with the extent of the electrode immersion in the fluid and the dielectric constant of the fluid or material; </claim-text>
<claim-text>determining the calibrated capacitance of each of the electrodes in air; </claim-text>
<claim-text>determining the capacitance of each of the electrodes when the reference electrodes are fully immersed in the fluid or material; </claim-text>
<claim-text>positioning the sensor array within the reservoir such that at least one of the electrodes is submersed in the fluid or material; another of the electrodes is in contact with the fluid or material surface; and at least one of the electrodes is positioned above the fluid or material level; </claim-text>
<claim-text>dynamically selecting a lower electrode as the electrode positioned directly below the fluid or material level; </claim-text>
<claim-text>dynamically selecting a middle electrode as the electrode positioned at or near the fluid or material surface; </claim-text>
<claim-text>dynamically selecting an upper electrode as the electrode positioned directly above the fluid or material level; </claim-text>
<claim-text>measuring the capacitance of each of the lower, middle and lower electrodes and generating a digitized sensor voltage representing the capacitance of each electrode; and </claim-text>
<claim-text>calculating the level of the fluid or material within the reservoir from the capacitance of the middle electrode compensated by the amount and rate of change of the capacitance of the lower electrode, wherein the capacitance of the upper electrode provides an estimate of any offset drift in the measurement of the current required to repetitively charge each of the lower, middle and lower electrodes to the predetermined voltage.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030000303A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030000303A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030000303A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030000303A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030000303A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030000303A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030000303A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030000303A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
