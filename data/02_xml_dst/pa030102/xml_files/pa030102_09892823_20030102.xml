<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001077A1-20030102-D00000.TIF SYSTEM "US20030001077A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001077A1-20030102-D00001.TIF SYSTEM "US20030001077A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001077A1-20030102-D00002.TIF SYSTEM "US20030001077A1-20030102-D00002.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001077</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09892823</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010627</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H01L027/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>250</class>
<subclass>208100</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>System for compensating for chip-to-chip gap widths in a multi-chip photosensitive scanning array</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Alain</given-name>
<middle-name>E.</middle-name>
<family-name>Perregaux</family-name>
</name>
<residence>
<residence-us>
<city>Rochester</city>
<state>NY</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>Xerox Corporation</organization-name>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>Patent Documentation Center</name-1>
<name-2>Xerox Corporation</name-2>
<address>
<address-1>100 Clinton Ave. S.</address-1>
<address-2>Xerox Square 20th Floor</address-2>
<city>Rochester</city>
<state>NY</state>
<postalcode>14644</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">In a photosensitive scanning apparatus, in which a plurality of chips are aligned to form a single linear array of photosensors, gaps of unknown width between photosensors on adjacent chips may have an effect on resulting image quality. A set of simple strategies can be used to overcome the problem. In a first strategy, for each chip, interpolation of output values of the photosensors is used to in effect displace the outputs of the photosensors by a predetermined amount toward a gap; within constraints, the predetermined displacement can be used without actual measurement of any gap width. In a second strategy, an interpolated output of a theoretical &ldquo;phantom photosensor&rdquo; disposed toward the gap is added to the output stream from each chip. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates generally to an imaging apparatus in which a plurality of photosensitive chips are mounted on a substrate. In particular, the present invention relates to a signal processing method which addresses uneven chip-to-chip gaps in such an apparatus. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Image sensors for scanning document images, such as charge coupled devices (CCDs), typically have a row or linear array of photosensors together with suitable supporting circuitry integrated onto a silicon chip. Usually, a sensor is used to scan line by line across the width of a document with the document being moved or stepped lengthwise in synchronism therewith. A typical architecture for such a sensor array is given, for example, in U.S. Pat. No. 5,153,421. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> In one design of a full-page-width image scanner, there is provided a linear array of small photosensors which extends the full width of an original document, such as 11 inches. These photosensors may be spaced as finely as 600 to the inch on each chip. When the original document moves past the linear array, each of the photosensors converts reflected light from the original image into electrical signals. The motion of the original image perpendicular to the linear array causes a sequence of signals to be output from each photosensor, which can be converted into digital data. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> A currently-preferred design for creating such a long linear array of photosensors is to provide a set of relatively small semiconductor chips, each semiconductor chip defining thereon a linear array of photosensors along with ancillary circuit devices. These chips are typically approximately &frac34; inches in length; in order to create a practical full-page-width array, as many as twenty or more of these chips can be placed end-to-end to form a single linear array of photosensors. The chips are typically mounted on a support platform. This support platform also includes circuitry, such as on a printed wiring board, which accesses the circuit devices on the individual chips for a practical system. The interconnections between the relatively large-scale conductors on the printed wiring board and the relatively small contact pads on the semiconductor chips are preferably created by wire bonds which are ultrasonically welded to both the printed wiring board conductors and to contact pads on the chips. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> When the chips are mounted within an imaging apparatus, such as a document scanner, the imperfections of each chip combine with the imperfections of the mounting process to yield an overall problem of unpredictably-sized gaps between each adjacent pair of chips in the array, and more specifically, unpredictably-sized gaps between neighboring photosensors on neighboring chips. As the chip collectively form one or more continuous linear arrays of photosensors when assembled, the presence of a plurality of gaps in the linear array will have profound effects on the quality of images recorded with the scanner. Various techniques have been proposed in the prior art, such as described in detail below, to take into account these unpredictably-sized gaps as they effect the regularity of spacing of photosensors along a complete linear array. These techniques largely comprise taking actual measurements of the gap between each pair of chips (such as by recording a test pattern, for example), retaining the calculated measurements of each gap, and then, when the scanner is used for recording images, compensating for each specific gap width using, for instance, an interpolation technique based on the readings from photosensors adjacent each gap. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> The present invention is directed to a method of compensating for unpredictably-sized gaps along a linear array of photosensors, which uses a simple algorithm and does not require either testing of, or retention of specific information about, individual gaps along the array. </paragraph>
</section>
<section>
<heading lvl="1">DESCRIPTION OF THE PRIOR ART </heading>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> U.S. Pat. No. 5,552,828 discloses a page-width linear array comprising a plurality of chips. Imprecisions associated with inter-chip gaps are remedied by providing end photosensors with trapezoidal or near-trapezoidal geometries. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Japanese publication JP 09-321948-A discloses a maintenance method for a scanner in which the sizes of inter-chip gaps in a scanner are measured by scanning an image of a perfect circle and analyzing the resulting image. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Japanese publication JP 10-126584-A discloses a maintenance method for a scanner in which the sizes of inter-chip gaps in a scanner are measured by scanning an image of a series of angled lines and analyzing the resulting image. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Japanese publication JP 2000-196835-A discloses an operating method for a scanner in which the sizes of specific inter-chip gaps in a scanner are retained in memory, and subsequent image signals are interpolated based on the retained gap sizes. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Japanese publication JP 2000-199702-A discloses a maintenance method for a scanner in which the sizes of inter-chip gaps in a scanner are measured by scanning an image of a series of lines and analyzing the resulting image. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> According to one aspect of the invention, there is provided a method of processing image data from a photosensitive imaging apparatus, the apparatus including a plurality of chips, each chip having a linear array of photosensors thereon, the photosensors on each chip being spaced by a predetermined pitch, each photosensor adapted to output a value related to light incident thereon, the chips being mounted with the linear arrays thereon arranged to form a main linear array, each pair of chips in the plurality of chips defining a gap therebetween. For a chip, the outputs of the photosensors therein are interpolated to effect a spatial displacement of the outputs along the main linear array. The displacement is a product of a constant and an integer, the integer relating to a position of the chip along the main linear array. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> According to another aspect of the invention, there is provided a method of processing image data from a photosensitive imaging apparatus, the apparatus including a plurality of chips, each chip having a linear array of photosensors thereon including an end photosensor, the photosensors on each chip being spaced by a predetermined pitch, each photosensor adapted to output a value related to light incident thereon, the chips being mounted with the linear arrays thereon arranged to form a main linear array, each pair of chips in the plurality of chips defining a gap therebetween. For a chip, an output is interpolated of a phantom photosensor disposed a predetermined distance from an end photosensor toward the gap, thereby yielding an artificial value. The artificial value is added to a data stream output from the chip.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is an elevational view showing an exemplary raster input scanner of the type adapted to use a scanning array, or sensor bar, used with the present invention. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a perspective view showing the essential portions of an imaging scanner array used with the present invention. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a plan view of a typical gap between two adjacent chips illustrating the basic technique of the present invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a plan view showing two gaps between adjacent chips, illustrating a principle according to the present invention.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, there is shown an exemplary raster input scanner of the type adapted to use a scanning array, or sensor bar, <highlight><bold>100</bold></highlight>. Sensor bar <highlight><bold>100</bold></highlight> comprises a linear full width array having a scan width in the fast scan direction substantially equal to or slightly greater than the width of the largest document <highlight><bold>103</bold></highlight> or other object to be scanned. Documents to be scanned are supported on a generally rectangular transparent platen <highlight><bold>104</bold></highlight>, typically glass, sized to accommodate the largest original document <highlight><bold>103</bold></highlight> to be scanned. A document <highlight><bold>103</bold></highlight> to be scanned is located either manually or by a suitable automatic document handler or feeder (not shown) on platen <highlight><bold>104</bold></highlight> for scanning. Array <highlight><bold>100</bold></highlight> is supported for reciprocating scanning movement in the scan direction depicted by arrows <highlight><bold>105</bold></highlight> below platen <highlight><bold>104</bold></highlight> by a movable scanning carriage (not shown). A lens <highlight><bold>106</bold></highlight> focuses array <highlight><bold>100</bold></highlight> on a line-like area extending across the width of platen <highlight><bold>104</bold></highlight>. One or more lamp and reflector assemblies forming a light source <highlight><bold>107</bold></highlight> are provided for illuminating the line-like area on which array <highlight><bold>100</bold></highlight> is focused. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows the essential portions of an imaging scanner array <highlight><bold>100</bold></highlight>, in which a substrate <highlight><bold>10</bold></highlight> has a plurality of silicon chips <highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, . . . <highlight><bold>12</bold></highlight><highlight><italic>z </italic></highlight>assembled end-to-end and mounted thereon. Also defined on each chip <highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, . . . <highlight><bold>12</bold></highlight><highlight><italic>z </italic></highlight>is a set of photosensors <highlight><bold>14</bold></highlight>. These structures may be, by way of example and not limitation, photosensors in a CCD, photogates, or CMOS photodiodes. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> The most common primary material for chips <highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>-<highlight><bold>12</bold></highlight><highlight><italic>z </italic></highlight>is crystalline silicon. A preferred substance for forming substrate <highlight><bold>100</bold></highlight> is the board sold under the tradename CERACOM, made by Ibiden Corporation of Japan, which generally comprises a ceramic core with a fiberglass resin laminate thereon. Another material suitable for substrate <highlight><bold>100</bold></highlight> includes the printed wire board material known as &ldquo;FR-4,&rdquo; or a relatively thin substrate of alumina. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> On each chip <highlight><bold>12</bold></highlight> there is provided a large number (such as <highlight><bold>250</bold></highlight> or more) photosensors <highlight><bold>14</bold></highlight>, which are separated by a largely consistent pitch, a pitch being defined as the distance between the centers of adjacent photosensors within a chip. In the basic chip <highlight><bold>12</bold></highlight>, each of the photosensors <highlight><bold>14</bold></highlight> are separated through the centers thereof by (in the example of a 600 spi scanner) 42.3 micrometers throughout the entire length of the chip <highlight><bold>12</bold></highlight>, with the end photosensors in the linear array being ideally spaced from the edge of the chip by one-half of the pitch, or 21.15 micrometers. This arrangement of photosensors <highlight><bold>14</bold></highlight> will generally maintain an even pitch spacing even when a plurality of chips <highlight><bold>12</bold></highlight> are assembled end-to-end together to form a full-width main array: ideally, the short pitches at the end photosensors will add up to the same pitch relative to end photosensors of adjacent chips. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> When the chips <highlight><bold>12</bold></highlight> are assembled into a scanner, the linear array on each chip <highlight><bold>12</bold></highlight> combines with the others to form a single linear array, which is in the claims called a &ldquo;main&rdquo; linear array. (Although the illustrated embodiment shows chips <highlight><bold>12</bold></highlight> each with a single linear array of photosensors, the claimed invention can apply to apparatus in which there exist multiple linear arrays of photosensors on each chip, such as in a full-color scanner in which each linear array includes a filter for a particular primary color, or in a two-dimensional imaging scanner.) In such a scanner, there will of course be a gap, here indicated as <highlight><bold>20</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, between each adjacent pair of chips <highlight><bold>12</bold></highlight>. As mentioned above, not only will there be an uncertainty in the effective length (along array of photosensors <highlight><bold>14</bold></highlight>) of each chip <highlight><bold>12</bold></highlight>, further uncertainty will result from imprecisions in the assembly process. The effect of these uncertainties in both chip size and placement is that the exact size of any particular gap <highlight><bold>20</bold></highlight> within a single apparatus, or among a large number of arrays in a manufacturing process, is somewhat variable. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Moreover, the size of any particular gap <highlight><bold>20</bold></highlight> within a scanner will have a significant effect on the quality of images recorded with the scanner, in that a gap <highlight><bold>20</bold></highlight> between adjacent chips <highlight><bold>12</bold></highlight> is also a gap between adjacent photosensors along the main linear array, and by extension the width of any particular gap <highlight><bold>20</bold></highlight> will have an effect on the relative position of any photosensor <highlight><bold>14</bold></highlight> on one chip <highlight><bold>12</bold></highlight> relative to any photosensor on a neighboring chip <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> For this reason, the prior art is replete with techniques to overcome the image-recording difficulties brought about by imprecisions in the sizes of gaps <highlight><bold>20</bold></highlight>. As mentioned above, these techniques largely comprise taking actual measurements of the gap <highlight><bold>20</bold></highlight> between each pair of chips (such as by recording a test pattern, for example), retaining the calculated measurements of each gap, and then, when the scanner is used for recording images, compensating for each specific gap width using, for instance, an interpolation technique based on the readings from photosensors adjacent each gap. Such an interpolation technique basically involves taking a weighted average of the outputs from adjacent photosensors to obtain an interpolated output from a predetermined location between the adjacent photosensors. The interpolation technique can be made to result in effecting a spatial displacement of the outputs of the photosensors along the main linear array. (Other, more sophisticated variations of the weighted-average interpolation technique, such as taking a weighted average of outputs of three or more photosensors on either side of a gap <highlight><bold>20</bold></highlight>, and/or using more sophisticated algorithms to effect the interpolation, are known in the art and possibly applicable to the present invention; for purposes of the claims below &ldquo;interpolation&rdquo; shall refer to any method by which the interpolated output from a predetermined location is inferred at least in part from the output of any real photosensor in a predetermined physical relation to the predetermined location.) </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The present invention addresses the unpredictable-gap problem by use of a simple method which compensates for all widths of a gap <highlight><bold>20</bold></highlight> within a practical range, and which does not require a scanning system to measure or memorize the actual width of any particular gap in a scanner. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a plan view of a typical gap <highlight><bold>20</bold></highlight> between two adjacent chips <highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, illustrating the basic technique of the present invention. The pitch, or standard distance between centers of adjacent photosensors <highlight><bold>14</bold></highlight> within a single chip, is 42.3 micrometers for a 600 spi system. Of course, the adjacent photosensors <highlight><bold>14</bold></highlight> on either side of gap <highlight><bold>20</bold></highlight> are not separated by this regular pitch but rather by an unpredictable, unknown pitch. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> For purposes of explaining the present invention, the term &ldquo;pitch error&rdquo; is defined as a difference between an ideal pitch between adjacent photosensors (42.3 micrometers, in this case) and the actual center-to-center distance between the end photosensors of adjacent chips. Examples of pitch error PE of various types, as will be described below, are shown in gap <highlight><bold>20</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; the Figure is intended only to show the physical manifestation of such pitch errors relative to an end photosensor <highlight><bold>14</bold></highlight> in chip <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, and the illustrated scale of any such pitch error PE relative to the gap <highlight><bold>20</bold></highlight> or photosensors <highlight><bold>14</bold></highlight> is not intended to be accurate for any particular embodiment of the invention. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> The method of the present invention proceeds on the insight that, given certain fixed parameters of a scanning system, such as a basic resolution and signal-to-noise ratio, there can be identified or estimated a maximum pitch error, here called PE<highlight><subscript>max</subscript></highlight>, less than which any corresponding image defects will remain invisible in recorded images made with the apparatus: the errors in image quality caused by specific gaps <highlight><bold>20</bold></highlight> will simply be buried within other sources of noise within the larger scanning system. For the invention, it is more important to know within what &ldquo;range band&rdquo; a pitch error associated with a particular gap falls into, than to know what the pitch error actually is. As long as the manufacturing process for making the apparatus can reproducibly maintain the pitch error for all gaps <highlight><bold>20</bold></highlight> within a &plusmn;PE<highlight><subscript>max </subscript></highlight>band, no image defect caused by pitch errors needs to be corrected. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> To take a specific example, consider an array <highlight><bold>100</bold></highlight> for which it is determined, by whatever means, that the particular scanning system (such a system possibly including image-processing software as well as basic hardware) can tolerate a PE<highlight><subscript>max</subscript></highlight>&equals;20 micrometers. If the dicing and assembly technique used for the scanner produces an average pitch error PE<highlight><subscript>av</subscript></highlight>&equals;&plusmn;5 micrometers within an uncertainty range &plusmn;&Dgr;&equals;&plusmn;10 micrometers, no image correction is needed, since the value (PE<highlight><subscript>av</subscript></highlight>&plusmn;&Dgr;) falls within the &plusmn;PE<highlight><subscript>max </subscript></highlight>a range. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> If, instead, the dicing and assembly technique is capable only of producing PE<highlight><subscript>av</subscript></highlight>&equals;50&plusmn;10 micrometers, then image correction is needed. However, such an image correction does not need to bring the quality back to the PE&equals;0 level; it only needs to bring the quality back up to the level corresponding to the range &minus;PE<highlight><subscript>max</subscript></highlight>&lt;0&lt;&plus; PE<highlight><subscript>max</subscript></highlight>. In other words, the image correction can be identical for all gaps <highlight><bold>20</bold></highlight> in a single scanning apparatus, regardless of the PE at each gap <highlight><bold>20</bold></highlight>, as long as it is known that no gap <highlight><bold>20</bold></highlight> provides a &Dgr; greater than PE<highlight><subscript>max</subscript></highlight>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In the event that the assembly and dicing technique by which a particular scanner is manufactured cannot, by itself, provide a PE<highlight><subscript>av </subscript></highlight>which is within an acceptable range, an image correction technique is applied to signals originating from photosensors <highlight><bold>14</bold></highlight> which are proximate to each gap <highlight><bold>20</bold></highlight>. Within the context of the present invention, such an interpolation technique can be applied in an identical manner for all gaps <highlight><bold>20</bold></highlight> within an apparatus, regardless of the actual size of any particular gap <highlight><bold>20</bold></highlight>. In contrast, many of the above-cited prior art techniques rely on measuring, memorizing, and compensating for the errors created by each particular gap <highlight><bold>20</bold></highlight>. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> In a general situation in the prior art, where PE<highlight><subscript>av </subscript></highlight>is a fraction of the regular intra-chip pitch, all of the outputs of a first chip <highlight><bold>12</bold></highlight> in the apparatus, such as chip <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, are left uncorrected. For a next chip in the apparatus, such as chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the outputs thereof must be corrected (by interpolation, as defined above) to obtain a simulated output, calculated from the actual outputs of all photosensors of chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>and from some photosensors from chip <highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, that corresponds to chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>as if it had been displaced by a distance equal to the pitch error between chip <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, which can be called PE<highlight><subscript>ab</subscript></highlight>. In turn, the outputs from the photosensors of successive chips across the array must accumulate the previous pitch errors, so that for instance the outputs from the photosensors of chip <highlight><bold>12</bold></highlight><highlight><italic>c </italic></highlight>must be corrected for a pitch error PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>, and the photosensors of chip <highlight><bold>12</bold></highlight><highlight><italic>d </italic></highlight>must be corrected by PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>&plus;PE<highlight><subscript>cd</subscript></highlight>, etc., with all of these pitch errors having to be actually measured and memorized. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> According to the present invention, if it is known in advance that all pitch errors are within a predetermined range PE<highlight><subscript>av</subscript></highlight>&plusmn;&Dgr;, where PE<highlight><subscript>av </subscript></highlight>is the average pitch error and &Dgr; is the placement uncertainty in the manufacturing process, this measurement and retention of actual pitch errors need not occur. Rather, as long as &Dgr; is less than or equal to PE<highlight><subscript>max</subscript></highlight>, then a simple correction algorithm PE<highlight><subscript>ab </subscript></highlight>&equals;PE<highlight><subscript>bc</subscript></highlight>&equals;PE<highlight><subscript>cd</subscript></highlight>&equals;PE<highlight><subscript>n, n&plus;1</subscript></highlight>&equals;PE<highlight><subscript>av </subscript></highlight>can be used. Thus, according to the present invention, the output of a photosensor <highlight><bold>14</bold></highlight> disposed on an Nth chip <highlight><bold>12</bold></highlight> along a main linear array is adjusted to effect a spatial displacement of a constant (for all chips <highlight><bold>12</bold></highlight>) pitch error PE, times an integer (N&minus;1) (understanding that the outputs from the first chip along the main linear array will not need any displacement; for purposes of the claims, a &ldquo;first chip&rdquo; can be any selected chip along an array, not necessarily an end chip within the scanner <highlight><bold>100</bold></highlight>, with a chip N spaced therefrom). </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> An illustration of the principle underlying this aspect of the present invention is shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. In the plan view of <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, there is shown on the left a first gap <highlight><bold>20</bold></highlight> between chips <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, and, on the right, a second gap <highlight><bold>20</bold></highlight> between chips <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>c</italic></highlight>. In order to compensate for the presence of gap <highlight><bold>20</bold></highlight> between chips <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, the outputs of all the photosensors <highlight><bold>14</bold></highlight> on chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>will be interpolated (in this view) to the left by the same distance PE<highlight><subscript>ab</subscript></highlight>. This interpolation and spatial shifting of all outputs across the chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>is done by applying the actual outputs of the photosensors <highlight><bold>14</bold></highlight> to an interpolation algorithm which may have as inputs the actual outputs of photosensors <highlight><bold>14</bold></highlight> on chips <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and/or <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, as needed. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> With regard to the gap <highlight><bold>20</bold></highlight> between chip <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>and chip <highlight><bold>12</bold></highlight><highlight><italic>c</italic></highlight>, as mentioned above, the outputs associated with chip <highlight><bold>12</bold></highlight><highlight><italic>c </italic></highlight>are interpolated to be spatially displaced by a distance PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>, thus taking into account the gap between chips <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>as well. This interpolation is shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, where all of the outputs from photosensors <highlight><bold>14</bold></highlight> on chip <highlight><bold>12</bold></highlight><highlight><italic>c </italic></highlight>are, through interpolation, spatially displaced by the same distance PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>. However, one advantage of the present invention is that the shifting distance for each chip is constant (and, in one embodiment, can be set to a known value of PE<highlight><subscript>av</subscript></highlight>), so that PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>&equals;2PE<highlight><subscript>av</subscript></highlight>. Similarly, for a gap <highlight><bold>20</bold></highlight> between a chip <highlight><bold>12</bold></highlight><highlight><italic>c </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>d</italic></highlight>, the shifting distance is PE<highlight><subscript>ab</subscript></highlight>&plus;PE<highlight><subscript>bc</subscript></highlight>&plus;PE<highlight><subscript>cd</subscript></highlight>&equals;3 PE<highlight><subscript>av </subscript></highlight>and so on for all chip gaps <highlight><bold>20</bold></highlight> for the entire length of the main linear array. According to the present invention, as long as &Dgr; is smaller than or equal to PE<highlight><subscript>max</subscript></highlight>, simply interpolating the outputs of each chip to effect a shift of a constant PE<highlight><subscript>av </subscript></highlight>distance, multiplied by an integer relating to the position of the chip within the main linear array is sufficient for overcoming image quality problems associated with unknown gap widths along the array. In the prior art, these chip gaps had to be measured and retained in memory; in the present invention facilitates achieving a similarly satisfactory result with a much simpler algorithm. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Another technique according to the present invention involves adding an extra, artificial output, of an interpolated &ldquo;phantom photosensor&rdquo; which would be disposed toward the gap <highlight><bold>20</bold></highlight>, to the video stream from the chip (i.e., added in the sense that the artificial output is placed in the video stream as if the chip had an extra photosensor). This artificial value is in effect an output (which is not in fact output, but merely interpolated from the outputs of adjacent photosensors) which is disposed by a predetermined PE, such as of one pitch, from the end photosensor <highlight><bold>14</bold></highlight> of each chip toward gap <highlight><bold>20</bold></highlight>. This artificial value is interpolated, such as by taking a weighted average of outputs from photosensors on either side of gap <highlight><bold>20</bold></highlight>, such as on chips <highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>. The artificial value is then added to the data stream associated with chip <highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>; or, more broadly, associated with the whole array <highlight><bold>100</bold></highlight>; addition of such artificial output values to the video stream can be done either by circuitry or software at each chip <highlight><bold>14</bold></highlight> itself, or by downstream image-processing software or hardware external to the array <highlight><bold>100</bold></highlight>. This &ldquo;phantom photosensor,&rdquo; in effect outputting the artificial output value, exists only in the fact that one artificial value per chip is added to the data stream and that the system automatically assumes that it is perfectly placed. As long as &Dgr;&lt;PE<highlight><subscript>max</subscript></highlight>, the error caused by this perfect placement assumption will not cause an objectionable defect by virtue of the definition of PE<highlight><subscript>max</subscript></highlight>. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The advantage of simply adding the artificial output value, or in other words using the &ldquo;phantom photosensor&rdquo; on each chip, is that the calculated spatial displacement of outputs which is required with the <cross-reference target="DRAWINGS">FIG. 4</cross-reference> embodiment is not required. But for the additional output value of each chip, the actual outputs of each photosensor <highlight><bold>14</bold></highlight> on each chip <highlight><bold>12</bold></highlight> can be used by a larger image-processing system directly. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> For an even simpler technique, instead of doing a formal weighted-average or other interpolation of the additional output value, the additional output value can simply be set equal to the output of the end photosensor <highlight><bold>14</bold></highlight> on each chip; at some resolutions this may be a reasonable assumption which has no noticeable effect on image quality. Alternately, the additional output value can be interpolated solely from outputs of multiple photosensors <highlight><bold>14</bold></highlight> on each chip <highlight><bold>12</bold></highlight>, i.e., from photosensors on only one side of each gap <highlight><bold>20</bold></highlight>. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method of processing image data from a photosensitive imaging apparatus, the apparatus including a plurality of chips, each chip having a linear array of photosensors thereon, the photosensors on each chip being spaced by a predetermined pitch, each photosensor adapted to output a value related to light incident thereon, the chips being mounted with the linear arrays thereon arranged to form a main linear array, each pair of chips in the plurality of chips defining a gap therebetween, comprising the step of: 
<claim-text>for a chip, interpolating the outputs of the photosensors therein to effect a spatial displacement of the outputs along the main linear array, the displacement being a product of a constant and an integer, the integer relating to a position of the chip along the main linear array. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the constant is related to a maximum pitch error between a pair of chips in the apparatus, the maximum pitch error being the largest pitch error whereby any corresponding image defects will remain invisible in recorded images made with the apparatus </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the constant equals the maximum pitch error. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the constant is related to an average pitch error associated with a manufacturing process. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the integer is N&minus;1, for an Nth chip along the main linear array. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the constant equals one pitch. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A method of processing image data from a photosensitive imaging apparatus, the apparatus including a plurality of chips, each chip having a linear array of photosensors thereon including an end photosensor, the photosensors on each chip being spaced by a predetermined pitch, each photosensor adapted to output a value related to light incident thereon, the chips being mounted with the linear arrays thereon arranged to form a main linear array, each pair of chips in the plurality of chips defining a gap therebetween, comprising the steps of: 
<claim-text>for a chip, interpolating an output of a phantom photosensor disposed a predetermined distance from an end photosensor toward the gap, thereby yielding an artificial value; and </claim-text>
<claim-text>adding the artificial value to a data stream output from the chip. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the predetermined distance equals one pitch. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the interpolating step includes interpolating the artificial value from outputs of only one chip. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the interpolating step includes setting the artificial value as equal to the output of an end photosensor of the chip.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001077A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001077A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001077A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
