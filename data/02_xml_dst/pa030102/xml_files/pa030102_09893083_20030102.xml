<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004732A1-20030102-D00000.TIF SYSTEM "US20030004732A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00001.TIF SYSTEM "US20030004732A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00002.TIF SYSTEM "US20030004732A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00003.TIF SYSTEM "US20030004732A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00004.TIF SYSTEM "US20030004732A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00005.TIF SYSTEM "US20030004732A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00006.TIF SYSTEM "US20030004732A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00007.TIF SYSTEM "US20030004732A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00008.TIF SYSTEM "US20030004732A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00009.TIF SYSTEM "US20030004732A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00010.TIF SYSTEM "US20030004732A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00011.TIF SYSTEM "US20030004732A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004732A1-20030102-D00012.TIF SYSTEM "US20030004732A1-20030102-D00012.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004732</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09893083</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010627</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G10L021/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>704</class>
<subclass>500000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Method, apparatus, and program for envelope generation, audio compression, and audio expansion</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Kiyoomi</given-name>
<family-name>Utsumi</family-name>
</name>
<residence>
<residence-non-us>
<city>Yokohama-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>PEARNE &amp; GORDON LLP</name-1>
<name-2></name-2>
<address>
<address-1>526 SUPERIOR AVENUE EAST</address-1>
<address-2>SUITE 1200</address-2>
<city>CLEVELAND</city>
<state>OH</state>
<postalcode>44114-1484</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">An envelope generator (<highlight><bold>20</bold></highlight>), comprises: an input terminal (<highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>) for having a signal inputted therein; a first integrator (<highlight><bold>21</bold></highlight>) for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted through said input terminal (<highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>) to impart said intermediate state of envelopes to said signal; a second integrator (<highlight><bold>22</bold></highlight>) for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and an output terminal (<highlight><bold>20</bold></highlight><highlight><italic>d</italic></highlight>) for outputting said signal with said final state of envelopes therethrough. The envelope generator (<highlight><bold>20</bold></highlight>) thus constructed can make gain signal follow rapid fluctuations in level of an audio signal, and can impart a relatively high quality for compressing and expanding level of the audio signal not to break in shape. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to an envelope generator, an audio compression apparatus, an audio expansion apparatus, an envelope generation method, an audio compression method, an audio expansion method, an envelope generation program, an audio compression program, and an audio expansion program, and more particularly to audio compression and audio expansion functions for multiplying an audio signal by a gain according to level of the audio signal, and to an envelope generation function for smoothing rapid fluctuations of the gain according to desired time constants, in a signal processing apparatus such as an audio mixer or a signal processing chip that can adjust the audio signals. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Up until now, there have been proposed a wide variety of audio compression apparatuses for compressing the level of an audio signal inputted therein, and a wide variety of audio expansion apparatuses for expanding the level of an audio signal inputted therein. Also, there have been proposed various types of envelope generator for generating envelopes in level of a signal to impart the envelope to the signal such as a gain signal. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> One typical example of the conventional audio compression apparatuses is shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. The conventional audio compression apparatus <highlight><bold>60</bold></highlight> comprises a sampling element <highlight><bold>61</bold></highlight>, a subtracter <highlight><bold>62</bold></highlight>, a gain generator <highlight><bold>63</bold></highlight>, a multiplier <highlight><bold>64</bold></highlight>, an integrator <highlight><bold>30</bold></highlight> as an typical example of a conventional envelope generator, an audio signal input terminal <highlight><bold>60</bold></highlight><highlight><italic>a</italic></highlight>, a threshold value input terminal <highlight><bold>60</bold></highlight><highlight><italic>b</italic></highlight>, a compression ratio input terminal <highlight><bold>60</bold></highlight><highlight><italic>c</italic></highlight>, an attack coefficient input terminal <highlight><bold>60</bold></highlight><highlight><italic>d</italic></highlight>, a release coefficient input terminal <highlight><bold>60</bold></highlight><highlight><italic>e</italic></highlight>, and an audio signal output terminal <highlight><bold>60</bold></highlight><highlight><italic>f. </italic></highlight></paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Description will now be made on how such an audio signal is compressed in level by the conventional audio compression apparatus <highlight><bold>60</bold></highlight>. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> When the audio signal fluctuating in level is inputted into the audio signal input terminal <highlight><bold>60</bold></highlight><highlight><italic>a</italic></highlight>, the sampling element <highlight><bold>61</bold></highlight> is operated to periodically sample the audio signal at a predetermined sampling cycle to obtain an absolute value in level of the audio signal. The subtracter <highlight><bold>62</bold></highlight> serves to acquire a difference between the absolute value in level of the audio signal and the predetermined threshold value inputted through the threshold value input terminal <highlight><bold>60</bold></highlight><highlight><italic>b</italic></highlight>. The gain generator <highlight><bold>63</bold></highlight> is operative to generate a gain signal based on the predetermined compression ratio inputted through the compression ratio input terminal <highlight><bold>60</bold></highlight><highlight><italic>c </italic></highlight>and on the difference between the absolute value and the threshold value. When the level of audio signal becomes larger than the threshold value, the level of the gain signal is changed from &ldquo;1&rdquo; to less than &ldquo;1&rdquo;, e.g., from &ldquo;1&rdquo; to &ldquo;0.8&rdquo;. If the gain signal generated by the gain generator <highlight><bold>30</bold></highlight> is directly inputted into the multiplier <highlight><bold>64</bold></highlight> and the audio signal is directly multiplied by the gain signal, the audio signal outputted from the audio signal output terminal <highlight><bold>60</bold></highlight><highlight><italic>f </italic></highlight>is reduced to be extremely out of shape. The reason is due to the fact that the gain signal is restored, e.g., from &ldquo;0.8&rdquo; to &ldquo;1&rdquo; when the level of the audio signal in the form of such as a sine wave shape returns to the threshold value. For this reason, the gain signal generated by the gain generator <highlight><bold>63</bold></highlight> is inputted into the integrator <highlight><bold>30</bold></highlight>, and the integrator <highlight><bold>30</bold></highlight> generates envelopes in level of the gain signal during particular periods corresponding especially to a release time when the level of the gain signal returns to an initial level. The multiplier <highlight><bold>64</bold></highlight> is then operated to multiply the audio signal from the audio signal input terminal <highlight><bold>60</bold></highlight><highlight><italic>a </italic></highlight>by the gain signal imparted the envelopes by the integrator <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The integrator <highlight><bold>30</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> as a typical type of a conventional envelope generator, and comprises a adder <highlight><bold>31</bold></highlight>, a delay element <highlight><bold>32</bold></highlight>, a subtracter <highlight><bold>33</bold></highlight>, an attack coefficient multiplier <highlight><bold>34</bold></highlight>, a release coefficient multiplier <highlight><bold>35</bold></highlight>, a switch <highlight><bold>36</bold></highlight>, a gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a</italic></highlight>, an attack coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>b</italic></highlight>, a release time coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>c</italic></highlight>, and a gain signal output terminal <highlight><bold>30</bold></highlight><highlight><italic>d. </italic></highlight></paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a </italic></highlight>has a gain signal inputted therein. The delay element <highlight><bold>32</bold></highlight> is operative to delay the signal by one sampling cycle. The subtracter <highlight><bold>33</bold></highlight> is operative to subtract the level of the gain signal from the one sampling cycle preceding level of the gain signal and to output a signal having a level indicative of the deference between the destination gain and the one sampling cycle preceding gain. The attack coefficient multiplier <highlight><bold>34</bold></highlight> is operative to multiple the level of the signal from the subtracter <highlight><bold>33</bold></highlight> by the attack coefficient inputted through the attack coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>b</italic></highlight>. The release coefficient multiplier <highlight><bold>35</bold></highlight> is operative to multiple the level of the signal from the subtracter <highlight><bold>33</bold></highlight> by the release coefficient inputted through the release coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>c</italic></highlight>. The switch <highlight><bold>36</bold></highlight> is operative to connect the attack coefficient multiplier <highlight><bold>34</bold></highlight> with the adder <highlight><bold>31</bold></highlight> during the attack time, and to connect the release coefficient multiplier <highlight><bold>35</bold></highlight> with the adder <highlight><bold>31</bold></highlight> during the release time, based on the level of the signal from subtracter <highlight><bold>33</bold></highlight>. The adder <highlight><bold>31</bold></highlight> is operative to add the level of the gain signal from the gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a </italic></highlight>to the level of the signal from the switch <highlight><bold>36</bold></highlight>. The gain signal output terminal <highlight><bold>30</bold></highlight><highlight><italic>d </italic></highlight>is operative to output the gain signal imparted with the envelopes therethrough. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The conventional audio compression apparatus, however, encounters problems as described below. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In the case that the desired attack time is zero, and a sine wave shape of audio signal is inputted into the audio signal input terminal <highlight><bold>60</bold></highlight><highlight><italic>a </italic></highlight>and, when an amplitude of the audio signal becomes larger than the predetermined threshold value, the integrator <highlight><bold>30</bold></highlight> immediately follows the change of the gain signal generated by the gain generator <highlight><bold>63</bold></highlight>, so that the level of the gain signal outputted from the integrator <highlight><bold>30</bold></highlight> also immediately becomes a destination level. The integrator <highlight><bold>30</bold></highlight> is operated to have the level of the gain signal maintained on the basis of the release coefficient inputted through the release coefficient input terminal <highlight><bold>60</bold></highlight><highlight><italic>e</italic></highlight>, thereby making it possible to have the audio signal outputted through the audio signal output terminal <highlight><bold>60</bold></highlight><highlight><italic>f </italic></highlight>compressed in a desired shape. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> However, in the case that the desired attack time is larger than zero, e.g., the equal to the cycle of the sine wave shape of the audio signal and, when an amplitude of that audio signal becomes larger than the predetermined threshold value, the integrator <highlight><bold>30</bold></highlight> intends to take an desired attack time following the change of the gain signal generated by the gain generator <highlight><bold>63</bold></highlight>, then the gain generator <highlight><bold>30</bold></highlight> follows a drop of the absolute value in level of the audio signal before the end of the attack time. Therefore, the level of the gain signal outputted from integrator <highlight><bold>30</bold></highlight> by no means reach the destination level, with the result that the audio signal outputted through the audio signal output terminal <highlight><bold>60</bold></highlight><highlight><italic>f </italic></highlight>is compressed in an undesired shape. Thus, the audio signal outputted from the conventional audio compression apparatus comes to be out of shape. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The conventional audio expansion apparatus is similar to the conventional audio compression apparatus, except for expanding the audio signal in the place of compressing the audio signal, so that the audio signal outputted from the conventional audio expansion apparatus becomes out of shape. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In order to solve this kind of problems, there has so far been proposed an apparatus for calculating moving averages of the absolute value in level of audio signal each having a period longer than one cycle of the audio signal to have the gain signal smoothed based on the moving average. This kind of apparatus, however, can not follow the rapid fluctuation of the level of the audio signal, and is complicated in construction. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> It is therefore an object of the present invention to provide an envelope generator, an audio compression apparatus, an audio expansion apparatus, an envelope generation method, an audio compression method, an audio expansion method, an envelope generation program, an audio compression program, and an audio expansion program, which make gain signal follow rapid fluctuations in level of an audio signal. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> It is another object of the present invention to provide an envelope generator, an audio compression apparatus, an audio expansion apparatus, an envelope generation method, an audio compression method, an audio expansion method, an envelope generation program, an audio compression program, and an audio expansion program, which can impart a relatively high quality for compressing and expanding level of the audio signal not to break in shape. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> It is a further object of the present invention to provide an envelope generator, an audio compression apparatus, and an audio expansion apparatus, which can be simple in construction. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> According to the first aspect of the present invention, there is provided an envelope generator, comprising: an input terminal for having a signal inputted therein; a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted through said input terminal to impart said intermediate state of envelopes to said signal; a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and an output terminal for outputting said signal with said final state of envelopes therethrough. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> According to the second aspect of the present invention, there is provided an audio compression apparatus, comprising: An audio compression apparatus, comprising: an input terminal for having an audio signal inputted therein; a sampling element for periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a subtracter for acquiring a difference between said absolute value and a predetermined threshold value; a gain generator for generating a gain signal based on said difference between said absolute value and said predetermined threshold value; an envelope generator including a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal, and a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a multiplier for multiplying said audio signal by said gain signal with said final state of envelopes; and an output terminal for outputting said audio signal multiplied by said gain signal therethrough. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> According to the third aspect of the present invention, there is provided an audio expansion apparatus, comprising: an input terminal for having an audio signal inputted therein; a sampling element for periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a subtracter for acquiring a difference between said absolute value and a predetermined threshold value; a gain generator for generating a gain signal based on said difference between said absolute value and said predetermined threshold value; an envelope generator including a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal, and a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a multiplier for multiplying said audio signal by said gain signal with said final state of envelopes; and an output terminal for outputting said audio signal multiplied by said gain signal therethrough. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> According to the fourth aspect of the present invention, there is provided an envelope generation method, comprising: a first step of having a signal inputted; a second step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted in said first step; a third step of respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and a fourth step of outputting said signal with said final state of envelopes. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> According to the fifth aspect of the present invention, there is provided an audio compression method, comprising: An audio compression method, comprising: a first step of having an audio signal inputted; a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a third step of acquiring a difference between said absolute value and a predetermined threshold value; a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and an eighth step of outputting said audio signal multiplied by said gain signal. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> According to the sixth aspect of the present invention, there is provided an audio expansion method, comprising: a first step of having an audio signal inputted; a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a third step of acquiring a difference between said absolute value and a predetermined threshold value; a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and an eighth step of outputting said audio signal multiplied by said gain signal. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> According to the seventh aspect of the present invention, there is provided an envelope generation program, comprising: a first step of having a signal inputted; a second step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted in said first step; a third step of respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and a fourth step of outputting said signal with said final state of envelopes. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> According to the eighth aspect of the present invention, there is provided an audio compression program, comprising: a first step of having an audio signal inputted; a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a third step of acquiring a difference between said absolute value and a predetermined threshold value; a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes, and an eighth step of outputting said audio signal multiplied by said gain signal. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> According to the ninth aspect of the present invention, there is provided an audio expansion program, comprising: a first step of having an audio signal inputted; a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; a third step of acquiring a difference between said absolute value and a predetermined threshold value; a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and an eighth step of outputting said audio signal multiplied by said gain signal.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The features and advantages of an envelop generator, an audio compression apparatus and an expansion apparatus according to the present invention will more clearly be understood from the following description taken in conjunction with the accompanying drawings in which: </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram of the first embodiment of the audio compression apparatus according to the present invention, </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram of an example of an integrator forming part of the first embodiment of the envelope generator according to the present invention, </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a flowchart of an envelope generation process performed in the first embodiment of the audio compression apparatus according to the present invention, </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a first wave shape diagram of the audio signal inputted and outputted by the first embodiment of the audio compression apparatus according to the present invention, </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a second wave shape diagram of the gain signal inputted and outputted by the first embodiment of the envelop generator forming part of the audio compression apparatus according to the present invention, </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram similar to <cross-reference target="DRAWINGS">FIG. 1</cross-reference> but showing the first embodiment of the audio expansion apparatus according to the present invention, </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a flowchart similar to <cross-reference target="DRAWINGS">FIG. 3</cross-reference> but showing the first embodiment of the audio expansion apparatus according to the present invention, </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a third wave shape diagram similar to <cross-reference target="DRAWINGS">FIG. 4</cross-reference> but showing the first embodiment of the audio expansion apparatus according to the present invention, </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a fourth wave shape diagram similar to <cross-reference target="DRAWINGS">FIG. 5</cross-reference> but showing the first embodiment of the audio expansion apparatus according to the present invention, </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a block diagram of the second embodiment of the audio compression and expansion apparatus according to the present invention, </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart of the process performed by the second embodiment of the audio compression and expansion apparatus according to the present invention, and </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram of a conventional audio compression apparatus.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> The first preferred embodiment of the audio compression apparatus and the audio expansion apparatus according to the present invention will now be described in detail in accordance with the accompanying drawings. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Referring to the drawings, in particular <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, there is shown a first preferred embodiment of the audio compression apparatus according to the present invention. The following description will accompany various technical terms defined as follows. The term &ldquo;audio compression apparatus&rdquo; is intended to mean an apparatus which can compress the levels of an audio signal inputted therein. The term &ldquo;gain signal&rdquo; is intended to mean a signal, the levels of which is multiplied by the levels of audio signal. Each gain value represented by each level of the gain signal is generally in range from &ldquo;0&rdquo; to &ldquo;1&rdquo; in an audio compression apparatus, and this general principle is available in the present embodiment of the audio compression apparatus according to the present invention. The audio compression apparatus is generally designed to change a gain value &ldquo;1&rdquo; to less than &ldquo;1&rdquo; when the level of audio signal becomes larger than a predetermined threshold value, and to restore the gain value to &ldquo;1&rdquo; when the level of audio signal returns to the predetermined threshold value. The term &ldquo;attack time&rdquo; is intended to mean a time constant which corresponds to a transient period of the gain signal at the beginning of the compression of the audio signal. The term &ldquo;release time&rdquo; is intended to mean a time constant which corresponds to a transient period of the gain signal at the end of the compression of the audio signal. The term &ldquo;envelope generator&rdquo; is intend to mean an apparatus which has the time constant to generate and impart envelopes to the gain signal in level. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The audio compression apparatus <highlight><bold>10</bold></highlight> comprises a sampling element <highlight><bold>11</bold></highlight>, a subtracter <highlight><bold>12</bold></highlight>, a gain generator <highlight><bold>13</bold></highlight>, a multiplier <highlight><bold>14</bold></highlight>, an envelope generator <highlight><bold>20</bold></highlight>, an audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a</italic></highlight>, a threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b</italic></highlight>, a compression ratio input terminal <highlight><bold>10</bold></highlight><highlight><italic>c</italic></highlight>, an attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d</italic></highlight>, a release coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>e</italic></highlight>, and an audio signal output terminal <highlight><bold>10</bold></highlight><highlight><italic>f. </italic></highlight></paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>has an audio signal inputted therein. The sampling element <highlight><bold>11</bold></highlight> is operative to periodically sample the audio signal inputted through the audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>at predetermined sampling clock cycle to obtain an absolute value in level of the audio signal. The threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>has a predetermined threshold value inputted therein. The subtracter <highlight><bold>12</bold></highlight> is operative to acquire a difference between the absolute value in level of the audio signal and the predetermined threshold value inputted through the threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b. </italic></highlight>The compression ratio input terminal <highlight><bold>10</bold></highlight><highlight><italic>c </italic></highlight>has a predetermined compression ratio inputted therein. The gain generator <highlight><bold>13</bold></highlight> is operative to generate a gain signal based on the predetermined compression ratio and on the difference between the absolute value and the threshold value. The gain signal represents values in range from &ldquo;0&rdquo; to &ldquo;1&rdquo;. The gain generator <highlight><bold>13</bold></highlight> is designed to calculate a value approximate to an ideal characteristic with the polynomial expression of a rational function. The attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d </italic></highlight>has a predetermined attack coefficient inputted therein. The release coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>e </italic></highlight>have a predetermined release coefficient inputted therein. The envelope generator <highlight><bold>20</bold></highlight> is operative to generate a plurality of desired envelopes in response to changes in level of the gain signal generated by the gain generator <highlight><bold>13</bold></highlight>. The envelope generator <highlight><bold>20</bold></highlight> has a desired attack time and a desired release time. The desired attack time corresponds to the predetermined attack coefficient inputted through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d</italic></highlight>. The desired release time corresponds to the predetermined release coefficient through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d</italic></highlight>. The multiplier <highlight><bold>14</bold></highlight> is operative to multiply the audio signal from the audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>by the gain signal including the envelopes from the envelope generator <highlight><bold>20</bold></highlight>. The audio signal output terminal <highlight><bold>10</bold></highlight><highlight><italic>f </italic></highlight>is operative to output the audio signal therethrough. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The envelope generator <highlight><bold>20</bold></highlight> comprises a first integrator <highlight><bold>21</bold></highlight>, a second integrator <highlight><bold>22</bold></highlight>, a time constant distributor <highlight><bold>23</bold></highlight>, a gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>, an attack coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>b</italic></highlight>, a release coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>c</italic></highlight>, and a gain signal output terminal <highlight><bold>20</bold></highlight><highlight><italic>d. </italic></highlight></paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a </italic></highlight>has the gain signal inputted therein. The attack coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>b </italic></highlight>has the desired attack coefficient inputted therein. The release coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>c </italic></highlight>has the desired release coefficient inputted therein. The time constant distributor <highlight><bold>23</bold></highlight> is operative to receive the desired release coefficient to distribute a first release coefficient to the first integrator <highlight><bold>21</bold></highlight> and a second release coefficient to the second integrator <highlight><bold>22</bold></highlight>. The first release coefficient corresponds to a first release time which is half of the desired release time. The second release coefficient corresponds to a second release time which is half of the desired release time. The first integrator <highlight><bold>21</bold></highlight> is operative to receive the gain signal inputted through the gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>, a zero attack coefficient as a first attack coefficient, and the first release coefficient distributed from the time constant distributor <highlight><bold>23</bold></highlight>. The first integrator <highlight><bold>21</bold></highlight> has a first attack time equal to zero corresponding to the first attack coefficient and a first release time corresponding to the first release coefficient. And the first integrator <highlight><bold>21</bold></highlight> is operative to generate intermediate state of envelopes in response to changes in level of the gain signal inputted through the gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a </italic></highlight>to impart the intermediate state of to the gain signal. The second integrator <highlight><bold>22</bold></highlight> is operative to receive the gain signal imparted the intermediate state of envelopes, a desired attack coefficient as a second attack coefficient, and receive the second release coefficient distributed from the time constant distributor <highlight><bold>23</bold></highlight>. The second integrator <highlight><bold>22</bold></highlight> has a second attack time corresponding to the second attack coefficient and a second release time corresponding to the second release coefficient. And the second integrator <highlight><bold>22</bold></highlight> is operative to modify the intermediate state of envelopes into the final state of envelopes in response to changes in level of the gain signal imparted the first envelopes. The gain signal output terminal <highlight><bold>20</bold></highlight><highlight><italic>d </italic></highlight>is operative to output the gain signal imparted the final state of envelopes therethrough. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The first integrator <highlight><bold>21</bold></highlight> is same as integrator <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. The second integrator <highlight><bold>22</bold></highlight> is also same as integrator <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> The integrator <highlight><bold>30</bold></highlight> comprises a adder <highlight><bold>31</bold></highlight>, a delay element <highlight><bold>32</bold></highlight>, a subtracter <highlight><bold>33</bold></highlight>, an attack coefficient multiplier <highlight><bold>34</bold></highlight>, a release coefficient multiplier <highlight><bold>35</bold></highlight>, a switch <highlight><bold>36</bold></highlight>, a gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a</italic></highlight>, an attack coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>b</italic></highlight>, a release time coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>c</italic></highlight>, and a gain signal output terminal <highlight><bold>30</bold></highlight><highlight><italic>d. </italic></highlight></paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a </italic></highlight>has a gain signal inputted therein. The delay element <highlight><bold>32</bold></highlight> is operative to delay the signal one sampling cycle. The subtracter <highlight><bold>33</bold></highlight> is operative to subtract the level of the gain signal from the one sampling cycle preceding level of the gain signal. The attack coefficient multiplier <highlight><bold>34</bold></highlight> is operative to multiple the level of the signal from the subtracter <highlight><bold>33</bold></highlight> by the attack coefficient imputed through the attack coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>b</italic></highlight>. The release coefficient multiplier <highlight><bold>35</bold></highlight> is operative to multiple the level of the signal from the subtracter <highlight><bold>33</bold></highlight> by the release coefficient inputted through the release coefficient input terminal <highlight><bold>30</bold></highlight><highlight><italic>c</italic></highlight>. The switch <highlight><bold>36</bold></highlight> is operative to connect the attack coefficient multiplier <highlight><bold>34</bold></highlight> with the adder <highlight><bold>31</bold></highlight> during the attack time, and connect the release coefficient multiplier <highlight><bold>35</bold></highlight> with the adder <highlight><bold>31</bold></highlight> during the release time, based on the level of the signal from subtracter <highlight><bold>33</bold></highlight>. The adder <highlight><bold>31</bold></highlight> is operative to add a level of the gain signal from the gain signal input terminal <highlight><bold>30</bold></highlight><highlight><italic>a </italic></highlight>to a level of the signal from the switch <highlight><bold>36</bold></highlight>. The gain signal output terminal <highlight><bold>30</bold></highlight><highlight><italic>d </italic></highlight>is operative to output the gain signal imparted the envelopes therethrough. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The operation of the envelope generator <highlight><bold>20</bold></highlight> for the audio compression will then be described with reference to FIGS. <highlight><bold>1</bold></highlight> to <highlight><bold>5</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> It is assumed that the audio compression apparatus <highlight><bold>10</bold></highlight> has inputted therein an audio signal having a wave shape <highlight><bold>401</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, becoming large in amplitude from the time t<highlight><bold>0</bold></highlight> and compressed from the time t<highlight><bold>1</bold></highlight>. In this case, the wave shape <highlight><bold>401</bold></highlight> is varied with a predetermined attack coefficient to be outputted in a wave shape <highlight><bold>403</bold></highlight>. For better understanding of the operation of envelope generator <highlight><bold>20</bold></highlight>, it is assumed that only the first integrator <highlight><bold>21</bold></highlight> is operated while the operation of the second integrator <highlight><bold>22</bold></highlight> is ignored. The first integrator <highlight><bold>21</bold></highlight> having an attack coefficient set at zero results in generating a wave shape <highlight><bold>402</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. The reason why such a wave shape is generated will then be described hereinafter with reference to the wave shapes shown in <cross-reference target="DRAWINGS">FIGS. 4 and 5</cross-reference> as well as with reference to the flow chart shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. The envelope generator <highlight><bold>20</bold></highlight> has gain signal inputted therein in Step <highlight><bold>301</bold></highlight>. The inputted gain signal continues to decrease in level from the time t<highlight><bold>1</bold></highlight> to the time t<highlight><bold>2</bold></highlight>, when the inputted audio signal exceeds the threshold value in level. This means that the &ldquo;yes&rdquo; judgment continues in Step <highlight><bold>302</bold></highlight><highlight><italic>a</italic></highlight>. Under these conditions, the zero attack coefficient, i.e., the first attack coefficient being affected in Step <highlight><bold>302</bold></highlight><highlight><italic>b</italic></highlight>, i.e., with no operation of the first and second integrators, so that the gain signal having the wave shape <highlight><bold>502</bold></highlight> is outputted in Step <highlight><bold>304</bold></highlight>. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> During the time t<highlight><bold>2</bold></highlight> to the time when the inputted audio signal becomes less than the threshold, the gain inputted to the envelope generator <highlight><bold>20</bold></highlight> continues to increase, with the result that the judgment &ldquo;no&rdquo; continues in Step <highlight><bold>302</bold></highlight><highlight><italic>a</italic></highlight>, the first release coefficient affected in Step <highlight><bold>302</bold></highlight><highlight><italic>c</italic></highlight>. As a result, the inputted gain signal is provided with a half of the desired release time. If the release time is longer than the cycle of the audio signal having wave shape <highlight><bold>401</bold></highlight>, the first release time causes the gain held at the level corresponding to the peak of the audio signal. Until the absolute value in level of audio signal reaches its next peak, the gain at the audio signal peak is compared with the gain instantly inputted, the judgment &ldquo;no&rdquo; continues in Step <highlight><bold>302</bold></highlight><highlight><italic>a </italic></highlight>due to the gain at the audio signal peak smaller than the gain instantly inputted. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> If the second integrator <highlight><bold>22</bold></highlight> is ignored, the envelope generator <highlight><bold>20</bold></highlight> outputs the gain signal having a wave shape <highlight><bold>502</bold></highlight>, so that the audio compression apparatus <highlight><bold>10</bold></highlight> outputs the audio signal having a wave shape <highlight><bold>402</bold></highlight>. After time t<highlight><bold>2</bold></highlight>, the gain is maintained at a substantially constant level corresponding to the peak of the audio signal in level, thereby making it possible to produce an audio signal compressed without being broken in shape. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Here, the second integrator <highlight><bold>22</bold></highlight> will then be considered. The second integrator <highlight><bold>22</bold></highlight> is operated to generate an envelope corresponding to the desired attack time. The gain signal inputted to the first integrator <highlight><bold>21</bold></highlight> is generally oscillated every sampling time and thus has an alternative current component relatively large in proportion. The relatively large attack time given causes a problem that there is generated no gain having an exact value converged even if a sufficient time passes to the time constant as stated in the above. The above problem is caused similarly to the problem caused by the case that the one integrator <highlight><bold>30</bold></highlight> is used as a conventional envelope generator in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. However, the second integrator <highlight><bold>22</bold></highlight> has an inputted gain signal smoothed by the first integrator <highlight><bold>21</bold></highlight>. With the inputted audio signal keeping a constant amplitude, the output level of the first integrator <highlight><bold>21</bold></highlight> becomes a substantially constant level and is thus not fluctuated for every sampling time. The attack time passed causes the output of the second integrator <highlight><bold>22</bold></highlight> to converge toward the output of the first integrator <highlight><bold>21</bold></highlight> having a constant level. The gain inputted into the second integrator <highlight><bold>22</bold></highlight> at the time t<highlight><bold>1</bold></highlight> being small is judged as a beginning of an attack time, and thus in Step <highlight><bold>303</bold></highlight><highlight><italic>a </italic></highlight>shown in the flow chart is then judged as &ldquo;yes&rdquo;. The second attack coefficient, i.e., the desired attack coefficient inputted through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d </italic></highlight>is applied to the attack time. The level of the gain signal outputted from the second integrator <highlight><bold>22</bold></highlight> is converged the desired gain value being equal to the level of the gain signal obtained for the attack time zero. Thus, with the second integrator <highlight><bold>22</bold></highlight> being considered, the envelope generator <highlight><bold>20</bold></highlight> outputs the gain signal having a wave shape <highlight><bold>503</bold></highlight>, so that the audio compression apparatus <highlight><bold>10</bold></highlight> outputs the audio signal having a wave shape <highlight><bold>403</bold></highlight>. The converged level of the gain signal is by no means fluctuated depending upon the desired attack time. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> As for the release time, the time constant distributor <highlight><bold>23</bold></highlight> is operated to cause the first integrator <highlight><bold>21</bold></highlight> to function so that the gain signal is outputted from the first integrator <highlight><bold>21</bold></highlight> with a first release time half of the desired release time. The remaining release time i.e., the second release time half of the desired release time is provided by the second integrator <highlight><bold>22</bold></highlight>. From the flowchart shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> it will be understood that the judgment &ldquo;no&rdquo; is made in Steps <highlight><bold>302</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>303</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The first and the second integrators <highlight><bold>21</bold></highlight> and <highlight><bold>22</bold></highlight> is operated to have the totals of the attack times and the total of the release times respectively become desired time constant respectively determined by the desired attack coefficient and the desired release coefficient. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Referring to the drawings, in particular <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, there is shown a first preferred embodiment of the audio expansion apparatus according to the present invention. The following description will accompany various technical terms defined as follows. The term &ldquo;audio expansion apparatus&rdquo; is intended to mean an apparatus which can substantially expand the levels of an audio signal inputted. The term &ldquo;gain signal&rdquo; is intended to mean a signal, the levels of which is multiplied by the levels of audio signal. Each gain value represented by each level of the gain signal is generally in range from &ldquo;0&rdquo; to &ldquo;1&rdquo; in an audio expansion apparatus, and this general principle is available in the present embodiment of the audio expansion apparatus according to the present invention. The audio expansion apparatus is generally designed to change a gain value &ldquo;1&rdquo; to less than &ldquo;1&rdquo; when the level of audio signal becomes less than a predetermined threshold value, and restores the gain value to &ldquo;1&rdquo; when the level of audio signal returns to the predetermined threshold value. The term &ldquo;attack time&rdquo; is intended to mean a time constant which corresponds to a transient period of the gain signal at the beginning of the substantial expansion of the audio signal, i.e., the end of the compression of the audio signal. The term &ldquo;release time&rdquo; is intended to mean a time constant which corresponds to a transient period of the gain signal at the end of the substantial expansion of the audio signal, i.e., the beginning of the compression of the audio signal. The term &ldquo;envelope generator&rdquo; is intend to mean an apparatus which has the time constant to generate and impart envelopes to the gain signal in level. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The audio expansion apparatus <highlight><bold>110</bold></highlight> comprises a sampling element <highlight><bold>11</bold></highlight>, a subtracter <highlight><bold>12</bold></highlight>, a gain generator <highlight><bold>113</bold></highlight>, a multiplier <highlight><bold>14</bold></highlight>, an envelope generator <highlight><bold>20</bold></highlight>, an audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a</italic></highlight>, a threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b</italic></highlight>, a compression ratio input terminal <highlight><bold>10</bold></highlight><highlight><italic>c</italic></highlight>, an attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d</italic></highlight>, a release coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>e, </italic></highlight>and an audio signal output terminal <highlight><bold>10</bold></highlight><highlight><italic>f. </italic></highlight></paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> The audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>has an audio signal inputted therein. The sampling element <highlight><bold>11</bold></highlight> is operative to periodically sample the audio signal inputted through the audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>at predetermined sampling clock cycle to obtain an absolute value in level of the audio signal. The threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>has a predetermined threshold value inputted therein. The subtracter <highlight><bold>12</bold></highlight> is operative to acquire a difference between the absolute value in level of the audio signal and the predetermined threshold value inputted through the threshold value input terminal <highlight><bold>10</bold></highlight><highlight><italic>b</italic></highlight>. The compression ratio input terminal <highlight><bold>10</bold></highlight><highlight><italic>c </italic></highlight>has a predetermined compression ratio inputted therein. The gain generator <highlight><bold>113</bold></highlight> is operative to generate a gain signal based on the predetermined compression ratio and on the difference between the absolute value and the threshold value. The gain signal represents values in range from &ldquo;0&rdquo; to &ldquo;1&rdquo;. The gain generator <highlight><bold>113</bold></highlight> changes a gain value &ldquo;1&rdquo; to less than &ldquo;1&rdquo; when the level of audio signal becomes less than a predetermined threshold value, and restores the gain value to &ldquo;1&rdquo; when the level of audio signal returns to the predetermined threshold value to cause expansion in appearance. The gain generator <highlight><bold>113</bold></highlight> is designed to calculate a value approximate to an ideal characteristic with the polynomial expression of a rational function. The attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d </italic></highlight>has a predetermined attack coefficient inputted therein. The release coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>e </italic></highlight>have a predetermined release coefficient inputted therein. The envelope generator <highlight><bold>20</bold></highlight> is operative to generate a plurality of desired envelopes in response to changes in level of the gain signal generated by the gain generator <highlight><bold>113</bold></highlight>. The envelope generator <highlight><bold>20</bold></highlight> has a desired attack time and a desired release time. The desired attack time corresponds to the predetermined attack coefficient inputted through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d</italic></highlight>. The desired release time corresponds to the predetermined release coefficient through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d. </italic></highlight>The multiplier <highlight><bold>14</bold></highlight> is operative to multiply the audio signal from the audio signal input terminal <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>by the gain signal including the envelopes from the envelope generator <highlight><bold>20</bold></highlight>. The audio signal output terminal <highlight><bold>10</bold></highlight><highlight><italic>f </italic></highlight>is operative to output the audio signal therethrough. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The envelope generator <highlight><bold>20</bold></highlight> comprises a first integrator <highlight><bold>21</bold></highlight>, a second integrator <highlight><bold>22</bold></highlight>, a time constant distributor <highlight><bold>23</bold></highlight>, a gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>, an attack coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>b</italic></highlight>, a release coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>c</italic></highlight>, and a gain signal output terminal <highlight><bold>20</bold></highlight><highlight><italic>d. </italic></highlight></paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> The gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a </italic></highlight>has the gain signal inputted therein. The attack coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>b </italic></highlight>has the desired attack coefficient inputted therein. The release coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>c </italic></highlight>has the desired release coefficient inputted therein. The time constant distributor <highlight><bold>23</bold></highlight> is operative to receive the desired release coefficient to distribute a first release coefficient to the first integrator <highlight><bold>21</bold></highlight> and a second release coefficient to the second integrator <highlight><bold>22</bold></highlight>. The first release coefficient corresponds to a first release time which is half of the desired release time. The second release coefficient corresponds to a second release time which is half of the desired release time. The first integrator <highlight><bold>21</bold></highlight> is operative to receive the gain signal inputted through the gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a</italic></highlight>, a zero attack coefficient as a first attack coefficient inputted through the attack coefficient input terminal <highlight><bold>20</bold></highlight><highlight><italic>b</italic></highlight>, and the first release coefficient distributed from the time constant distributor <highlight><bold>23</bold></highlight>. The first integrator <highlight><bold>21</bold></highlight> has a first attack time equal to zero corresponding to the first attack coefficient and a first release time corresponding to the first release coefficient. And the first integrator <highlight><bold>21</bold></highlight> is operative to generate intermediate state of envelopes in response to changes in level of the gain signal inputted through the gain signal input terminal <highlight><bold>20</bold></highlight><highlight><italic>a </italic></highlight>to impart the intermediate state of envelopes to the gain signal. The second integrator <highlight><bold>22</bold></highlight> is operative to receive the gain signal imparted the intermediate state of envelopes, a desired attack coefficient as a second attack coefficient, and receive the second release coefficient distributed from the time constant distributors. The second integrator <highlight><bold>22</bold></highlight> has a second attack time corresponding to the second attack coefficient and a second release time corresponding to the second release coefficient. And the second integrator <highlight><bold>22</bold></highlight> is operative to modify the intermediate state of envelopes into final state of envelopes in response to changes in level of the gain signal imparted the first envelopes. The gain signal output terminal <highlight><bold>20</bold></highlight><highlight><italic>d </italic></highlight>is operative to output the gain signal imparted the final state of envelopes therethrough. The first integrator <highlight><bold>21</bold></highlight> is same as integrator <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. The second integrator <highlight><bold>21</bold></highlight> is also same as integrator <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The operation of the envelope generator <highlight><bold>20</bold></highlight> for the audio expansion will then be described with reference to FIGS. <highlight><bold>6</bold></highlight> to <highlight><bold>9</bold></highlight>. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> It is assumed that the audio expansion apparatus <highlight><bold>110</bold></highlight> has inputted therein an audio signal having a wave shape <highlight><bold>801</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, becoming large in amplitude from the time to, compressed prior to the time t<highlight><bold>3</bold></highlight>, and decompressed from the time t<highlight><bold>3</bold></highlight>. In this case, the wave shape <highlight><bold>801</bold></highlight> is varied with a predetermined attack coefficient to be outputted in a wave shape <highlight><bold>803</bold></highlight>. For better understanding of the operation of envelope generator <highlight><bold>20</bold></highlight>, it is assumed that only the first integrator <highlight><bold>21</bold></highlight> is operated while the operation of the second integrator <highlight><bold>22</bold></highlight> is ignored. The first integrator <highlight><bold>21</bold></highlight> having an attack coefficient set at zero results in generating a wave shape <highlight><bold>902</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. The reason why such a wave shape is generated will then be described hereinafter with reference to the wave shapes shown in <cross-reference target="DRAWINGS">FIGS. 8 and 9</cross-reference> as well as with reference to the flow chart shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. The envelope generator <highlight><bold>20</bold></highlight> has gain signal inputted therein in Step <highlight><bold>701</bold></highlight>. Prior to the time t<highlight><bold>3</bold></highlight>, the inputted gain signal has a maximum value at the peak of the audio signal, and the inputted gain signal continues to decrease in level during the inputted audio signal continues to decrease from the peak to zero in level. This means that the &ldquo;no&rdquo; judgment continues in Step <highlight><bold>702</bold></highlight><highlight><italic>a</italic></highlight>. If the release time is longer than the cycle of the audio signal having wave shape <highlight><bold>801</bold></highlight>, the first release time causes the gain held at the level corresponding to the peak of the audio signal. Thus prior to the time t<highlight><bold>3</bold></highlight>, the gain is maintained at a substantially constant level corresponding to the peak of the audio signal in level, thereby making it possible to produce an audio signal compressed without being broken in shape. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> The inputted gain continues rising to the level &ldquo;1&rdquo; from the time t<highlight><bold>3</bold></highlight> to the time t<highlight><bold>4</bold></highlight>, and the inputted gain is maintained &ldquo;1&rdquo; from the time t<highlight><bold>4</bold></highlight> to the time when the inputted-audio signal reaches its initial peak. This leads to the fact that the &ldquo;yes&rdquo; judgment continues in Step <highlight><bold>702</bold></highlight><highlight><italic>a</italic></highlight>, under the influence of the zero attack coefficient the first integrator <highlight><bold>21</bold></highlight> is not operated with the gain signal in Step <highlight><bold>702</bold></highlight><highlight><italic>b</italic></highlight>. From the time when the audio signal reaches its initial peak to the time when the audio signal is declined under the threshold value, the inputted gain is maintained at the level &ldquo;1&rdquo;, and the outputted gain from first integrator <highlight><bold>21</bold></highlight> is also maintained at the level &ldquo;1&rdquo;. The inputted audio signal continues declining from the threshold value to zero value, thereof &ldquo;no&rdquo; judgment is made in Step <highlight><bold>702</bold></highlight><highlight><italic>a</italic></highlight>, so that the first release coefficient is influenced with the release time half of the release time in Step <highlight><bold>702</bold></highlight><highlight><italic>c</italic></highlight>. Here, if the release time is longer than the cycle of the inputted audio signal, the first release time causes the outputted gain held at the level &ldquo;1&rdquo;. To the time when the inputted audio signal reaches the threshold value again, the inputted gain raises but does not reach the level &ldquo;1&rdquo;, i.e., the outputted gain from the first integrator <highlight><bold>21</bold></highlight> at the preceding sampling time, thereby making the &ldquo;no&rdquo; judgment continues in Step <highlight><bold>702</bold></highlight><highlight><italic>a</italic></highlight>. This means that the outputted gain from the first integrator <highlight><bold>21</bold></highlight> is maintained at around the level &ldquo;1&rdquo;. It is therefore understood that the second integrator <highlight><bold>22</bold></highlight> ignored causes the outputted audio signal to maintain the wave shape and be compressed before the time t<highlight><bold>3</bold></highlight>. Further, the second integrator <highlight><bold>22</bold></highlight> ignored causes the outputted audio signal to maintain unchanged after the time t<highlight><bold>4</bold></highlight>. It is therefore to be noted that the second integrator <highlight><bold>22</bold></highlight> ignored causes the outputted audio signal to have the wave shape <highlight><bold>802</bold></highlight>. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Here, the second integrator <highlight><bold>22</bold></highlight> will then be considered. The second integrator <highlight><bold>22</bold></highlight> is operated to generate an envelope corresponding to the desired attack time. The gain signal inputted to the first integrator <highlight><bold>21</bold></highlight> is generally oscillated every sampling time and thus has an alternative current component relatively large in proportion. The relatively large attack time given causes a problem that there is generated no gain having an exact value converged even if a sufficient time passes to the time constant as stated in the above. The above problem is caused similarly to the problem caused by the case that the one integrator <highlight><bold>30</bold></highlight> is used as a conventional envelope generator in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. However, the second integrator <highlight><bold>22</bold></highlight> has an inputted gain signal smoothed by the fist integrator <highlight><bold>21</bold></highlight>, so that the second integrator <highlight><bold>22</bold></highlight> performs exact attack and release processes. When the level of the inputted gain signal begins to increase, the second integrator <highlight><bold>22</bold></highlight> is operated to judge the beginning of the attack time. This means that the &ldquo;yes&rdquo; judgement made in Step <highlight><bold>703</bold></highlight><highlight><italic>a </italic></highlight>in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, thereby the attack coefficient inputted through the attack coefficient input terminal <highlight><bold>10</bold></highlight><highlight><italic>d </italic></highlight>is applied in Step <highlight><bold>703</bold></highlight><highlight><italic>b</italic></highlight>. The wave shape <highlight><bold>903</bold></highlight> of the gain signal is obtained as seen in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> As for the release time, the gain signal inputted into the first integrator <highlight><bold>21</bold></highlight> fluctuates in level from &ldquo;1&rdquo; to the less than &ldquo;1&rdquo;. In the other word, the inputted gain signal is changed from the fixed level to the level at the beginning of the attack time. Here, the time constant distributor <highlight><bold>23</bold></highlight> is operated to cause the first integrator <highlight><bold>21</bold></highlight> to function so that the gain signal is outputted from the first integrator <highlight><bold>21</bold></highlight> with a first release time half of the desired release time. The remaining release time i.e., the second release time of the desired release time is provided by the second integrator <highlight><bold>22</bold></highlight>. From the flowchart shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> it will be understood that the judgment &ldquo;no&rdquo; is made in Steps <highlight><bold>702</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>703</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> The first and the second integrators <highlight><bold>21</bold></highlight> and <highlight><bold>22</bold></highlight> is operated to have the totals of the attack times and the total of the release times respectively become desired time constant respectively determined by the desired attack coefficient and the desired release coefficient. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The second preferred embodiment of the audio compression apparatus and the audio expansion apparatus according to the present invention will now be described in detail in accordance with the accompanying drawings. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Referring to the drawings, in particular <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, there is shown the second preferred embodiment of the audio compression and expansion apparatus according to the present invention. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> The audio compression and expansion apparatus <highlight><bold>50</bold></highlight> comprises a signal processing unit <highlight><bold>51</bold></highlight>, a RAM <highlight><bold>52</bold></highlight>, a CPU <highlight><bold>53</bold></highlight>, a ROM card <highlight><bold>54</bold></highlight>, an audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>, and an audio signal output terminal <highlight><bold>50</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> The audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a </italic></highlight>has an audio signal inputted therein. The signal processing unit <highlight><bold>51</bold></highlight> is operative to follow and execute instructions from the CPU <highlight><bold>53</bold></highlight> to compress and expand the level of the audio signal inputted through the audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>. The RAM <highlight><bold>52</bold></highlight> is operative to record various temporary values and various temporary data to compress and expand the level of the audio signal inputted through the audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>. The CPU <highlight><bold>53</bold></highlight> is operative to execute the steps by audio compression and expansion program with the signal processing unit <highlight><bold>51</bold></highlight> for compressing and expanding the level of the audio signal inputted through the audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>. The ROM card <highlight><bold>54</bold></highlight> is operative to record in advance the audio compression and expansion program which makes the CPU <highlight><bold>53</bold></highlight> execute the steps of compressing levels of the audio signal inputted through the audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>. The ROM card <highlight><bold>54</bold></highlight> is also operative to record various predetermined value such as a desired attack coefficient, a desired release coefficient, threshold values for compression, a compression ratio. The audio signal output terminal <highlight><bold>50</bold></highlight><highlight><italic>b </italic></highlight>is operative to output the audio signal of which level controlled by the CPU <highlight><bold>53</bold></highlight> and the signal processing unit <highlight><bold>51</bold></highlight> therethrough. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> shows a flowchart representing an audio compression and expansion process performed by the embodiment of the audio compression and expansion apparatus according to the present invention. The steps shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> are executed by the CPU <highlight><bold>53</bold></highlight> cooperated with the signal processing unit <highlight><bold>51</bold></highlight>. In step S<highlight><bold>1</bold></highlight>, an audio signal is inputted into the signal processing unit <highlight><bold>51</bold></highlight> through the audio signal input terminal <highlight><bold>50</bold></highlight><highlight><italic>a</italic></highlight>. In step S<highlight><bold>2</bold></highlight>, the signal processing unit <highlight><bold>51</bold></highlight> periodically sample the audio signal and the CPU <highlight><bold>53</bold></highlight> obtains an absolute value in level of the audio signal. In step S<highlight><bold>3</bold></highlight>, the CPU <highlight><bold>53</bold></highlight> acquires a difference between the absolute value in level of the audio signal and the predetermined threshold value recorded in the RAM <highlight><bold>52</bold></highlight>. In step S<highlight><bold>4</bold></highlight>, the CPU <highlight><bold>53</bold></highlight> generates a gain signal based on the predetermined compression ratio recorded in the RAM <highlight><bold>52</bold></highlight> and on the deference between the absolute value and on the predetermined threshold value acquired in the step S<highlight><bold>3</bold></highlight>. In the case of audio compression, the CPU <highlight><bold>53</bold></highlight> changes the gain &ldquo;1&rdquo; to less than &ldquo;1&rdquo; when the level of the audio signal becomes larger than the threshold value. In the case of audio expansion, the CPU <highlight><bold>53</bold></highlight> changes the gain &ldquo;1&rdquo; to less than &ldquo;1&rdquo; when the level of the audio signal becomes less than the threshold value. In step S<highlight><bold>5</bold></highlight>, the CPU <highlight><bold>53</bold></highlight> generates the intermediate state of envelopes with a first attack time and a first release time in response to changes in level of the gain signal to impart the intermediate state of envelopes to the gain signal. In the case of the audio compression, The CPU <highlight><bold>53</bold></highlight> executes the steps S<highlight><bold>302</bold></highlight><highlight><italic>a</italic></highlight>, S<highlight><bold>302</bold></highlight><highlight><italic>b</italic></highlight>, S<highlight><bold>302</bold></highlight><highlight><italic>c </italic></highlight>shown <cross-reference target="DRAWINGS">FIG. 3</cross-reference> as step S<highlight><bold>5</bold></highlight>. In the case of the audio expansion, The CPU <highlight><bold>53</bold></highlight> executes the steps S<highlight><bold>702</bold></highlight><highlight><italic>a</italic></highlight>, S<highlight><bold>702</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>702</bold></highlight><highlight><italic>c </italic></highlight>shown <cross-reference target="DRAWINGS">FIG. 7</cross-reference> as step S<highlight><bold>5</bold></highlight>. In step S<highlight><bold>6</bold></highlight>, the CPU <highlight><bold>53</bold></highlight> modifies the intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of the gain signal imparted said intermediate state of envelopes in the step S<highlight><bold>5</bold></highlight>. In the case of the audio compression, The CPU <highlight><bold>53</bold></highlight> executes the steps S<highlight><bold>303</bold></highlight><highlight><italic>a</italic></highlight>, S<highlight><bold>303</bold></highlight><highlight><italic>b</italic></highlight>, S<highlight><bold>303</bold></highlight><highlight><italic>c </italic></highlight>shown <cross-reference target="DRAWINGS">FIG. 3</cross-reference> as step S<highlight><bold>6</bold></highlight>. In the case of the audio expansion, The CPU <highlight><bold>53</bold></highlight> executes the steps S<highlight><bold>703</bold></highlight><highlight><italic>a</italic></highlight>, S<highlight><bold>703</bold></highlight><highlight><italic>b</italic></highlight>, S<highlight><bold>703</bold></highlight><highlight><italic>c </italic></highlight>shown <cross-reference target="DRAWINGS">FIG. 7</cross-reference> as step S<highlight><bold>6</bold></highlight>. In step S<highlight><bold>7</bold></highlight>, the CPU <highlight><bold>53</bold></highlight> multiplies the audio signal by the gain signal. In step S<highlight><bold>8</bold></highlight>, the audio signal is outputted through the audio signal output terminal <highlight><bold>50</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> The second embodiment of the audio compression and expansion apparatus <highlight><bold>50</bold></highlight> described above is including the ROM card <highlight><bold>54</bold></highlight> as a recording media which records the audio compression and expansion program, the present invention of an audio compression and expansion apparatus is not limited to this embodiment, the recording media may be replaced by any other recording media such as a disk. In the case that the recording media is a disk, the audio compression and expansion apparatus may be including a disk drive for reading the audio compression and expansion program and the data such as threshold values, a compression ratio, an attack coefficient, and a release coefficient. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Though the first and second embodiments of an audio compression apparatus and audio expansion apparatus multiply the audio signal by the gain signal having range from &ldquo;0&rdquo; to &ldquo;1&rdquo;, this invention of the an audio compression apparatus and audio expansion apparatus is not limited that range. According to the present invention of an audio compression apparatus and audio expansion apparatus may multiply the audio signal by the gain signal having range from &ldquo;0&rdquo; to &ldquo;2&rdquo; or the other range. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> Further, according to the present invention of an audio compression apparatus and audio expansion apparatus may input a plural of audio signals and output a plural of audio signals for stereo audio. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> Further, according to the present invention of an envelope generator, an audio compression apparatus and audio expansion apparatus allow to generate envelops with various combination of the first release time and the second release times that total of those becomes the desired release time, though the distributing half of the desired release time to integrators is convenient and better for simplifying in construction. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The following is examples of the time constant (the attack time and the release time) and the coefficient (the attack coefficient and the release coefficient). In the case of the time constant T larger than zero, the coefficient C is defined by the equation: C&equals;exp(&minus;1/(Fs&times;T&plus;1)) where Fs is the sampling frequency. In the case of the time constant equal to zero, the coefficient C is zero. For example, the frequency Fs is 48 kHz. In the case of the desired attack time: 1 ms, the first attack coefficient: zero and the second attack coefficient: 0.9798. In the case of the desired attack time: 50 ms, the first attack coefficient: 0 and the second attack coefficient: 0.9995. In the case of the desired release time: 1 s, the first release coefficient and the second release coefficient are respectively 0.99995 corresponding to the release time: 500 ms. In the case of the desired release time: 500 ms, the first release coefficient and the second release coefficient are respectively 0.99991 corresponding to the release time 250 ms. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> From the above detailed description, it will be understood that the envelope generator thus constructed as previously mentioned ensures a double envelope generation, i.e., a first integration for generating first envelopes as intermediate envelopes during a first attack time and with a first release time in response to changes in level of a gain signal, and a second integration for respectively modifying the first envelopes into second envelopes as final envelopes with a second attack time and during a second release time in response to changes in level of the gain signal imparted the first envelopes. This means that the envelope generator according to the present invention can compress or expand level of the audio signal with relatively high quality not to break in shape and can be relatively simple in construction. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. An envelope generator, comprising: 
<claim-text>an input terminal for having a signal inputted therein; </claim-text>
<claim-text>a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted through said input terminal to impart said intermediate state of envelopes to said signal; </claim-text>
<claim-text>a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and </claim-text>
<claim-text>an output terminal for outputting said signal with said final state of envelopes therethrough. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. An audio compression apparatus, comprising: 
<claim-text>an input terminal for having an audio signal inputted therein; </claim-text>
<claim-text>a sampling element for periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a subtracter for acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a gain generator for generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>an envelope generator including a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal, and a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a multiplier for multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an output terminal for outputting said audio signal multiplied by said gain signal therethrough. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. An audio expansion apparatus, comprising: 
<claim-text>an input terminal for having an audio signal inputted therein; </claim-text>
<claim-text>a sampling element for periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a subtracter for acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a gain generator for generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>an envelope generator including a first integrator for generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal, and a second integrator for respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a multiplier for multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an output terminal for outputting said audio signal multiplied by said gain signal therethrough. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. An envelope generation method, comprising: 
<claim-text>a first step of having a signal inputted; </claim-text>
<claim-text>a second step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted in said first step; </claim-text>
<claim-text>a third step of respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and </claim-text>
<claim-text>a fourth step of outputting said signal with said final state of envelopes. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. An audio compression method, comprising: 
<claim-text>a first step of having an audio signal inputted; </claim-text>
<claim-text>a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a third step of acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; </claim-text>
<claim-text>a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an eighth step of outputting said audio signal multiplied by said gain signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. An audio expansion method, comprising: 
<claim-text>a first step of having an audio signal inputted; </claim-text>
<claim-text>a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a third step of acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; </claim-text>
<claim-text>a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an eighth step of outputting said audio signal multiplied by said gain signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A envelope generation program capable of being executed by computers comprising: 
<claim-text>a first step of having a signal inputted; </claim-text>
<claim-text>a second step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said signal inputted in said first step; </claim-text>
<claim-text>a third step of respectively modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said signal imparted said intermediate state of envelopes; and </claim-text>
<claim-text>a fourth step of outputting said signal with said final state of envelopes. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A audio compression program capable of being executed by computers comprising: 
<claim-text>a first step of having an audio signal inputted; </claim-text>
<claim-text>a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a third step of acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; </claim-text>
<claim-text>a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an eighth step of outputting said audio signal multiplied by said gain signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A audio expansion program capable of being executed by computers comprising: 
<claim-text>a first step of having an audio signal inputted; </claim-text>
<claim-text>a second step of periodically sampling said audio signal to obtain an absolute value in level of said audio signal; </claim-text>
<claim-text>a third step of acquiring a difference between said absolute value and a predetermined threshold value; </claim-text>
<claim-text>a fourth step of generating a gain signal based on said difference between said absolute value and said predetermined threshold value; </claim-text>
<claim-text>a fifth step of generating intermediate state of envelopes with a first attack time and a first release time in response to changes in level of said gain signal to impart said intermediate state of envelopes to said gain signal; </claim-text>
<claim-text>a sixth step of modifying said intermediate state of envelopes into final state of envelopes with a second attack time and a second release time in response to changes in level of said gain signal imparted said intermediate state of envelopes; </claim-text>
<claim-text>a seventh step of multiplying said audio signal by said gain signal with said final state of envelopes; and </claim-text>
<claim-text>an eighth step of outputting said audio signal multiplied by said gain signal.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004732A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004732A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004732A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004732A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004732A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004732A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004732A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004732A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004732A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004732A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004732A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004732A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004732A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
