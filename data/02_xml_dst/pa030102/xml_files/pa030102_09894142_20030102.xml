<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030005340A1-20030102-D00000.TIF SYSTEM "US20030005340A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00001.TIF SYSTEM "US20030005340A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00002.TIF SYSTEM "US20030005340A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00003.TIF SYSTEM "US20030005340A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00004.TIF SYSTEM "US20030005340A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00005.TIF SYSTEM "US20030005340A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00006.TIF SYSTEM "US20030005340A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00007.TIF SYSTEM "US20030005340A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030005340A1-20030102-D00008.TIF SYSTEM "US20030005340A1-20030102-D00008.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030005340</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09894142</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010629</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F001/26</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G06F001/28</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G06F001/30</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>713</class>
<subclass>300000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Power management for a pipelined circuit</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Joseph</given-name>
<family-name>Ku</family-name>
</name>
<residence>
<residence-us>
<city>Palo Alto</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>HEWLETT-PACKARD COMPANY</name-1>
<name-2></name-2>
<address>
<address-1>Intellectual Property Administration</address-1>
<address-2>P.O. Box 272400</address-2>
<city>Fort Collins</city>
<state>CO</state>
<postalcode>80527-2400</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A circuit is disclosed for controlling power supplied to a pipelined circuit. The circuit includes a front-end transition detection circuit, a back-end transition detection circuit and a stage power control circuit. The stage power control circuit includes a timer that may be reset in response to the back-end transition detection circuit detecting a transition in the output of the pipelined circuit. If the timer expires, the stage power control circuit performs a shut-down procedure that includes sequentially suppressing power to a plurality of stage circuits in the pipelined circuit. The sequential suppression of power includes suppressing power provided to a first stage circuit at the end of a first clock cycle, and the first stage circuit is connected to the input of the pipelined circuit. Then, power supplied to a second stage circuit directly connected to the first stage circuit may be suppressed after the next clock cycle. The sequential shut-down procedure may continue until power is suppressed for all the stage circuits in the pipelined circuit, and thus the power consumed by the pipelined circuit is minimized. The stage control circuit may also perform a turn-on procedure for providing power to the stage circuits that have had power suppressed during the shut-down procedure. If the front-end detection circuit detects the transition of a signal transmitted to the pipelined circuit, then the turn-on procedure is performed. The turn-on procedure may be performed even if all the stage circuits have not had their power supply suppressed. The turn-on procedure includes sequentially providing power to the stage circuits, starting from the first stage circuit. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention is generally related to power management techniques for computer chips. More particularly, the present invention is generally related to reducing power consumption of a pipelined circuit in a computer chip. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> In a typical microprocessor chip, designers often use a pipelined circuit to perform certain operations, such as floating point computations, for increasing the chip&apos;s frequency. A pipelined circuit conventionally includes multiple pipeline stage circuits for performing the computations. Conventional pipeline stage circuits are often modified to increase the performance of the chip. However, high-performance pipeline stage circuits often substantially dissipate power when performing calculations. Even when functioning in an idle or sleep mode, conventional pipeline stage circuits dissipate a significant amount of power through leakage paths. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> With the ever increasing demand for power in microprocessor chips, it is imperative that the power efficiency of every circuit in a microprocessor chip. Accordingly, techniques have been developed for reducing power consumption in microprocessor chips, such as placing pipeline stage circuits in a sleep mode. Techniques utilizing a sleep mode, however, tend to suffer from step-load problems. These problems result from an inductive effect in a power delivery line for the pipeline stage circuits. When pipeline stage circuits are waking up after being in a sleep mode, the circuits usually draw a large amount of current in a short period of time to sustain high-speed operation. This results in a step-load effect. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In order to overcome the step-load effect, an on-chip decoupling capacitance is enlarged or a dummy cycle is introduced in the pipeline stage circuits to prevent an inductive spike. Enlarging the on-chip decoupling capacitance, however, has not proved feasible for a variant demand for power during chip operation. Also, executing a dummy cycle tends to waste a considerable amount of power. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In one respect, the present invention includes a method for minimizing power consumption by a circuit, such as a pipelined circuit. The method includes steps of determining whether a predetermined period of time has expired, and performing a shut-down procedure on the pipelined circuit in response to the predetermined period of time having expired or elapsed. The predetermined period of time is associated with a predetermined period of time to detect a transition of a signal output by the pipelined circuit. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> In another respect, the present invention includes a circuit operable to minimize power consumption by a pipelined circuit. The circuit includes a first transition detection circuit connected to a first bus and detecting transition of a signal on the first bus. The first bus is operable to carry a signal output by the pipelined circuit. A second transition detection circuit is connected to a second bus and detects transition of a signal on the second bus. The second bus being operable to transmit a signal to the pipelined circuit. A stage control circuit is connected to the first and second transition detection circuits, and the stage control circuit controls the power consumption of the pipelined circuit based on a signal received from either the first transition detection circuit or the second transition detection circuit. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In another respect, the present invention includes a circuit connected to a pipelined circuit. The circuit is operable to control power provided to the pipelined circuit, and the circuit includes a timer, a first sequencer, a second sequencer and an arbitration circuit connected to the first and second sequencers. The arbitration circuit is operable to generate signals for controlling power provided to the pipelined circuit. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> In comparison to known prior art, certain embodiments of the invention are capable of achieving certain advantages, such as reducing power consumption and minimizing a step-load effect caused by an instant shut-down or power-up of an entire pipelined circuit. Those skilled in the art will appreciate these and other advantages and benefits of various embodiments of the invention upon reading the following detailed description of a preferred embodiment with reference to the below-listed drawings. </paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The present invention is illustrated by way of example and not limitation in the accompanying figures in which like numeral references refer to like elements, and wherein: </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates an exemplary schematic block diagram of a power control circuit according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates a timing diagram for a power shut-down procedure utilizing the power control circuit shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a timing diagram for a power turn-on procedure utilizing the power control circuit shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates an exemplary schematic block diagram of an embodiment of the stage power control circuit shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> FIGS. <highlight><bold>5</bold></highlight>(<highlight><italic>a</italic></highlight>)-(<highlight><italic>c</italic></highlight>) illustrate detailed schematic block diagrams of the stage power control circuit shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; and </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> illustrates a flow chart of an exemplary method employing the principles of the present invention.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> In the following detailed description, numerous specific details are set forth in order to provide a thorough understanding of the present invention. However, it will be apparent to one of ordinary skill in the art that these specific details need not be used to practice the present invention. In other instances, well known structures, interfaces, and processes have not been shown in detail in order not to unnecessarily obscure the present invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates a power control circuit <highlight><bold>100</bold></highlight> managing power consumption and power delivery to a pipelined circuit <highlight><bold>110</bold></highlight>. The pipelined circuit <highlight><bold>110</bold></highlight> includes multiple stage circuits <highlight><bold>112</bold></highlight>, each of which includes a power switch PN, conventional combinational logic circuitry <highlight><bold>116</bold></highlight> and a flip-flop <highlight><bold>118</bold></highlight>. The flip-flop <highlight><bold>118</bold></highlight> may be a conventional flip-flop or a power saving flip-flop described in co-pending U.S. patent application No. ______ (Attorney Docket No. 10015036), herein incorporated by reference. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> The power control circuit <highlight><bold>100</bold></highlight> includes a back-end transition detection circuit <highlight><bold>125</bold></highlight>, a stage power control circuit <highlight><bold>130</bold></highlight>, a front-end transition detection circuit <highlight><bold>135</bold></highlight> and an optional inserted buffer circuit <highlight><bold>140</bold></highlight>. The front-end transition detection circuit <highlight><bold>135</bold></highlight> and the back-end transition detection circuit <highlight><bold>125</bold></highlight> may include conventional circuits for detecting signal transitions on a bus, such as a transition from a high to a low or vice versa. The pipelined circuit <highlight><bold>110</bold></highlight> may perform data processing, including high-speed computations. The back-end transition detection circuit <highlight><bold>125</bold></highlight> detects a transition of a signal output by the pipelined circuit <highlight><bold>110</bold></highlight>, such as detecting activity on a bus <highlight><bold>150</bold></highlight> at the output of the pipelined circuit <highlight><bold>110</bold></highlight>. The activity may include an output of a data computation on the bus <highlight><bold>150</bold></highlight> from the pipelined circuit <highlight><bold>110</bold></highlight>. The bus <highlight><bold>150</bold></highlight> may also connect each stage circuit <highlight><bold>112</bold></highlight> and may carry signals input to the pipelined circuit <highlight><bold>110</bold></highlight>. Alternatively, multiple busses may be used to carry data to/from the pipelined circuit <highlight><bold>110</bold></highlight> and to interconnect the stage circuits <highlight><bold>112</bold></highlight>. When a transition is not detected by the front-end transition detection circuit <highlight><bold>135</bold></highlight> or the back-end transition detection circuit <highlight><bold>125</bold></highlight> for a predetermined period of time, the stage power control circuit <highlight><bold>130</bold></highlight> sequentially controls power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>to suppress power supplied to the stage circuits <highlight><bold>112</bold></highlight>. For example, stage power control circuit <highlight><bold>130</bold></highlight> sequentially opens switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>, starting from the front-end of the pipelined circuit <highlight><bold>110</bold></highlight> (i.e., at the stage circuit <highlight><bold>112</bold></highlight> where the data is first input to the pipelined circuit <highlight><bold>110</bold></highlight>). Each power switch P<highlight><subscript>N </subscript></highlight>may be opened at predetermined intervals to reduce the risk of causing an inductive spike that may result in the step-load effect. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates a timing diagram for a power shut-down procedure performed by the stage power control circuit <highlight><bold>130</bold></highlight>. For each clock cycle, the stage power control circuit <highlight><bold>130</bold></highlight> suppresses power, for example, by opening a power switch P<highlight><subscript>N </subscript></highlight>connected to a stage circuit <highlight><bold>112</bold></highlight>, starting from the front-end of the pipelined circuit <highlight><bold>110</bold></highlight>. For example, upon the detection of a shut-down command (e.g., a signal indicating that the predetermined period of time for transition detection circuits <highlight><bold>125</bold></highlight> and <highlight><bold>135</bold></highlight> to detect a transition has expired) in the first cycle T<highlight><subscript>0</subscript></highlight>, the stage power control circuit <highlight><bold>130</bold></highlight> generates a signal to open switch P<highlight><subscript>1 </subscript></highlight>at the time T<highlight><subscript>1</subscript></highlight>. Then, at the end of a second clock cycle T<highlight><subscript>2 </subscript></highlight>and a third clock cycle T<highlight><subscript>3</subscript></highlight>, the stage power control circuit generates signals to open switches P<highlight><subscript>2 </subscript></highlight>and P<highlight><subscript>3 </subscript></highlight>respectively. The switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>may sequentially be opened until the last switch P<highlight><subscript>N </subscript></highlight>is opened at T<highlight><subscript>N</subscript></highlight>. Then, the pipelined circuit <highlight><bold>110</bold></highlight> is in a sleep mode and consumes minimal power. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> When the front-end transition detection circuit <highlight><bold>135</bold></highlight> detects bus activity on the bus <highlight><bold>150</bold></highlight>, such as when new data is received by the pipelined circuit <highlight><bold>110</bold></highlight> on the bus <highlight><bold>150</bold></highlight>, the front-end transition detection circuit <highlight><bold>135</bold></highlight> transmits a wake-up signal to the stage power control circuit <highlight><bold>130</bold></highlight>. Then, the stage power control circuit <highlight><bold>110</bold></highlight> sequentially controls power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>to supply power to the stage circuits <highlight><bold>112</bold></highlight>. For example, stage power control circuit <highlight><bold>130</bold></highlight> sequentially closes switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>, starting from the front-end of the pipelined circuit <highlight><bold>110</bold></highlight> (i.e., at the stage circuit <highlight><bold>112</bold></highlight> where the data is first input to the pipelined circuit <highlight><bold>110</bold></highlight>). Each power switch P<highlight><subscript>N </subscript></highlight>may be closed at predetermined intervals. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a timing diagram for a power turn-on procedure performed by the stage power control circuit <highlight><bold>130</bold></highlight>. For each clock cycle, the power control stage circuit <highlight><bold>130</bold></highlight> controls a power switch P<highlight><subscript>N</subscript></highlight>, such that power is supplied to each stage circuit <highlight><bold>112</bold></highlight> starting from the front-end of the pipelined circuit <highlight><bold>110</bold></highlight>. For example, upon the detection of the front end bus transition in the first cycle C<highlight><subscript>0</subscript></highlight>, the stage power control circuit <highlight><bold>130</bold></highlight> generates a signal to close switch P<highlight><subscript>1 </subscript></highlight>at the time C<highlight><subscript>1</subscript></highlight>. Then, at the end of a second clock cycle C<highlight><subscript>2 </subscript></highlight>and a third clock cycle C<highlight><subscript>3</subscript></highlight>, the stage power control circuit <highlight><bold>130</bold></highlight> generates signals to close switches P<highlight><subscript>2 </subscript></highlight>and P<highlight><subscript>3 </subscript></highlight>respectively. The switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>may sequentially be closed until the last switch P<highlight><subscript>N </subscript></highlight>is closed at C<highlight><subscript>N</subscript></highlight>. Then, the pipelined circuit <highlight><bold>110</bold></highlight> is operable to perform data computations at each stage circuit <highlight><bold>112</bold></highlight>. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> In one embodiment, the circuit <highlight><bold>100</bold></highlight> may optionally include a buffer circuit <highlight><bold>140</bold></highlight>. Because the transition detection circuits <highlight><bold>125</bold></highlight> and <highlight><bold>135</bold></highlight> and the stage control circuit <highlight><bold>130</bold></highlight> take time to respond to detected transitions, it may be necessary to insert the buffer circuit <highlight><bold>140</bold></highlight> in the front end of the pipelined circuit <highlight><bold>110</bold></highlight> to buffer the incoming data. In another embodiment, the buffer circuit <highlight><bold>140</bold></highlight> is not used in the circuit <highlight><bold>100</bold></highlight> when the latency of data moving through the pipeline circuit <highlight><bold>110</bold></highlight> becomes critical. In this case, the first stage circuit (i.e., the stage circuit <highlight><bold>112</bold></highlight> at the front-end of the pipelined circuit <highlight><bold>110</bold></highlight>) may continually receive power and not include a power switch P<highlight><subscript>1</subscript></highlight>, and the front-end transition detection circuit <highlight><bold>135</bold></highlight> may receive a signal input to the first stage circuit. Then, the first stage circuit serves as a buffer for the pipelined circuit <highlight><bold>110</bold></highlight>. This trade-off between power consumption and speed may be determined by the system requirements. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates an exemplary embodiment of the stage power control circuit <highlight><bold>130</bold></highlight>, shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The stage power control circuit <highlight><bold>130</bold></highlight> includes a wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight>, a wake-up step sequencer <highlight><bold>420</bold></highlight>, a shut-down step sequencer <highlight><bold>430</bold></highlight> and a programmable timing interval counter <highlight><bold>440</bold></highlight>. The programmable timing interval counter <highlight><bold>440</bold></highlight> includes a timer for measuring a predetermined period of time before the pipelined circuit <highlight><bold>110</bold></highlight> may be placed in sleep mode. The back-end transition detection circuit <highlight><bold>125</bold></highlight>, shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, transmits a signal to the reset input of the programmable timing interval counter <highlight><bold>440</bold></highlight> when a transition is detected. This causes the programmable timing interval counter <highlight><bold>440</bold></highlight> to restart the timer. If the programmable timing interval counter <highlight><bold>440</bold></highlight> is not reset by the back-end transition detection circuit <highlight><bold>125</bold></highlight> prior to expiration of the timer (i.e., the back-end transition detection circuit <highlight><bold>125</bold></highlight> does not detect a transition within the predetermined period of time), the programmable timing interval counter <highlight><bold>440</bold></highlight> transmits a shut-down signal to the shut-down step sequencer <highlight><bold>430</bold></highlight>. Then, the shut-down step sequencer <highlight><bold>430</bold></highlight> transmits a signal to the wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight>, and the wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight> sequentially generates signals for opening switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>. The front-end transition detection circuit <highlight><bold>135</bold></highlight> may output a signal to the reset input of the programmable timing interval counter <highlight><bold>440</bold></highlight>, similarly to the transmission signal of the back-end transition detection circuit <highlight><bold>125</bold></highlight>, when a transition is detected to reset the counter. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The wake-up step sequencer <highlight><bold>420</bold></highlight> receives a signal from the front-end detection circuit <highlight><bold>135</bold></highlight> when the front-end detection circuit <highlight><bold>135</bold></highlight> detects a transition. Then, the wake-up step sequencer transmits a signal to the wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight>, causing the wakeup/shut-down arbitration circuit <highlight><bold>410</bold></highlight> to sequentially generate signals for closing switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight> may include a multiplexer (not shown) for selecting wake-up/shut-down sequential signals to control each of switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>and an arbitrator (not shown) for determining which sequence(wake up or shut down) should take precedence in case of conflict. For example, a wake-up procedure typically takes precedence over a shut-down procedure. However, in order not to aggravate the step load effect, the stage power control circuit <highlight><bold>130</bold></highlight> may allow the shut-down procedure to temporarily progress while the wake-up procedure is gradually implemented. Also, the programming timing interval counter <highlight><bold>440</bold></highlight> may include a conventional timer, and the length of the predetermined period of time may be readily determined by one of ordinary skill in the art according to the configuration of the circuit <highlight><bold>100</bold></highlight> and other known factors. The length of the predetermined period of time may also be dictated by system requirements. The step sequencer circuits <highlight><bold>420</bold></highlight> and <highlight><bold>430</bold></highlight> are conventional circuits that may include shift registers and buffers. It will be apparent to one of ordinary skill in the art that the circuits <highlight><bold>410</bold></highlight>-<highlight><bold>440</bold></highlight> may be constructed from known circuits. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(<highlight><italic>a</italic></highlight>) illustrates an exemplary embodiment of the stage power control circuit <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. The wake-up/shut-down arbitration circuit <highlight><bold>410</bold></highlight>, the wake-up step sequencer <highlight><bold>420</bold></highlight>, and the shut-down step sequencer <highlight><bold>430</bold></highlight> may be implemented by an up/down sequencer <highlight><bold>510</bold></highlight>, gates <highlight><bold>520</bold></highlight> for driving power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>, a multiplexer <highlight><bold>530</bold></highlight> and a shift enable gate <highlight><bold>540</bold></highlight>. The up/down sequencer <highlight><bold>510</bold></highlight> may include an N-bit shift register. The up/down sequencer <highlight><bold>510</bold></highlight> is connected to the multiplexer <highlight><bold>530</bold></highlight> and the gate <highlight><bold>540</bold></highlight> for controlling shifting in the up/down sequencer <highlight><bold>510</bold></highlight>. The gate <highlight><bold>540</bold></highlight> may output a shift enable signal to facilitate shifting the contents of the registers in the up/down sequencer <highlight><bold>510</bold></highlight>. A gate <highlight><bold>550</bold></highlight> is connected to the programmable timing interval counter <highlight><bold>440</bold></highlight> for controlling the reset input for the counter <highlight><bold>440</bold></highlight>, and a latch <highlight><bold>560</bold></highlight> converts a transition detection pulse to a step signal transmitted to the gate <highlight><bold>540</bold></highlight>. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The up/down sequencer <highlight><bold>510</bold></highlight> stores the status of switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>. The multiplexer <highlight><bold>530</bold></highlight> selects a &ldquo;1&rdquo; (up) or a &ldquo;0&rdquo; (down) to be shifted into the up/down sequencer <highlight><bold>510</bold></highlight> based on a signal from the programmable timing interval counter <highlight><bold>440</bold></highlight>. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> As further illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(<highlight><italic>a</italic></highlight>), when the front-end or back-end transition detection circuits <highlight><bold>135</bold></highlight> and <highlight><bold>125</bold></highlight> detect activity (e.g., during an active power mode), &ldquo;1&apos;s&rdquo; are sequentially shifted into the up/down sequencer <highlight><bold>510</bold></highlight> to turn on the power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>. For example, the programmable timing interval counter <highlight><bold>440</bold></highlight> transmits a wake-up select signal to the multiplexer <highlight><bold>530</bold></highlight>, and the multiplexer selects &ldquo;1&apos;s&rdquo; for transmission to the up/down sequencer <highlight><bold>510</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> As illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(<highlight><italic>b</italic></highlight>), &ldquo;0&apos;s&rdquo; are shifted into the up/down sequencer <highlight><bold>510</bold></highlight> during a shut-down procedure, such as after a predetermined period of time has expired without a bus transition being detected since the programmable timing interval counter <highlight><bold>440</bold></highlight> has been reset. For example, the programmable timing interval counter <highlight><bold>440</bold></highlight> outputs a shut-down select signal to the multiplexer <highlight><bold>530</bold></highlight>, and the multiplexer <highlight><bold>530</bold></highlight> selects &ldquo;0&apos;s&rdquo; for transmission to the up/down sequencer <highlight><bold>510</bold></highlight>. When a &ldquo;0&rdquo; is shifted into a register in the up/down sequencer <highlight><bold>510</bold></highlight>, a corresponding gate <highlight><bold>520</bold></highlight> drives the corresponding power switch PN closed. If the programmable timing interval counter <highlight><bold>440</bold></highlight> is not reset, all the power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>will be sequentially closed. Then, the pipeline circuit <highlight><bold>110</bold></highlight> is in a power saving mode (i.e., a sleep mode). </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> If the front-end transition detection circuit <highlight><bold>135</bold></highlight> then detects activity, the wake-up procedure begins, as illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(<highlight><italic>c</italic></highlight>). Then, &ldquo;1&apos;s&rdquo; are shifted into the up/down sequencer <highlight><bold>510</bold></highlight>, causing the switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>to be sequentially opened. The wake-up procedure may begin prior to all the power switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>being closed. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> It will be apparent to one of ordinary skill in the art that the circuit <highlight><bold>100</bold></highlight> may be configured to conform with certain system specifications in power management, such as the advanced configuration and power interface specification (ACPI). Also, the circuit <highlight><bold>100</bold></highlight> may be used as a standalone circuit or integrated in another circuit, such as a power management unit of a chip. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> illustrates a method <highlight><bold>600</bold></highlight> for minimizing power consumption for the pipelined circuit <highlight><bold>110</bold></highlight>. In step <highlight><bold>610</bold></highlight>, the stage power control unit <highlight><bold>130</bold></highlight> determines whether no transition has been detected by either the front-end or back-end transition detection circuits <highlight><bold>135</bold></highlight> and <highlight><bold>125</bold></highlight> has at the input or output of the pipelined circuit <highlight><bold>110</bold></highlight> prior to the expiration of a predetermined period of time (e.g. 100 clock cycles). It will be apparent to one of ordinary skill in the art that the predetermined period of time may vary according to the configuration of the circuit <highlight><bold>100</bold></highlight> and other known factors. The length of the predetermined period of time may also be dictated by the system requirements. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> In step <highlight><bold>615</bold></highlight>, if no transition was detected prior to the expiration of the predetermined period of time, the stage power control circuit performs a sequential shut-down procedure. This procedure may include sequentially opening switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>, such as opening one switch every clock cycle starting from P<highlight><subscript>1</subscript></highlight>. Thus, power for each stage circuit <highlight><bold>112</bold></highlight> is suppressed, and the power consumption is minimized. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> If a transition was detected in step <highlight><bold>610</bold></highlight>, prior to the expiration of the predetermined period of time, then the stage power control circuit <highlight><bold>130</bold></highlight> continues active mode operation until the predetermined period of time has expired. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> In step <highlight><bold>620</bold></highlight>, the stage power control circuit <highlight><bold>130</bold></highlight> determines whether a transition is detected at the input of the pipelined circuit <highlight><bold>110</bold></highlight> by the front-end transition detection circuit <highlight><bold>135</bold></highlight>. If a transition is detected, the stage power control circuit <highlight><bold>130</bold></highlight> performs a sequential turn-on procedure (step <highlight><bold>625</bold></highlight>). This procedure may include sequentially closing switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N</subscript></highlight>, such as closing one switch every clock cycle starting at P<highlight><subscript>1</subscript></highlight>. If all the switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>were not opened prior to the front-end transition detection circuit <highlight><bold>135</bold></highlight> detecting a transition (e.g., during the sequential shut down procedure performed in the step <highlight><bold>615</bold></highlight>), then the stage power control circuit <highlight><bold>130</bold></highlight> could close those switches that were opened or wait until all the switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>close and let wake-up signals open switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>gradually. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> If a transition is not detected in step <highlight><bold>620</bold></highlight>, the stage power control circuit <highlight><bold>130</bold></highlight> continues to open the switches P<highlight><subscript>1</subscript></highlight>-P<highlight><subscript>N </subscript></highlight>(step <highlight><bold>615</bold></highlight>). For example, one switch may be opened after each clock cycle until all the switches are opened or until the front-end transition detection circuit <highlight><bold>135</bold></highlight> detects a transition. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The method <highlight><bold>600</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> and described above may generally be performed by the stage power control circuit <highlight><bold>130</bold></highlight>. The steps in the method <highlight><bold>600</bold></highlight> can also be performed by a computer program executed by a processor, instead of the stage power control circuit <highlight><bold>110</bold></highlight>. The computer program can exist in a variety of forms both active and inactive. For example, the computer program can exist as software comprised of program instructions or statements in source code, object code, executable code or other formats; firmware program(s); or hardware description language (HDL) files. Any of the above can be embodied on a computer readable medium, which include storage devices and signals, in compressed or uncompressed form. Exemplary computer readable storage devices include conventional computer system RAM (random access memory), ROM (read only memory), EPROM (erasable, programmable ROM), EEPROM (electrically erasable, programmable ROM), and magnetic or optical disks or tapes. Exemplary computer readable signals, whether modulated using a carrier or not, are signals that a computer system hosting or running the computer program can be configured to access, including signals downloaded through the Internet or other networks. Concrete examples of the foregoing include distribution of executable software program(s) of the computer program on a CD ROM or via Internet download. In a sense, the Internet itself, as an abstract entity, is a computer readable medium. The same is true of computer networks in general. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> While this invention has been described in conjunction with the specific embodiments thereof, it is evident that many alternatives, modifications and variations will be apparent to those skilled in the art. There are changes that may be made without departing from the spirit and scope of the invention. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for minimizing power consumption by a circuit, the method comprising steps of: 
<claim-text>determining whether a predetermined period of time has expired, said predetermined period of time being associated with a predetermined period of time to detect a transition of an input or an output of a pipelined circuit; and </claim-text>
<claim-text>performing a shut-down procedure on said pipelined circuit in response to said predetermined period of time expiring. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising a step of detecting a transition at an input of said pipelined circuit. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, further comprising a step of performing a turn-on procedure on said pipelined circuit in response to detecting said transition at said input. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said pipelined circuit includes a plurality of stage circuits and said shut-down procedure comprises a step of sequentially suppressing power to each of said plurality of stage circuits starting from a first stage circuit of said plurality of stage circuits, said first stage circuit being connected to an input of said pipelined circuit. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein said shut-down procedure is performed over multiple clock cycles, and said step of sequentially suppressing power further comprises suppressing power to one of said plurality of stage circuits after each of said multiple clock cycles. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein said turn-on procedure further comprises a step of sequentially providing power to each of said stage circuits starting from said first stage circuit. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein said turn-on procedure is performed over multiple clock cycles, and said step of sequentially providing power further comprises providing power to one of said plurality of stage circuits after each of said multiple clock cycles. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A circuit operable to minimize power consumption by a pipelined circuit, said circuit comprising: 
<claim-text>a first transition detection circuit detecting transition of a first signal input to said pipelined circuit; </claim-text>
<claim-text>a second transition detection circuit detecting transition of a second signal output by said pipelined circuit; and </claim-text>
<claim-text>a stage control circuit connected to said first and said second transition detection circuits; said stage control circuit controlling said power consumption of said pipelined circuit based on a signal received from either said first transition detection circuit or said second transition detection circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein said stage control circuit includes a timer measuring a predetermined period of time, and said stage control circuit is operable to suppress power to said pipelined circuit in response to said predetermined period of time expiring. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein said stage control circuit is operable to suppress power to said pipelined circuit over multiple clock cycles, and power is suppressed to one of said plurality of stage circuits after each of said multiple clock cycles. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein said stage control circuit is operable to reset said timer in response to receiving a signal from either said first transition detection circuit or said second transition detection circuit. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein said stage control circuit is operable to provide power to said pipelined circuit in response to resetting said timer. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, wherein said stage control circuit is operable to sequentially provide power to one or more of said plurality of stage circuits starting from said first stage circuit. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein said stage control circuit is operable to provide power to said pipelined circuit over multiple clock cycles, and power is provided to one of said plurality of stage circuits after each of said multiple clock cycles. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference>, further comprising a buffer circuit connected to an input of said pipelined circuit, said buffer being operable to store data for at least one clock cycle. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A circuit connected to a pipelined circuit and operable to control power provided to said pipelined circuit, said circuit comprising: 
<claim-text>an up/down sequencer operable to perform a shut-down procedure or a turn-on procedure to control power applied to a plurality of stage circuits in said pipelined circuit; and </claim-text>
<claim-text>at least one transition detection circuit detecting activity on a bus connected to said pipelined circuit, and said up/down sequencer performing said turn-on procedure in response to said at least one transition detection circuit detecting activity on said bus; and </claim-text>
<claim-text>a timer, wherein said up/down sequencer performing said shut-down procedure in response to said timer expiring. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein said circuit further comprises a multiplexer connected to said timer, said at least one transition detection circuit and said up/down sequencer, whereby said multiplexer transmits a turn-on signal to said up/down sequencer in response to said at least one transition detection circuit detecting activity on said bus, and said multiplexer transmits a shutdown signal to said up/down sequencer in response to said timer expiring. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein said shut-down procedure sequentially suppresses power supplied to said plurality of stage circuits. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said turn-on procedure sequentially supplies power to said plurality of stage circuits. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, wherein said at least one transition detection circuit comprises one or more of a front-end transition detection circuit operable to detect activity on a bus connected to a front-end of said pipelined circuit and a back-end transition detection circuit operable to detect activity on a bus connected to an output of said pipelined circuit.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030005340A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030005340A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030005340A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030005340A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030005340A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030005340A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030005340A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030005340A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030005340A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
