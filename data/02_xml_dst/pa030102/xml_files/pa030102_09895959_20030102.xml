<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001551A1-20030102-D00000.TIF SYSTEM "US20030001551A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001551A1-20030102-D00001.TIF SYSTEM "US20030001551A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001551A1-20030102-D00002.TIF SYSTEM "US20030001551A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001551A1-20030102-D00003.TIF SYSTEM "US20030001551A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001551A1-20030102-D00004.TIF SYSTEM "US20030001551A1-20030102-D00004.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001551</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09895959</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010628</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G05F001/40</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>323</class>
<subclass>284000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>System and method for dynamically regulating a step down power supply</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>David</given-name>
<middle-name>G.</middle-name>
<family-name>Daniels</family-name>
</name>
<residence>
<residence-us>
<city>Dallas</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Dale</given-name>
<middle-name>J.</middle-name>
<family-name>Skelton</family-name>
</name>
<residence>
<residence-us>
<city>Plano</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Ayesha</given-name>
<middle-name>I.</middle-name>
<family-name>Mayhugh</family-name>
</name>
<residence>
<residence-us>
<city>Richardson</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>David</given-name>
<middle-name>A.</middle-name>
<family-name>Grant</family-name>
</name>
<residence>
<residence-us>
<city>Dallas</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>Texas Instruments Incorporated</organization-name>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>TEXAS INSTRUMENTS INCORPORATED</name-1>
<name-2></name-2>
<address>
<address-1>P O BOX 655474, M/S 3999</address-1>
<city>DALLAS</city>
<state>TX</state>
<postalcode>75265</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A low gain feedback compensation circuit is provided on an integrated circuit. The feedback compensation circuit is coupled to a step down power supply on the integrated circuit. The step down power supply is operable to receive an input voltage and to generate an output voltage based on the input voltage. The feedback compensation circuit includes a line regulation circuit. The line regulation circuit is operable to receive the input voltage and a reference voltage. The line regulation circuit is also operable to generate an offset voltage based on the input voltage and the reference voltage. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This invention relates generally to the field of semiconductor devices and more particularly to a system and method for dynamically regulating a step down power supply. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Modern electronic equipment such as televisions, telephones, radios and computers are generally constructed of solid state devices. Integrated circuits are preferred in electronic equipment because they are extremely small and relatively inexpensive. Additionally, integrated circuits are very reliable because they have no moving parts but are based on the movement of charge carriers. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Integrated circuits may include transistors, capacitors, resistors and other semiconductor devices. Typically, such devices are fabricated on a substrate and interconnected to form power supplies, memory arrays, logic structures, timers and other components of an integrated circuit. One type of power supply is a step down power supply which is operable to receive an input voltage and step down the input voltage to a specified output voltage. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Conventional step down power supplies include high gain, such as 60 to 80 dB, feedback compensation. High gain feedback compensation generally provides good line regulation and initial accuracy for the step down power supply. However, high gain feedback compensation typically uses up to seven feedback components, including resistors and capacitors. The capacitors may be too large for integration into the step down power supply. Thus, typical step down power supplies using high gain feedback compensation have the feedback components external to the step down integrated circuit. In addition, the transient response associated with high gain feedback compensation is limited due to the dominant pole in the feedback network. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Low gain, such as less than 40 dB, feedback compensation may be used to reduce the number of feedback components, which may also allow integration into the step down integrated circuit. Also, the transient response is not limited by a pole for a typical low gain feedback compensation. However, poor line regulation generally results from low gain feedback compensation for a step down power supply. Furthermore, typical step down power supplies with low gain feedback compensation have initial accuracy errors and burden the designer with solving this problem by having the customer select the resistor values to correct the errors. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> In accordance with the present invention, a system and method for dynamically regulating a step down power supply are provided that substantially eliminate or reduce disadvantages and problems associated with previously developed systems and methods. In a particular embodiment, low gain feedback compensation is provided in a step down power supply with initial accuracy errors minimized and with relatively good line regulation, which is accomplished by introducing an offset voltage. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> According to one embodiment of the present invention, a low gain feedback compensation circuit is provided on an integrated circuit. The feedback compensation circuit is coupled to a step down power supply on the integrated circuit. The step down power supply is operable to receive an input voltage and to generate an output voltage based on the input voltage. The feedback compensation circuit includes a line regulation circuit. The line regulation circuit is operable to receive the input voltage and a reference voltage. The line regulation circuit is also operable to generate an offset voltage based on the input voltage and the reference voltage. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> According to another embodiment of the present invention, a method for dynamically regulating an output voltage for a step down power supply is provided. The method includes providing a reference voltage to an error amplifier for a low gain feedback compensation circuit. The feedback compensation circuit includes a line regulation circuit. The reference voltage is received at the line regulation circuit. A first input voltage is received at the line regulation circuit. A first offset voltage is provided to the error amplifier based on the first input voltage and the reference voltage. A second input voltage is received at the line regulation circuit. The second input voltage is different from the first input voltage. A second offset voltage is provided to the error amplifier based on the second input voltage and the reference voltage. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Technical advantages of one or more embodiments of the present invention include providing an improved system for dynamically regulating a step down power supply. In a particular embodiment, a current source provides an offset voltage that is a function of the input voltage and the desired output voltage. As a result, the line regulation is improved and initial accuracy errors are minimized. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Other technical advantages of one or more embodiments of the present invention include integrating a feedback compensation circuit that includes a line regulation circuit into a step down integrated circuit. Accordingly, available die area is increased. In addition, the number of components and the output voltage error due to line voltage changes are minimized. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Technical advantages of one or more embodiments of the present invention also include providing a feedback compensation circuit that has only resistors. As a result, capacitors for the feedback compensation circuit do not need to be integrated into the step down integrated circuit. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Other technical advantages will be readily apparent to one skilled in the art from the following figures, descriptions and claims. </paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> For a more complete understanding of the present invention and its advantages is now made to the following description taken in conjunction with the accompanying drawings, wherein like numerals represent like parts, in which: </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram illustrating a step down integrated circuit in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2A</cross-reference> is a schematic diagram illustrating the feedback compensation circuit of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2B</cross-reference> is a schematic diagram illustrating the feedback compensation circuit of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with an alternative embodiment of the present invention; </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a graph illustrating a duty cycle for the pulse width modulation comparator of <cross-reference target="DRAWINGS">FIGS. 2A</cross-reference> or <highlight><bold>2</bold></highlight>B in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4A</cross-reference> is a schematic diagram illustrating the feedback compensation circuit and the line regulation circuit of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4B</cross-reference> is a flow diagram illustrating a method for configuring the line regulation circuit of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> to dynamically regulate the step down power supply of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4C</cross-reference> is a flow diagram illustrating a method for dynamically regulating the step down power supply of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with one embodiment of the present invention; and </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a schematic diagram illustrating details of the step down integrated circuit of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in accordance with one embodiment of the present invention. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram illustrating a step down integrated circuit <highlight><bold>10</bold></highlight> in accordance with one embodiment of the present invention. The integrated circuit <highlight><bold>10</bold></highlight> may be used as a power supply that is operable to provide a relatively constant voltage to applications such as digital signal processors, field-programmable gate arrays, application-specific integrated circuits, microprocessors and other suitable applications. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The integrated circuit <highlight><bold>10</bold></highlight> comprises a step down power supply <highlight><bold>12</bold></highlight> and a feedback compensation circuit <highlight><bold>14</bold></highlight> formed on an integrated circuit. The step down power supply <highlight><bold>12</bold></highlight> is operable to step down an input voltage <highlight><bold>18</bold></highlight> to a lower output voltage <highlight><bold>20</bold></highlight>. For example, the step down power supply <highlight><bold>12</bold></highlight> may receive an input voltage <highlight><bold>18</bold></highlight> of approximately 5.0 volts and may generate an output voltage <highlight><bold>20</bold></highlight> of approximately 3.3 volts. It will be understood, however, that any suitable input voltages <highlight><bold>18</bold></highlight> may be received and output voltages <highlight><bold>20</bold></highlight> may be generated without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The feedback compensation circuit <highlight><bold>14</bold></highlight> is operable to provide feedback from the output voltage <highlight><bold>20</bold></highlight> to the step down power supply <highlight><bold>12</bold></highlight>. In addition, the feedback compensation circuit <highlight><bold>14</bold></highlight> comprises a line regulation circuit <highlight><bold>22</bold></highlight> that is operable to regulate the output voltage <highlight><bold>20</bold></highlight> based on the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The feedback compensation circuit <highlight><bold>14</bold></highlight> comprises a low gain feedback compensation circuit. As used herein, &ldquo;low gain&rdquo; means a gain of less than approximately 40 dB. According to one embodiment, the characteristics of an output filter (not shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>) that includes an inductor and a capacitor may be used to stabilize the step down integrated circuit <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> In operation, the step down power supply <highlight><bold>12</bold></highlight> receives the input voltage <highlight><bold>18</bold></highlight> and generates an output voltage <highlight><bold>20</bold></highlight> based on the input voltage <highlight><bold>18</bold></highlight>. The level of the output voltage <highlight><bold>20</bold></highlight> may be a function of a duty cycle for the step down power supply <highlight><bold>12</bold></highlight>, which provides the input voltage <highlight><bold>18</bold></highlight> for a specified period of time during each cycle and which provides a ground voltage for the remainder of each cycle. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The feedback compensation circuit <highlight><bold>14</bold></highlight> receives both the input voltage <highlight><bold>18</bold></highlight> and the output voltage <highlight><bold>20</bold></highlight>. Based on the input voltage <highlight><bold>18</bold></highlight>, the line regulation circuit <highlight><bold>22</bold></highlight> determines an offset voltage to be applied in addition to a reference voltage provided by the feedback compensation circuit <highlight><bold>14</bold></highlight>. The line regulation circuit <highlight><bold>22</bold></highlight> then generates the offset voltage within the feedback compensation circuit <highlight><bold>14</bold></highlight> such that an error voltage <highlight><bold>24</bold></highlight> provided to the step down power supply <highlight><bold>12</bold></highlight> results in the regulation of the output voltage <highlight><bold>20</bold></highlight> to the appropriate level. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> In this way, the line regulation circuit <highlight><bold>22</bold></highlight> may generate an offset voltage that dynamically changes based on the input voltage <highlight><bold>18</bold></highlight>, resulting in the minimization of initial accuracy errors and line regulation errors. In addition, the feedback compensation circuit <highlight><bold>14</bold></highlight> including the line regulation circuit <highlight><bold>22</bold></highlight> may be integrated with the step down power supply <highlight><bold>12</bold></highlight> onto the step down integrated circuit <highlight><bold>10</bold></highlight>, providing increased die area for other components. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2A</cross-reference> is a schematic diagram illustrating the feedback compensation circuit <highlight><bold>14</bold></highlight> in accordance with one embodiment of the present invention. The feedback compensation circuit <highlight><bold>14</bold></highlight> comprises an error amplifier <highlight><bold>40</bold></highlight>, a reference voltage <highlight><bold>44</bold></highlight>, a plurality of resistors <highlight><bold>50</bold></highlight>, and the line regulation circuit <highlight><bold>22</bold></highlight>. It will be understood that additional components, such as capacitors, may be included in the feedback compensation circuit <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> In accordance with the illustrated embodiment, the line regulation circuit <highlight><bold>22</bold></highlight> comprises a current source. It will be understood, however, that the line regulation circuit <highlight><bold>22</bold></highlight> may be otherwise suitably implemented without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> The reference voltage <highlight><bold>44</bold></highlight> is coupled to the non-inverting node of the error amplifier <highlight><bold>40</bold></highlight>. An input resistor <highlight><bold>50</bold></highlight><highlight><italic>a </italic></highlight>couples the output voltage <highlight><bold>20</bold></highlight> to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. A feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>b </italic></highlight>couples the output of the error amplifier <highlight><bold>40</bold></highlight>, which is the error voltage <highlight><bold>24</bold></highlight>, to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. The line regulation circuit <highlight><bold>22</bold></highlight> couples the input voltage <highlight><bold>18</bold></highlight> to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> In the illustrated embodiment, the error voltage <highlight><bold>24</bold></highlight> is coupled to the non-inverting node of a pulse width modulation (PWM) comparator <highlight><bold>64</bold></highlight>, which is part of the step down power supply <highlight><bold>12</bold></highlight>. An oscillator <highlight><bold>66</bold></highlight>, which is also part of the step down power supply <highlight><bold>12</bold></highlight>, is coupled to the inverting node of the PWM comparator <highlight><bold>64</bold></highlight>. Thus, the error voltage <highlight><bold>24</bold></highlight> and the oscillator <highlight><bold>66</bold></highlight>, in conjunction with a duty cycle for the PWM comparator <highlight><bold>64</bold></highlight>, determine the output for the PWM comparator <highlight><bold>64</bold></highlight>. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> According to one embodiment, the oscillator <highlight><bold>66</bold></highlight> may have an oscillator frequency of approximately 270 to 700 kHz. In a particular embodiment, the oscillator frequency is approximately 350 kHz. In another particular embodiment, the oscillator frequency is approximately 550 kHz. However, it will be understood that the oscillator frequency may comprise any suitable frequency without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> In accordance with one embodiment of the present invention, the feedback compensation circuit <highlight><bold>14</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2A</cross-reference> is operable to regulate a corresponding step down power supply <highlight><bold>12</bold></highlight> that is generating an output voltage <highlight><bold>20</bold></highlight> of less than approximately 1.8 volts. In a particular embodiment, the illustrated feedback compensation circuit <highlight><bold>14</bold></highlight> is operable to regulate a corresponding step down power supply <highlight><bold>12</bold></highlight> that is generating an output voltage <highlight><bold>20</bold></highlight> of approximately 0.9, 1.2 or 1.5 volts. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> The reference voltage <highlight><bold>44</bold></highlight> may be operable to provide to the error amplifier <highlight><bold>40</bold></highlight> a reference voltage of approximately the same voltage as the output voltage <highlight><bold>20</bold></highlight>. In addition, the resistors <highlight><bold>50</bold></highlight> may comprise a 2 k&OHgr; input resistor <highlight><bold>50</bold></highlight><highlight><italic>a </italic></highlight>and a 40 k&OHgr; feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>b</italic></highlight>. For this embodiment, the feedback compensation circuit <highlight><bold>14</bold></highlight> may comprise a gain of approximately 26 dB. It will be understood, however, that any suitable values may be used for the resistors <highlight><bold>50</bold></highlight> and any suitable low gain may be provided by the feedback compensation circuit <highlight><bold>14</bold></highlight> without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> In operation, the line regulation circuit <highlight><bold>22</bold></highlight> receives the input voltage <highlight><bold>18</bold></highlight>. Based on the input voltage <highlight><bold>18</bold></highlight>, the line regulation circuit <highlight><bold>22</bold></highlight> provides an offset voltage to the error amplifier <highlight><bold>40</bold></highlight> by generating a specified current. Thus, if the input voltage <highlight><bold>18</bold></highlight> subsequently changes, the line regulation circuit <highlight><bold>22</bold></highlight> generates a different current, which provides a different offset voltage to the error amplifier <highlight><bold>40</bold></highlight>. The new offset voltage allows the same output voltage <highlight><bold>20</bold></highlight> to be generated by the step down power supply <highlight><bold>12</bold></highlight> regardless of a change in the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> For the illustrated embodiment, only two resistors <highlight><bold>50</bold></highlight> and no capacitors are included in the feedback compensation circuit <highlight><bold>14</bold></highlight>. In this way, the feedback compensation circuit <highlight><bold>14</bold></highlight> may be integrated onto the step down integrated circuit <highlight><bold>10</bold></highlight> relatively easily, while initial accuracy errors and line regulation errors are minimized by the offset voltage provided through the line regulation circuit <highlight><bold>22</bold></highlight>. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2B</cross-reference> is a schematic diagram illustrating the line regulation circuit <highlight><bold>14</bold></highlight> in accordance with an alternative embodiment of the present invention. The line regulation circuit <highlight><bold>14</bold></highlight> comprises an error amplifier <highlight><bold>40</bold></highlight>, a reference voltage <highlight><bold>44</bold></highlight>, a plurality of resistors <highlight><bold>50</bold></highlight>, and the line regulation circuit <highlight><bold>22</bold></highlight>. It will be understood that additional components, such as capacitors, may be included in the feedback compensation circuit <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> In accordance with the illustrated embodiment, the line regulation circuit <highlight><bold>22</bold></highlight> comprises a current source. It will be understood, however, that the line regulation circuit <highlight><bold>22</bold></highlight> may be otherwise suitably implemented without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> The reference voltage <highlight><bold>44</bold></highlight> is coupled to the non-inverting node of the error amplifier <highlight><bold>40</bold></highlight>. A first input resistor <highlight><bold>50</bold></highlight><highlight><italic>c </italic></highlight>couples the output voltage <highlight><bold>20</bold></highlight> to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. A feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>d </italic></highlight>couples the output of the error amplifier <highlight><bold>40</bold></highlight>, which is the error voltage <highlight><bold>24</bold></highlight>, to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. A second input resistor <highlight><bold>50</bold></highlight><highlight><italic>e </italic></highlight>couples ground <highlight><bold>68</bold></highlight> to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. The line regulation circuit <highlight><bold>22</bold></highlight> couples the input voltage <highlight><bold>18</bold></highlight> to the inverting node of the error amplifier <highlight><bold>40</bold></highlight>. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> According to one embodiment, the ground <highlight><bold>68</bold></highlight> comprises a potential of approximately 0.0 volts. However, it will be understood that the ground <highlight><bold>68</bold></highlight> may comprise any suitable potential that is less than potential of the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> In the illustrated embodiment, the error voltage <highlight><bold>24</bold></highlight> is coupled to the non-inverting node of a PWM comparator <highlight><bold>64</bold></highlight>, which is part of the step down power supply <highlight><bold>12</bold></highlight>. An oscillator <highlight><bold>66</bold></highlight>, which is also part of the step down power supply <highlight><bold>12</bold></highlight>, is coupled to the inverting node of the PWM comparator <highlight><bold>64</bold></highlight>. Thus, the error voltage <highlight><bold>24</bold></highlight> and the oscillator <highlight><bold>66</bold></highlight>, in conjunction with a duty cycle for the PWM comparator <highlight><bold>64</bold></highlight>, determine the output for the PWM comparator <highlight><bold>64</bold></highlight>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> According to one embodiment, the oscillator <highlight><bold>66</bold></highlight> may have an oscillator frequency of approximately 270 to 700 kHz. In a particular embodiment, the oscillator frequency is approximately 350 kHz. In another particular embodiment, the oscillator frequency is approximately 550 kHz. However, it will be understood that the oscillator frequency may comprise any suitable frequency without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In accordance with one embodiment of the present invention, the feedback compensation circuit <highlight><bold>14</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2A</cross-reference> is operable to regulate a corresponding step down power supply <highlight><bold>12</bold></highlight> that is generating an output voltage <highlight><bold>20</bold></highlight> of more than approximately 1.5 volts. In a particular embodiment, the illustrated feedback compensation circuit <highlight><bold>14</bold></highlight> is operable to regulate a corresponding step down power supply <highlight><bold>12</bold></highlight> that is generating an output voltage <highlight><bold>20</bold></highlight> of approximately 1.8, 2.5 or 3.3 volts. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The reference voltage <highlight><bold>44</bold></highlight> may be operable to provide to the error amplifier <highlight><bold>40</bold></highlight> a reference voltage of approximately 50% of the output voltage <highlight><bold>20</bold></highlight>. For this embodiment, the input resistors <highlight><bold>50</bold></highlight><highlight><italic>c </italic></highlight>and <highlight><bold>50</bold></highlight><highlight><italic>e </italic></highlight>may comprise approximately the same resistance. In one embodiment, the resistors <highlight><bold>50</bold></highlight> may comprise a 2 k&OHgr; first input resistor <highlight><bold>50</bold></highlight><highlight><italic>c</italic></highlight>, a 2 k&OHgr; second input resistor <highlight><bold>50</bold></highlight><highlight><italic>e</italic></highlight>, and a 40 k&OHgr; feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>d</italic></highlight>. For this embodiment, the feedback compensation circuit <highlight><bold>14</bold></highlight> may comprise a gain of approximately 26 dB. It will be understood, however, that any suitable values may be used for the resistors <highlight><bold>50</bold></highlight> and any suitable low gain may be provided by the feedback compensation circuit <highlight><bold>14</bold></highlight> without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In operation, the line regulation circuit <highlight><bold>22</bold></highlight> receives the input voltage <highlight><bold>18</bold></highlight>. Based on the input voltage <highlight><bold>18</bold></highlight>, the line regulation circuit <highlight><bold>22</bold></highlight> provides an offset voltage to the error amplifier <highlight><bold>40</bold></highlight> by generating a specified current. Thus, if the input voltage <highlight><bold>18</bold></highlight> subsequently changes, the line regulation circuit <highlight><bold>22</bold></highlight> generates a different current, which provides a different offset voltage to the error amplifier <highlight><bold>40</bold></highlight>. The new offset voltage allows the same output voltage <highlight><bold>20</bold></highlight> to be generated by the step down power supply <highlight><bold>12</bold></highlight> regardless of a change in the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> For the illustrated embodiment, only three resistors <highlight><bold>50</bold></highlight> and no capacitors are included in the feedback compensation circuit <highlight><bold>14</bold></highlight>. In this way, the feedback compensation circuit <highlight><bold>14</bold></highlight> may be integrated onto the step down integrated circuit <highlight><bold>10</bold></highlight> relatively easily, while initial accuracy errors and line regulation errors are minimized by the offset voltage provided through the line regulation circuit <highlight><bold>22</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In an alternative embodiment, the reference voltage <highlight><bold>44</bold></highlight> may be varied based on the input voltage <highlight><bold>18</bold></highlight> instead of using the line regulation circuit <highlight><bold>22</bold></highlight> to provide an offset voltage. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a graph <highlight><bold>70</bold></highlight> illustrating a duty cycle <highlight><bold>72</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight> in accordance with one embodiment of the present invention. The graph <highlight><bold>70</bold></highlight> illustrates voltage provided by the oscillator <highlight><bold>66</bold></highlight> to the PWM comparator <highlight><bold>64</bold></highlight> as a function of time. The graph <highlight><bold>70</bold></highlight> also illustrates the error voltage <highlight><bold>24</bold></highlight> provided by the feedback compensation circuit <highlight><bold>14</bold></highlight>, as described in more detail above in connection with FIGS. <highlight><bold>1</bold></highlight>-<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The voltage from the oscillator <highlight><bold>66</bold></highlight> varies cyclically from a low voltage <highlight><bold>74</bold></highlight> to a high voltage <highlight><bold>76</bold></highlight>. As shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> the PWM comparator <highlight><bold>64</bold></highlight> is &ldquo;on&rdquo; until the voltage from the oscillator <highlight><bold>66</bold></highlight> reaches the error voltage <highlight><bold>24</bold></highlight> and &ldquo;off&rdquo; until the voltage from the oscillator <highlight><bold>66</bold></highlight> returns to the low voltage <highlight><bold>74</bold></highlight>. Each duty cycle <highlight><bold>72</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight> is made up of an on time <highlight><bold>82</bold></highlight> and an off time <highlight><bold>84</bold></highlight>. While the PWM comparator <highlight><bold>64</bold></highlight> is &ldquo;on,&rdquo; the PWM comparator <highlight><bold>64</bold></highlight> outputs the error voltage <highlight><bold>24</bold></highlight>, and while the PWM comparator <highlight><bold>64</bold></highlight> is &ldquo;off,&rdquo; the PWM comparator <highlight><bold>64</bold></highlight> outputs no signal. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The low voltage <highlight><bold>74</bold></highlight> and the high voltage <highlight><bold>76</bold></highlight> may be determined based on the characteristics of the PWM comparator <highlight><bold>64</bold></highlight>. According to one embodiment, the low voltage <highlight><bold>74</bold></highlight> is approximately 0.75 volts and the high voltage <highlight><bold>76</bold></highlight> is approximately 1.75 volts. In addition, the difference between the low and high voltages <highlight><bold>74</bold></highlight> and <highlight><bold>76</bold></highlight> may be based on the characteristics of the step down power supply <highlight><bold>12</bold></highlight>. According to one embodiment, the difference may be approximately 0.5, 1.0 or 2.0 volts. It will be understood, however, that the low and high voltages <highlight><bold>74</bold></highlight> and <highlight><bold>76</bold></highlight> and the difference between them may be any suitable values without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Based on the feedback compensation circuits <highlight><bold>14</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIGS. 2A and 2B</cross-reference> and based on the duty cycle <highlight><bold>72</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the following equations for the step down integrated circuit <highlight><bold>10</bold></highlight> may be generated:</paragraph>
<paragraph lvl="0"><in-line-formula>(<highlight><italic>V</italic></highlight><highlight><subscript>ref</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>out</subscript></highlight>)*<highlight><italic>A</italic></highlight><highlight><subscript>v</subscript></highlight><highlight><italic>&equals;V</italic></highlight><highlight><subscript>err</subscript></highlight>&emsp;&emsp;(eqn. 1)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>err</subscript></highlight>&equals;(<highlight><italic>V</italic></highlight><highlight><subscript>H</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>L</subscript></highlight>)*(<highlight><italic>T</italic></highlight><highlight><subscript>on</subscript></highlight><highlight><italic>/T</italic></highlight>)&plus;<highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>&emsp;&emsp;(eqn. 2)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>err</subscript></highlight>&equals;(<highlight><italic>V</italic></highlight><highlight><subscript>H</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>L</subscript></highlight>)*<highlight><italic>D&plus;V</italic></highlight><highlight><subscript>L</subscript></highlight>&emsp;&emsp;(eqn. 3)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>err</subscript></highlight>&equals;(<highlight><italic>V</italic></highlight><highlight><subscript>H</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>L</subscript></highlight>)*(<highlight><italic>V</italic></highlight><highlight><subscript>out</subscript></highlight><highlight><italic>/V</italic></highlight><highlight><subscript>in</subscript></highlight>)&plus;<highlight><italic>V</italic></highlight><highlight><subscript>L</subscript></highlight>&emsp;&emsp;(eqn. 4)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>out</subscript></highlight>&equals;(<highlight><italic>A</italic></highlight><highlight><subscript>v</subscript></highlight><highlight><italic>* V</italic></highlight><highlight><subscript>ref</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>L</subscript></highlight>)/&lsqb;<highlight><italic>A</italic></highlight><highlight><subscript>v</subscript></highlight>&plus;(<highlight><italic>V</italic></highlight><highlight><subscript>H</subscript></highlight><highlight><italic>&minus;V</italic></highlight><highlight><subscript>L</subscript></highlight>)/<highlight><italic>V</italic></highlight><highlight><subscript>in</subscript></highlight>&rsqb;&emsp;&emsp;(eqn. 5),</in-line-formula></paragraph>
<paragraph id="P-0053" lvl="7"><number>&lsqb;0053&rsqb;</number> where V<highlight><subscript>ref </subscript></highlight>is the reference voltage <highlight><bold>44</bold></highlight>, V<highlight><subscript>out </subscript></highlight>is the output voltage <highlight><bold>20</bold></highlight>, A<highlight><subscript>v </subscript></highlight>is the gain of the error amplifier <highlight><bold>40</bold></highlight>, V<highlight><subscript>err </subscript></highlight>is the error voltage <highlight><bold>24</bold></highlight>, V<highlight><subscript>H </subscript></highlight>is the high voltage <highlight><bold>76</bold></highlight> from the oscillator <highlight><bold>66</bold></highlight>, V<highlight><subscript>L </subscript></highlight>is the low voltage <highlight><bold>74</bold></highlight> from the oscillator <highlight><bold>66</bold></highlight>, T<highlight><subscript>on </subscript></highlight>is the on time <highlight><bold>82</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight>, T is the time corresponding to one duty cycle <highlight><bold>72</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight> (or the on time <highlight><bold>82</bold></highlight> added to the off time <highlight><bold>84</bold></highlight> for one duty cycle <highlight><bold>72</bold></highlight>), D is the duty cycle <highlight><bold>72</bold></highlight> for the PWM comparator <highlight><bold>64</bold></highlight>, and V<highlight><subscript>in </subscript></highlight>is the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Thus, Equation 5 provides the output voltage error which results from the low gain feedback on the error amplifier <highlight><bold>40</bold></highlight>. To determine an offset voltage to compensate for this output voltage error, Equation 5 may be solved for V<highlight><subscript>ref </subscript></highlight>at the desired input voltage <highlight><bold>18</bold></highlight> and at the desired output voltage <highlight><bold>20</bold></highlight>. Then another equation may be generated from the differences in the actual reference voltage <highlight><bold>44</bold></highlight> and the reference voltage which should be applied to the error amplifier <highlight><bold>40</bold></highlight> to result in the appropriate output voltage <highlight><bold>20</bold></highlight>, with the equation in the form of:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>off</subscript></highlight><highlight><italic>&equals;A*V</italic></highlight><highlight><subscript>in</subscript></highlight><highlight><italic>&plus;B</italic></highlight>&emsp;&emsp;(eqn. 6)</in-line-formula></paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Using the form of Equation 6, offset equations may be solved for a plurality of output voltages <highlight><bold>20</bold></highlight> in the form of the following equations:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>off</subscript></highlight><highlight><italic>&equals;A</italic></highlight><highlight><subscript>1</subscript></highlight><highlight><italic>*V</italic></highlight><highlight><subscript>in</subscript></highlight><highlight><italic>&plus;B</italic></highlight><highlight><subscript>1</subscript></highlight>&emsp;&emsp;(eqn. 7)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>off</subscript></highlight><highlight><italic>&equals;A</italic></highlight><highlight><subscript>2</subscript></highlight><highlight><italic>*V</italic></highlight><highlight><subscript>in</subscript></highlight><highlight><italic>&plus;B</italic></highlight><highlight><subscript>2</subscript></highlight>&emsp;&emsp;(eqn. 8)</in-line-formula></paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> The A coefficients vary with respect to the output voltage <highlight><bold>20</bold></highlight> and may be represented by another linear equation in the following form:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>A&equals;C*V</italic></highlight><highlight><subscript>out</subscript></highlight><highlight><italic>&plus;D</italic></highlight>&emsp;&emsp;(eqn. 9)</in-line-formula></paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> Thus, substituting Equation 9 into Equation 6 yields a single equation that may be used to minimize the offset error over a range of input voltages <highlight><bold>18</bold></highlight> for a corresponding output voltage <highlight><bold>20</bold></highlight>:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>V</italic></highlight><highlight><subscript>off</subscript></highlight>&equals;(<highlight><italic>C*V</italic></highlight><highlight><subscript>out</subscript></highlight><highlight><italic>&plus;D</italic></highlight>)*<highlight><italic>V</italic></highlight><highlight><subscript>in</subscript></highlight><highlight><italic>&plus;B</italic></highlight>&emsp;&emsp;(eqn. 10)</in-line-formula></paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> According to one embodiment, as V<highlight><subscript>in </subscript></highlight>changes, the offset voltage changes in accordance with Equation 10. For the feedback compensation circuit <highlight><bold>14</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>A, the line regulation circuit <highlight><bold>22</bold></highlight> generates an offset current to provide the offset voltage determined by Equation 10. This offset current is determined as follows:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>I</italic></highlight><highlight><subscript>off</subscript></highlight><highlight><italic>&equals;&lsqb;V</italic></highlight><highlight><subscript>off</subscript></highlight>*(1&plus;<highlight><italic>R</italic></highlight><highlight><subscript>f</subscript></highlight><highlight><italic>/R</italic></highlight><highlight><subscript>i1</subscript></highlight>)&rsqb;/<highlight><italic>R</italic></highlight><highlight><subscript>f</subscript></highlight>&emsp;&emsp;(eqn. 11),</in-line-formula></paragraph>
<paragraph id="P-0059" lvl="7"><number>&lsqb;0059&rsqb;</number> where I<highlight><subscript>off </subscript></highlight>is the offset current, R<highlight><subscript>f </subscript></highlight>is the resistance of the feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>b</italic></highlight>, and R<highlight><subscript>i1 </subscript></highlight>is the resistance of the input resistor <highlight><bold>50</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> For the feedback compensation circuit <highlight><bold>14</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>B, the line regulation circuit <highlight><bold>22</bold></highlight> also generates an offset current to provide the offset voltage determined by Equation 10. However, the offset current for this embodiment is determined as follows:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>I</italic></highlight><highlight><subscript>off</subscript></highlight><highlight><italic>&equals;V</italic></highlight><highlight><subscript>off</subscript></highlight>*(1<highlight><italic>/R</italic></highlight><highlight><subscript>f</subscript></highlight>&plus;1<highlight><italic>/R</italic></highlight><highlight><subscript>i1</subscript></highlight>&plus;1<highlight><italic>/R</italic></highlight><highlight><subscript>i2</subscript></highlight>)&emsp;&emsp;(eqn. 12),</in-line-formula></paragraph>
<paragraph id="P-0061" lvl="7"><number>&lsqb;0061&rsqb;</number> where R<highlight><subscript>f </subscript></highlight>is the resistance of the feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>d</italic></highlight>, R<highlight><subscript>i1 </subscript></highlight>is the resistance of the first input resistor <highlight><bold>50</bold></highlight><highlight><italic>c</italic></highlight>, and R<highlight><subscript>i2 </subscript></highlight>is the resistance of the second input resistor <highlight><bold>50</bold></highlight><highlight><italic>e. </italic></highlight></paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4A</cross-reference> is a schematic diagram illustrating the feedback compensation circuit <highlight><bold>14</bold></highlight> and the line regulation circuit <highlight><bold>22</bold></highlight> in accordance with one embodiment of the present invention. The line regulation circuit <highlight><bold>22</bold></highlight> comprises an offset voltage function <highlight><bold>90</bold></highlight>. The offset voltage function <highlight><bold>90</bold></highlight> is operable to receive the input voltage <highlight><bold>18</bold></highlight> and the reference voltage <highlight><bold>44</bold></highlight> and is configured to generate an offset voltage based on the input voltage <highlight><bold>18</bold></highlight> and the reference voltage <highlight><bold>44</bold></highlight>. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> According to one embodiment, the offset voltage function <highlight><bold>90</bold></highlight> is configured in accordance with the method of <cross-reference target="DRAWINGS">FIG. 4B</cross-reference>. However, it will be understood that the offset voltage function <highlight><bold>90</bold></highlight> may be otherwise suitably configured without departing from the scope of the present invention. Also, according to one embodiment, the offset voltage function <highlight><bold>90</bold></highlight> is operable to generate the offset voltage in accordance with the method of <cross-reference target="DRAWINGS">FIG. 4C</cross-reference>. However, it will be understood that the offset voltage function <highlight><bold>90</bold></highlight> may otherwise suitably generate the offset voltage without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> The feedback compensation circuit <highlight><bold>14</bold></highlight> comprises an adder <highlight><bold>92</bold></highlight> that is operable to receive the offset voltage from the offset voltage function <highlight><bold>90</bold></highlight> and to receive the output voltage <highlight><bold>20</bold></highlight>. Based on the offset voltage from the offset voltage function <highlight><bold>90</bold></highlight> and the output voltage <highlight><bold>20</bold></highlight>, the adder <highlight><bold>92</bold></highlight> generates an output for the feedback compensation circuit <highlight><bold>14</bold></highlight>, as illustrated. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4B</cross-reference> is a flow diagram illustrating a method for configuring the line regulation circuit <highlight><bold>22</bold></highlight> to dynamically regulate the step down power supply <highlight><bold>12</bold></highlight> in accordance with one embodiment of the present invention. The method begins at step <highlight><bold>100</bold></highlight> where an output voltage error is determined for the line regulation circuit <highlight><bold>22</bold></highlight>. According to one embodiment, the output voltage error is determined based on Equation 5, above. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> At step <highlight><bold>102</bold></highlight>, an equation for calculating an offset voltage is determined based on the reference voltage and the output voltage error determined in step <highlight><bold>100</bold></highlight>. According to one embodiment, the offset voltage equation comprises Equation 10, above. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In this way, an offset voltage equation may be determined for the line regulation circuit <highlight><bold>22</bold></highlight>. The line regulation circuit <highlight><bold>22</bold></highlight> may then be configured in accordance with the offset voltage equation such that the input voltage <highlight><bold>18</bold></highlight> received by the line regulation circuit <highlight><bold>22</bold></highlight> results in the appropriate offset voltage being generated by the line regulation circuit <highlight><bold>22</bold></highlight> for the feedback compensation circuit <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4C</cross-reference> is a flow diagram illustrating a method for dynamically regulating the step down power supply <highlight><bold>12</bold></highlight> in accordance with one embodiment of the present invention. The method begins at step <highlight><bold>104</bold></highlight> where the line regulation circuit <highlight><bold>22</bold></highlight> determines the offset voltage based on the input voltage <highlight><bold>18</bold></highlight> received at the line regulation circuit <highlight><bold>22</bold></highlight> and an offset voltage equation. According to one embodiment, the offset voltage equation is determined in accordance with step <highlight><bold>102</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 4B</cross-reference>. Thus, the line regulation circuit <highlight><bold>22</bold></highlight> may determine the offset voltage based on the configuration of the line regulation circuit <highlight><bold>22</bold></highlight>, which is based on the offset voltage equation, in conjunction with the input voltage <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> At step <highlight><bold>106</bold></highlight>, the line regulation circuit <highlight><bold>22</bold></highlight> provides an offset current to the feedback compensation circuit <highlight><bold>14</bold></highlight> based on the offset voltage determined in step <highlight><bold>104</bold></highlight>. According to the embodiment illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>A, the offset current may be determined based on Equation 11, above. According to the embodiment illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>B, the offset current may be determined based on Equation 12, above. It will be understood that the line regulation circuit <highlight><bold>22</bold></highlight> may provide the offset current based on the configuration of the line regulation circuit <highlight><bold>22</bold></highlight>, which may be accomplished in accordance with the method of <cross-reference target="DRAWINGS">FIG. 4B</cross-reference>. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> At decisional step <highlight><bold>108</bold></highlight>, the line regulation circuit <highlight><bold>22</bold></highlight> determines whether or not the input voltage <highlight><bold>18</bold></highlight> has changed. If the input voltage <highlight><bold>18</bold></highlight> has not changed, the method follows the No branch from decisional step <highlight><bold>108</bold></highlight> and returns to the same step to monitor the input voltage <highlight><bold>18</bold></highlight> for a change. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> If the input voltage <highlight><bold>18</bold></highlight> has changed, the method follows the Yes branch from decisional step <highlight><bold>108</bold></highlight> and returns to step <highlight><bold>104</bold></highlight> where a new offset voltage is determined based on the new input voltage. The method then continues to step <highlight><bold>106</bold></highlight> where the line regulation circuit <highlight><bold>22</bold></highlight> provides a new offset current to the feedback compensation circuit <highlight><bold>14</bold></highlight> based on the new offset voltage determined in step <highlight><bold>104</bold></highlight> before monitoring the input voltage <highlight><bold>18</bold></highlight> for another change. In this way, the line regulation circuit <highlight><bold>22</bold></highlight> may continuously monitor the input voltage <highlight><bold>18</bold></highlight> in order to dynamically generate an appropriate offset voltage for the feedback compensation circuit <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a schematic diagram illustrating details of the step down integrated circuit <highlight><bold>10</bold></highlight> in accordance with one embodiment of the present invention. For this embodiment, the input voltage <highlight><bold>18</bold></highlight> may vary from approximately 2.7 to 5.0 volts, the output voltage <highlight><bold>20</bold></highlight> may vary from approximately 1.8 to 3.3 volts, the reference voltage <highlight><bold>44</bold></highlight> is approximately 0.891 volts, the input resistor <highlight><bold>50</bold></highlight><highlight><italic>a </italic></highlight>comprises approximately 2 k&OHgr;, and the feedback resistor <highlight><bold>50</bold></highlight><highlight><italic>b </italic></highlight>comprises approximately 40 k&OHgr;. However, it will be understood that the step down integrated circuit <highlight><bold>10</bold></highlight> may be otherwise suitably implemented without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Although the present invention has been described with several embodiments, various changes and modifications may be suggested to one skilled in the art. It is intended that the present invention encompass such changes and modifications as fall within the scope of the appended claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A low gain feedback compensation circuit on an integrated circuit, the feedback compensation circuit coupled to a step down power supply on the integrated circuit, the step down power supply operable to receive an input voltage and to generate an output voltage based on the input voltage, the feedback compensation circuit comprising a line regulation circuit operable to receive the input voltage and a reference voltage and operable to generate an offset voltage based on the input voltage and the reference voltage. </claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising: 
<claim-text>an error amplifier coupled to the line regulation circuit; </claim-text>
<claim-text>the reference voltage coupled to the error amplifier; and </claim-text>
<claim-text>the line regulation circuit further operable to provide the offset voltage to the error amplifier. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, the error amplifier operable to provide a gain of approximately 26 dB. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising a single feedback resistor and a single input resistor. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising a single feedback resistor and two input resistors. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The circuit of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, the line regulation circuit comprising a current source. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A system for dynamically regulating a step down power supply, comprising: 
<claim-text>a step down power supply on an integrated circuit, the step down power supply operable to receive an input voltage and to generate an output voltage based on the input voltage; and </claim-text>
<claim-text>a low gain feedback compensation circuit on the integrated circuit, the feedback compensation circuit coupled to the step down power supply and operable to receive the input voltage, the feedback compensation circuit comprising a line regulation circuit operable to receive the input voltage and a reference voltage and operable to generate an offset voltage based on the input voltage and the reference voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, the feedback compensation circuit further comprising an error amplifier coupled to the line regulation circuit, the reference voltage coupled to the error amplifier, and the line regulation circuit further operable to provide the offset voltage to the error amplifier. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, the error amplifier operable to provide a gain of approximately 26 dB. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, the feedback compensation circuit further comprising a single feedback resistor and a single input resistor. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, the feedback compensation circuit further comprising a single feedback resistor and two input resistors. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, the line regulation circuit comprising a current source. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A method for dynamically regulating an output voltage for a step down power supply, comprising: 
<claim-text>providing a reference voltage to an error amplifier for a low gain feedback compensation circuit, the feedback compensation circuit comprising a line regulation circuit; </claim-text>
<claim-text>receiving the reference voltage at the line regulation circuit; </claim-text>
<claim-text>receiving a first input voltage at the line regulation circuit; </claim-text>
<claim-text>providing a first offset voltage to the error amplifier based on the first input voltage and the reference voltage; </claim-text>
<claim-text>receiving a second input voltage at the line regulation circuit, the second input voltage different from the first input voltage; and </claim-text>
<claim-text>providing a second offset voltage to the error amplifier based on the second input voltage and the reference voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, the line regulation circuit comprising a current source. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, further comprising: 
<claim-text>determining an output voltage error for the line regulation circuit; and </claim-text>
<claim-text>determining an offset voltage equation based on the reference voltage and the output voltage error. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, further comprising: 
<claim-text>determining the first offset voltage based on the first input voltage, the reference voltage, and the offset voltage equation; and </claim-text>
<claim-text>determining the second offset voltage based on the second input voltage, the reference voltage, and the offset voltage equation. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, further comprising providing a gain for the feedback compensation circuit of approximately 26 dB with the error amplifier. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, the feedback compensation circuit further comprising a single feedback resistor and a single input resistor. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, the feedback compensation circuit further comprising a single feedback resistor and two input resistors. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, the reference voltage approximately the same as the output voltage.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2A</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001551A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001551A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001551A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001551A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001551A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
