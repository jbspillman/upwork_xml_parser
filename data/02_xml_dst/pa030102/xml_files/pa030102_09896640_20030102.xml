<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002186A1-20030102-D00000.TIF SYSTEM "US20030002186A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002186A1-20030102-D00001.TIF SYSTEM "US20030002186A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002186A1-20030102-D00002.TIF SYSTEM "US20030002186A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002186A1-20030102-D00003.TIF SYSTEM "US20030002186A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030002186A1-20030102-D00004.TIF SYSTEM "US20030002186A1-20030102-D00004.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002186</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09896640</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010629</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G11B005/02</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G11B027/36</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G11B005/09</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>360</class>
<subclass>046000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>360</class>
<subclass>025000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>360</class>
<subclass>031000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>360</class>
<subclass>053000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Total error multiplier for optimizing read/write channel</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>William</given-name>
<middle-name>G.</middle-name>
<family-name>Bliss</family-name>
</name>
<residence>
<residence-us>
<city>Thornton</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>James</given-name>
<middle-name>W.</middle-name>
<family-name>Rae</family-name>
</name>
<residence>
<residence-us>
<city>Rochester</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>BRINKS HOFER GILSON &amp; LIONE</name-1>
<name-2></name-2>
<address>
<address-1>P.O. BOX 10395</address-1>
<city>CHICAGO</city>
<state>IL</state>
<postalcode>60610</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A method and apparatus to optimize a bit error rate for a partial response, maximum likelihood (&ldquo;PRML&rdquo;) read/write channel is disclosed. A channel margining circuit that is configured to carry out an embodiment for a method of optimizing the bit error rates of a read/write channel is described. The margining circuit derives an interference signal to stress a read/write channel for optimizing the bit error rate. The signal is derived from bit errors inherent with the read/write channel. The circuit reduces the time to optimize the channel by providing an amplified interference signal that increases a bit error rate during optimization. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> Computer hard disk drives, also known as fixed disk drives or hard disk drives, have become a de facto data storage standard for computer systems. Their proliferation can be directly attributed to their low cost, high storage capacity and reliability, in addition to wide availability, low power consumption, fast data transfer speeds and decreasing physical size. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Disk drives typically include one or more rotating magnetic platters encased within an environmentally controlled housing. The hard drive may have several read/write heads that interface with the magnetic platters. The disk drive may further include electronics for reading and writing data and for interfacing with other devices. The electronics are coupled with the read/write heads and include circuits to control head positioning and to generate or sense electromagnetic fields on the platters. The electronics encode data received from a host device, such as a personal computer, and translate the data into magnetic encodings, which are written onto the platters. When data is requested, the electronics locate the data, sense the magnetic encodings, and translate the encodings into binary digital information. Error checking and correction may also be applied to ensure accurate storage and retrieval of data. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The read/write heads detect and record the encoded data as areas of magnetic flux. The data are encoded by the presence or absence of a flux reversal between two contiguous areas of the platter. Data may be read using a method known as &ldquo;Peak Detection&rdquo; by which a voltage peak imparted in the read/write head is detected when a flux reversal passes the read/vrite head. However, increasing storage densities, requiring reduced peak amplitudes, better signal discrimination and higher platter rotational speeds are pushing the peaks in closer proximity. Thus, peak detection methods are becoming increasingly complex. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Advancements in read/write heads and in the methods of interpreting magnetic encodings have been made. For example, magneto-resistive (&ldquo;MR&rdquo;) read/write heads have been designed with increased sensitivity and increased signal discrimination. In addition, technology known as Partial Response Maximum Likelihood (&ldquo;PRML&rdquo;) has been developed. PRML disk drives function based an algorithm implemented in the disk drive electronics to read analog waveforms generated by the magnetic flux reversals. Instead of looking for peak values, PRML based drives digitally sample the analog waveform (the &ldquo;Partial Response&rdquo;) and carry out advanced signal processing techniques to determine a most-likely bit pattern represented by the wave form (the &ldquo;Maximum Likelihood&rdquo;). PRML technology tolerates more noise in the magnetic signals, permitting use of lower quality platters and read/write heads, which also increases manufacturing yields and lowers costs. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> With hard drives typically differentiated by factors such as cost/unit of storage, data transfer rate, power requirement, and form factor (physical dimensions), there is a need for enhanced hard drive components which prove cost effective in optimizing set-up time, storage capacity, operating speed, reliability and power efficiency. An example of an area includes PRML electronics used to calibrate and tune the PRML read/write channel to the read/write head. The process of calibrating and tuning the PRML read/write channel with the read/write head, often referred to as &ldquo;channel margining,&rdquo; is performed when the read/write head is combined with the read/write channel. During channel margining, variable parameters of the read/write channel are adjusted to generate an optimal bit-error rate for the hard disk drive and read/write channel combination. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> During channel margining, channel parameters are iteratively varied through an exhaustive matrix to determine the best bit-error rate for the read/write head and read/write channel combination. After channel margining has advanced through several stages, the hard disk drive may be operating at a bit-error rates requiring significant time to detect the bit errors. Methods used to reduce time inject artificial interference, or additive white Gaussian noise (AWGN), to the read/write channel result. These methods result in a set of channel parameters that are not optimal for low bit-error rate operation. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Accordingly, there is a need for reducing the time and resources for channel margining, while providing a low bit-error rate. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> A method and apparatus to optimize a bit error rate for a partial response, maximum likelihood (&ldquo;PRML&rdquo;) read/write channel is disclosed. The magnetic recoding channel may include a channel margining circuit configured to carry out the channel margining method herein disclosed. The channel margining circuit derives an interference signal inherent with the bit error rate inherent with the bit error of the read/write channel. The interference signal may be amplified by a variable scaling factor. The variable scaling factor may be adjusted to provide artificial enhancement or degradation of a signal processed by the read/write channel. The scaled interference signal may be combined with a selected test data pattern and provided to a Viterbi detector circuit of the read/write channel. In an embodiment, the read/write channel is a partial response, maximum likelihood (&ldquo;PRML&rdquo;) based read/write channel. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> An embodiment for the channel margining circuit may include a bit pattern generator circuit, a first summing circuit, a scaling circuit, and a second summing circuit. The components of the channel margining circuit are configured to provide a variably amplified interference signal to a Viterbi detector circuit of read/write channel. The interference signal is associated with the total error of the read/write channel. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The bit pattern generator is operative to generate a digital signal having a selected pattern at a bit pattern generator output. A typical selected test pattern generated by the bit pattern generator is a parity compliant code. The selected pattern may be, for example, a pseudo random binary sequence (&ldquo;PRBS&rdquo;) data pattern generated by linear feedback shift register (&ldquo;LFSR&rdquo;). </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The first summing circuit includes a first input, a second input, and an output. The first input may be coupled with the bit pattern generator output. The first input is configured to receive the digital signal from the bit pattern generator. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The second input is configured to receive a processed binary data signal. The processed binary data signal is associated with data read from a magnetic data storage medium and processed by the read/write channel. The summing circuit is configured to generate an interference signal. The interference signal may be provided at the first summing circuit output. In an embodiment, the interference signal is associated with a difference between the digital signal provided at the first input and the processed binary data signal at the second input. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The scaling circuit includes an input that may be coupled with the first summing circuit via the first summing circuit output. The scaling circuit is configured to generate a scaled interference signal at the scaling circuit output. The scaling circuit is further configured to amplify the interference signal by a variable scaling factor. The variable scaling factor may be adjusted to provide a desired level of enhancement or degradation of a signal processed by the read/write channel. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The second summing circuit includes a first input, a second input, and an output. The first input is configured to receive the scaled interference signal from the scaling circuit output. The second input may be coupled with the bit pattern generator output. The second input is configured to receive the digital signal generated by the bit pattern generator. The second summing circuit combines the digital signal and the scaled interference signal. The combined signals are provided at the second summing circuit output, which defines an output for the channel margining circuit. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> An embodiment of a method of optimizing a bit-error rate for a read/write channel includes: reading a known test data pattern signal from a magnetic data storage medium; deriving an interference signal in response to data read from the data storage medium; amplifying the interference signal by a scaling factor; combining the scaled interference signal with the test data pattern signal; and providing the combined interference signal and the test data pattern to the read/write channel. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> The foregoing discussion of the summary of the invention is provided only by way of introduction. Nothing in this section should be taken as a limitation on the claims, which define the scope of the invention. Additional objects and advantages of the present invention will be set forth in the description that follows, and in part will be obvious from the description, or may be learned by practice of the present invention. The objects and advantages of the present invention may be realized and obtained by means of the instrumentalities and combinations particularly pointed out in the claims.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF SEVERAL VIEWS OF THE DRAWINGS </heading>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> depicts a block diagram of an exemplary hard drive coupled with a host device. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> depicts a block diagram of read/write channel for use with a hard drive. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram of an exemplary read/write channel including a bit error margining circuit; and </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a flowchart according to an exemplary method for optimizing a bit error rate for a read/write channel.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The embodiments described herein relate to a partial response, maximum likelihood (&ldquo;PRML&rdquo;) based read/write channel. The PRML read/write channel is coupled with the read/write heads of the hard drive. Herein, the phrase &ldquo;coupled with&rdquo; is defined to mean directly connected to or indirectly connected through one or more intermediate components. Such intermediate components may include both hardware and software based components. The read/write channel converts digital data from the host device into electrical impulses to control the read/write head to magnetically record data to the hard disk. During read operations, the read/write channel receives an analog waveform magnetically sensed by the read/write heads and converts that waveform into the digital data stored on the drive. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> The illustrated embodiments provide a method and apparatus for channel margining for a read/write channel. In an embodiment, the read/write channel is a PRML based read/write channel. The PRML based read/write channel may incorporate a channel margining circuit configured to carry out an embodiment for a method for optimizing the channel margining of the read/write channel. The channel margining circuit derives an interference signal associated with errors and inaccuracies inherent with the read/write channel. The interference signal may be amplified by a variable scaling factor to reduce the time necessary to optimize a bit error rate of the read/write channel. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The present embodiments will be explained with reference to accompanied <cross-reference target="DRAWINGS">FIGS. 1 through 4</cross-reference>. Referring now to <cross-reference target="DRAWINGS">FIG. 1, a</cross-reference> block diagram for a hard drive <highlight><bold>100</bold></highlight> coupled with a host device <highlight><bold>112</bold></highlight> is shown. For clarity, some components, such as a servo/actuator motor control, are not shown. The drive <highlight><bold>100</bold></highlight> includes magnetic surfaces and spindle motor <highlight><bold>102</bold></highlight>, the read/write heads and actuator assembly <highlight><bold>104</bold></highlight>, pre-amplifiers <highlight><bold>106</bold></highlight>, a read/write channel <highlight><bold>108</bold></highlight> and a controller <highlight><bold>110</bold></highlight>. The pre-amplifiers <highlight><bold>106</bold></highlight> are coupled with the read/write channel <highlight><bold>108</bold></highlight> via interfaces <highlight><bold>114</bold></highlight> and <highlight><bold>116</bold></highlight>. The controller <highlight><bold>110</bold></highlight> interfaces with the read/write channel <highlight><bold>108</bold></highlight> via interfaces <highlight><bold>118</bold></highlight> and <highlight><bold>120</bold></highlight>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> For data read operations of the hard disk <highlight><bold>100</bold></highlight>, the host device <highlight><bold>112</bold></highlight> provides a location identifier that identifies the location of the data on the disk drive, e.g. a cylinder and sector address. The controller <highlight><bold>110</bold></highlight> receives this address and determines the physical location of the data on the platters <highlight><bold>102</bold></highlight>. The controller <highlight><bold>110</bold></highlight> then moves the read/write heads to a position proximate the location of the on the platters <highlight><bold>102</bold></highlight>. As the data passes read/write head <highlight><bold>104</bold></highlight>, the read/write head <highlight><bold>104</bold></highlight> senses the presence or absence of flux reversals, generating a stream of analog signal data. This data is passed to the pre-amplifiers <highlight><bold>106</bold></highlight> which amplify the signal and pass the data to the read/write channel <highlight><bold>108</bold></highlight> via the interface <highlight><bold>114</bold></highlight>. As will be discussed below, the read/write channel receives the amplified analog waveform from the pre-amplifiers <highlight><bold>106</bold></highlight> and decodes this waveform into the digital binary data that it represents. This digital binary data is then passed to the controller <highlight><bold>110</bold></highlight> via the interface <highlight><bold>118</bold></highlight>. The controller <highlight><bold>110</bold></highlight> interfaces the hard drive <highlight><bold>100</bold></highlight> with the host device <highlight><bold>112</bold></highlight> and may contain additional functionality, such as caching or error detection/correction functionality, intended to increase the operating speed and/or reliability of the hard drive <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> For write operations, the host device <highlight><bold>112</bold></highlight> provides the controller <highlight><bold>110</bold></highlight> with the binary digital data to be written and the location, e.g. cylinder and sector address, of where to write the data. The controller <highlight><bold>110</bold></highlight> moves the read/write heads <highlight><bold>104</bold></highlight> to a designated location and sends the binary digital data to be written to the read/write channel <highlight><bold>108</bold></highlight> via interface <highlight><bold>120</bold></highlight>. The read/write channel <highlight><bold>108</bold></highlight> receives the binary digital data, encodes it and generates analog signals which are used to drive the read/write head <highlight><bold>104</bold></highlight> to impart the proper magnetic flux reversals onto the magnetic platters <highlight><bold>102</bold></highlight> representing the binary digital data. The signals are passed to the pre-amplifiers <highlight><bold>106</bold></highlight> via interface <highlight><bold>116</bold></highlight> which drive the read/write heads <highlight><bold>104</bold></highlight>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, an exemplary read/write channel <highlight><bold>108</bold></highlight> is shown that supports Partial Response, Maximum Likelihood (&ldquo;PRML&rdquo;) encoding technology for use with the hard drive <highlight><bold>100</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. For clarity, some components have been omitted. The read/write channel <highlight><bold>108</bold></highlight> may be implemented as an integrated circuit using a complementary metal oxide semiconductor (&ldquo;CMOS&rdquo;) process for transistors having an effective channel length of 0.18 micron. It will be appreciated that other process technologies and feature sizes may be used and that the circuitry disclosed herein may be further integrated with other circuitry comprising the hard disk electronics such as the hard disk controller logic. As was described, the read/write channel <highlight><bold>108</bold></highlight> converts between binary digital information and the analog signals representing the magnetic flux on the platters <highlight><bold>102</bold></highlight>. The read/write channel <highlight><bold>108</bold></highlight> is divided into two main sections, the read path <highlight><bold>202</bold></highlight> and the write path <highlight><bold>204</bold></highlight>. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The write path <highlight><bold>204</bold></highlight> includes a parallel-to-serial converter <highlight><bold>220</bold></highlight>, an encoder <highlight><bold>222</bold></highlight>, a write pre-compensation circuit <highlight><bold>228</bold></highlight>, and a driver circuit <highlight><bold>230</bold></highlight>. The parallel to serial converter <highlight><bold>220</bold></highlight> receives data from the host device <highlight><bold>112</bold></highlight> via the interface <highlight><bold>120</bold></highlight> eight bits at a time. The converter <highlight><bold>220</bold></highlight> serializes the input data and sends a serial bit stream to the RLL encoder <highlight><bold>222</bold></highlight>. The encoder <highlight><bold>222</bold></highlight> encodes the serial bit stream into symbolic binary sequences according to a run-length limited (&ldquo;RLL&rdquo;) algorithm for recording on the platters <highlight><bold>102</bold></highlight>. The exemplary encoder may use a 32/33 bit symbol code to ensure that flux reversals are properly spaced and that long runs of data without flux reversals are not recorded. The encoder may be further configured to ensure that long runs of 0&apos;s and 1&apos;s are not recorded due to the magnetic properties of such recorded data. The signal is passed to a write pre-compensation circuit <highlight><bold>228</bold></highlight> that dynamically adjusts the pulse widths of the bit stream to account for magnetic distortions in the recording process. The adjusted signal is passed to a driver circuit <highlight><bold>230</bold></highlight> that drives the signal to the pre-amplifiers <highlight><bold>106</bold></highlight> via interface <highlight><bold>116</bold></highlight>. The pre-amplifiers <highlight><bold>106</bold></highlight> drive the read/write heads <highlight><bold>104</bold></highlight> to record the data. The exemplary driver circuit <highlight><bold>230</bold></highlight> may include a pseudo emitter coupled logic (&ldquo;PECL&rdquo;) driver circuit that generates a differential output to the pre-amplifiers <highlight><bold>106</bold></highlight>. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> The read path <highlight><bold>202</bold></highlight> includes an analog front end (&ldquo;AFE&rdquo;) circuit <highlight><bold>206</bold></highlight>, an analog to digital converter (&ldquo;ADC&rdquo;) <highlight><bold>208</bold></highlight>, a finite impulse response (&ldquo;FIR&rdquo;) filter circuit <highlight><bold>210</bold></highlight>, an interpolated timing recovery (&ldquo;ITR&rdquo;) circuit <highlight><bold>212</bold></highlight>, a Viterbi algorithm detector <highlight><bold>214</bold></highlight> circuit, and a decoder <highlight><bold>216</bold></highlight> circuit. The amplified magnetic signals sensed from the platters <highlight><bold>102</bold></highlight> by the read/write head <highlight><bold>104</bold></highlight> are received by the read/write channel <highlight><bold>108</bold></highlight> via interface <highlight><bold>114</bold></highlight>. The analog waveform representing the sensed magnetic signals is first passed to the AFE circuit <highlight><bold>206</bold></highlight>. The AFE circuit <highlight><bold>206</bold></highlight> processes the analog signal to clean condition the analog signal to a desired pulse amplitude and bandwidth for conversion to a digital signal. The processed analog signal is then passed to the ADC circuit <highlight><bold>208</bold></highlight>. The ADC circuit <highlight><bold>208</bold></highlight> samples the analog signal and converts it to a digital signal. The ADC circuit <highlight><bold>208</bold></highlight> generates a time-sequenced binary signal associated with amplitude samples of the analog signal. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> The digital signal is then passed to a FIR filter <highlight><bold>210</bold></highlight> and then to the ITR circuit <highlight><bold>212</bold></highlight>. The FIR filter <highlight><bold>210</bold></highlight> is configured to equalize the frequency components of the digital signal to a desired pulse response. In an embodiment, the FIR filter <highlight><bold>210</bold></highlight> conditions the digital to define a pulse response for a partial response class <highlight><bold>4</bold></highlight> (&ldquo;PR4&rdquo;) signal. The exemplary FIR filter <highlight><bold>210</bold></highlight> may be Fourier ten-tap FIR filter. The ITR <highlight><bold>212</bold></highlight> further conditions the digital signal to synchronize the digital signal with the analog signal processed by the AFE <highlight><bold>206</bold></highlight>. The ITR <highlight><bold>212</bold></highlight> normalizes the sample timing of the digital signal to synchronize the digital signal with a bit-rate of the analog signal. In an embodiment, the ITR circuit <highlight><bold>212</bold></highlight> may be controlled by a phase locked loop (&ldquo;PLL&rdquo;) to control the timing of the ITR circuit <highlight><bold>212</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The digital signal is then passed to the Viterbi detector <highlight><bold>214</bold></highlight> that determines the binary bit pattern represented by the digital signal using digital signal processing techniques. The exemplary Viterbi detector <highlight><bold>214</bold></highlight> uses a <highlight><bold>32</bold></highlight> state Viterbi processor. The binary data represented by the digital signal is then passed to the parity decoder <highlight><bold>216</bold></highlight>, which removes the parity bit, and then to the RLL decoder <highlight><bold>218</bold></highlight>. The RLL decoder <highlight><bold>218</bold></highlight> decodes the binary RLL encoding symbols to the actual binary data. This data is then passed to the controller <highlight><bold>110</bold></highlight> via the interface <highlight><bold>118</bold></highlight>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> The read/write channel <highlight><bold>108</bold></highlight> further may include a clock <highlight><bold>232</bold></highlight>. The clock <highlight><bold>232</bold></highlight> provides timing signals to the read channel <highlight><bold>224</bold></highlight> and the write channel <highlight><bold>204</bold></highlight> for timing logic operations. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> When the read/write channel <highlight><bold>108</bold></highlight> is coupled with the magnetic platters <highlight><bold>102</bold></highlight>, the pre-amplifiers <highlight><bold>106</bold></highlight>, and the controller <highlight><bold>110</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>), parameters of the read/write channel are adjusted to minimize the amount of bit errors in the signal processed by the read/write channel <highlight><bold>108</bold></highlight>. The process may be referred to as &ldquo;channel margining.&rdquo; During the process, a parameter of the read/write channel may be varied and a bit error rate determined. The parameter is adjusted to the value that provides an optimized bit error rate. It is desired that the bit error rate not exceed one bit error in every 10 million bits. It is more desired that the bit error rate not exceed one bit in 10 billion bits. Each parameter may be independently adjusted until each parameter is set to the value providing the optimal bit error rate. During set up of the read/write channel <highlight><bold>108</bold></highlight>, multiple parameters may be varied to determine an optimized performance level for each parameter. For example, current read/write channels may require twelve parameters to be adjusted. When each of the twelve channels have been optimized, the process may be repeated to ensure optimal bit error rate of the read/write channel. On occasion, the process is repeated three times to ensure optimal bit error rates. Accordingly, channel margining may take several iterations of parameter adjustment before the entire channel is considered to have an optimized bit error rate. Embodiments of the channel margining circuit reduce the time to perform optimization of the read/write channel with an interference signal derived from the bit errors inherent with the read/write channel system. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, an embodiment for a portion of a read/write channel that incorporates a channel margining circuit <highlight><bold>300</bold></highlight> (&ldquo;Margining Circuit&rdquo;) is shown. The portion of the read/write channel shown includes a portion of the read path <highlight><bold>202</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, including the AFE circuit <highlight><bold>206</bold></highlight>, the ADC circuit <highlight><bold>208</bold></highlight>, the FIR circuit <highlight><bold>210</bold></highlight>, the ITR circuit <highlight><bold>212</bold></highlight>, and the Viterbi detector circuit <highlight><bold>214</bold></highlight>. The portion of the read/write channel further includes the margining circuit <highlight><bold>300</bold></highlight> having an input coupled with an output for the ITR circuit <highlight><bold>212</bold></highlight> and having an output coupled with the an input for the Viterbi detector circuit <highlight><bold>214</bold></highlight>. The channel margining circuit <highlight><bold>300</bold></highlight> may include a bit pattern generation circuit <highlight><bold>302</bold></highlight>, a first summing circuit <highlight><bold>304</bold></highlight>, a scaling circuit <highlight><bold>306</bold></highlight>, and a second summing circuit <highlight><bold>308</bold></highlight>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> The bit pattern generation circuit <highlight><bold>302</bold></highlight> generates a digital signal having a known bit pattern sequence. In an embodiment, the bit pattern generator circuit <highlight><bold>302</bold></highlight> is a linear feedback shift register (&ldquo;LFSR&rdquo;). The LFSR <highlight><bold>302</bold></highlight> generates a pseudo random binary sequence (&ldquo;PRBS&rdquo;) that is parity code compliant. To optimize the bit error rate of the read/write channel, the PRBS generated by the LFSR <highlight><bold>302</bold></highlight> is written to the magnetic platters <highlight><bold>102</bold></highlight> with which the read/write channel <highlight><bold>108</bold></highlight> is coupled. When the signal including the PRBS is processed by the read/write channel <highlight><bold>108</bold></highlight>, sampled amplitude errors due to flaws inherent with the magnetic platters <highlight><bold>102</bold></highlight> or a mistuned read write/channel <highlight><bold>108</bold></highlight> may be present in the signal. The LFSR <highlight><bold>302</bold></highlight> may be configured to provide a PRBS that is transformed according to a transfer function that estimates a correct sample value as the signal provided by ITR <highlight><bold>212</bold></highlight>. In an embodiment, the transfer function is represented as 1&minus;D<highlight><superscript>2</superscript></highlight>. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> An interference signal associated with the total sampled amplitude errors in the read/write channel <highlight><bold>108</bold></highlight> and platter <highlight><bold>102</bold></highlight> combination can be derived by the first summing circuit <highlight><bold>304</bold></highlight>. The first summing circuit <highlight><bold>304</bold></highlight> includes a first input, a second input, and an output. The first input of the first summing circuit is coupled with an output of the LFSR <highlight><bold>302</bold></highlight>. The second input of the first summing circuit <highlight><bold>304</bold></highlight> defines the input for the margining circuit <highlight><bold>300</bold></highlight> and is coupled with an output of the ITR <highlight><bold>212</bold></highlight>. The first summing circuit <highlight><bold>304</bold></highlight> subtracts the PRBS generated by the LFSR from the digital signal processed by the AFE <highlight><bold>206</bold></highlight>, the ADC <highlight><bold>208</bold></highlight>, the FIR <highlight><bold>210</bold></highlight>, and the ITR <highlight><bold>212</bold></highlight>. The signals are processed at the first summing circuit <highlight><bold>304</bold></highlight> such that an interference signal associated with the total bit error is generated at the output for the first summing circuit <highlight><bold>304</bold></highlight>. In an embodiment, the first summing circuit may be implemented using synchronous digital components, including combinational logic components, latches, and multiplexers. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> The scaling circuit <highlight><bold>306</bold></highlight> includes an input and an output. The input for the scaling circuit <highlight><bold>306</bold></highlight> is coupled with the output for the first summing circuit <highlight><bold>304</bold></highlight>. The scaling circuit amplifies the interference signal associated with the total bit errors by a variable scaling factor K<highlight><subscript>te</subscript></highlight>. The amplified interference signal is provided at the scaling circuit output. The scaling factor may be provided externally by a user or may be determined by the controller <highlight><bold>110</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). In a present embodiment, the scaling factor may be any value ranging from zero to six and may be adjusted to artificially degrade or enhance a performance level of the read/write channel. In an embodiment, the scaling circuit <highlight><bold>306</bold></highlight> may be implemented using synchronous digital components, including combinational logic components, latches, and multiplexers. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The second summing circuit <highlight><bold>308</bold></highlight> includes a first input, a second input, and an output. The first input of the second summing circuit <highlight><bold>308</bold></highlight> is coupled with the output of the scaling node <highlight><bold>306</bold></highlight> and the second input is coupled with the output for the LFSR <highlight><bold>302</bold></highlight>. The second summing circuit combines the scaled interference signal, associated with the total sample error, with the PRBS signal generated by the LFSR <highlight><bold>302</bold></highlight>. The PRBS may be transformed to an estimate of the correct sample value. (e.g. 1&minus;D<highlight><superscript>2</superscript></highlight>). The combined signal includes sample values of the PRBS written to the magnetic platters <highlight><bold>102</bold></highlight> and the scaled interference signal. The combined signals are provided to the Viterbi detector circuit <highlight><bold>214</bold></highlight> and processed by to determine the optimal performance level for the read/write channel. Because the margining circuit <highlight><bold>300</bold></highlight> provides an amplified interference signal derived from measured total sample error inherent in the read/write channel system <highlight><bold>108</bold></highlight>, the bit errors will be due to a prevailing predominant noise source in the read/write channel and will have similar noise statistics. Since higher error rates may be measured more quickly than lower error rates the time to optimize the channel is reduced by providing an amplified signal that is associated with errors present in the read write channel <highlight><bold>108</bold></highlight>. The parameters may be adjusted and errors detected more rapidly. Accordingly, the channel parameters adjusted at an artificially increased error rate will have similar characteristics to those that may be optimized at lower error rates. Because the margining circuit <highlight><bold>300</bold></highlight> uses errors present in the read/write channel to derive the amplified interference signal, the margining circuit <highlight><bold>300</bold></highlight> provides a means for stressing the read/write channel <highlight><bold>108</bold></highlight> that is <highlight><bold>10</bold></highlight> indicative of conditions that the channel will incur in a typical operation. It is desired that the scaling factor K<highlight><subscript>te </subscript></highlight>is adjusted to a value that increases the bit-error rate to a value (10e&minus;6) that optimizes the time required to measure bit-error rate accurately. In an embodiment, the second summing circuit may be implemented using synchronous digital components, including combinational logic components, latches, and multiplexers. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 4, a</cross-reference> flowchart <highlight><bold>400</bold></highlight> for an embodiment of a method for optimizing the bit error rate for a read/write channel is shown. The method includes the acts of reading <highlight><bold>402</bold></highlight> a known sampled test data pattern signal from a magnetic data storage medium, deriving <highlight><bold>404</bold></highlight> an interference signal in response to data read from the data storage medium, amplifying <highlight><bold>406</bold></highlight> the interference signal by a scaling factor; combining <highlight><bold>408</bold></highlight> the scaled interference signal with the test data pattern signal; and providing <highlight><bold>410</bold></highlight> the combined interference signal and the test data pattern to the read/write channel. The act of reading <highlight><bold>402</bold></highlight> a known test data pattern may include processing sampled test data from the magnetic data storage medium. The act of reading <highlight><bold>402</bold></highlight> a known test data pattern from a magnetic data storage medium may further include writing a known test data pattern to the magnetic data storage medium. In an embodiment, the data is written using the LFSR and the bit pattern includes a parity compliant PRBS. The act of reading <highlight><bold>402</bold></highlight> data may include sampling data stored on the magnetic data storage medium with a read circuit portion of the read/write channel. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> The act of deriving <highlight><bold>404</bold></highlight> an interference signal may include determining a difference between a known sample pattern and the test data sampled from the magnetic data storage medium during the act of reading <highlight><bold>402</bold></highlight>. The interference signal is associated with the total bit error of the read/write channel. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> The act of amplifying <highlight><bold>406</bold></highlight> includes adjusting the interference signal by a variable scaling factor K<highlight><subscript>te</subscript></highlight>. The value of the scaling factor is selected to provide a desired degree of enhancement or degradation of the signal processed by the read/write channel. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> During the act of combining <highlight><bold>408</bold></highlight> the scaled interference signal with the test data pattern, the interference signal derived from the sampled test data pattern stored by the magnetic data storage medium is combined with the a known test data pattern associated with the test data pattern read from the magnetic data storage medium. The act of providing <highlight><bold>410</bold></highlight> the combined signals includes providing the signal to a component of the read/write channel circuit. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Various implementations of the channel margining circuit incorporated with a read/write channel can be realized that are within the scope of the present invention. All of the components of channel margining circuit may be integrated with the read/write channel on a single integrated circuit semiconductor chip. Alternatively, some or all of the components of the counter circuit may be implemented in one or more integrated circuits external to a read/write channel. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> While particular embodiments of the present invention have been shown and described, modifications may be made. It is therefore intended in the appended claims, including all equivalents, cover all such changes and modifications. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. An integrated circuit for optimizing a bit-error rate of a read/write channel coupled with a hard disk drive, the integrated circuit comprising: 
<claim-text>a bit pattern generator circuit operative to generate a digital signal having a selected pattern at a bit pattern generator output; </claim-text>
<claim-text>a first summing circuit having a first input, a second input, and an output, the first input being coupled with the bit pattern generator output and being operative to receive the digital signal, the second input being operative to receive a processed binary data signal representing data read from a magnetic data storage medium, the summing circuit being operative to generate an interference signal at the first summing circuit output, the interference signal representing a difference between the digital signal provided at the first input and the processed binary data signal at the second input; </claim-text>
<claim-text>a scaling circuit having an input coupled with the output for the first summing circuit and operative to receive the interference signal, the scaling circuit being operative to generate a scaled interference signal at the scaling circuit output; and </claim-text>
<claim-text>a second summing circuit having a first input, a second input, and an output, the first input being coupled with the scaling circuit output and operative to receive the scaled interference signal, the second input coupled with the bit pattern generator output and operative to receive the digital signal, the second summing circuit being operative to combine the digital signal and the scaled interference signal, the combined signals being provided at the second summing circuit output. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the magnetic data storage medium is programmed with the digital signal including the selected bit pattern. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the processed binary signal comprises data read from the magnetic data storage medium programmed with the selected bit pattern. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein the processed binary signal comprises data read from the magnetic data storage medium programmed with the selected bit pattern and processed by the read/write channel. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein the interference signal comprises a signal representative of a total error between the processed binary signal and the digital signal. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein the bit pattern generator circuit comprises a linear feedback shift register (&ldquo;LFSR&rdquo;). </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The integrated circuit <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein the scaling circuit is operative to scale the interference signal by a variable scaling factor, the scaling factor selected based on a desired error rate performance of the read/write channel. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the read/write channel further comprises: 
<claim-text>an analog front end (&ldquo;AFE&rdquo;) circuit operative to receive an analog signal associated with data read from the magnetic data storage medium and process the analog signal to a desired amplitude and bandwidth, the processed analog signal being provided at an analog front end output; </claim-text>
<claim-text>an analog-to-digital (&ldquo;ADC&rdquo;) converter coupled with the analog front end output and being operative to convert the analog signal to a time-sequenced binary signal, the binary signal being provided at an ADC converter; and </claim-text>
<claim-text>a binary signal processing circuit coupled with the ADC converter and being operative to normalize the binary signal to a desired pulse response, pulse amplitude, and sample time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein the binary signal processing circuit comprises: 
<claim-text>a finite input response (&ldquo;FIR&rdquo;) filter circuit coupled with the ADC output and being operative to equalize frequency components of the binary signal, the binary signal having equalized frequency components being provided at a FIR output; and </claim-text>
<claim-text>an interpolated timing recovery (&ldquo;ITR&rdquo;) circuit coupled with the FIR output and being operative to convert the sample time of the binary signal to a desired sample time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The integrated circuit of <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein the read/write channel comprises a partial response maximum likelihood (&ldquo;PRML&rdquo;) read/write channel. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A read/write channel for use with a hard disk drive, comprising: 
<claim-text>an analog front end (&ldquo;AFE&rdquo;) circuit operative to process an analog signal associated with data read from a magnetic data storage medium to a desired amplitude and bandwidth, the processed analog signal being provided at an AFE output; </claim-text>
<claim-text>an analog-to-digital converter (&ldquo;ADC&rdquo;) circuit having a first input coupled with the AFE output, the ADC operative to convert the processed analog signal at the AFE output to a time-sequenced binary signal, the binary signal being provided at an ADC output; </claim-text>
<claim-text>a digital signal processing circuit coupled with the ADC output and being operative to normalize a pulse response, an amplitude, and a sampling time of the binary signal, the normalized binary signal being provided at a digital processing circuit output; </claim-text>
<claim-text>a channel margining circuit coupled with the digital signal processing circuit output and operative to generate an optimization signal at a channel margining circuit output; and </claim-text>
<claim-text>a Viterbi detector coupled with channel margining circuit and operative to determine a data pattern of the binary signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein the channel margining circuit generates the optimization signal based on bit error signals inherent with the read/write channel. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, wherein the optimization signal comprises an amplified total bit error signal associated with noise inherent with the read/write channel. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the channel margining circuit comprises: 
<claim-text>a bit pattern generator circuit operative to generate a digital signal having a selected pattern at a bit pattern generator output; </claim-text>
<claim-text>a first summing circuit having a first input, a second input, and an output, the first input being coupled with the bit pattern generator output and being operative to receive the digital signal, the second input being operative to receive a processed binary data signal representing data read from a magnetic data storage medium, the summing circuit being operative to generate an interference signal associated with difference between the digital signal provided at the first input and the processed binary data signal at the first summing circuit input, the interference signal provided at the output; </claim-text>
<claim-text>a scaling circuit having an input coupled with the output for the first summing circuit, the scaling circuit being operative to generate a scaled interference signal at the scaling circuit output; and </claim-text>
<claim-text>a second summing circuit having a first input, a second input, and an output, the first input being coupled with the scaling circuit output and operative to receive the scaled interference signal, the second input coupled with the bit pattern generator output and operative to receive a the digital signal, the second summing circuit being operative to combine the digital signal and the scaled interference signal, the combined signals being provided at the second summing circuit output. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference>, wherein the digital signal processing circuit comprises: 
<claim-text>a finite input response (&ldquo;FIR&rdquo;) filter circuit coupled with the ADC output and being operative to equalize frequency components of the binary signal, the binary signal having equalized frequency components being provided at a FIR output; and </claim-text>
<claim-text>an interpolated timing recovery (&ldquo;ITR&rdquo;) circuit coupled with the FIR output and being operative to convert the sample time of the binary signal to a desired sample time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein the time-sequenced binary signal comprises amplitude time samples of the analog signal. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the bit pattern generator circuit is operative to generate a pseudo random binary sequence. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein the bit pattern generator circuit comprises a linear feedback shift register. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The read/write channel of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein the read/write channel comprises a partial response, maximum likelihood (&ldquo;PRML&rdquo;) read/write channel. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A method of optimizing a bit-error rate for a read/write channel, the method comprising the acts of: 
<claim-text>reading a known test data pattern signal from a magnetic data storage medium; </claim-text>
<claim-text>deriving an interference signal in response to data read from the data storage medium, the interference signal having characteristics associated with a prevailing predominant noise source in the read/write channel; </claim-text>
<claim-text>amplifying the interference signal by a scaling factor; </claim-text>
<claim-text>combining the scaled interference signal with the known test data pattern signal; and </claim-text>
<claim-text>providing the combined interference signal and the test data pattern to the read/write channel. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, further comprising the act of writing a known-data test pattern to the magnetic data storage medium. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, wherein the act of writing a known-data test pattern comprises writing a psuedo random binary sequence (&ldquo;PRBS&rdquo;) with a linear feedback shift register (&ldquo;LFSR&rdquo;). </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein the act of writing a known-data test pattern comprises writing a parity compliant PRBS to the magnetic data storage medium. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference>, wherein the act of reading data from a magnetic data storage medium comprises the acts of: 
<claim-text>receiving an analog signal associated with data stored by the magnetic medium; </claim-text>
<claim-text>processing the analog signal to comply with a desired amplitude and bandwidth; </claim-text>
<claim-text>converting the processed analog signal to a time-sequenced digital signal representative of the amplitude timed samples of the processed analog signal; and </claim-text>
<claim-text>processing the digital signal to a normalized pulse response, pulse amplitude, and pulse sample-time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the act of processing the digital signal comprises the acts of: 
<claim-text>equalizing frequency components of the digital signal with a finite input response (&ldquo;FIR&rdquo;) filter circuit; and </claim-text>
<claim-text>interpolating the digital signal with a interpolated timing recovery (&ldquo;ITR&rdquo;) circuit to synchronize the digital signal with the analog signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein the act of equalizing frequency components comprises generating a partial response class <highlight><bold>4</bold></highlight> (&ldquo;PR4&rdquo;) pulse response. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein the act of deriving the interference signal further comprises determining the difference between known data test pattern signal and the processed digital signal. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein the act of deriving a an interfering signal comprises deriving a total error signal associated with a bit error rate inherent with the read/write channel. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The method of optimizing a bit-error rate of <dependent-claim-reference depends_on="CLM-00022">claim 28</dependent-claim-reference>, wherein the method comprises optimizing a partial response, maximum likelihood based read/write channel. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. A hard disk drive, comprising: 
<claim-text>a magnetic storage medium having at least one platter configured to store data as magnetic flux; </claim-text>
<claim-text>a head operative to read data from and write data to the magnetic storage medium, the head generating an analog data signal at a head output; </claim-text>
<claim-text>a partial response, maximum likelihood (&ldquo;PRML&rdquo;) based read/write channel coupled with the head output and operative to receive and process the analog data signal generated by the head, the PRML based read/write channel; and </claim-text>
<claim-text>an channel margining circuit integrated with the PRML based read write channel, the channel margining circuit being operative to derive an interference signal associated with a bit error rate inherent with the PRML based read/write channel. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The hard disk drive of <dependent-claim-reference depends_on="CLM-00033">claim 30</dependent-claim-reference>, wherein the channel margining circuit is operative to amplify the interference signal by a variable scaling factor. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The hard disk drive of <dependent-claim-reference depends_on="CLM-00033">claim 31</dependent-claim-reference>, wherein the channel margining circuit is operative to combine the amplified interference signal with a known test data pattern signal, the combined signal being provided to a Viterbi detector. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. An margining circuit for a read/write channel, the circuit comprising: 
<claim-text>a reading means for processing a known test data pattern signal from a magnetic data storage medium; </claim-text>
<claim-text>a summing means for deriving an interference signal in response to data read from the data storage medium; </claim-text>
<claim-text>a scaling means for amplifying the interference signal by a scaling factor; and </claim-text>
<claim-text>an output means for combining the scaled interference signal with the known test data pattern signal and providing the combined signals to the read/write channel. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. The margining circuit of <dependent-claim-reference depends_on="CLM-00033">claim 33</dependent-claim-reference>, further comprising a means for writing a known-data test pattern including a psuedo random binary sequence (&ldquo;PRBS&rdquo;) to the magnetic data storage medium. </claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. The margining circuit of <dependent-claim-reference depends_on="CLM-00033">claim 34</dependent-claim-reference>, wherein the means for writing a known-data test pattern comprises writing a parity compliant PRBS to the magnetic data storage medium. </claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. The margining circuit of <dependent-claim-reference depends_on="CLM-00033">claim 35</dependent-claim-reference>, wherein the reading means comprises: 
<claim-text>a signal input means for receiving an analog signal associated with data stored by the magnetic medium; </claim-text>
<claim-text>a signal conditioning means for processing the analog signal to comply with a desired amplitude and bandwidth; </claim-text>
<claim-text>a signal conversion means for converting the processed analog signal to a time-sequenced digital signal representative of the amplitude timed samples of the processed analog signal; and </claim-text>
<claim-text>a signal normalizing means for processing the digital signal to a normalized pulse response, pulse amplitude, and pulse sample-time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. The margining circuit of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein the signal conditioning means comprises: 
<claim-text>a filter means for equalizing frequency components; and </claim-text>
<claim-text>a timing means for interpolating the digital signal to be synchronized with the analog signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. The margining circuit of <dependent-claim-reference depends_on="CLM-00033">claim 37</dependent-claim-reference>, wherein the read/write channel comprises a partial response, maximum likelihood based read/write channel.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002186A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002186A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002186A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002186A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030002186A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
