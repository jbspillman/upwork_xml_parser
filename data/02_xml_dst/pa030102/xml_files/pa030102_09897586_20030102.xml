<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004661A1-20030102-D00000.TIF SYSTEM "US20030004661A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00001.TIF SYSTEM "US20030004661A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00002.TIF SYSTEM "US20030004661A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00003.TIF SYSTEM "US20030004661A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00004.TIF SYSTEM "US20030004661A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00005.TIF SYSTEM "US20030004661A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004661A1-20030102-D00006.TIF SYSTEM "US20030004661A1-20030102-D00006.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004661</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09897586</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010629</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F019/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>702</class>
<subclass>061000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>702</class>
<subclass>062000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Automatic calibration of time keeping for utility meters</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Gordon</given-name>
<middle-name>R.</middle-name>
<family-name>Burns</family-name>
</name>
<residence>
<residence-us>
<city>West Lafayette</city>
<state>IN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>John</given-name>
<middle-name>P.</middle-name>
<family-name>Junker</family-name>
</name>
<residence>
<residence-us>
<city>Lafayette</city>
<state>IN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>Harold C. Moore</name-1>
<name-2>Maginot, Addison &amp; Moore</name-2>
<address>
<address-1>Bank One Center/Tower</address-1>
<address-2>111 Monument Circle, Suite 3000</address-2>
<city>Indianapolis</city>
<state>IN</state>
<postalcode>46204-5115</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">An arrangement for adaptive time keeping in a utility meter includes a timing circuit and a controller. The timing circuit is operable to generate timing signals. The controller is operably coupled to the timing circuit to receive timing signals therefrom. Further, the controller is operable to: generate a first real-time value based at least in part on an externally generated first reference time value; derive a subsequent second real-time value, based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; obtain an externally generated second reference time value; determine a rate adjustment based at least in part on a difference between the second real-time value and the second reference time value; and generate a subsequent real-time value based at least in part on the timing signals, the timing circuit calibration value, and the rate adjustment. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates generally to improved time keeping for utility meters, and more particularly, to adaptively calibrating a real-time clock in a utility meter responsive to inaccuracy in the real-time clock during operation of the meter. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Utility meters are devices that, among other things, measure the consumption of a utility provided commodity, such as electric energy, gas, or water, by a residence, factory, commercial establishment or other such facility. Utility service providers employ utility meters to track individual customers&apos; usage of utility provided commodities. Utilities track customer usage for many purposes, including billing and tracking demand for the relevant consumed commodity. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Increasingly, utility service providers prefer utility meters that employ electronic circuitry to perform measurement and communications operations. Electronic circuitry reduces the number of moving parts required to perform measurement operations, resulting in increased accuracy as well as higher reliability. Further, a utility meter is typically installed at or near the facility or residence of each customer. As a result, service providers historically needed field technicians or &ldquo;meter-readers&rdquo; to obtain data from the remotely located utility meters. Such manual meter reading imposes significant labor costs and is vulnerable to transportation problems and human error. Electronic circuitry also addresses this problem by allowing utility meters to communicate metering data and other information (such as, for example, various diagnostic data) to remote, central facilities, whereby large numbers of utility meters may be read remotely without human meter-readers. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Utility meters having electronic circuitry increasingly require accurate real-time clocks in order to function properly. For example, some meters store time correlated data for the purposes of charging customers different rates depending on the times of day when particular amounts of electricity are consumed. Such metering operations are typically referred to as &ldquo;time of use&rdquo; metering. Time of use metering requires a highly accurate clock to ensure accurate billing. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Another type of metering that is sensitive to clock inaccuracy is demand metering. In demand metering, a customer may be charged based on the customer&apos;s highest usage rate over any demand period within a billing cycle. A demand period is a finite time period, such as 15 minutes or an hour. An inaccurate clock can substantially degrade demand meter data, thereby resulting in significant overcharging or undercharging. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Generally, utilities have relied on two techniques to maintain time keeping accuracy in their meters: factory calibration and field synchronization. Essentially, factory calibration adjusts the rate at which time keeping devices accrue time. Traditional calibration techniques require special factory test equipment and access to components of the time keeping devices. While factory calibration settings can compensate for initial inaccuracies of the time keeping devices, factory calibration cannot accurately take into account factors that affect the accuracy of the time keeping devices over time. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> By contrast, field synchronization involves periodically resetting the meter&apos;s accrued real-time value to match a standard real-time value. In some utility meters, field synchronization involves communication circuitry that communicates with remote facilities to automatically obtain the synchronization data from remote standard clocks. Nevertheless, the effectiveness of synchronization is limited because a poorly calibrated time keeping devices will still gain or lose significant amounts of time between synchronizations. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> As a result, conventional methods of factory calibration and field synchronization of time keeping devices in utility meters still require undesirably frequent removal of the utility meters from the field for recalibrations and/or undesirably frequent field synchronization communications. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Accordingly, there is a need for an improved technique for maintaining time keeping accuracy in utility meters which reduces requirements to remove the utility meters from the field for recalibrations and reduces the required frequency of field synchronization communications. There is a further need for a utility meter which employs such a technique. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The present invention fulfills the above need, as well as others, by utilizing an adaptive calibration that automatically adjusts the calibration of the real-time clock of a utility meter. In other words, the adaptive calibration of the present invention automatically adjusts the rate at which the real-time clock operates. To this end, accrued clock error is measured with reference to a time standard. The meter automatically adjusts its time keeping calibration based on the measured clock error. As a result, long term error inducing effects, such as those due to variable environmental conditions and component aging, may be compensated to reduce the clock error. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In accordance with one embodiment of the present invention, a utility meter includes a source of commodity consumption information, a timing circuit, a communication circuit, and a controller. The timing circuit is operable to generate timing signals, and the communication circuit is operable to receive externally generated reference time values. The controller is operably coupled to: the source of commodity consumption information to receive commodity consumption information therefrom; the timing circuit to receive timing signals therefrom; and the communication circuit to obtain the externally generated reference time values therefrom. Further, the controller is operable to: generate metering information based at least in part on the commodity consumption information; generate a first real-time value based at least in part on an externally generated first reference time value; derive a subsequent second real-time value, based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; obtain an externally generated second reference time value; determine a rate adjustment based at least in part on a difference between the second real-time value and the second reference time value; and generate a subsequent real-time value based at least in part on the timing signals, the timing circuit calibration value, and the rate adjustment. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> In accordance with another embodiment of the present invention, an arrangement for adaptive time keeping in a utility meter is provided. The arrangement comprises a timing circuit and a controller. The timing circuit is operable to generate timing signals. The controller is operably coupled to the timing circuit to receive timing signals therefrom. Further, the controller is operable to: generate a first real-time value based at least in part on an externally generated first reference time value; derive a subsequent second real-time value, based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; obtain an externally generated second reference time value; determine a rate adjustment based at least in part on a difference between the second real-time value and the second reference time value; and generate a subsequent real-time value based at least in part on the timing signals, the timing circuit calibration value, and the rate adjustment. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In accordance with another embodiment of the present invention, a method of adaptively calibrating a real-time clock within a utility meter is provided. The method comprises: generating a first real-time value based at least in part on an externally generated first reference time value; deriving a subsequent second real-time value based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; obtaining an externally generated second reference time value; determining a rate adjustment based at least in part on a difference between the second real-time value and the second reference time value; and generating a subsequent real-time value based at least in part on the timing signals, the timing circuit calibration value, and the rate adjustment. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Thus, by generating timing circuit rate adjustments base on differences between externally generated elapsed time values and elapsed time values calculated within the meter, the utility meter according to the present invention automatically and adaptively calibrates its real-time time keeping circuitry responsive to observed errors in the real-time kept in the meter during operation. This reduces requirements to remove the meter from the field for recalibrations and can reduce the required frequency of field synchronization communications. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> The above discussed features and advantages, as well as others, may be readily ascertained by those of ordinary skill in the art by reference to the following detailed description and accompanying drawings.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a block diagram of an exemplary utility meter including an exemplary arrangement for adaptive time keeping according to the present invention; </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows a flow diagram of an exemplary method of adaptively calibrating a real-time clock within a utility meter according to the present invention; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows a functional schematic diagram of an exemplary electronic electrical utility meter according to the present invention; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4, 4A</cross-reference>, and <highlight><bold>4</bold></highlight>B show a flow diagram of exemplary operations for the controller <highlight><bold>22</bold></highlight> of the exemplary electronic electrical utility meter shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a block diagram of an exemplary utility meter <highlight><bold>3</bold></highlight> according to the present invention. In general, the utility meter <highlight><bold>3</bold></highlight> generates metering information regarding the usage of a commodity, such as, for example, gas, water, or electricity. The metering information may include real-time correlated quantities such as, for example, those associated with time-of-use metering. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Time-of-use metering involves the accumulation of commodity usage information that is correlated to the time of day. In this manner, the utility may use varying rates, based on the time of day, to deter usage of a commodity during traditionally high demand time periods. For example, because afternoons in the summer are traditionally high electricity demand periods, the service provider may charge a premium rate for energy consumed between 2:00 p.m. and 6:00 p.m. every day. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> In any event, to accommodate the generation of real-time correlated metering information, the exemplary utility meter <highlight><bold>3</bold></highlight> includes an arrangement for adaptive time keeping which is formed by a timing circuit <highlight><bold>5</bold></highlight> and a controller <highlight><bold>18</bold></highlight>. In general, the arrangement for adaptive time keeping generates quantities, such as, for example, numbers or signals, each of which represent a particular time, such as, for example, the time of day. The utility meter <highlight><bold>3</bold></highlight> further comprises a source of commodity consumption information <highlight><bold>4</bold></highlight> and a communication circuit <highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The source of commodity consumption information <highlight><bold>4</bold></highlight> is a device that is operable to provide commodity consumption information or data regarding a customer&apos;s present usage of at least one utility provided commodity. For example, the source of commodity consumption information <highlight><bold>4</bold></highlight> may generate electrical energy consumption information such as present watts, VAs, VARs, watt-hrs, VA-hrs, and/or VAR-hr; and/or water consumption information such as present gallons of water consumed, and/or present gallons per minute consumed, and/or other information related to the present consumption of other commodities such as gas, oil, etc. To this end, the phrases &ldquo;commodity consumption information&rdquo; and &ldquo;commodity consumption data&rdquo; are used interchangeably herein, and the source of commodity consumption information <highlight><bold>4</bold></highlight> is constructed in any of various suitable manners which are well known. An exemplary embodiment of the source of commodity consumption information <highlight><bold>4</bold></highlight> in which the commodity electrical energy is the combination of the electrical sensor circuit <highlight><bold>12</bold></highlight> and the electrical energy consumption circuit <highlight><bold>16</bold></highlight> of the exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight>, discussed in further detail in connection with <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The timing circuit <highlight><bold>5</bold></highlight> is a circuit that is operable to generate suitable timing signals representative of real-time intervals. The timing signals may be, for example, pulses having a period approximately representative of a specific time interval. As will be discussed below, the timing signals are used for, among other things, adaptive time keeping within the utility meter <highlight><bold>3</bold></highlight>. The timing circuit <highlight><bold>5</bold></highlight> is constructed in any of various suitable manners which are well known. Preferably, the timing circuit <highlight><bold>5</bold></highlight> includes a crystal oscillator circuit, such as the crystal oscillator circuit <highlight><bold>44</bold></highlight> discussed below in connection with <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The communication circuit <highlight><bold>6</bold></highlight> is generally operable to receive externally generated reference time values from an external device (not shown). Additionally, the communication circuit <highlight><bold>6</bold></highlight> suitably may be operable to effectuate other communications with one or more external devices such as, for example, to transmit metering information generated by the utility meter <highlight><bold>3</bold></highlight> to an external device. To this end, the communication circuit <highlight><bold>6</bold></highlight> is constructed in a manner which is well known and may comprise, for example, a hardwire communication circuit including a universal asynchronous receiver/transmitter (&ldquo;UART&rdquo;), a dual-tone multi-frequency (&ldquo;DTMF&rdquo;) device, or any other suitable hardwire communication device; a wireless communication circuit including an amplitude modulated (&ldquo;AM&rdquo;) receiver/transmitter, a frequency modulated (&ldquo;FM&rdquo;) receiver/transmitter, or any other suitable wireless communication device; an optical communication circuit including a fiber optic receiver/transmitter, an infrared receiver/transmitter, or any other suitable optical communication device; or any other suitable communication circuit. Various ways of making and using suitable communication circuits are well known. Nevertheless, an exemplary embodiment of the communication circuit <highlight><bold>6</bold></highlight> is the PSTN communication circuit <highlight><bold>45</bold></highlight> of the exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight>, discussed in further detail in connection with <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> The controller <highlight><bold>18</bold></highlight> is operably coupled to the source of commodity consumption information <highlight><bold>4</bold></highlight> to receive the commodity consumption information therefrom. The controller <highlight><bold>18</bold></highlight> is furthermore operably coupled to the timing circuit <highlight><bold>5</bold></highlight> to receive the timing signals therefrom. In addition, the controller <highlight><bold>18</bold></highlight> is operably coupled to the communication circuit <highlight><bold>6</bold></highlight> to obtain the externally generated reference time values therefrom. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> In preferred embodiments, the controller <highlight><bold>18</bold></highlight> is also operable to generate the metering information based at least in part on the commodity consumption information. Preferably, the controller <highlight><bold>18</bold></highlight> is further operable to time correlate the commodity consumption information and generate the metering information based at least in part on the time correlated commodity consumption information. Time correlated information is information that requires real-time information, and may include, as discussed above, time-of-use metering information. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> To facilitate the time correlation of the commodity consumption information, among other things, the controller <highlight><bold>18</bold></highlight> is further operable to maintain one or more real-time clocks, preferably as a software program executed by the controller <highlight><bold>18</bold></highlight>. The &ldquo;real-time clock&rdquo; of the controller <highlight><bold>18</bold></highlight> is operable to generate &ldquo;real-time values&rdquo; based on timing signals received from the timing circuit <highlight><bold>5</bold></highlight>. A &ldquo;real-time value&rdquo; as used herein means a quantity or quantities, such as, for example, number(s) or signal(s), which represent an approximate amount of elapsed time and may be directly or indirectly correlated to the time of day. Preferably, a real-time value monotonically increases with time. It will be appreciated that the real-time clock may constitute a separate processor and/or circuit instead of a software clock executed by the controller <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> To maintain the real-time clock in accordance with the present invention, the controller <highlight><bold>18</bold></highlight> performs adaptive time keeping operations as discussed generally below in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. As will be discussed below, the adaptive time keeping operations performed by the controller <highlight><bold>18</bold></highlight> adaptively compensate the real-time clock with the controller <highlight><bold>18</bold></highlight> for degradation in operation of the timing circuit over time. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The controller <highlight><bold>18</bold></highlight> is constructed in any of various suitable manners which are well known, and may comprise, for example, a microprocessor, a microcontroller, a state machine, discrete digital circuitry, other types of processors or a combination of any of the above. An exemplary embodiment of the controller <highlight><bold>18</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is the controller <highlight><bold>22</bold></highlight> of the exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight> which is discussed in further detail in connection with <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In operation, the exemplary utility meter <highlight><bold>3</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> works generally in the following manner. The source of commodity consumption information <highlight><bold>4</bold></highlight> generates commodity consumption information and the timing circuit <highlight><bold>5</bold></highlight> generates timing signals. The controller <highlight><bold>18</bold></highlight> receives the commodity consumption information from the source of commodity consumption information <highlight><bold>4</bold></highlight>, and generates metering information based at least in part on the commodity consumption information. The controller <highlight><bold>18</bold></highlight> furthermore receives timing signals from the timing circuit <highlight><bold>5</bold></highlight> and generates real time values based thereon. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Preferably, the metering information generated by the controller <highlight><bold>18</bold></highlight> is also based at least in part on at least one real-time value. In accordance with the present invention, the controller <highlight><bold>18</bold></highlight> also adaptively calibrates the real-time clock generally as discussed next in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows a flow diagram of an exemplary method of adaptively calibrating a real-time clock within a utility meter according to the present invention. As noted, the operations shown and described in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference> are suitably carried out by the controller <highlight><bold>18</bold></highlight> of the exemplary utility meter <highlight><bold>3</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> In step <highlight><bold>60</bold></highlight>, the controller <highlight><bold>18</bold></highlight> obtains an externally generated reference time value. The externally generated reference time value preferably represents a concurrent time value according to a suitable time standard. For example, the externally generated reference time value may be in terms of local time or Greenwich Mean Time. To this end, the controller <highlight><bold>18</bold></highlight> may suitably employ the communication circuit <highlight><bold>6</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) to receive the externally generated reference time value from an external device (not shown). Communication of the externally generated first reference time value to the communication circuit <highlight><bold>6</bold></highlight> may suitably be initiated by the external device. Alternatively, such communication suitably may be responsive to a request from the controller <highlight><bold>18</bold></highlight> via the communication circuit <highlight><bold>6</bold></highlight> to the external device. The external device is, or is connected to, a device having a relatively accurate time clock. In any event, after step <highlight><bold>60</bold></highlight>, the controller <highlight><bold>18</bold></highlight> proceeds to step <highlight><bold>70</bold></highlight>. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> In step <highlight><bold>70</bold></highlight>, once the controller <highlight><bold>18</bold></highlight> obtains the externally generated time value, the controller <highlight><bold>18</bold></highlight> generates subsequent real-time values using timing signals from the timing circuit <highlight><bold>5</bold></highlight> and a timing circuit calibration value. In particular, as discussed above in connection with <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the controller <highlight><bold>18</bold></highlight> maintains a real-time clock which generates real-time values. The real-time clock increments its real-time value based upon the timing signals received from the timing circuit <highlight><bold>5</bold></highlight>. The timing circuit calibration value is the value that converts the timing signals into real-time increments. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> For example, the timing signals may suitably be periodic voltage pulses having a period of 100 milliseconds, and the respective timing circuit calibration value suitably may be the number of pulses which are counted by a counter before the controller <highlight><bold>18</bold></highlight> increments the real-time clock by one second. In such a case, an appropriate timing circuit calibration is 10 pulses per second. Preferably, the initial timing circuit calibration value is suitably determined and set via well known factory calibration methods, which generally involve measuring the period of the timing signals on a test bench and setting the timing circuit calibration value accordingly. Additionally, as will be discussed in further detail below, the present invention employs a rate adjustment to compensate for inaccuracies in timekeeping that occur over time. Such inaccuracies may arise due to environment factors or other factors that negatively impact the operation of the crystal oscillator circuit of the timing circuit. In any event, once the controller <highlight><bold>18</bold></highlight> generates at least one subsequent real-time value in step <highlight><bold>70</bold></highlight>, the controller <highlight><bold>18</bold></highlight> proceeds to step <highlight><bold>80</bold></highlight>. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> In step <highlight><bold>80</bold></highlight>, the controller <highlight><bold>18</bold></highlight> obtains a subsequent externally-generated reference time value. In particular, from time to time, the controller <highlight><bold>18</bold></highlight> receives a real-time value from an external source for the purpose of adaptively calibrating its own real-time clock. Typically, step <highlight><bold>80</bold></highlight> occurs after the controller <highlight><bold>18</bold></highlight> has generated a substantial plurality of real-time values in step <highlight><bold>70</bold></highlight>. For example, step <highlight><bold>80</bold></highlight> may occur more than one week or month from the execution of step <highlight><bold>60</bold></highlight>. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> To obtain the subsequent externally-generated reference value, the controller <highlight><bold>18</bold></highlight> receives the value via the communication circuit <highlight><bold>6</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) from an external device (not shown). As with step <highlight><bold>60</bold></highlight>, discussed above, the external device is a device having a relatively accurate time clock. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> Communication of the subsequent externally-generated reference time value to the communication circuit <highlight><bold>6</bold></highlight> may suitably be initiated by the external device. However, it is noted that, alternatively, such communication may suitably be responsive to a communication to the external device by the controller <highlight><bold>18</bold></highlight> via the communication circuit <highlight><bold>6</bold></highlight>. In any event, after step <highlight><bold>80</bold></highlight>, the controller <highlight><bold>18</bold></highlight> proceeds to step <highlight><bold>90</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> In step <highlight><bold>90</bold></highlight>, the controller <highlight><bold>18</bold></highlight> determines a rate adjustment based at least in part on a difference between the subsequent externally-generated reference time value obtained in step <highlight><bold>80</bold></highlight> and corresponding real-time value obtained in step <highlight><bold>70</bold></highlight>. The corresponding real-time value is the most recent real-time value generated at the time the externally generated reference time value is received in step <highlight><bold>80</bold></highlight>. As discussed above in connection with <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the rate adjustment suitably influences a rate at which the controller <highlight><bold>18</bold></highlight> increments the real-time clock. In general, the rate adjustment is used to compensate for inaccurate time keeping resulting from use of the timing signals and the timing circuit calibration value. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Specifically, while the use of the timing signals and the timing circuit calibration value may initially provide accurate time keeping, degradation of components over time can lead to time keeping inaccuracies, as discussed above. For example, the period of the timing signals produced in the field may deviate from the period measured on the factory calibration bench. The deviation may be due to any of a number of factors, such as, for example, actual field temperatures that differ from the those of the calibration environment. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> In any event, the above method addresses the problem that the last determined timing circuit calibration value (whether via bench calibration or any other method) may no longer be appropriate for the current timing signals. For example, consider a situation in which the period of the timing signals was determined to be 100 milliseconds at the bench and the timing circuit calibration value was appropriately set to 10 pulses per second. In the field, however, suppose that the period doubles to 200 milliseconds due to component wear and/or temperature fluctuation. Without compensation, in this example the real-time clock would &ldquo;run slow&rdquo; or &ldquo;lose time;&rdquo; that is, the clock would only accrue 0.5 seconds for the passage of each 1 second according to a time standard. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> To address such inaccuracies, the controller <highlight><bold>18</bold></highlight> in step <highlight><bold>90</bold></highlight> determines an error in the rate at which the real-time clock in the utility meter <highlight><bold>3</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) accrues time. To this end, the controller <highlight><bold>18</bold></highlight> may determine the difference in the time accrued by its real-time clock and the time accrued by the external clock over a common interval. For example, the controller <highlight><bold>18</bold></highlight> may determine the difference in the amount of time accrued by its real-time clock and the external clock since the first externally generated reference time value was received in step <highlight><bold>60</bold></highlight>. Accordingly, the rate adjustment may be based at least in part on this error. After step <highlight><bold>90</bold></highlight>, the controller <highlight><bold>18</bold></highlight> proceeds to step <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In step <highlight><bold>100</bold></highlight>, the controller <highlight><bold>18</bold></highlight> generates subsequent real-time values using the timing signals, the timing circuit calibration value, and the rate adjustment generated in step <highlight><bold>90</bold></highlight>. As discussed above, the timing signals provide real-time intervals for the real-time clock, and the timing circuit calibration value and the rate adjustment influence the rate at which the real-time clock accrues time. To this end, as noted above in connection with <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the controller <highlight><bold>18</bold></highlight> may apply the rate adjustment and the timing circuit calibration separately and distinctly, or, alternatively, the controller <highlight><bold>18</bold></highlight> may use the rate adjustment to determine a new timing circuit calibration value. Additionally, it is noted that although in the exemplary embodiment the operations shown and described in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference> are suitably carried out by the controller <highlight><bold>18</bold></highlight> of the exemplary utility meter <highlight><bold>3</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, they may alternatively be carried out by any suitable controller. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Next, <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows a functional schematic diagram of an exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight> according to the present invention. In general, the electronic electrical utility meter <highlight><bold>10</bold></highlight> includes a sensor portion or electrical sensor circuit <highlight><bold>12</bold></highlight> and a measurement portion or measurement circuit <highlight><bold>14</bold></highlight>. The electrical sensor circuit <highlight><bold>12</bold></highlight> is operably coupled to a plurality of utility power lines including a phase A power line &phgr;A, a phase B power line &phgr;B, a phase C power line &phgr;C, and a neutral line N. The plurality of utility power lines &phgr;A, &phgr;B, &phgr;C, and N connect to an electrical utility (not shown) and provide power from the utility to a load (not shown) for which power consumption is metered by the electronic electrical utility meter <highlight><bold>10</bold></highlight>. The load may suitably be the electrical system of a residential facility, industrial facility, commercial facility, or the like. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> It is noted that the exemplary embodiment described herein is installed in what is referred to as a three phase power configuration, consisting of three phases of power lines &phgr;A, &phgr;B, and &phgr;C. The present invention, however, is in no way limited to use in any particular power configuration, and those of ordinary skill in the art may readily modify the electronic electrical utility meter <highlight><bold>10</bold></highlight> for use in single phase and other power configurations. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> Referring again to the exemplary embodiment shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the electrical sensor circuit <highlight><bold>12</bold></highlight> includes circuitry for generating signals indicative of the power provided to the load on the power lines &phgr;A, &phgr;B, &phgr;C, and N. To this end, the electrical sensor circuit <highlight><bold>12</bold></highlight> may include a plurality of current sensing devices, such as current transformers, current shunts, embedded coils or the like, which provide output measurement signals IA, IB, and IC that are representative of the current waveform on each of the lines &phgr;A, &phgr;B, and &phgr;C. Likewise, the electrical sensor circuit <highlight><bold>12</bold></highlight> may further include a plurality of voltage sensing devices, such as voltage divider circuits, which provide output measurement signals VA, VB, and VC that are representative of the voltage waveform on each of the lines &phgr;A, &phgr;B, and &phgr;C. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The measurement circuit <highlight><bold>14</bold></highlight>, in general, is a circuit that is operable to: receive the signals representative of the power on the power lines &phgr;A, &phgr;B, and &phgr;C; receive externally generated reference time values; and generate metering information. The metering information is information which, among other things, tracks the amount of power or energy consumed by the load. In the exemplary embodiment described herein, the measurement circuit <highlight><bold>14</bold></highlight> includes an electrical energy consumption circuit <highlight><bold>16</bold></highlight>, a controller <highlight><bold>22</bold></highlight>, a crystal oscillator circuit <highlight><bold>44</bold></highlight>, a PSTN communication circuit <highlight><bold>45</bold></highlight>, a power supply <highlight><bold>24</bold></highlight>, and a battery <highlight><bold>30</bold></highlight> with a diode <highlight><bold>54</bold></highlight>. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The electrical energy consumption circuit <highlight><bold>16</bold></highlight> is a device that is operable to receive the analog measurement signals from the electrical sensor circuit <highlight><bold>12</bold></highlight> and provide raw electrical energy consumption information or data, and preferably other information or data therefrom. The phrases &ldquo;electrical energy consumption information&rdquo; and &ldquo;electrical energy consumption data&rdquo; are used interchangeably herein, and mean data that includes information regarding the energy flowing through the lines &phgr;A, &phgr;B, and &phgr;C, and may by way of example consist of digital words representative of values of watts, VA, VAR, watt-hrs, VA-hrs, VAR-hrs, power quality information or even constituent values such as Vrms, Irms or power factor information. Such electrical energy consumption circuits may be integrated into a single integrated circuit package. An example of such a circuit includes the Power Measurement Integrated Circuit found with the Model S-4 Meter available from Siemens Power Transmission &amp; Distribution, Inc., in Lafayette Ind. Other examples of such circuits include the digital multiplication and DSP circuit <highlight><bold>20</bold></highlight> of U.S. Pat. No. 4,884,021 to Hammond, the digital signal processor 14 of U.S. Pat. No. 5,059,896, the front end CPU 44 of U.S. Pat. No. 5,471,137 to Briese et al., and the A/D and DSP 14 of U.S. Pat. No. 5,544,089 to Hemminger et al., all of which are incorporated herein by reference. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Referring again to the exemplary embodiment shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the controller <highlight><bold>22</bold></highlight> is a microcontroller that includes a central processing unit (&ldquo;CPU&rdquo;) <highlight><bold>32</bold></highlight>, a read only memory (&ldquo;ROM&rdquo;) <highlight><bold>34</bold></highlight>, a random access memory (&ldquo;RAM&rdquo;) <highlight><bold>36</bold></highlight>, an input/output (&ldquo;I/O&rdquo;) device <highlight><bold>39</bold></highlight>, a timing circuit interface <highlight><bold>38</bold></highlight>, and a bias connection <highlight><bold>28</bold></highlight>. The controller <highlight><bold>22</bold></highlight> is configured in a manner well known in the art to obtain electrical energy consumption data and timing signals and generate metering information therefrom. To this end, the CPU <highlight><bold>32</bold></highlight>, which preferably executes a program stored in the ROM <highlight><bold>34</bold></highlight>, is operable to control the operation of the various devices of the controller <highlight><bold>22</bold></highlight>. In particular, the CPU <highlight><bold>32</bold></highlight> receives electrical energy consumption data from the electrical energy consumption circuit <highlight><bold>16</bold></highlight> through the I/O device <highlight><bold>39</bold></highlight> and receives timing signals from the crystal oscillator circuit <highlight><bold>44</bold></highlight> through the timing circuit interface <highlight><bold>38</bold></highlight>. The timing signals are preferably periodic pulses generated by the crystal oscillator circuit <highlight><bold>44</bold></highlight>. Additional detail regarding the timing signals is provided further below. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The timing circuit interface <highlight><bold>38</bold></highlight> converts the timing signals into digital information that the controller <highlight><bold>22</bold></highlight> may use to maintain its real-time clock. Preferably, the timing circuit interface <highlight><bold>38</bold></highlight> includes a counter that converts the timing signals into a count value representing the number of timing pulses received since the counter has been reset. Further, the timing circuit interface <highlight><bold>38</bold></highlight> preferably includes an arrangement for generating an interrupt signal when the counter reaches a particular end value, where that end value may be set by the CPU <highlight><bold>32</bold></highlight>, and whereby the CPU <highlight><bold>32</bold></highlight> may cause the controller <highlight><bold>22</bold></highlight> to perform particular operations in response to the interrupt. As discussed below in connection with <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, such a configuration facilitates application of a timing circuit calibration value, CALV, as the end value for a counter, COUNT, which may suitably be within the timing circuit interface <highlight><bold>38</bold></highlight>. In any event, suitable ways of making and using the timing circuit interface <highlight><bold>38</bold></highlight> are well known. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> The CPU <highlight><bold>32</bold></highlight> is also operably connected to obtain externally generated reference time values from the PSTN communication circuit <highlight><bold>45</bold></highlight> through the I/O <highlight><bold>39</bold></highlight>. The CPU <highlight><bold>32</bold></highlight> is also operably configured to use the RAM <highlight><bold>36</bold></highlight> and/or registers internal and external to the CPU <highlight><bold>32</bold></highlight> to store various values, including interim calculations, in order to carry out processes that generate the metering information and operate the real-time clock. The metering information may include, by way of example, accumulated electrical energy consumption information as well as real-time correlated quantities associated with demand metering and time of use metering. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> The crystal oscillator circuit <highlight><bold>44</bold></highlight> is operable to generate the timing signals used by the CPU <highlight><bold>32</bold></highlight> to maintain the real-time clock. The crystal oscillator circuit <highlight><bold>44</bold></highlight> is operable to generate the timing signal in the form of voltage pulses, which are separated by fairly precise real-time periods. In the exemplary embodiment described herein, the crystal oscillator circuit <highlight><bold>44</bold></highlight> provides the voltage pulses at a frequency of about 32.768 kHz, which is a commonly used frequency for such timing applications. To this end, the crystal oscillator circuit <highlight><bold>44</bold></highlight> may suitably include a product number CM200532.768 KDZF crystal oscillator, which is manufactured by Citizen. In any event, it is noted that crystal oscillator circuit <highlight><bold>44</bold></highlight> is merely an exemplary embodiment of the timing circuit <highlight><bold>5</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, and, consequently, crystal oscillator circuit <highlight><bold>44</bold></highlight> may be replaced with any suitable alternative (which may or may not include a crystal oscillator) as discussed in connection with the timing circuit <highlight><bold>5</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> The bias connection <highlight><bold>28</bold></highlight> is a pin connection to the controller <highlight><bold>22</bold></highlight> that is coupled to the power supply <highlight><bold>24</bold></highlight>. The bias connection <highlight><bold>28</bold></highlight> is operably coupled to provide the bias power generated by the power supply <highlight><bold>24</bold></highlight> to various devices within the controller <highlight><bold>22</bold></highlight> as necessary, such as, for example, the CPU <highlight><bold>32</bold></highlight>, the RAM <highlight><bold>36</bold></highlight>, and the timing circuit interface <highlight><bold>38</bold></highlight>. Examples of controllers and processors that may be configured to operate as the controller <highlight><bold>18</bold></highlight> described herein are described in U.S. Pat. Nos. 4,884,021, 5,059,896, 5,471,137 and 5,544,089, discussed above. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The PSTN communication circuit <highlight><bold>45</bold></highlight> is operable to receive externally generated reference time values from an external device, such as, for example, a remote computer (not shown). Additionally, the PSTN communication circuit <highlight><bold>45</bold></highlight> is preferably operable to effectuate other communications with one or more external devices such as, for example, transmitting metering and/or diagnostic information generated by the electronic electrical utility meter <highlight><bold>10</bold></highlight> to an external device. In the exemplary embodiment described herein, the PSTN communication circuit <highlight><bold>45</bold></highlight> is operable to communicate over the TIP and RING lines of a public switched telephone network (&ldquo;PSTN&rdquo;), and is operably coupled to the power supply <highlight><bold>24</bold></highlight> to receive bias power therefrom. To this end, in a manner which is well known, the PSTN communication circuit <highlight><bold>45</bold></highlight> is suitably comprised of a data access arrangement circuit (&ldquo;DAA&rdquo;) (not shown) and a high speed digital modem (not shown). The DAA is a device that effectively converts signals between the signal format of the PSTN and the signal format of the modem. In addition, the DAA preferably includes a telephone circuit that performs ring detection, isolation, hook switch, and other telephony functions. The modem effectuates communications of digital information from and/or to the remote device. The DAA and the modem include data ports through which they interface with the controller <highlight><bold>22</bold></highlight> through the I/O <highlight><bold>39</bold></highlight>. Suitable DAA and modem circuitry is well known and widely available. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> In any event, it is noted that the PSTN communication circuit <highlight><bold>45</bold></highlight> described herein is merely exemplary, and the PSTN communication circuit <highlight><bold>45</bold></highlight> may be implemented in any of various alternative manners which are well known. Moreover, it is noted that the PSTN communication circuit <highlight><bold>45</bold></highlight> is merely an exemplary embodiment of the communication circuit <highlight><bold>6</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, and, consequently, the PSTN communication circuit <highlight><bold>45</bold></highlight> may be replaced with any suitable alternative as discussed in connection with the communication circuit <highlight><bold>6</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The power supply <highlight><bold>24</bold></highlight> is a circuit that is operable to convert AC electrical power received from an external power source, which in the exemplary embodiment is the phase C power line &phgr;C, to a bias voltage, preferably a DC bias voltage. The power supply <highlight><bold>24</bold></highlight> is constructed in a manner which is well known and, for example, the power supply <highlight><bold>24</bold></highlight> may suitably be a switched-mode inverter type power supply that converts the power line AC voltage received at its input <highlight><bold>24</bold></highlight><highlight><italic>a </italic></highlight>to one or more DC bias voltages provided at its output <highlight><bold>24</bold></highlight><highlight><italic>b</italic></highlight>. The power supply input <highlight><bold>24</bold></highlight><highlight><italic>a </italic></highlight>is operably coupled across the phase C power line &phgr;C and the neutral line N, and the power supply output <highlight><bold>24</bold></highlight><highlight><italic>b </italic></highlight>is operably coupled to the electrical energy consumption circuit <highlight><bold>16</bold></highlight>, the PSTN communication circuit <highlight><bold>45</bold></highlight>, and the bias connection <highlight><bold>28</bold></highlight> of the controller <highlight><bold>22</bold></highlight>. It will be noted that in the alternative, the power supply <highlight><bold>24</bold></highlight> may suitably be connected to receive electrical power from other power lines, all of the power lines or alternative power sources. In any event, various ways of making and using suitable power supplies are well known. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> The battery <highlight><bold>30</bold></highlight> and the diode <highlight><bold>54</bold></highlight> are operable to provide an alternate bias voltage in lieu of sufficient bias voltage from the power supply <highlight><bold>24</bold></highlight>. It is well known for metering devices to include battery power sources. In any event, the battery <highlight><bold>30</bold></highlight> is operably coupled to the diode <highlight><bold>54</bold></highlight>, and the diode <highlight><bold>54</bold></highlight> is operably coupled to the electrical energy consumption circuit <highlight><bold>16</bold></highlight>, the PSTN communication circuit <highlight><bold>45</bold></highlight>, the bias connection <highlight><bold>28</bold></highlight> of the controller <highlight><bold>22</bold></highlight>, and the power supply output <highlight><bold>24</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> In operation of the exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the load (not shown) obtains AC electrical power from the electrical utility (not shown) through the power lines &phgr;A, &phgr;B, &phgr;C, and N. Typically, in any of various manners which are well known, the load does some type of work for the customer. In any event, the crystal oscillator circuit <highlight><bold>44</bold></highlight> obtains AC electrical power from the power line &phgr;C. The crystal oscillator circuit <highlight><bold>44</bold></highlight> uses this power to generate timing signals in the form of a sinusoidal voltage. As discussed above, the crystal oscillator circuit <highlight><bold>44</bold></highlight> provides the timing signals to the controller <highlight><bold>22</bold></highlight> through the timing circuit interface <highlight><bold>38</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Meanwhile, the electrical sensor circuit <highlight><bold>12</bold></highlight> detects the power provided to the load and generates measurement signals representative of the power flow. The electrical sensor circuit <highlight><bold>12</bold></highlight> provides the measurement signals to the electrical energy consumption circuit <highlight><bold>16</bold></highlight>. In particular, the electrical sensor circuit <highlight><bold>12</bold></highlight> generates the three voltage measurement signals VA, VB, and VC and the three current measurement signals IA, IB, and IC. Each of the three voltage measurement signals is an analog signal that is representative of the voltage waveform on one of the power lines, and each of the three current measurement signals is an analog signal that is representative of the current waveform on one of the power lines. The electrical energy consumption circuit <highlight><bold>16</bold></highlight> then generates electrical energy consumption data or information based on the measurement signals. For example, the electrical energy consumption circuit <highlight><bold>16</bold></highlight> may generate digital signals that include electrical energy consumption information relating to watts, VAs, VARs, watt-hrs, VA-hrs, VAR-hr, or component signals thereof. In a manner which is well known, the electrical energy consumption circuit <highlight><bold>16</bold></highlight> provides the electrical energy consumption information to the controller <highlight><bold>22</bold></highlight> through the I/O device <highlight><bold>39</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The controller <highlight><bold>22</bold></highlight> uses the electrical energy consumption information to generate metering information and uses the timing signals to maintain an internal real-time clock. The controller <highlight><bold>22</bold></highlight> also uses the real-time clock and the electrical energy consumption information to generate real-time correlated metering information. Well-known examples of real-time correlated metering information include demand metering information and time of use metering information. Power quality meters, such as that disclosed in U.S. Pat. No. 5,627,759, also generate real-time correlated metering information. For example, a power quality meter may use real-time stamps in recording power surge or power sag events. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In accordance with the present invention, the controller further adaptively calibrates its internal real-time clock using externally generated reference time values which may be received, from time to time, from an external clock via the PSTN communication circuit <highlight><bold>45</bold></highlight>. <cross-reference target="DRAWINGS">FIGS. 4, 4A</cross-reference>, and <highlight><bold>4</bold></highlight>B discussed below show the operations of the controller <highlight><bold>22</bold></highlight> in maintaining and adaptively calibrating its real-time clock. For context, <cross-reference target="DRAWINGS">FIG. 4</cross-reference> also includes a block that generally represents normal metering operations, which may suitably include the generation of metering information and/or real-time correlated metering information. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> More particularly <cross-reference target="DRAWINGS">FIGS. 4, 4A</cross-reference>, and <highlight><bold>4</bold></highlight>B show a flow diagram of exemplary operations for the controller <highlight><bold>22</bold></highlight> of the exemplary electronic electrical utility meter <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. However, it is noted that although the operations shown in <cross-reference target="DRAWINGS">FIGS. 4, 4A</cross-reference>, and <highlight><bold>4</bold></highlight>B and described below are suitably carried out by the controller <highlight><bold>22</bold></highlight>, they may, nevertheless, be carried out by any suitable controller. Furthermore, the flow diagram includes the normal operations of the controller <highlight><bold>22</bold></highlight> as well as operations relating specifically to adaptively calibrating the time keeping circuitry of the electronic electrical utility meter <highlight><bold>10</bold></highlight>. Normal metering operations, such as those that relate to generating metering information, are highly generalized and are only illustrated to place the operations relating to the adaptive calibration in context. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, step <highlight><bold>200</bold></highlight> illustrates the first step, which the controller <highlight><bold>22</bold></highlight> executes upon initial power up of the electronic electrical utility meter <highlight><bold>10</bold></highlight>. The initial power up may occur, for example, when the battery <highlight><bold>30</bold></highlight> is installed or when the electronic electrical utility meter <highlight><bold>10</bold></highlight> is first connected to the power lines &phgr;A, &phgr;B, &phgr;C, and N. In any event, in step <highlight><bold>200</bold></highlight> the controller <highlight><bold>22</bold></highlight> initializes program parameters and performs other start-up operations. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Next, in general, steps <highlight><bold>300</bold></highlight> through <highlight><bold>340</bold></highlight> illustrate maintenance of a real-time clock by the controller <highlight><bold>22</bold></highlight>, while steps <highlight><bold>400</bold></highlight> through <highlight><bold>810</bold></highlight> generally illustrate other normal metering operations and operations relating to adaptively calibrating the real-time clock. Preferably, the controller <highlight><bold>22</bold></highlight> performs the operations illustrated by steps <highlight><bold>300</bold></highlight> through <highlight><bold>340</bold></highlight> fairly concurrently with the operations illustrated by steps <highlight><bold>400</bold></highlight> through <highlight><bold>810</bold></highlight>. Such concurrent operating modes are well known. For example, the controller <highlight><bold>22</bold></highlight> may suitably execute multi-tasking real-time operating system software in which the maintenance of the real-time clock is coded as one task and the adaptive calibration and the other operations are coded as one or more other tasks. It is noted, however, that concurrent performance of these two sets of steps, while preferred, is not required. For example, the operations illustrated by steps <highlight><bold>300</bold></highlight> through <highlight><bold>340</bold></highlight> and by steps <highlight><bold>400</bold></highlight> through <highlight><bold>810</bold></highlight> may be performed purely sequentially in relation to each other. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> In any event, in step <highlight><bold>300</bold></highlight> the controller <highlight><bold>22</bold></highlight> (and, more particularly the timing circuit interface <highlight><bold>38</bold></highlight>) determines whether the smallest real-time interval provided by the timing signals has elapsed. As discussed above in connection with <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the crystal oscillator circuit <highlight><bold>44</bold></highlight> provides the timing signals in the form of a periodic voltage. Accordingly, in the exemplary embodiment, the smallest real-time interval is one cycle (or one period) of the oscillator voltage pulses. The timing circuit interface <highlight><bold>38</bold></highlight> remains at step <highlight><bold>300</bold></highlight> until it determines that a cycle of the voltage pulses has elapsed. Upon elapse of the cycle, the timing circuit interface <highlight><bold>38</bold></highlight> proceeds to step <highlight><bold>310</bold></highlight>, where it increments a counter value, COUNT. After step <highlight><bold>310</bold></highlight>, the timing circuit interface <highlight><bold>38</bold></highlight> proceeds to step <highlight><bold>320</bold></highlight>. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In step <highlight><bold>320</bold></highlight>, the controller <highlight><bold>22</bold></highlight> (via the timing circuit interface <highlight><bold>38</bold></highlight>) determines whether COUNT is equal to or greater than CALV. More particularly, in the embodiment herein, the timing circuit interface <highlight><bold>38</bold></highlight> generates an interrupt which causes the CPU to execute step <highlight><bold>330</bold></highlight> (where it increments the real-time clock value, REALTIME) if COUNT is equal to or greater than CALV. Otherwise, the timing circuit interface <highlight><bold>38</bold></highlight> returns to step <highlight><bold>300</bold></highlight> to count the next timing signal pulse. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> In any event, it can be seen in steps <highlight><bold>320</bold></highlight> and <highlight><bold>330</bold></highlight> that the timing circuit calibration value influences the rate at which the real-time clock accrues time. More particularly, a higher CALV results in a higher COUNT before REALTIME is incremented, and the higher COUNT requires the elapse of a greater number of voltage pulses, which requires the elapse of a larger amount of real-time (and vice-versa). For example, for a given timing signal frequency, doubling CALV halves the rate at which the controller <highlight><bold>22</bold></highlight> increments REALTIME, and, conversely, halving CALV doubles the rate at which the controller <highlight><bold>22</bold></highlight> increments REALTIME. Accordingly, as will be discussed below in connection with steps <highlight><bold>400</bold></highlight> through <highlight><bold>800</bold></highlight>, the present invention increases or decreases CALV as necessary to effectuate an adaptive calibration. After step <highlight><bold>330</bold></highlight>, the controller <highlight><bold>22</bold></highlight> resets COUNT to zero and then loops back to step <highlight><bold>300</bold></highlight>, where it repeats steps <highlight><bold>300</bold></highlight> through <highlight><bold>340</bold></highlight> as discussed above. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Meanwhile, in step <highlight><bold>400</bold></highlight> the controller <highlight><bold>22</bold></highlight> determines whether the PSTN communication circuit <highlight><bold>45</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 3</cross-reference>) has received, from an external device (not shown), a communication indicating a new request to send an externally generated reference time value, REFT, to the electronic electrical utility meter <highlight><bold>10</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 3</cross-reference>). In the exemplary embodiment, the request to send initiates procedures related to the adaptive calibration of the real-time clock, REALTIME, the general maintenance of which is discussed above. Accordingly, if the request to send has been received, then the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>410</bold></highlight> in furtherance of the adaptive calibration; else, the controller <highlight><bold>22</bold></highlight> jumps to step <highlight><bold>810</bold></highlight> (&ldquo;normal metering operations,&rdquo; discussed below). </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In step <highlight><bold>410</bold></highlight>, the controller <highlight><bold>22</bold></highlight> uses the PSTN communication circuit <highlight><bold>45</bold></highlight> to transmit a clear to send message to the external device. The clear to send message informs the external device that the electronic electrical utility meter <highlight><bold>10</bold></highlight> is ready to receive the externally generated reference time value. After step <highlight><bold>410</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>420</bold></highlight>. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> In step <highlight><bold>420</bold></highlight>, the controller <highlight><bold>22</bold></highlight> resets a latency timer, LT, with the current real-time value from the real-time clock, REALTIME. In step <highlight><bold>440</bold></highlight> below, LT is used to correct the externally generated reference time value for the transmission time required for it to reach the electronic electrical utility meter <highlight><bold>10</bold></highlight>. After step <highlight><bold>420</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>430</bold></highlight>. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> In step <highlight><bold>430</bold></highlight>, the controller <highlight><bold>22</bold></highlight> obtains the externally generated reference time value from the PSTN communication circuit <highlight><bold>45</bold></highlight> and saves it in REFT. After step <highlight><bold>430</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>440</bold></highlight>, where it corrects the externally generated reference time value for the transmission time that was required for it to reach the electronic electrical utility meter <highlight><bold>10</bold></highlight>. The controller <highlight><bold>22</bold></highlight> makes the correction by adding to REFT the difference between the new current real-time value of the real-time clock, REALTIME, and the previous value, LT (which was stored in the latency timer in step <highlight><bold>420</bold></highlight>). The controller <highlight><bold>22</bold></highlight> saves the result as the corrected reference time value, CREFT. It is noted, however, that the latency time correction approach described herein is merely exemplary and other suitable ways of correcting the externally generated reference time for the transmission time required for communications between the external device and the electronic electrical utility meter <highlight><bold>10</bold></highlight> may be readily devised by one of ordinary skill in the art. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> For example, in alternative embodiments, the external device may suitably add an anticipated transmission delay time into the externally generated reference time value before transmitting it, thereby alleviating the need for latency correction by the controller <highlight><bold>22</bold></highlight>. Moreover, the latency time correction is not essential to the efficacy of present invention. For example, one of ordinary skill in the art will readily appreciate that the latency correction may be dispensed with altogether when the transmission time is sufficiently less than the acceptable time error between the REALTIME and the externally generated reference time value. In any event, after step <highlight><bold>440</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>450</bold></highlight>. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> In step <highlight><bold>450</bold></highlight>, the controller <highlight><bold>22</bold></highlight> determines whether a previous externally generated reference time value has been received by checking the status of a flag, T1FLAG. The time error compensation computations of the present invention require at least two reference time values. So, if a previous externally generated reference time value has been received; i.e., if T1FLAG equals one, then the controller <highlight><bold>22</bold></highlight> jumps to step <highlight><bold>480</bold></highlight>, where it continues with the adaptive calibration as discussed below. However, if a previous externally generated reference time value has not been received; i.e. the first time the real-time clock is synchronized or set upon power up of the electronic electrical utility meter <highlight><bold>10</bold></highlight>, then the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>460</bold></highlight>, where it sets the previous corrected reference time value, T1, equal to the corrected reference time value, CREFT, and then proceeds to step <highlight><bold>470</bold></highlight>, where makes a record that an externally generated reference time value has been received by setting the appropriate flag; i.e., by setting T1FLAG equal to one. After step <highlight><bold>470</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>800</bold></highlight>, which is discussed below. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> As discussed above, the controller <highlight><bold>22</bold></highlight> arrives at step <highlight><bold>480</bold></highlight> only when it is determined that a previous externally generated reference time value had been received. In step <highlight><bold>480</bold></highlight>, the controller <highlight><bold>22</bold></highlight> calculates a time error, TE. TE is the difference between the current real-time value in the real-time clock, REALTIME, and the corrected reference time value, CREFT. As discussed above, the externally generated reference time value from which CREFT is derived preferably correlates with a time standard. Thus, in such a case, TE indicates the accuracy (or inaccuracy) of the time keeping circuitry of the electronic electrical utility meter <highlight><bold>10</bold></highlight>. In other words, the closer that TE is to zero, the more accurate the real-time clock, REALTIME. After step <highlight><bold>480</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>490</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In step <highlight><bold>490</bold></highlight>, the controller <highlight><bold>22</bold></highlight> determines whether the time error, TE, is within acceptable limits. Ideally, of course, the real-time value in the real-time clock would correlate exactly with the corrected reference time, and hence, further adaptive calibration steps would be unnecessary. In such a case, REALTIME would equal CREFT and, consequently, TE would be zero. However, as discussed above, various environmental effects and aging of the time keeping circuitry of the electronic electrical utility meter <highlight><bold>10</bold></highlight> may result in a TE other than zero. Moreover, computational rounding errors within the controller <highlight><bold>22</bold></highlight> may result in the calculation of a nonzero TE even when the real-time value in the real-time clock actually correlates exactly with the external standard. So, in step <highlight><bold>490</bold></highlight>, the controller <highlight><bold>22</bold></highlight> applies a tolerance, TOLERANCE. If the controller <highlight><bold>22</bold></highlight> determines that the absolute value of TE is equal to or less than TOLERANCE, then the controller <highlight><bold>22</bold></highlight> jumps past the remaining time error compensation steps to step <highlight><bold>820</bold></highlight> (&ldquo;normal metering operations,&rdquo; discussed below); else, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>500</bold></highlight>, where it performs the time error compensation steps shown in <cross-reference target="DRAWINGS">FIGS. 4A</cross-reference> ad <highlight><bold>4</bold></highlight>B. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>A, in step <highlight><bold>530</bold></highlight> the controller <highlight><bold>22</bold></highlight> calculates a reference time interval, RTI. RTI is the difference between the corrected reference time value, CREFT, and the previous corrected reference time value, T1. After step <highlight><bold>530</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>560</bold></highlight>, where it uses RTI in calculating a raw (unfiltered) rate adjustment, RRA. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In step <highlight><bold>560</bold></highlight>, the controller <highlight><bold>22</bold></highlight> calculates the raw rate adjustment, RRA, by dividing the time error, TE, by the reference time interval, RTI, and by multiplying the result by the calibration value, CALV. Roughly, RRA represents the number that should be added or subtracted (depending on whether it is positive or negative, respectively) to the calibration value, CALV (see steps <highlight><bold>300</bold></highlight> through <highlight><bold>340</bold></highlight>, discussed above), in order to decrease or increase, respectively, the rate at which the real-time clock, REALTIME, accrues time so that the rate of REALTIME more closely corresponds to that of the external standard. After step <highlight><bold>560</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>600</bold></highlight>, where it performs the final rate adjustment steps shown in <cross-reference target="DRAWINGS">FIG. 4B</cross-reference>. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>B, in step <highlight><bold>630</bold></highlight> the controller <highlight><bold>22</bold></highlight> determines whether the raw rate adjustment, RRA, is equal to or less than the bounding error of a suitable digital filter which the controller applies in step <highlight><bold>660</bold></highlight>. As is well known, a digital filter is typically not effective for an error less than its bounding error. Accordingly, if the absolute value of RRA is equal to or less than the bounding error, then the controller <highlight><bold>22</bold></highlight> bypasses the filter by jumping to step <highlight><bold>690</bold></highlight>, where it sets a final rate adjustment, FRA, equal to the raw rate adjustment, RRA, and then proceeds to step <highlight><bold>700</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 4</cross-reference>A); else, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>660</bold></highlight>. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> In step <highlight><bold>660</bold></highlight>, the controller <highlight><bold>22</bold></highlight> calculates the final rate adjustment, FRA, using a filter which, in the exemplary embodiment described herein, uses any of various well known digital filtering techniques to approximate the following mathematical formula: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>FRA&equals;RRAe</italic></highlight><highlight><superscript>&minus;&agr;(TE&minus;&bgr;)/RTI </superscript></highlight></in-line-formula></paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> Where, as is well known, &agr; is a suitable programmable damping coefficient and &bgr; is a suitable error bounding coefficient. As discussed above, RRA is the raw rate adjustment; TE is the time error, and RTI is the reference time interval. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> The filtering reduces the sensitivity of the adaptive calibration to occasional errors in the externally generated reference time values which may arise from component failures in the external device or other reasons. As a result, such errors may be remedied between adaptive calibrations with reduced impacts on the accuracy of REALTIME. To this end, the controller <highlight><bold>22</bold></highlight> may employ any suitable alternative filter design or approximation algorithm. Furthermore, as is well known, a suitable alternative filter may be implemented using analog hardware that is separate from or integral to the controller <highlight><bold>22</bold></highlight>. Moreover, in some embodiments, the filter may suitably be omitted. In any event, after step <highlight><bold>660</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>700</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 4A</cross-reference>). </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Referring again to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>A, in step <highlight><bold>700</bold></highlight> the controller <highlight><bold>22</bold></highlight> adjusts the timing circuit calibration value, CALV, by adding to CALV the final rate adjustment, FRA and saving the result back into CALV. As discussed above, CALV adjusts the rate at which the real-time clock, REALTIME, accrues time. After step <highlight><bold>700</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>750</bold></highlight>. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> In step <highlight><bold>750</bold></highlight>, the controller <highlight><bold>22</bold></highlight> sets the previous corrected reference time value, T1, equal to the corrected reference time value, CREFT. By saving CREFT in T1, the controller <highlight><bold>22</bold></highlight> prepares for the next (subsequent) adaptive calibration, wherein it will use T1 in conjunction with a new corrected reference time value. After step <highlight><bold>750</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>800</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 4</cross-reference>). </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> Referring again to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, in step <highlight><bold>810</bold></highlight> the controller <highlight><bold>22</bold></highlight> synchronizes the real-time clock, REALTIME, with the corrected reference time, CREFT. It will be appreciated that the synchronization is in addition to the rate adjustment made by the previous steps. Synchronizing REALTIME to CREFT provides immediate accuracy to the real-time value in REALTIME. After step <highlight><bold>810</bold></highlight>, the controller <highlight><bold>22</bold></highlight> proceeds to step <highlight><bold>820</bold></highlight>. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> Step <highlight><bold>820</bold></highlight> illustrates the &ldquo;normal metering operations&rdquo; of the controller <highlight><bold>22</bold></highlight> when AC electrical power is present. In step <highlight><bold>820</bold></highlight>, the controller <highlight><bold>22</bold></highlight> receives the electrical energy consumption data through the I/O device <highlight><bold>39</bold></highlight> and generates metering information. To this end, the controller <highlight><bold>22</bold></highlight> may convert the raw electrical energy consumption data received from the electrical energy consumption circuit <highlight><bold>16</bold></highlight> to standardized units for storage and display. Such operations are well known. The controller <highlight><bold>22</bold></highlight> may in any event generate metering information including, but not limited to, watt-hrs, VA-hrs, VAR-hrs, RMS voltage and current information. Furthermore, the metering information may include time correlated information in any of various formats such as demand metering or time-of-use metering. In a manner or manners which are well known, the controller <highlight><bold>22</bold></highlight> uses real-time values from its real-time clock, REALTIME, to time correlate the information. The general maintenance of REALTIME is discussed above. It will be noted that the controller <highlight><bold>22</bold></highlight> may suitably perform several other functions during &ldquo;normal metering operations&rdquo; which are not central to the operation of the present invention, and therefore are omitted for clarity of exposition. After step <highlight><bold>820</bold></highlight>, the controller <highlight><bold>22</bold></highlight> loops back to step <highlight><bold>400</bold></highlight>, where it repeats steps <highlight><bold>400</bold></highlight> through <highlight><bold>820</bold></highlight> as discussed above. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> Therefore, there are a plurality of advantages of the present invention arising from automatically adaptively calibrating the real-time time keeping circuitry in the utility meter responsive to observed errors in the real-time kept in the meter during operation. It is noted, however, that the embodiments described herein are merely exemplary, and that those of ordinary skill in the art may readily devise their own implementations that incorporate the principals of the present invention and fall within the spirit and scope thereof. Furthermore, it is noted that alternative embodiments of the present invention may not include all of the features described herein yet still benefit from at least some of the advantages of the invention. Those of ordinary skill in the art may readily devise their own such implementations that incorporate one or more of the features of the present invention and fall within the spirit and scope thereof. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> It is further noted that the present invention is not limited to electrical utility meters, and thus, the present invention may readily be incorporated into other types of electronic utility meters, including gas meters, water meters, or other utility meters. Such utility meters would typically include a source of commodity consumption data or information, a timing circuit for generating timing signals, and a controller for generating metering information. For example, an electronic gas meter may include a source of gas consumption information, a timing circuit, and a controller for generating metering information based on the gas consumption information and the timing signals. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A utility meter, comprising: 
<claim-text>a) a source of commodity consumption information; </claim-text>
<claim-text>b) a timing circuit operable to generate timing signals; </claim-text>
<claim-text>c) a communication circuit operable to receive externally generated reference time values; and </claim-text>
<claim-text>d) a controller operably coupled to said source of commodity consumption information to receive commodity consumption information therefrom, operably coupled to said timing circuit to receive timing signals therefrom, and operably coupled to said communication circuit to obtain the externally generated reference time values therefrom, the controller operable to: 
<claim-text>generate metering information based at least in part on said commodity consumption information; </claim-text>
<claim-text>generate a first real-time value based at least in part on an externally generated first reference time value; </claim-text>
<claim-text>derive a subsequent second real-time value, based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; </claim-text>
<claim-text>obtain an externally generated second reference time value; </claim-text>
<claim-text>determine a rate adjustment based at least in part on a difference between said second real-time value and said second reference time value; and </claim-text>
<claim-text>generate a subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said source of commodity consumption information includes at least one source of electrical energy consumption information. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein said timing circuit includes at least one crystal oscillator circuit. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein said controller is further operable to correlate said metering information to at least one of said real-time values. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein said controller is further operable to: 
<claim-text>generate an adjusted real-time value based at least in part on a synchronization to said second reference time value; and </claim-text>
<claim-text>generate said subsequent real-time value further based at least in part on said adjusted real-time value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein said controller is further operable to: 
<claim-text>obtain a first difference between the second real-time value and the second reference time value; </claim-text>
<claim-text>obtain a second difference between the first reference time value and the second reference time value; </claim-text>
<claim-text>determine the rate adjustment based at least in part on the first difference and the second difference. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein said controller is further operable to determine the rate adjustment based at least in part on a tolerance around said difference between said second real-time value and said second reference time value. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, further comprising a communication circuit operably coupled to said controller to effectuate communications with the external device. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The utility meter of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the controller is further operable to generate the subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment by: 
<claim-text>generating an adjusted timing circuit calibration value based at least in part on the rate adjustment; and </claim-text>
<claim-text>generating the subsequent real-time value based at least in part on said timing signals and said adjusted timing circuit calibration value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. An arrangement for adaptive time keeping in a utility meter, the arrangement comprising: 
<claim-text>a) a timing circuit operable to generate timing signals; </claim-text>
<claim-text>b) a controller operably coupled to said timing circuit to receive timing signals therefrom, the controller operable to: 
<claim-text>generate a first real-time value based at least in part on an externally generated first reference time value; </claim-text>
<claim-text>derive a subsequent second real-time value, based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; </claim-text>
<claim-text>obtain an externally generated second reference time value; </claim-text>
<claim-text>determine a rate adjustment based at least in part on a difference between said second real-time value and said second reference time value; and </claim-text>
<claim-text>generate a subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein said timing circuit includes at least one crystal oscillator circuit. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein said controller is further operable to: 
<claim-text>generate an adjusted real-time value based at least in part on a synchronization to said second reference time value; and </claim-text>
<claim-text>generate said subsequent real-time value further based at least in part on said adjusted real-time value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, wherein said controller is further operable to: 
<claim-text>obtain a first difference between the second real-time value and the second reference time value; </claim-text>
<claim-text>obtain a second difference between the first reference time value and the second reference time value; </claim-text>
<claim-text>determine the rate adjustment based at least in part on the first difference and the second difference. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, wherein said controller is further operable to determine the rate adjustment based at least in part on a tolerance around said difference between said second real-time value and said second reference time value. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, further comprising a communication circuit operably coupled to said controller to effectuate communications with the external device. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The arrangement of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein the controller is further operable to generate the subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment by: 
<claim-text>generating an adjusted timing circuit calibration value based at least in part on the rate adjustment; and </claim-text>
<claim-text>generating the subsequent real-time value based at least in part on said timing signals and said adjusted timing circuit calibration value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A method of adaptively calibrating a real-time clock within a utility meter, the real-time clock generating real-time values based at least in part on timing signals generated by a timing circuit, the method comprising: 
<claim-text>a) generating a first real-time value based at least in part on an externally generated first reference time value; </claim-text>
<claim-text>b) deriving a subsequent second real-time value based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; </claim-text>
<claim-text>c) obtaining an externally generated second reference time value; </claim-text>
<claim-text>d) determining a rate adjustment based at least in part on a difference between said second real-time value and said second reference time value; and </claim-text>
<claim-text>e) generating a subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein: 
<claim-text>step b) includes obtaining the timing signals from at least one crystal oscillator circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein: 
<claim-text>step e) includes obtaining the timing signals from at least one crystal oscillator circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, further comprising the steps of: 
<claim-text>f) generating an adjusted real-time value based at least in part on a synchronization to said second reference time value; and </claim-text>
<claim-text>g) generating said subsequent real-time value further based at least in part on said adjusted real-time value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, wherein step d) includes: 
<claim-text>obtaining a first difference between the second real-time value and the second reference-time value; </claim-text>
<claim-text>obtaining a second difference between the first reference time value and the second reference time value; </claim-text>
<claim-text>determining the rate adjustment based at least in part on the first difference and the second difference. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, wherein step d) further includes determining the rate adjustment based at least in part on a tolerance around said difference between said second real-time value and said second reference time value. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein step c) includes effectuating communications with the external device via a communication circuit. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein step e) includes: 
<claim-text>generating an adjusted timing circuit calibration value based at least in part on the rate adjustment; and </claim-text>
<claim-text>generating the subsequent real-time value based at least in part on said timing signals and said adjusted timing circuit calibration value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. A method of generating metering information within a utility meter, the utility meter having a source of commodity consumption information and the utility meter having a real-time clock generating real-time values based at least in part on timing signals generated by a timing circuit, the method comprising: 
<claim-text>a) generating a first real-time value based at least in part on an externally generated first reference time value; </claim-text>
<claim-text>b) deriving a subsequent second real-time value based at least in part on the first real-time value, the timing signals, and a timing circuit calibration value; </claim-text>
<claim-text>c) obtaining an externally generated second reference time value; </claim-text>
<claim-text>d) determining a rate adjustment based at least in part on a difference between said second real-time value and said second reference time value; </claim-text>
<claim-text>e) generating a subsequent real-time value based at least in part on said timing signals, the timing circuit calibration value, and the rate adjustment; and </claim-text>
<claim-text>f) generating the metering information based at least in part on the commodity consumption information and said subsequent real-time value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein said source of commodity consumption information includes at least one source of electrical energy consumption information. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein: 
<claim-text>step b) includes obtaining the timing signals from at least one crystal oscillator circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein: 
<claim-text>step e) includes obtaining the timing signals from at least one crystal oscillator circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, further comprising the steps of: 
<claim-text>g) generating an adjusted real-time value based at least in part on a synchronization to said second reference time value; and </claim-text>
<claim-text>h) generating said subsequent real-time value further based at least in part on said adjusted real-time value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference>, wherein step d) includes: 
<claim-text>obtaining a first difference between the second real-time value and the second reference time value; </claim-text>
<claim-text>obtaining a second difference between the first reference time value and the second reference time value; </claim-text>
<claim-text>determining the rate adjustment based at least in part on the first difference and the second difference. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference>, wherein step d) further includes determining the rate adjustment based at least in part on a tolerance around said difference between said second real-time value and said second reference time value. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein step c) includes effectuating communications with the external device via a communication circuit. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein step e) includes: 
<claim-text>generating an adjusted timing circuit calibration value based at least in part on the rate adjustment; and </claim-text>
<claim-text>generating the subsequent real-time value based at least in part on said timing signals and said adjusted timing circuit calibration value.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004661A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004661A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004661A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004661A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004661A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004661A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004661A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
