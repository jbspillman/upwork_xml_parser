<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001883A1-20030102-P00900.TIF SYSTEM "US20030001883A1-20030102-P00900.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00000.TIF SYSTEM "US20030001883A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00001.TIF SYSTEM "US20030001883A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00002.TIF SYSTEM "US20030001883A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00003.TIF SYSTEM "US20030001883A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00004.TIF SYSTEM "US20030001883A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00005.TIF SYSTEM "US20030001883A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00006.TIF SYSTEM "US20030001883A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00007.TIF SYSTEM "US20030001883A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00008.TIF SYSTEM "US20030001883A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00009.TIF SYSTEM "US20030001883A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00010.TIF SYSTEM "US20030001883A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00011.TIF SYSTEM "US20030001883A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00012.TIF SYSTEM "US20030001883A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00013.TIF SYSTEM "US20030001883A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00014.TIF SYSTEM "US20030001883A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00015.TIF SYSTEM "US20030001883A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00016.TIF SYSTEM "US20030001883A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00017.TIF SYSTEM "US20030001883A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00018.TIF SYSTEM "US20030001883A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00019.TIF SYSTEM "US20030001883A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00020.TIF SYSTEM "US20030001883A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00021.TIF SYSTEM "US20030001883A1-20030102-D00021.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00022.TIF SYSTEM "US20030001883A1-20030102-D00022.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00023.TIF SYSTEM "US20030001883A1-20030102-D00023.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00024.TIF SYSTEM "US20030001883A1-20030102-D00024.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00025.TIF SYSTEM "US20030001883A1-20030102-D00025.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00026.TIF SYSTEM "US20030001883A1-20030102-D00026.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00027.TIF SYSTEM "US20030001883A1-20030102-D00027.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00028.TIF SYSTEM "US20030001883A1-20030102-D00028.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00029.TIF SYSTEM "US20030001883A1-20030102-D00029.TIF" NDATA TIF>
<!ENTITY US20030001883A1-20030102-D00030.TIF SYSTEM "US20030001883A1-20030102-D00030.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001883</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09908907</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010719</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G09G005/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>345</class>
<subclass>736000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Architecture for home network on world wide web with private-public IP address/URL mapping</title-of-invention>
</technical-information>
<continuity-data>
<non-provisional-of-provisional>
<document-id>
<doc-number>60220030</doc-number>
<document-date>20000721</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
<non-provisional-of-provisional>
<document-id>
<doc-number>60220032</doc-number>
<document-date>20000721</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Dongyan</given-name>
<family-name>Wang</family-name>
</name>
<residence>
<residence-us>
<city>San Jose</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>Samsung Electronics Co., Ltd.</organization-name>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>Kenneth L. Sherman</name-1>
<name-2>SHERMAN &amp; SHERMAN</name-2>
<address>
<address-1>2029 Century Park East</address-1>
<address-2>Seventeenth Floor</address-2>
<city>Los Angeles</city>
<state>CA</state>
<postalcode>90067</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">Method for providing user interfaces in a first network to a remote access device, the first network including first devices interconnected via a communication medium, and at least one interface device for connecting said first network to at least a second network, the user interfaces for controlling the devices that are currently connected to the first network. The remote access device establishes communication with the second network; the remote access device sends a request to the interface device via the second network for accessing the first network; at least one of the first devices in the first network obtains information from one or more of said first devices currently connected to the first network, said information including device information, and generates a user interface description including at least one reference associated with the device information of each of said one or more first devices, said reference including an external address for the associated device in the first network, such that the device is accessible from remote access device via the second network using said external address; the interface device sends the user interface description to the remote access device via the second network; and the remote access device displays a user interface based on the user interface description, for user interaction with the first network. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS-REFERENCES TO RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> Applicants claim the benefit of U.S. Provisional Application No. 60/220,030 entitled &ldquo;Methods and Apparatus For Remotely Accessing and Controlling a Home Network,&rdquo; filed on Jul. 21, 2000, and U.S. Provisional Application No. 60/220,032 entitled &ldquo;Methods and Apparatus For Internal-External IP Address Mapping When Remotely Accessing and Controlling a Home Network,&rdquo; filed Jul. 21, 2000, which applications are incorporated herein by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">NOTICE OF INCLUSION OF COPYRIGHTED MATERIAL </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent disclosure, as it appears in the Patent and Trademark Office patent files or records, but otherwise reserves all copyright rights whatsoever. </paragraph>
</section>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The present invention relates to the field of networks, and more particularly, to home networks having multi-media devices connected thereto. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> A network generally includes a communication link and various devices with communication capability connected to the communication link. The devices include computers, peripheral devices, routers, storage devices, and appliances with processors and communication interfaces. An example of a network is a home network for a household in which various devices are interconnected. A usual household can contain several devices including personal computers and home devices that are typically found in the home. As such the term &ldquo;device&rdquo; typically includes logical devices or other units having functionality and an ability to exchange data, and can include not only all home devices but also general purpose computers. Home devices include such electronic devices as security systems, theater equipment, TVS, VCRs, stereo equipment, and direct broadcast satellite services or (DBSS), also known as digital satellite services (DSS), sprinkler systems, lighting systems, micro waves, dish washer, ovens/stoves, washers/dryers, and a processing system in an automobile. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In general, home devices are used to perform tasks that enhance a homeowner<custom-character file="US20030001883A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00001"/>s life style and standard of living. For example, a dishwasher performs the task of washing dirty dishes and relieves the homeowner of having to wash the dishes by hand. A VCR can record a TV program to allow a homeowner to watch a particular program at a later time. Security systems protect the homeowner<custom-character file="US20030001883A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00002"/>s valuables and can reduce the homeowner&apos;s fear of unwanted entry. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Home devices, such as home theater equipment, are often controlled using a single common control unit, namely a remote control device. This single common control unit allows a homeowner to control and command several different home devices using a single interface. Thus, may manufacturers have developed control units for controlling and commanding their home devices from a single interface. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> One drawback associated with using the remote control unit to command and control home devices is that it provides static and command logic for controlling and commanding each home device. Therefore, a particular remote control unit can only control and command those home devices for which it includes the necessary control and command logic. For example, if a remote control unit comprises logic for controlling a television (TV), a video cassette recorder (VCR), and a digital video device (DVD), but not a compact disk (CD) unit, the remote control unit can not be used to command and control the CD unit. In addition, as new home devices are developed, the remote control unit will not be able to control and command the new home devices that require control and command logic that was not known at the time the remote control unit was developed. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Further, typically a remote control unit can only be used to command and control those home devices that are within the signal range of the remote control unit. Therefore, a user cannot use the remote control unit from a single location in the house to control and command home devices that are interconnected, but located in separate areas of the home. For example, a VCR that is located upstairs in a bedroom may be connected to a TV that is downstairs in the family room. If a user wishes to play a tape contained in the VCR located upstairs in the bedroom, on the TV located downstairs in the family room, the user cannot control and command both the TV and the VCR from a single location. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Another drawback associated with using remote control units is that known remote control units cannot control a plurality of diverse devices, and more particularly, cannot control a plurality of devices having different capabilities to communicate with each other in order to accomplish tasks or provide a service. Further, conventional network systems do not provide a mechanism for software applications in different network devices to automatically communicate with one another in order to accomplish tasks without direct user command. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> To alleviate the above problems, some network models provide a central/singular user interface (UI) in one device including static device information for networked devices for user control of network devices. However, in such networks a change to device information (e.g., ICON) in a device requires a change to, and rebuilding of, the top level page. Further, if the device displaying the central user interface becomes unavailable, user control of the network is curtailed. Another problem with the central/singular page is that every UI device must display the same page, and a scope is not provided for each manufacturer to generate its own UI look and feel nor alter the technology used in the UI device. The content of an icon/information representing a device cannot be changed, and a UI device cannot display a more prominent look to a device icon such as the icon for the UI device itself. Nor can a UI builder tool obtain e-business icons from an external Web Portal. Such a model cannot be standardized for industry use because a central/single UI device controls the UI. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Further, existing networks only allow communication and control of devices connected to a network (e.g., 1394) using said central user interface, without the ability to provide user interface and control of devices and services connected to another different network (e.g., Internet). Nor do existing networks allow remote communication with, and control of, devices connected to a network (e.g., 1394 home network) via another different network (e.g., Internet). </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> There is, therefore, a need for a method and a system which provides dynamic control and command devices in a home network. There is also a need for such a method and system to provide the ability for accessing devices connected to a first network and accessing devices and services connected to a second different network, and to independently generate different user interface representations of the devices connected to the first and of devices and services connected to the second network for user control and communication. There is also a need for such a method and system to provide remote communication and control of devices in a first network, from a second different network by resolving different addressing schemes between said two networks. </paragraph>
</section>
<section>
<heading lvl="1">BRIEF SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The present invention satisfies these needs. In one embodiment, the present invention provided a system and method for providing user interfaces in a first network to a remote access device, the first network including first devices interconnected via a communication medium, and at least one interface device for connecting said first network to at least a second network, the user interfaces for controlling the devices that are currently connected to the first network. Said method included the steps of: (a) the remote access device establishing communication with the second network; (b) the remote access device sending a request to the interface device via the second network for accessing the first network; (c) at least one of the first devices in the first network obtaining information from one or more of said first devices currently connected to the first network, said information including device information, and generating a user interface description including at least one reference associated with the device information of each of said one or more first devices, said reference including an external address for the associayed device in the first network, such that the device is accessible from remote access device via the second network using said external address; (d) the interface device sending the user interface description to the remote access device via the second network; and (e) the remote access device displaying a user interface based on the user interface description, for user interaction with the first network. Prerferably the communication between the remote access device and the second network, and between the second network and the first network utilizes secure communication protocols. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The step of generating said user interface description further includes the steps of generating said external address for each associated device, including a private address of that device in the first network, an address of the first network and an address of the portal, such that said device in the first network is accessible by the remote device via the second network. The method further includes the steps of transforming said modified address to a private address including said private address of the selected device in the first network, and the interface device using the private address of the selected device in the first network to communicate with the device in the first network. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Further, interaction steps include: the interface device obtaining information from the selected device, said information including device information, and generating a device user interface description including at least one reference associated with the device information of the selected device; the interface device sending the device user interface description to the remote access device via the portal; and the remote access device displaying a device user interface based on the device user interface description, for user interaction with the selected device. Thereafter, the method includes the steps of the remote access device receiving user input via the displayed device user interface, requesting control of the selected device in the first network; the remote access device sending a request for control of the selected device to the interface device via the potral, the request including said corresponding external address for the selected device; the portal sending the request to the interface device in the first network after verification; the interface device sending the request for control to the selected device, and the selected device performing a service based on the request for control; the interface debice obtaining response information from the selected device; the interface device sending the response information to the remote access device via the portal; and the remote access device displaying said response information.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> These and other features, aspects and advantages of the present invention will become better understood with regard to the following description, appended claims and accompanying drawings where: </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows an example block diagram of the architecture of an embodiment of a network according to the present invention; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows an example block diagram of the architecture another embodiment of a network according to the present invention; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates an example of a layered interface model that can be used for communicating between home devices in accordance with the present invention; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>a </italic></highlight>shows an example architecture diagram of a DVCR server device replaying video to a DTV client device capable of displaying a user interface, in a network according to the present invention; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>b </italic></highlight>shows another example architecture diagram of a server device communicating with a client device capable of displaying a user interface, in a network according to the present invention; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight> illustrate example top-level GUIs representing the functions of networked devices to a user; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows an example block diagram architecture of a home network constructed in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows an example process according to the present invention for communication between a 1394 network and a non-1394 network for IP address configuration; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c </italic></highlight>show example functional block diagrams of connections to data and control bits of an embodiment of a discovery system architecture in a network according to another aspect of the present invention; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows an example flow diagram for discovery and configuration agents in the home network in connection with the functional block diagrams in <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c; </italic></highlight></paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> shows an example flow diagram for user interface description generator agent in the home network in connection with the functional block diagrams in <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c; </italic></highlight></paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> shows a pictorial outline of a top level network user interface description including links to external services, showing actual icon and name HTML file references and addresses, according to another aspect of the present invention; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows example top-level GUI representing the functions of devices in a home network and services provided by an external network, based on the user interface description of <cross-reference target="DRAWINGS">FIG. 12</cross-reference>; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows another example process according to another aspect of the present invention for communication between a 1394 network and a non-1394 network for IP address configuration; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows an example flow diagram for user interface description generator agent in the home network for generating a top level network user interface description including links to external services, according to another aspect of the present invention; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows a pictorial outline of a top level network user interface description including links to external services and regional identification codes (RIC) using Zip codes, showing actual icon and name HTML file references and addresses, according to another aspect of the present invention; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> shows an example method of user configuration wherein a user can input general RIC information such as Zip code or area code for regional support; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows an example method of automatic configuration for obtaining IP addresses as RICs via service providers&apos; system; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> shows an example flowchart of steps of an embodiment of redirection according to the present invention in conjunction with <cross-reference target="DRAWINGS">FIG. 17</cross-reference>; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> shows an example flowchart of steps of another embodiment of redirection according to the present invention in conjunction with <cross-reference target="DRAWINGS">FIG. 18</cross-reference>; and </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> shows an example block diagram of architecture of a network system including several home networks, and several external networks, interconnected via a communication network such as the Internet, wherein redirection based on RIC is implemented according to an aspect of the present invention; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> shows an example block diagram of an embodiment of an architecture for providing remote access to a home network according to another aspect of the present invention; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> FIGS. <highlight><bold>23</bold></highlight>A-D show example flowcharts of the steps of an embodiment of a method of providing remote access to a home network in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> FIGS. <highlight><bold>24</bold></highlight>A-C show example flowcharts of the steps of an embodiment of a method of providing remote access to a home network in <cross-reference target="DRAWINGS">FIG. 22</cross-reference> using private-public (internal-external) addressing; </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Appendices 1-4, illustrative examples for: (1) Top-Level Page description 250 (Appendix 1); (2) Background.htm (Appendix 2); (3) Icon.htm (Appendix 4); and (4) Name.htm (Appendix4); </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Appendices 5-12, illustrative examples for the following htm files for generating the top level home network user interface description and GUI in FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight> including external links, wherein: </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Appendix 5&mdash;illustrates Top-Level Page Example TLNUID (index.htm) </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Appendix 6&mdash;example background.htm; </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Appendix 7&mdash;illustrates example icon.htm; </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Appendix 8&mdash;illustrates example name.htm; </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> Appendix 9&mdash;illustrates example logoicon1.htm; </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> Appendix 10&mdash;illustrates example logoname1.htm; </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> Appendix 11&mdash;illustrates example logoicon2.htm; </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Appendix 12&mdash;illustrates example logoname2.htm; </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Appendix 13 illustrates a Perl Example Program for Trace Route for regional service; </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Appendix 14 illustrates example of a redirection program; </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Appendices 15, 6, 7, 8, 16, 17, 18, and 19, illustrative examples for htm files for generating the top level home network user interface description and GUI in <cross-reference target="DRAWINGS">FIGS. 13 and 16</cross-reference> including external links with regional support, wherein: </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Appendix 15&mdash;illustrates Top-Level Page Example TLNUID (index.htm) </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Appendix 16&mdash;illustrates example logoicon1.htm; </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Appendix 17&mdash;illustrates example logoname1.htm; </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> Appendix 18&mdash;illustrates example logoicon2.htm; and </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> Appendix 19&mdash;illustrates example logoname2.htm; </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> Appendix 20&mdash;Home Network Directory Page for remote devices; </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Appendix 21&mdash;background.htm example for remote devices; </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> Appendix 22&mdash;icon.htm example for remote devices; and </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> Appendix 23&mdash;Example name.htm for remote device </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> To facilitate understanding, identical reference numerals have been used, where possible, to designate identical elements and steps that are common throughout the figures. </paragraph>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0064" lvl="7"><number>&lsqb;0064&rsqb;</number> Network Overview </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, in an embodiment of the present invention, a network <highlight><bold>10</bold></highlight> comprises multiple devices <highlight><bold>11</bold></highlight> including at least one client device <highlight><bold>12</bold></highlight> and at least one server device <highlight><bold>14</bold></highlight> interconnected via a communication link <highlight><bold>16</bold></highlight>. The communication link <highlight><bold>16</bold></highlight> can include a 1394 serial bus providing a physical layer (medium) for sending and receiving data between the various connected home devices. The 1394 serial bus supports both time-multiplexed audio/video (AN) streams and standard IP (Internet Protocol) communications (e.g., IETF RFC 2734). In certain embodiments, a home network uses an IP network layer as the communication layer for the home network. However, other communication protocols could be used to provide communication for the home network. For example, the invention may be implemented using Function Control Protocol (FCP) as defined by IEC 61883, or any other appropriate protocol. Thus, a network may generally include two or more devices interconnected by a physical layer exchange or transfer of data in accordance with a predefined communication protocol. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Each client device <highlight><bold>12</bold></highlight> may communicate with one or more server devices <highlight><bold>14</bold></highlight> in the network <highlight><bold>10</bold></highlight>. Further, each server device <highlight><bold>14</bold></highlight> may communicate with one or more other server devices <highlight><bold>14</bold></highlight>, and one or more client devices <highlight><bold>12</bold></highlight>, in the network <highlight><bold>10</bold></highlight>. Each client device <highlight><bold>12</bold></highlight> can include a user communication interface including input devices such as a mouse and keyboard for receiving user input, and a display for providing a control user interface for a user to interact with the networked devices. The user interface can include a graphical user interface (GUI) <highlight><bold>18</bold></highlight> for providing information to the user. Each server device <highlight><bold>14</bold></highlight> includes hardware as a resource in the network for providing services to the user, and can further include a server or service control program <highlight><bold>20</bold></highlight> for controlling the server hardware. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> Each server device <highlight><bold>14</bold></highlight> provides a service for the user, except control user interface, and each client device <highlight><bold>12</bold></highlight> provides a service including control user interface for user interaction with the network <highlight><bold>10</bold></highlight>. As such, only client devices <highlight><bold>12</bold></highlight> interact directly with users, and server devices <highlight><bold>14</bold></highlight> interact only with client devices <highlight><bold>12</bold></highlight> and other server devices <highlight><bold>14</bold></highlight>. Example services can include MPEG sourcing/sinking and display services. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> In an exemplary embodiment of the present invention, a browser based network (e.g., a home network) uses Internet technology to control and command devices including client devices and server devices that are connected to a network. Each device includes device information such as interface data (e.g. HTML, XML, JAVA, JAVASCRIPT,GIF, JPEG, graphics files, or any other format useful for the intended purpose) that provides an interface for commanding and controlling of the device over the network. In certain embodiments, each device includes device information such as one or more Hypertext markup Language (HTML) pages that provide for the commanding and controlling of that device. Using the browser technology, the network employs Internet standards to render the HTML pages in order to provide users with a plurality of graphical user interface (GUIs) for commanding and controlling each device. In one example, the network is configured as an intranet. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> In one embodiment, a client device comprises a device providing control interface service to a human operator, including a graphical display hardware for down communication and a mouse or other point-and-click device for up (or return) communication. A server device comprises a module supplying a service, which can be any service other than a control interface provided by a client device. As such, the server/client device relationship is a control relationship, wherein the server device provides a service but a client device can use the data, as a DTV displays video data, but need not manipulate or alter the data. It is thus consistent with this definition to observe that, frequently, a server may be a source of information and a client (a browser, for example) may be a consumer of information. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> Examples of specific functions which can be implemented by server devices include: return of information (data); performance of a function (e.g., mechanical function) and return of status; return of a data steam and status; reception of a data stream and return of status; or saving of a state for subsequent action. Examples of server devices include MPEG source, sink and display servers. While a server device typically includes a custom, built-in, control program to implement control of its own hardware, a client functions to interface with the server device. However, server device as used herein does not imply that a web server and a protocol stack must be used. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows a block diagram of an embodiment of a network <highlight><bold>100</bold></highlight> according to an aspect of the present invention. A 1394 serial bus <highlight><bold>114</bold></highlight>, described above, electronically connects multiple devices <highlight><bold>11</bold></highlight> including server devices <highlight><bold>14</bold></highlight> (e.g., DVD <highlight><bold>108</bold></highlight>, DVCR <highlight><bold>110</bold></highlight>), client devices <highlight><bold>12</bold></highlight> (e.g., DTV <highlight><bold>102</bold></highlight>, <highlight><bold>103</bold></highlight>), Bridge <highlight><bold>116</bold></highlight>, DVCR<highlight><bold>120</bold></highlight>, PC <highlight><bold>105</bold></highlight>, cable/modem access <highlight><bold>107</bold></highlight>, and DBS access <highlight><bold>109</bold></highlight>, on the network <highlight><bold>100</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates an example of a layered interface model that can be used for communicating between the devices <highlight><bold>11</bold></highlight> in accordance with the present invention. In this example, a device (server) <highlight><bold>150</bold></highlight> communicates with a client device <highlight><bold>166</bold></highlight> using one or more of the network communication layers <highlight><bold>152</bold></highlight>-<highlight><bold>164</bold></highlight>. In one example, an application in the device <highlight><bold>150</bold></highlight> communicates with an application in the device <highlight><bold>166</bold></highlight> via the network layer <highlight><bold>160</bold></highlight>. The details of lower layers <highlight><bold>162</bold></highlight> and <highlight><bold>164</bold></highlight> are not seen by the applications, whereby use of e.g. either 1394 or Ethernet does not make a difference to said applications in the devices <highlight><bold>150</bold></highlight>, <highlight><bold>166</bold></highlight>. Further not all the upper layers of the 7-layer model are used all the time (e.g., in the Web model (TCP/IP model) session layer <highlight><bold>156</bold></highlight> and presentation layer <highlight><bold>154</bold></highlight> are not used). As such, in one version, by employing the Internet Protocol standard for the network layer <highlight><bold>160</bold></highlight>, the devices can communicate with each other without having to know specific details about the other communication layers (i.e. application <highlight><bold>152</bold></highlight>, presentation <highlight><bold>154</bold></highlight>, session <highlight><bold>156</bold></highlight>, transport <highlight><bold>158</bold></highlight>, data link <highlight><bold>162</bold></highlight> and physical <highlight><bold>164</bold></highlight>). Thus, by employing the Internet Protocol standard for the network layer <highlight><bold>160</bold></highlight>, the network can use a combination of different communication layers in communicating between different devices. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> A single physical package can include several devices which are logically networked via a network layer for example as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> not necessarily via a physical network (e.g., such devices can include a VCR and a TV in a single housing). Where a logical device accesses a GUI to enable a user to control a device, the device and the logical device can be included in the same physical package. In such an embodiment, the physical device fetches a GUI from itself. However, in other embodiments the network interconnects separate physical devices, wherein for example, a first device fetches a GUI from a second device, to permit user interaction with the GUI to control the second device. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> In a presently preferred embodiment, a 1394 serial bus is used as the physical layer <highlight><bold>164</bold></highlight> for the data communications on the network <highlight><bold>100</bold></highlight>. Because of its enhanced bandwidth capabilities (e.g., enhanced and guaranteed bandwidth and isochronous stream capability), the 1394 serial bus can provide a single medium for all data communications on the network <highlight><bold>100</bold></highlight> (i.e. audio/video streams and command/control). </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> Further, the 1394 serial bus provides automatic configuration reset such that when a device is plugged in/removed all the 1394 interfaces reset, the 1394 bus reconfigures and every device knows the presence of every other device (including a newly added one or without the one just removed). Also, the 1394 interface supports a data space for configuration information that is addressable from any device allowing other devices to write/read information and make modifications e.g. to permit the operation of the network layer protocol. However, it is possible to achieve these results with different software and standards. As such, the network <highlight><bold>100</bold></highlight> is not restricted to using a 1394 serial bus, and, in alternative embodiments of the present invention, other bus types, such a Ethernet, ATM, wireless, etc., can be used as the physical layer if they meet the particular throughput requirements of an individual network (e.g., a home network). Further, a modified version of e.g. wireless-Ethernet can include the essential features of 1394. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> As depicted in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the network <highlight><bold>100</bold></highlight> includes several devices connected to the 1394 serial bus <highlight><bold>114</bold></highlight>. In this example, the devices include a DBSS <highlight><bold>104</bold></highlight> for receiving transmission signal from a satellite <highlight><bold>122</bold></highlight> for subsequent display. Associated with the DBSS is a network interface unit (&ldquo;NIU&rdquo;) which, among other things, provides an interface between the DBSS satellite transmission and the 1394 serial bus <highlight><bold>114</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> A digital video device (DVD) <highlight><bold>108</bold></highlight> is also connected to the exemplary network <highlight><bold>100</bold></highlight>. The DVD <highlight><bold>108</bold></highlight> can be used to display digitally encoded videos on a television. Also connected to the exemplary network <highlight><bold>100</bold></highlight> is a digital video cassette recorder (DVCR) <highlight><bold>110</bold></highlight>, i.e., a digital TV <highlight><bold>102</bold></highlight>. In this example, the DTV <highlight><bold>102</bold></highlight> provides a human interface for the network <highlight><bold>100</bold></highlight> by employing browser technology to allow users to control and command for devices over the home network <highlight><bold>100</bold></highlight>. A second DTV <highlight><bold>103</bold></highlight> provides another human interface for the network <highlight><bold>100</bold></highlight> by employing browser technology to allow users to control and command for devices over the home network <highlight><bold>100</bold></highlight>. The DTVs <highlight><bold>102</bold></highlight> and <highlight><bold>103</bold></highlight> can provide human interfaces for the network <highlight><bold>100</bold></highlight> as each DTV comprises a screen for displaying HTML pages. However other devices having display capability can be used to provide human interfaces. Thus, in certain embodiments of the invention, a device such as the personal computer <highlight><bold>105</bold></highlight> (PC) is used to provide a human interface for a respective home network, as a PC <highlight><bold>105</bold></highlight> typically embodies a screen display unit. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> The 1394 serial bus <highlight><bold>114</bold></highlight> is depicted as using the HTTP/IP interface protocol, and preferably HTTP/TCP/IP, wherein IP provides packet format (a one-way write only model), TCP provides an error free version of IP (e.g., ensures packets arrive and in correct order), and HTTP provides 2-wa connection (packet to server will expect a response&mdash;a &lsquo;read&rsquo; model). Certain devices can require other protocol interface types (e.g., UPD/IP, FTP/IP,TELNET/IP, SNMP/IP, DNS/IP, SMTP/IP). In certain embodiments of the invention, a proxy <highlight><bold>116</bold></highlight> can be used to interface two networks using dissimilar interface protocols on their respective mediums which, when connected, comprise the network <highlight><bold>100</bold></highlight>. The proxy <highlight><bold>116</bold></highlight> (e.g. Web proxy) can include Home Automation type protocols such as the HTML/HTTP/TCP/IP proxy for X10, Lonworks, CEBus (on their respective physical technologies), or non-IP protocols on 1394 (e.g., AVC/FCP/1394). </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In certain embodiments, the two network mediums are of the same type. For example, as depicted in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the 1394 serial bus <highlight><bold>114</bold></highlight> using the HTTP/IP interface protocol is connected by a proxy <highlight><bold>116</bold></highlight> to the Home Automation neutral <highlight><bold>118</bold></highlight> (e.g., X10). By using the proxy <highlight><bold>116</bold></highlight> as HTML/HTTP/CTP/IP/1394 proxy for VCR-Commands/AVC/FCP/1394, to interface between HTML/HTTP/TCP/IP and X10 protocols, DVCR <highlight><bold>120</bold></highlight> is also accessible on the network <highlight><bold>100</bold></highlight>. In certain other embodiments, a network can comprise two network mediums of dissimilar types, e.g., a 1394 Serial bus and Ethernet. Therefore, in certain embodiments of the invention, a proxy is used to interface two dissimilar medium types to from a single network. A discovery process, described further below, can be used for the discovery of devices that are powered on and connected to the network <highlight><bold>100</bold></highlight>. Also, the same 1394 bus can be used without need for a bridge box. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> As depicted in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, devices <highlight><bold>11</bold></highlight> including DTV <highlight><bold>102</bold></highlight>, DTV <highlight><bold>103</bold></highlight>, PC <highlight><bold>105</bold></highlight>, DVCR <highlight><bold>110</bold></highlight>, DVD <highlight><bold>108</bold></highlight>, DSS-NIU <highlight><bold>104</bold></highlight> and DVCR <highlight><bold>120</bold></highlight> represent devices that are currently connected to the network <highlight><bold>100</bold></highlight> comprising a <highlight><bold>1394</bold></highlight> network. A client-server relationship exists among the attached devices, with the DTV <highlight><bold>102</bold></highlight>, DTV <highlight><bold>103</bold></highlight> and PC <highlight><bold>105</bold></highlight> typically behaving as clients and devices DVCR <highlight><bold>110</bold></highlight>, DVD <highlight><bold>108</bold></highlight>, DSS-NIU <highlight><bold>104</bold></highlight> and DVCR <highlight><bold>120</bold></highlight> behaving as servers. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> A typical 1394 network comprises interconnected devices such as a collection of appliances including server devices offering one or more services to be controlled (e.g., DVCR <highlight><bold>100</bold></highlight> as an MPEG video recording and replay service), and client device offering a user interface (UI) service (e.g., DTV <highlight><bold>102</bold></highlight>) for controlling the server devices. Some appliances (e.g., DTV <highlight><bold>103</bold></highlight>) can have both services (e.g., MPEG decode and display capability) to be controlled, and a UI controller capability. According to an aspect of the present invention, methods and systems including protocols, document description, image compression and scripting language standards from technologies utilized in the World Wide Web standard (Web model) are used to implement t a 1394WEB user-to-device control model in the network <highlight><bold>100</bold></highlight>. The Web model is a client/server model. The controlled server device (service) comprises a Web server and the controller client device (i.e., a device capable of displaying a UI) comprises a Web client including a GUI presentation engine, described further below, such as a Web browser (e.g., Explorer&trade;, Netscape&trade;, etc.). </paragraph>
<paragraph id="P-0081" lvl="7"><number>&lsqb;0081&rsqb;</number> User Device Control </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>a </italic></highlight>shows a server device such as the DVCR <highlight><bold>110</bold></highlight> replaying MPEG video to a client device such as the DTV <highlight><bold>102</bold></highlight> in a network <highlight><bold>100</bold></highlight> according to the present invention, wherein the DTV <highlight><bold>102</bold></highlight> can display a user interface. The DVCR <highlight><bold>110</bold></highlight> includes Web server hardware and software and the DTV <highlight><bold>102</bold></highlight> includes Web browser software. A user can utilize the DTV <highlight><bold>102</bold></highlight> to request that the DTV <highlight><bold>102</bold></highlight> display a user interface based on the device information <highlight><bold>202</bold></highlight> contained in the DVCR <highlight><bold>110</bold></highlight> or based on the device information <highlight><bold>204</bold></highlight> contained in the DTV <highlight><bold>102</bold></highlight>. For example, the user can utilize a browser <highlight><bold>200</bold></highlight> in the DTV <highlight><bold>102</bold></highlight> to display an HTML control page GUI <highlight><bold>202</bold></highlight> contained in the DVCR <highlight><bold>110</bold></highlight> or an HTML control page GUI <highlight><bold>204</bold></highlight> contained in the DTV <highlight><bold>102</bold></highlight>. Each page <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> includes graphical user interface description information in HTML, wherein the browser <highlight><bold>200</bold></highlight> reads that information to generate a graphical user interface. Each page <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> represents the Control Interface of the Applications <highlight><bold>206</bold></highlight>, <highlight><bold>212</bold></highlight>, respectively. Each page <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> can include a hierarchy of pages to represent a corresponding application control interface. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Each GUI <highlight><bold>202</bold></highlight> and/or <highlight><bold>204</bold></highlight> includes active control icons and/or buttons for the user to select and control devices currently connected to the network <highlight><bold>100</bold></highlight>. If, for example, the user selects a PLAY button in the GUI <highlight><bold>202</bold></highlight> of the DVCR <highlight><bold>110</bold></highlight> displayed by the browser <highlight><bold>200</bold></highlight> on the DTV <highlight><bold>102</bold></highlight>, a hyperlink message is returned to the DVCR <highlight><bold>110</bold></highlight> Web server and directed to an application software <highlight><bold>206</bold></highlight> (e.g., MPEG Record/Replay Service Application Software) in the DVCR <highlight><bold>110</bold></highlight> for operating a DVCR hardware <highlight><bold>208</bold></highlight>. In one example, an MPEG video stream source <highlight><bold>208</bold></highlight> in the DVCR <highlight><bold>110</bold></highlight> transmits an MPEG video stream to an MPEG vide decode and display system <highlight><bold>210</bold></highlight> in the DTV <highlight><bold>102</bold></highlight> for display under the control of application control software <highlight><bold>212</bold></highlight> in the DTV <highlight><bold>102</bold></highlight>. The application software <highlight><bold>206</bold></highlight> in the DVCR <highlight><bold>110</bold></highlight> also sends information back to the application software <highlight><bold>212</bold></highlight> in the DTV <highlight><bold>102</bold></highlight>, including e.g. an acknolwdgement if the operation is successful, or an altered or different control GUI <highlight><bold>202</bold></highlight> to the DTV <highlight><bold>102</bold></highlight> indicating status to the user. There can be further communication between the application softwares <highlight><bold>206</bold></highlight> and <highlight><bold>212</bold></highlight> e.g. for setting up a 1394 isochronous video stream connection for video stream service. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>b </italic></highlight>shows another example architecture diagram of a server device communicating with a client device capable of displaying a user interface, in a network <highlight><bold>100</bold></highlight>. The server device such as DVCR <highlight><bold>110</bold></highlight> replays MPEG video to the client device such as the DTV <highlight><bold>102</bold></highlight> in the network <highlight><bold>100</bold></highlight>, wherein the DTV <highlight><bold>102</bold></highlight> can display a user interface. </paragraph>
<paragraph id="P-0085" lvl="7"><number>&lsqb;0085&rsqb;</number> Communication Protocol </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> In an embodiment of the invention, the communication protocol between devices in the network <highlight><bold>100</bold></highlight> is based on the Hypertext Transfer Protocol (HTTP 1.1), an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP is a generic, stateless, object-oriented protocol that can be use for many tasks. A feature of HTTP is the typing and negotiation of data representation, allowing devices to be built independently of the data being transferred over the network <highlight><bold>100</bold></highlight> to which the devices are connected. </paragraph>
<paragraph id="P-0087" lvl="7"><number>&lsqb;0087&rsqb;</number> GUI Description Language </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> The description document language for defining various GUIs <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> can be e.g. HTML, version 4.0, the publishing language of the World Wide Web. HTML supports text, multimedia, and hyperlink features, scripting languages and style sheets. HTML 4.0 is an SGML application conforming to International Standard ISO 8879&mdash;Standard Generalized Markup Language. </paragraph>
<paragraph id="P-0089" lvl="7"><number>&lsqb;0089&rsqb;</number> Image Compression Formats </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> To display images, three still image graphics compression formats specified by the HTML specification are utilized in the 1394WEB network <highlight><bold>100</bold></highlight> for ICON, LOGO and other graphics. The still image graphics compression formats are: Graphics Interchange Format (GIF89s), Progressive Joint Photograhic Experts Group (JPEG) and Portable Network Graphics (PNG). Table 1 shows the differences in capabilities between the three different still image graphics compression formats.  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Still Image Compression Formats</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="63PT" align="left"/>
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="49PT" align="left"/>
<colspec colname="3" colwidth="42PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry></entry>
<entry>Progressive</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry>PNG</entry>
<entry>JPEG</entry>
<entry>GIF89a</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="63PT" align="left"/>
<colspec colname="3" colwidth="49PT" align="left"/>
<colspec colname="4" colwidth="42PT" align="left"/>
<tbody valign="top">
<row>
<entry>Color Depth</entry>
<entry>48 bit</entry>
<entry>24 bit</entry>
<entry>8 bit</entry>
</row>
<row>
<entry>Colors</entry>
<entry></entry>
<entry>16.7</entry>
<entry>256</entry>
</row>
<row>
<entry>Supported</entry>
<entry></entry>
<entry>million</entry>
</row>
<row>
<entry>Formats</entry>
<entry>Raster, Vector</entry>
<entry>Raster</entry>
<entry>Raster</entry>
</row>
<row>
<entry>Supported</entry>
</row>
<row>
<entry>Compression</entry>
<entry>LZ77 derivative</entry>
<entry>JPEG</entry>
<entry>LZW</entry>
</row>
<row>
<entry>Scheme</entry>
</row>
<row>
<entry>Transparency</entry>
<entry>Per Pixel for</entry>
<entry>No</entry>
<entry>Single Color,</entry>
</row>
<row>
<entry></entry>
<entry>Grayscale &amp; RGB,</entry>
<entry></entry>
<entry>2 levels</entry>
</row>
<row>
<entry></entry>
<entry>Per Color for</entry>
<entry></entry>
<entry>(Binary)</entry>
</row>
<row>
<entry></entry>
<entry>Indexed,</entry>
</row>
<row>
<entry></entry>
<entry>256 levels</entry>
</row>
<row>
<entry>Progressive</entry>
<entry>Yes</entry>
<entry>Yes</entry>
<entry>Yes</entry>
</row>
<row>
<entry>Display</entry>
</row>
<row>
<entry>Scalable</entry>
<entry>No</entry>
<entry>No</entry>
<entry>No</entry>
</row>
<row>
<entry>Animation</entry>
<entry></entry>
<entry>No</entry>
<entry>Yes</entry>
</row>
<row>
<entry>Lossless</entry>
<entry>100%</entry>
</row>
<row>
<entry>Compression</entry>
</row>
<row>
<entry>Truecolor</entry>
<entry>48 bits</entry>
</row>
<row>
<entry>Grayscale</entry>
<entry>16 bits</entry>
</row>
<row>
<entry>1Indexed-color</entry>
<entry>yes</entry>
</row>
<row>
<entry>Gamma</entry>
<entry>Yes</entry>
</row>
<row>
<entry>Correction (light</entry>
</row>
<row>
<entry>intensity)</entry>
</row>
<row>
<entry>Chromaticity</entry>
<entry>Both</entry>
</row>
<row>
<entry>Correction</entry>
</row>
<row>
<entry>Searchable</entry>
<entry>Yes</entry>
</row>
<row>
<entry>Meta-Data</entry>
</row>
<row>
<entry>Extensibility</entry>
<entry>Yes, chunk</entry>
</row>
<row>
<entry></entry>
<entry>encoded</entry>
</row>
<row><entry namest="1" nameend="4" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0091" lvl="7"><number>&lsqb;0091&rsqb;</number> Scripting Language </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> Further, the Web scripting language, ECMA-Script-<highlight><bold>262</bold></highlight>, is utilized to provide a means for visually enhancing the GUI Web pages <highlight><bold>202</bold></highlight> as part of a Web-based client-server architecture. The scripting language is a programming language for manipulating, customizing, and automating the facilities/services of the devices. The user interface <highlight><bold>200</bold></highlight> provides basic user interaction functions, and the scripting language is utilized to expose that functionality to program control. The existing system provides the host environment of objects and facilities completing the capabilities of the scripting language. The web browser <highlight><bold>200</bold></highlight> provides the ECMA-Script host environment for client-side computation including, for example, objects that represent windows, menus, pop-ups, dialog boxes, text areas, anchors, frames, history, cookies, and input/output. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> The web browser <highlight><bold>200</bold></highlight> provides the host environment for the EXMA-Script-<highlight><bold>262</bold></highlight>, and the host environment supports attaching scripting code to events such as change of focus, page and image loading, unloading, error and abort, selection, form submission, and mouse actions. Scripting code is included within the HTML pages <highlight><bold>202</bold></highlight> and <highlight><bold>204</bold></highlight> and the displayed page is the browser <highlight><bold>200</bold></highlight> includes a combination of user interface elements, and fixed and computed text and images. The scripting code responds to user interaction without need for a main program. </paragraph>
<paragraph id="P-0094" lvl="7"><number>&lsqb;0094&rsqb;</number> Client Device Specification </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> In one example, the specification for a 1394WEB client browser <highlight><bold>200</bold></highlight> includes HTTP1.1 specification, wherein section &lsquo;8.1.2.1 Negotiation&rsquo; of the HTTP1.1 specification regarding connection persistence is modified such that an HTTP1.1 client device such as e.g. the DTV<highlight><bold>102</bold></highlight> expects a connection to server device such as e.g. the DVCR <highlight><bold>110</bold></highlight> via the 1394 to remain open, because the persistent connection in 1394WEB user control allows full status reporting from the server device (DVCR <highlight><bold>110</bold></highlight>) while the GUI <highlight><bold>202</bold></highlight> and/or <highlight><bold>204</bold></highlight> remains visible in the browser <highlight><bold>200</bold></highlight> of the client device (DTV <highlight><bold>102</bold></highlight>). The HTTP connection remains open (HTTP spec RFC 2068) wherein a client that supports persistent connections may &ldquo;pipeline&rdquo; its requests (i.e., send multiple requests without waiting for each response). A server must send its responses to those requests in the same order that the requests were received. This allows the web browser <highlight><bold>200</bold></highlight> to pipeline requests to the DVCR <highlight><bold>110</bold></highlight> which the DVCR <highlight><bold>110</bold></highlight> can then satisfy later with e.g. status responses such as Now Playing, Now Recording, Rewind Finished, Tape Broken, Etc. Other example implementations include e.g. the control page from the DVCR <highlight><bold>110</bold></highlight> can contain a request to loop on the DVCR <highlight><bold>100</bold></highlight> request of GUI description <highlight><bold>202</bold></highlight>. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> The GUI presentation engine <highlight><bold>200</bold></highlight> is utilized in the client device such as the DTV <highlight><bold>102</bold></highlight> to interpret GUI descriptions <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> written in the HTML4.0 document description language and the associated specifications (below), and to create the graphical form for display to the user. The GUI presentation engine <highlight><bold>200</bold></highlight> includes the following e.g. attributes: (1) window (GUI) minimum default size of e.g., H0&times;640 pixels (480&times;640 where 480 vertical, 640 horizontal). This default size is to insure the intended appearance in the GUIs <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> is transferred to the user in the browser <highlight><bold>200</bold></highlight>. The transferred GUIs <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> are displayed in a window 480&times;640 pixels or magnified larger with the same aspect ratio unless otherwise directed by the user; (2) still image compression formats: e.g., GIF89a, JPEG, and PNG; (3) style sheet formats and fonts: e.g., CSS1 and CSS2; (4) fonts such as the following e.g. built-in fonts are required for the client device to free simple server appliances from having to support such fonts. Minimum one font from each generic Latin family can be selected: e.g., Times New Roman, from &lsquo;serif&rsquo; family; Helvetica, from &lsquo;sans-serif&rsquo; family; Zapf-Chancery, from &lsquo;cursive&rsquo; family; Western from &lsquo;fantasy&rsquo; family; and Courier from &lsquo;monospace&rsquo; family. Other fonts can also be utilized; and (5) scripting language e.g., ECMA-262. Examples of the GUI presentation engine <highlight><bold>200</bold></highlight> include Web browsers such as Explorer&trade; and Netscape&trade; configured/customized as desired. </paragraph>
<paragraph id="P-0097" lvl="7"><number>&lsqb;0097&rsqb;</number> Server Device Specification </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> One or more of the server devices (e.g. a 1394WEB network, controlled appliance Web server such as the DVCR <highlight><bold>110</bold></highlight>), include the following six enumerated components: </paragraph>
<paragraph id="P-0099" lvl="2"><number>&lsqb;0099&rsqb;</number> (1) HTTP 1.1 web server protocol, with section &lsquo;8.1.2.1 Negotiation&rsquo; of the HTTP 1.1 specification regarding connection modified such that an HTTP1.1 server device (e.g. DVCR <highlight><bold>110</bold></highlight>) assumes that a HTTP 1.1 client device (e.g., DTV <highlight><bold>102</bold></highlight>) intends to maintain a persistent connection with the server device. The persistent connection in the 1394WEB network <highlight><bold>100</bold></highlight> allows full status reporting from e.g. the server device DVCR <highlight><bold>110</bold></highlight> to the client device DTV <highlight><bold>102</bold></highlight> while the GUI <highlight><bold>202</bold></highlight> of the DVCR <highlight><bold>110</bold></highlight> remains visible in the browser <highlight><bold>200</bold></highlight> of the DTV <highlight><bold>102</bold></highlight>. Further, a method using HTTP conditional GET to obtain the latest status of server devices can be used. Whenever the user returns to the home network directory or causes it to be refreshed, the browser <highlight><bold>200</bold></highlight> redisplays the page in its entirety. This is necessary because the HTML that underlies the home network directory may have been regenerated if a device has been added to or removed from the network <highlight><bold>100</bold></highlight>. It is also possible for device icons to be updated to reflect changes in their device&apos;s operating state. As such, browsers implemented by EIA-775.1 devices utilize HTTP &ldquo;conditional get&rdquo; requests to determine whether or not fresh copies of web pages or graphics should be retrieved from the server. </paragraph>
<paragraph id="P-0100" lvl="2"><number>&lsqb;0100&rsqb;</number> (2) Device home page GUI descriptions <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> written e.g. in HTML4.0, include file e.g. icon.htm, name.htm, logo.htm, index.htm, gif files, etc. The file index.htm is referenced by HTML links included in device icon.htm and name.htm HTML files, wherein index.htm can be optionally named e.g. &ldquo;INDEX.HTML&rdquo; or &ldquo;INDEX.HTM&rdquo;. File named INDEX.HTM is not required to be a standard name because the ICON.HTM and NAME.HTM are made with hyperlinks to the &lsquo;INDEX.HTM&rsquo;, therefore the name is arbitrary. ICON.HTM and LOGO.HTM reference the actual graphics files in the same device e.g. LOGO.GIF and ICON.GIF. The descriptions <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> are accessible by the devices (e.g., HTTP devices) in the network <highlight><bold>100</bold></highlight>. To guarantee a desired appearance, the control GUI design can be for a default GUI size of e.g. 480&times;640 pixels. For example, a transferred GUI <highlight><bold>202</bold></highlight> can be displayed in a window of 480&times;640 pixels in the browser <highlight><bold>200</bold></highlight> or magnified larger with the same aspect ratio unless otherwise directed by the user. </paragraph>
<paragraph id="P-0101" lvl="2"><number>&lsqb;0101&rsqb;</number> (3) At least two device ICON files are provided to represent the device in a top-level network page <highlight><bold>220</bold></highlight> (FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>) in the browser <highlight><bold>200</bold></highlight> showing information about the devices connected to the network. An ICON can comprise a graphic file type (e.g. GIF, JPG or PNG) and named ICON.HTM. In one example, ICON.HTM(DVCR) references the INDEX.HTM file in the HTML page <highlight><bold>202</bold></highlight> and ICON.HTM(DTV) references the INDEX.HTM file in the HTML page <highlight><bold>204</bold></highlight>. The top-level link for the control pages (e.g., INDEX.HTM) of the device can be ICON.HTM. The browser <highlight><bold>200</bold></highlight> places the icons and links therein) of a plurality of devices in the network <highlight><bold>100</bold></highlight> in the top-level HN directory page <highlight><bold>220</bold></highlight> for service discovery by the user. Then user clicks the ICON displayed in the page <highlight><bold>220</bold></highlight> and the device page (e.g. INDEX.HTM in page <highlight><bold>202</bold></highlight>) is fetched. The default displayed HN directory is the top-level discovery page. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> A number of additional and different graphic icons can also be utilized, for example, to represent device status, user configured preference or manufacturers formats which may be substituted for the icon graphic. In a discovery process described further below, ICONs from the devices connected to the network <highlight><bold>100</bold></highlight> are collected together and displayed in the top level network devices page <highlight><bold>220</bold></highlight> for selection by a user. An example device ICON specification comprises: File name ICON.HTM accessible by the HTTP server (files names are in a directory, file space, accessible by the web server so that they can be retrieved and forwarded over the network to the browser); Graphic file type such as GIF, JPG or PNG; and Icon graphic with a maximum size of 70(V)&times;130(H) pixels. </paragraph>
<paragraph id="P-0103" lvl="2"><number>&lsqb;0103&rsqb;</number> (4) At least two device LOGO files are provided to represent the device in the top-level network devices page. LOGO can comprise a graphic file type (e.g., GIF, JPG or PNG) and named LOGO.HTM. In one example, LOGO.HTM(DVCR) references the INDEX.HTM in the HTML page <highlight><bold>202</bold></highlight> and LOGO.HTM(DTV) references the INDEX.HTM in the HTML page <highlight><bold>204</bold></highlight>. In one version, the top-level link for the control pages (e.g., INDEX.HTM) of the device can be LOGO.HTM. All device logos are placed in the top-level HN directory page <highlight><bold>220</bold></highlight> for service discovery by the user. Then user clicks the LOGO displayed in the page <highlight><bold>220</bold></highlight> and the device page (e.g. <highlight><bold>202</bold></highlight>) is fetched. A number of additional and different graphics for manufacturer services can be substituted for the logo graphic format. According to the discovery process, LOGOs from devices connected to the network <highlight><bold>100</bold></highlight> are collected together and displayed in the top level network devices page <highlight><bold>220</bold></highlight> for selection by a user. An example device LOGO specification comprises: File name LOGO.HTM accessible by the HTTP server; Graphic file type such as GIF, JPG or PNG; and logo graphic maximum size of about 70(V)&times;130(H) pixels. </paragraph>
<paragraph id="P-0104" lvl="2"><number>&lsqb;0104&rsqb;</number> (5) At least one device NAME is provided to represent the device in the top-level network devices page. NAME comprises TEXT in an HTML file NAME.HTM. This text can also reference control pages (e.g., <highlight><bold>202</bold></highlight>). This is a top-level link in the discovery page to the control interface of the device. The text provides a way to distinguish identical devices whereby for e.g. two identical DTV&apos;s can be distinguished by adding NAME text &lsquo;Bedroom TV&rsquo; and &lsquo;Family Room TV&rsquo;. The text can comprise a few words to clearly represent the device type e.g. DVCR or DTV. According to the discovery process, NAMEs from devices connected to the network are accessed along with corresponding ICONs/LOGOs and displayed in the top level network devices page <highlight><bold>220</bold></highlight> under the ICON/LOGO. An example NAME specification comprises: File name NAME.HTM accessible by the HTTP server; Text unspecified, such as, with Font size 10, two lines of text can be displayed under the corresponding ICON/LOGO. Therefore, for example the space size for the NAME.HTM text can be 20 vertical by 130 horizontal to match the ICON/LOGO (70 vertical&times;130 horizontal). As shown by example in FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>, the format of the top-level UI <highlight><bold>220</bold></highlight> can comprise a matrix of icons representing the functions of the networked devices to the user. The name representing the device (from name.htm) is placed under the icon (from icon.htm) from the same device. Logo (from logo.htm) may be placed e.g. in any vacant icon position. As the Top-level description <highlight><bold>250</bold></highlight> (described further below in conjunction with <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c</italic></highlight>) is generated independently by UI capable devices, the exact design need not be prearranged. The icon, logo and name maximum sizes can be prearranges to facilitate design of the GUI matrix. </paragraph>
<paragraph id="P-0105" lvl="2"><number>&lsqb;0105&rsqb;</number> (6) A device information summary home page description document written in HTML4.0 can be provided, named e.g. &ldquo;info.html&rdquo; or &ldquo;info.htm&rdquo;, and made accessible by the HTTP server for the discovery process. A link can be provided to INFO.HTM information via control pages e.g. <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight>. The device information summary homepage provides the user a device summary instead of the detailed control interface as shown in the device homepage. Table 2 shows device attributes text that are included and others that can be included. This table can be extended to included other attributes.  
<table-cwu id="TABLE-US-00002">
<number>2</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 2</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Device information summary</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="154PT" align="left"/>
<tbody valign="top">
<row>
<entry>Name</entry>
<entry>Value</entry>
</row>
<row><entry namest="1" nameend="2" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Device Name</entry>
<entry>Device name (user configurable)</entry>
</row>
<row>
<entry>Device Location</entry>
<entry>Device location in home (user configurable)</entry>
</row>
<row>
<entry>Device Icon</entry>
<entry>Current Device ICON name</entry>
</row>
<row>
<entry>Device Type</entry>
<entry>Device type or category (VCR, DSS, TV, etc.)</entry>
</row>
<row>
<entry>Device Model</entry>
<entry>Device model</entry>
</row>
<row>
<entry>Manufacturer</entry>
<entry>Name of device manufacturer</entry>
</row>
<row>
<entry>Name</entry>
</row>
<row>
<entry>Manufacturer</entry>
<entry>Manufacturer Logo image name</entry>
</row>
<row>
<entry>Logo</entry>
</row>
<row>
<entry>Manufacturer</entry>
<entry>Device manufacturer&apos;s URL</entry>
</row>
<row>
<entry>URL</entry>
</row>
<row>
<entry>Stream Source</entry>
<entry>Service: Default source device name for this</entry>
</row>
<row>
<entry>Name Default</entry>
<entry>Device&apos;s destination service</entry>
</row>
<row>
<entry>Stream</entry>
<entry>Service: Default destination device name for this</entry>
</row>
<row>
<entry>Destination Name</entry>
<entry>Device&apos;s source service</entry>
</row>
<row>
<entry>Default</entry>
</row>
<row>
<entry>Stream Source</entry>
<entry>Type of service device can deliver (attributes</entry>
</row>
<row>
<entry>Attributes</entry>
<entry>and capability)</entry>
</row>
<row>
<entry>Stream</entry>
<entry>Type of service device can receive (attributes</entry>
</row>
<row>
<entry>Destination</entry>
<entry>and capability)</entry>
</row>
<row>
<entry>Attributes</entry>
</row>
<row><entry namest="1" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> Table 2 includes device summary information such as Manufacturer Name, Manufacturer Logo image name, and can further include a Manufacturer URL for help if there is an available Internet connection to the manufacturers Web site. Table 2 can further include a user configurable Device Name and Device Location in the home. There can be several variations of the Device Icon representing different states of the device. The Device Icon attribute field includes the name of the current icon. Therefore, the device summary information page can provide immediate device state information to the user by displaying the icon representative of current state. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> Each device can include one or more services, e.g. video Stream Source or video Stream Destination. Each source capability has a complementing Default Destination capability and each destination capability has a complementing Default Source capability. This Stream Default Name entry can be used e.g. to automatically default the nearest DTV to be the destination when a DVCR is being controlled as source to eliminate having to select the DTV each time. A background cross-referencing of the Stream Default Name to 1394 address is provided. The video stream services are provided by the 1394 interface itself (not by Web model). As such there is a linkage of the default source or sink to the 1394 address mechanism. The user can access a device and select a name for default, which is then saved on the device. The device&apos;s software agent must find the 1394 address and parameters for the 1394 s/w to enable the default stream when required. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> Using the Source and Destination service attributes, new server/services can be implemented while maintaining compatibility with existing host or device (nodes) and services. For example, if a new server device providing a new service is developed that is compatible with an existing server device, both the new and existing serviers can be added to the attribute list of the new node while maintaining compatibility with existing nodes using the existing server in the network <highlight><bold>100</bold></highlight>. The user can select a compatible device for purchase. These provide a user with &ldquo;ABOUT&rdquo; information to check capabilities of existing equipment e.g. prior to purchasing new equipment where compatibility is desired. </paragraph>
<paragraph id="P-0109" lvl="7"><number>&lsqb;0109&rsqb;</number> Network Operation </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> A discovery process for every device supporting the 1394WEB standard (e.g. devices capable of displaying a user interface) gathers device information from devices connected to the network <highlight><bold>100</bold></highlight> to generate the top-level user control page description for the home network, wherein each device is represented by a graphical icon reference and a textual name reference detailed above. The top-level description can include a default page for a presentation engine such as the browser <highlight><bold>200</bold></highlight>, wherein the browser <highlight><bold>200</bold></highlight> collects the graphic images and names from the devices as it renders the network top-level graphical user interface <highlight><bold>220</bold></highlight> (GUI) displayed in the browser <highlight><bold>200</bold></highlight> as shown by example in FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>. The dynamically created top-level HN directory page <highlight><bold>220</bold></highlight> is made the default page for the browser (first page displayed when the browser is launched). </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> With reference to <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>b, </italic></highlight>example operation steps include: (1) the browser <highlight><bold>200</bold></highlight> in device <highlight><bold>102</bold></highlight> is launched, (2) the browser 200 fetches and presents HN-Directory HTM (Top-Level UI) from the page <highlight><bold>204</bold></highlight>, (3) the browser <highlight><bold>200</bold></highlight> fetches the HTM files icon.htm and names.htm from pages <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> and presents in the Top-Level UI, (4) the browser <highlight><bold>200</bold></highlight> fetches any graphics files (e.g., GIF) from pages <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight>, and presents in Top-Level UI, (5) the browser <highlight><bold>200</bold></highlight> is then able to present the full HN_Directory page <highlight><bold>220</bold></highlight> (page <highlight><bold>220</bold></highlight> is made with hyperlinks to &lsquo;INDEX.HTM&rsquo; files for different devices connected to the network <highlight><bold>100</bold></highlight>), and (6) when a user clicks e.g. DVCR icon in GUI <highlight><bold>220</bold></highlight> to control the DVCR <highlight><bold>110</bold></highlight>, a corresponding hyperlink in the top-level page <highlight><bold>220</bold></highlight> to &lsquo;INDEX.HTM&rsquo; of the DVCR <highlight><bold>110</bold></highlight> is used to retrieve the &lsquo;INDEX.HTM&rsquo; (top control page of DVCR) from page <highlight><bold>202</bold></highlight> in the DVCR <highlight><bold>110</bold></highlight>, and present the DVCR control page to the user (e.g., if the frame that was clicked (e.g. the icon.htm frame) is not large enough, a graphic is presented in another copy of the browser with full frame size). The user can then command and control the DVCR <highlight><bold>110</bold></highlight> using the control interface provided by &lsquo;INDEX.HTM&rsquo; of the DVCR device <highlight><bold>110</bold></highlight> presented by the browser <highlight><bold>200</bold></highlight> in the DTV <highlight><bold>102</bold></highlight> </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> The name &lsquo;INDEX.HTM&rsquo; is arbitrary because the ICON.HTM and NAME.HTM are made with hyperlinks to the &lsquo;INDEX.HTM&rsquo;. However, ICON.HTM and LOGO.HTM reference the actual graphics files (e.g. LOGO.GIF and ICON.GIF) in the same devices. In one embodiment, LOGO.HTM can be optional if a logo for a device is optional. The HN_Directory HTML file can have a standard name so that it can be accessed from another device. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight> show that the host device, such as a client device (e.g., DTV <highlight><bold>102</bold></highlight>, HDTV1) or server device (e.g., DVCR <highlight><bold>110</bold></highlight>) that generates and presents the top-level GUI page <highlight><bold>220</bold></highlight> can assume priority and use a larger size icon for the host device&apos;s icon, name, logo, etc. In one version, only devices with servers (services on offer) are displayed in the GUI <highlight><bold>220</bold></highlight> (a &ldquo;Client device&rdquo; comprises device with Client capability, where if it is only client then it is not displayed in the top-level GUI as there is no service to offer). The discovery process reads information from the 1394 address space data storage (configuration ROM structure), as defined in clause <highlight><bold>8</bold></highlight> of ISO/IEC 13213. Although called &lsquo;ROM&rsquo; it is assumed that the address space is write-able to allow user configuration and modification of user relevant stored values. The contents of the configuration ROM and the discovery process are described further below. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> Device naming, addressing and discovery processes for home or local network control of consumer devices using Internet, Web and 1394 technology, can be different from the requirements and practice in the general Internet space. As such according to an aspect of the present invention for in home or local network control of consumer devices, special processes including device discovery, addressing and naming requirements are utilized. For example, the home network must fully function without the presence of external communications and services, without a network administrator, and configuration must be fully automatic. User control can be in many cases entirely keyboard-less. Further, the IEEE1394 protocol is utilized to provide a sophisticated interface including features that can be provide simple, efficient and superior discovery and configuration functions. </paragraph>
<paragraph id="P-0115" lvl="7"><number>&lsqb;0115&rsqb;</number> 1394 Home Network </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows a block diagram of a network <highlight><bold>300</bold></highlight> constructed in accordance with another embodiment of the present invention. To facilitate understanding, identical reference numerals have been used, where possible, to designate identical elements that are common throughout all the figures herein. As depicted in <cross-reference target="DRAWINGS">FIG. 7, a</cross-reference> 1394 serial bus <highlight><bold>114</bold></highlight>, described above, electronically connects multiple devices including server devices <highlight><bold>14</bold></highlight> (e.g., DVD <highlight><bold>108</bold></highlight>, DVCR <highlight><bold>110</bold></highlight>) and client devices <highlight><bold>12</bold></highlight> (e.g., DTV <highlight><bold>102</bold></highlight>) on the network <highlight><bold>100</bold></highlight>, described above in reference to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, wherein the devices communicate using the example layered interface model of <cross-reference target="DRAWINGS">FIG. 3</cross-reference> as described above. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> The network <highlight><bold>300</bold></highlight> is not restricted to using a 1394 serial bus, and, in alternative embodiments of the present invention, other bus types, such a Ethernet, ATM wireless, etc., can be used as the physical layer if they meet the particular throughput requirements of an individual network (e.g., a home network). As depicted in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the network <highlight><bold>300</bold></highlight> includes several devices connected to the 1394 serial bus <highlight><bold>114</bold></highlight>. In this example, the devices include a DBSS <highlight><bold>104</bold></highlight> for receiving transmission signal from a satellite <highlight><bold>122</bold></highlight> for subsequent display. Associated with the DBSS is a network interface unit (&ldquo;NIU&rdquo;) which, among other things, provides an interface between the DBSS satellite transmission and the 1394 serial bus <highlight><bold>114</bold></highlight>. A digital video device (DVD) <highlight><bold>108</bold></highlight> is also connected to the exemplary network <highlight><bold>300</bold></highlight>. The DVD <highlight><bold>108</bold></highlight> can be used to source digitally encoded videos for display on e.g. a digital television. Also connected to the exemplary network <highlight><bold>100</bold></highlight> is a digital video cassette recorder (DVCR) <highlight><bold>110</bold></highlight>, a digital TV (DTV)<highlight><bold>102</bold></highlight>. In this example, the DTV <highlight><bold>102</bold></highlight> provides a human interface for the network <highlight><bold>300</bold></highlight> by employing browser technology to allow users to control and command for devices over the home network <highlight><bold>300</bold></highlight>. A second DTV <highlight><bold>103</bold></highlight> provides another human interface for the network <highlight><bold>100</bold></highlight> by employing browser technology to allow users to control and command for devices over the home network <highlight><bold>100</bold></highlight>. The DTVs <highlight><bold>102</bold></highlight> and <highlight><bold>103</bold></highlight> can provide human interfaces for the network <highlight><bold>300</bold></highlight> as each DTV comprises a screen for displaying HTML pages. However other devices having display capability can be used to provide human interfaces. Thus, in certain embodiments of the invention, a device such as a personal computer <highlight><bold>105</bold></highlight> (PC) is used to provide a human interface for a respective home network, as a PC <highlight><bold>105</bold></highlight> typically embodies a screen display unit. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> The 1394 serial bus <highlight><bold>114</bold></highlight> is depicted as using the HTTP/IP interface protocol, and preferably HHTP/TCP/IP, wherein IP provides packet format (a one-way write only model), TCP provides an error free version of IP (e.g., ensures packets arrive and in correct order), and HTTP provides 2-wa connection (packet to server will expect a response&mdash;a &lsquo;read&rsquo; model). Certain devices can require other protocol interface types (e.g., TCP/IP, UPD/IP, FTP/IP,TELNET/IP, SNMP/IP, DNS/IP, SMTP/IP). In certain embodiments of the invention, a proxy <highlight><bold>116</bold></highlight> can be used to interface two networks using dissimilar interface protocols on their respective mediums which, when connected, comprise the network <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> For example, as depicted in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the 1394 serial bus <highlight><bold>114</bold></highlight> using the HTTP/IP interface protocol is connected by a proxy <highlight><bold>116</bold></highlight> to the Home Automation network <highlight><bold>118</bold></highlight> (e.g., X10). By using the proxy <highlight><bold>116</bold></highlight> as HTML/HTTP/CTP/IP/1394 proxy for VCR-Commands/AVC/FCP/1394, to interface between HTML/HTTP/TCP/IP and X10 protocols, DVCR <highlight><bold>120</bold></highlight> is also accessible on the network <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> In this embodiment, the network <highlight><bold>300</bold></highlight> can be connected to an external network <highlight><bold>119</bold></highlight> of dissimilar type (e.g., Ethernet) to the 1394 Serial bus, via a bus <highlight><bold>121</bold></highlight>. A proxy <highlight><bold>117</bold></highlight> is used to interface the two dissimilar medium types. For communication between the addressing scheme of the external network <highlight><bold>119</bold></highlight>, and the addressing scheme of the network <highlight><bold>300</bold></highlight>, the bridge <highlight><bold>117</bold></highlight> comprises a Network Address Translation (NAT) boundary. This technique can be utilized for company LAN&apos;s and is a &lsquo;divide and conquer&rsquo; approach to the complex problem of satisfying various network&apos;s differing IP address requirements and prevents &lsquo;running out of IPV4&rsquo; addresses. The external network can include e.g. CABLE-TV network <highlight><bold>115</bold></highlight> via Ethernet to the telephone e.g. ADSL), providing broadband connection to the Internet and WWW. The Ethernet <highlight><bold>119</bold></highlight> provides the bridge function to the external network. The bridge <highlight><bold>117</bold></highlight> or Ethernet <highlight><bold>119</bold></highlight> may provide the NAT address conversion function. If the Ethernet is to provide local private (to home only) addressing (e.g. as defined by then IETF standard RFC 1918) then the NAT function is in the Ethernet <highlight><bold>119</bold></highlight>. Existing cable modems are set up with a global address and also Internet global address for the PC on the Ethernet (in this case the NAT is in the bridge 117). </paragraph>
<paragraph id="P-0121" lvl="7"><number>&lsqb;0121&rsqb;</number> IP Name/Address Configuration </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> The aforementioned device naming, addressing and discovery processes for the network <highlight><bold>300</bold></highlight> are now described. For device naming, point and click Web operation (e.g., using GUI/Web) does not require name services (DNS, Domain Name Service). The Web GUI provides an abstraction layer, and the addresses are hidden as hyper-text links invoked by user &lsquo;clicks&rsquo; to active GUI areas (e.g., buttons). Any change to the devices in the local network <highlight><bold>300</bold></highlight> causes the top-level discovery GUI page <highlight><bold>200</bold></highlight> (FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>) to be recreated by the browser <highlight><bold>200</bold></highlight> (<cross-reference target="DRAWINGS">FIGS. 4</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>b</italic></highlight>) representing the status of the devices in the network <highlight><bold>300</bold></highlight> at that time and by default presented to the user for immediate use. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> For device to device control a different look-up service is utilized for more than names (e.g., service look-up and application look-up). As such, DNS may not provide the necessary features for device to device control. However, a device (e.g., a 1394 connected PC) can access a DNS service as usual. DNS is not required for discovery or operation of devices/services within the home, but DNS (name to address) look-up service is required for external accesses e.g. from a PC. When a name e.g. &ldquo;www.yahoo.com&rdquo; is typed in to a Browser then look up take place for the IP address of the Yahoo computer, i.e. 216.32.74.52, because the Internet (even home internet) operates with addresses. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> For a 775WEB UI device which includes an agent for generating the HN top-level directory GUI description and also includes access to the special company web server e.g. homewideweb.com (IP address), can also have the DNS address knowledge. The DNS server computer IP address can be any IP address under the control of the manufacturer. Effectively the DNS address is built-in to the device (or can be updated if the agent is made to be update-able and is later updated). </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> For device addressing, in one embodiment of the invention, utilizing fixed IP addresses from a large address space can afford the simplest and most reliable network configuration, and the readily accessible ROM data space in the 1394 interface allows utilization of fixed IP addresses therein. In another embodiment of the invention, non-fixed IP (dynamic) addresses can be utilized, wherein an abstraction layer (e.g., name or look-up mechanism) is employed to retain pre-organized communications </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> For IP address configuration, the following protocols can be utilized: (1) Dynamic Host Configuration Protocol (DHCP) with DHCP servers and DHCP clients, (2) DHCP clients resort to auto-configuration (DHCP server not present), and (3) preferably, FWHCP (Fire-Wire Host Configuration Protocol) server agent(s) and FWHCP clients, described further below. The auto-configuration in (2) above is that proposed as an IETF Draft &ldquo;draft-ieft-dhc-ipv4-autoconfig-04.txt&rdquo;. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> DHCP requires support of the BOOTP/UDP protocol, and replicates what is done within the 1394 specification and provides features such as lease time and dynamic addressing. Typical DHCP requires management by an administrator and must be configured and adapted to the network requirements of mass manufactured consumer electronics (CE) appliances where, for example, multiple identical CE appliances with DHCP server built-ins must be considered. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> The 1394 technology provides &lsquo;Plug-in&rsquo; or &lsquo;Power-up&rsquo; reset and following &lsquo;Self-ID&rsquo; sequences, well suited for network configuration. Further, the 1394 specification provides a built-in &lsquo;ROM&rsquo; address space well suited for storage of, and access to, configuration data (e.g., IP addresses). As such, in a preferred embodiment of the invention, an IP address configuration agent (FWHCP) and discovery page for user control of 1394 devices are utilized. FWHCP provides IP address configuration for 1394WEB and 1394 devices. The purpose and result of FWHCP is similar to DHCP (i.e., a server to identify and assign the local IP addresses), but in operation FWHCP uses data in 1394-address space and 1394 commands. FWHCP provides IP address configuration of 1394WEB devices on the 1394 network avoiding collisions with devices on adjacent attached networks other than 1394. Devices are manufactured with a built-in IP address from the 10.x.x.x range. In the unlikely event of a collision, FWHCP sets a new IP address and saves it in the device. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> DHCP/Auto-configuration can be utilized for devices on networks other than 1394. DHCP protocol provides client &ldquo;requested IP address&rdquo;. Preferably, the requested IP address space is selected from the upper part of the 24 bit RFC1918 range (10.128.1.1 to 10.254.254.254). By choosing part of the allowed private address range for 1394 IP addresses and another part for other configuration methods (e.g., DHCP and DHCP/Auto-Configuration) then compatible and non-interfering addresses are generated for a heterogeneous network and allow FWHCP and DHCP to coexist. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> While choice of non-overlapping IP addresses for 1394 and adjacent networks is desirable, the heterogeneous network using FWHCP will configure successfully even if they do overlap. Also, DHCP clients check their assigned IP address with a test ARP message before using it. As such, different address configuration methods can coexist successfully. </paragraph>
<paragraph id="P-0131" lvl="7"><number>&lsqb;0131&rsqb;</number> Network Scenarios and Address Management </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, an example process according to the present invention for communication between a 1394 network (e.g., network <highlight><bold>300</bold></highlight>) and a non-1394 network (e.g., Ethernet <highlight><bold>119</bold></highlight>) for IP address configuration is described. In this case the 1394 network <highlight><bold>300</bold></highlight> utilizes FWHCP configuration and the non-1394 network <highlight><bold>119</bold></highlight> utilizes DHCP configuration or other method. Generally, 1394 devices (such as DTV and DVCR in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>) do not support DHCP. The 1394 DEVICE-3, for 1394 network to non-1394 network communication, includes an IP address in the 1394 ROM space and provides support for FWHCP for a 1394 device. The DEVICE-3 further includes means for supporting the configuration mechanisms on the non-1394 network, and maintains an extension data leaf in the 1394 ROM space for IP addresses of devices on the non-1394 network. As such, configuration processes (e.g., FWHCP for top-level UI description generation) on the 1394 network <highlight><bold>300</bold></highlight> can include use of IP addresses on the non-1394 network by selecting IP addresses from the extension data leaf. The non-1394 network configuration operates to provide the IP addresses for the 1394 extension data leaf. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> According to the discovery process (agent), 1394 specification &lsquo;plug-in&rsquo; reset and self-ID is utilized for configuration and can be used for IP address configuration. Preferably, fixed IP addressing is utilized for home networks, however dynamic IP addressing can also be utilized. DNS is not required within 1394WEB control because a top-level GUI description is created with hypertext-links that use IP addresses rather than names. Preferably, the IP configuration agent (FWHCP) for the 1394 network is utilized for IP configuration using 1394 ROM data and 1394 commands, however DHCP can also be utilized. FWHCP utilizes lower half of RFC1918 10.LH.X.X addresses and other home networks (not 1394) use upper half 10.UH.X.X. Preferably, the FWHCP server agent is built-in to any device that can be a client (control initiator). Where there are several client devices connected to the 1394 network, only the client device with the highest Global Unique Identification (GUID) operates. GUID comprises a number built-in to the interface. If there are multiple FWHCP agents available on the 1394WEB network then there is an initial self-election process to determine the one that will operate and all others remain quiet. The highest GUID will operate. In other versions, highest bit-reversed-GUID can be used. </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> A device interfacing to a non-1394 network supports a ROM extension leaf of IP addresses on the non-1394 network. This allows inclusion of the IP addresses on the non-1394 network in the 1394 top-level GUIs (e.g., <cross-reference target="DRAWINGS">FIGS. 4</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>b, </italic></highlight>GUIs <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight>). Control data bits in the 1394 ROM space are used to control the operation of three configuration agents: (1) 1394 Self_ID count, (2) IP configuration FWHCP, and (3) UI description generation described further below. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> Initially 1394 Self-ID count discovers the existence of devices. After a bus reset (caused by power up/down or device attachment/detachment) 1394 software in the device observes the automatic configuration process (1394 self-ID cycles) for the purpose of counting the number devices. This is a normal part of 1394 software for any 1394 device. Then, IP Configuration FWHCP (the one self-elected FWHCP) probes the discovered devices and checks their built-in IP address. Discovered duplicate (colliding) IP addresses are disabled and a new address is assigned to the device. Then, UI description generation agent (UI or other devices), reads all 1394WEB device IP addresses and generates a top-level device directory Graphic User Interface file in HTML of top-level icon pages from each device later rendered by a Web browser for User discovery of devices for control. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> According to the present invention each device in the 1394 network <highlight><bold>400</bold></highlight> can generate its own top-level network UI description <highlight><bold>250</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c</italic></highlight>). The UI description <highlight><bold>250</bold></highlight> is used by a presentation engine such as the browser <highlight><bold>200</bold></highlight> in a client device to generate and display a top level directory page such as page <highlight><bold>220</bold></highlight> in FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>. After the 1394 Self-ID agent has enumerated all devices connected to the 1394 network <highlight><bold>300</bold></highlight>, the top-level UI description <highlight><bold>250</bold></highlight> is generated separately by all UI devices (and non-UI devices as desired). A device (e.g., DTV) can select a more prominent (e.g., larger) icon to represent that device, and make the entire GUI <highlight><bold>220</bold></highlight> with a different look. This technique provides substantially more reliable operation than a centrally generated GUI for operation of all device, because each device can generate its own UI description <highlight><bold>250</bold></highlight> and display a GUI (e.g., top level page <highlight><bold>220</bold></highlight>) based thereon without dependence on another device. In each UI description <highlight><bold>250</bold></highlight>, device icon and logo image files of the devices currently connected to the network <highlight><bold>300</bold></highlight> are referenced by icon and logo HTML &lsquo;pages&rsquo; and name text wrapped in an HTML page (ICON.&lsquo;Graphic&rsquo; referenced ICON.HTM is in pages <highlight><bold>202</bold></highlight> and <highlight><bold>204</bold></highlight> which also include the control pages for the device; <cross-reference target="DRAWINGS">FIG. 5</cross-reference> below also shows the ICON.HTM, LOGO.HTM and NAME.HTM in a top-level directory page). HTML frames are used to create the top-level directory UI description <highlight><bold>250</bold></highlight> for network devices in each network device as desired. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> As such, advantageously, a useful layer of abstraction is provided to allow use of alternative file names and types for e.g. identification graphics in the network devices without need for change in the top-level description <highlight><bold>250</bold></highlight> generated in each device. The name text is also placed in an HTML description <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> (NAME.HTM is in pages <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight>), allowing a user to configure the name text at a device e.g. DTV to change to e.g., DTV-BED2 through one of the device GUI pages <highlight><bold>220</bold></highlight>. As such, the page <highlight><bold>220</bold></highlight> is displayed as the Browser is launched after a reset. The user sees and clicks DVCR ICON graphic, whereby DVCR top level control GUI <highlight><bold>202</bold></highlight> is fetched (with &lsquo;Play&rsquo; button etc.). User clicks one of the buttons e.g. &ldquo;Configure Device NAME&rdquo; which is another GUI (of hierarchy of control pages for DVCR) with a large selection of different names. </paragraph>
<paragraph id="P-0138" lvl="7"><number>&lsqb;0138&rsqb;</number> User clicks one name out of the lists of names provided e.g. &ldquo;Master Bedroom DVCR&rdquo;. </paragraph>
<paragraph id="P-0139" lvl="7"><number>&lsqb;0139&rsqb;</number> Software on the device changes the file names so that the file named NAME.HTM contains the text &ldquo;Master Bedroom DVCR&rdquo; (the old default NAME.HTM file that contained DVCR is changed to some other name). </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> Appearance of the GUI <highlight><bold>220</bold></highlight> is more stable in the event of &lsquo;bad citizen&rsquo; devices having too much or oversized text or oversized logos. In this case the frames isolate the problem and prevent the bad items from adversely affecting the appearance of the entire top-level GUI <highlight><bold>220</bold></highlight>. </paragraph>
<paragraph id="P-0141" lvl="7"><number>&lsqb;0141&rsqb;</number> Device Discovery Architecture </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c, </italic></highlight><highlight><bold>10</bold></highlight>, <highlight><bold>11</bold></highlight> example functional blocks and connections to data and control bits and flowchart of an embodiment of a system architecture <highlight><bold>400</bold></highlight> for the aforementioned discovery process are shown. The system <highlight><bold>400</bold></highlight> comprises five primary elements: (1)1394 non-volatile memory space (IEEE1212R ROM) <highlight><bold>402</bold></highlight> for configuration data and control data bit storage; (2)1394 Device Discovery Agent (1394DDA) <highlight><bold>404</bold></highlight>; (3) IP Address Configuration Agent (FWHCP) <highlight><bold>406</bold></highlight>; (4) UI Description Generation Agent <highlight><bold>408</bold></highlight>; and (5) GUI Generation and run-time environment <highlight><bold>410</bold></highlight> (e.g., Web Browser <highlight><bold>200</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>). Further, <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows an example flow diagram for the DDA and FWHCP agents in system <highlight><bold>400</bold></highlight> operating in connection with the functional blocks in <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c. </italic></highlight>And, <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows an example flow diagram for the UIDGA agent in system <highlight><bold>400</bold></highlight> operating in connection with the functional blocks in <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c. </italic></highlight></paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a </italic></highlight>and <highlight><bold>10</bold></highlight> all devices include the 1394 device discovery agent (1394DDA) <highlight><bold>404</bold></highlight> to enumerate the devices on the 1394 bus, after a reset, and to write the value into the local 1394 ROM space <highlight><bold>402</bold></highlight> for communicating the value to other functional agents (steps <highlight><bold>500</bold></highlight>, <highlight><bold>502</bold></highlight>). For synchronizing (inhibiting) commencement of other configuration agents, the 1394DDA agent <highlight><bold>404</bold></highlight> also sets the &lsquo;configuration operating&rsquo; control bits. The discovery agent/mechanism can use means, other than the ROM space, to communicate information between the configuration agents that are local to one device and where the information does not need to be seen by other devices. </paragraph>
<paragraph id="P-0144" lvl="7"><number>&lsqb;0144&rsqb;</number> 1394 ROM Data in all Devices </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> All devices in the network <highlight><bold>300</bold></highlight> include the following information relevant to the discovery and IP address agents <highlight><bold>404</bold></highlight> and <highlight><bold>406</bold></highlight>, respectively, for the 1394WEB in the 1394 configuration ROM <highlight><bold>402</bold></highlight>: (1) Built-in 64 bit GUID (Global Unique ID, in 1394 specification); (2) Built-in IP address from the RFC 1918 private address space in the range &lsquo;10.1.1.1&rsquo; to &lsquo;10.127.254.254&rsquo;. Manufacturers can select a value from the GUID such that chance of collision is minimized. The upper portion of the private address space (i.e., 10.128.1.1 to 10.254.254.254) is reserved for devices on bridged networks; (3) Assigned IP address in the range &lsquo;10.1.1.1&rsquo; to &lsquo;10.127.254.254&rsquo; (assigned by operating FWHCP agent <highlight><bold>406</bold></highlight>); (4) IP address extension leaf for IP devices on bridged networks; (5) Assigned Count of 1394 devices (assigned by 1394DDA agent <highlight><bold>404</bold></highlight>); (6) Control/status bits to indicate Configuration-in-Progress Synchronization control for 1394 Device Discovery Agent <highlight><bold>404</bold></highlight>, and to indicate IP-Address configuration (The control bits indicate the configuration is in progress and therefore the values, in ROM data other than the control bits, for 1394DDA and IP address are not checked or not written and therefore should not be used). The bits further indicate which IP address is valid (assigned or built-in), and whether an FWHCP server agent <highlight><bold>406</bold></highlight> is present in the device; (7) HTTP web server to allow files in the device&apos;s file space to be accessed remotely; and (8) device information <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> including actual &lsquo;icon&rsquo;, &lsquo;name&rsquo; and &lsquo;logo&rsquo; HTML files and other referenced graphic files accessible through the Web Server. The above summarized information is detailed in the 1394 ROM space description below. </paragraph>
<paragraph id="P-0146" lvl="7"><number>&lsqb;0146&rsqb;</number> IEEE 1212 Configuration ROM </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> The content of the general 1394ROM structure <highlight><bold>402</bold></highlight> is specified in IEEE1212r, IEEE1212 and IEC61883. The ROM structure <highlight><bold>402</bold></highlight> is a hierarchy of information blocks, wherein the blocks higher in the hierarchy point to the blocks beneath them. The location of the initial blocks is fixed while other entries are vendor dependent, but can be specified by entries within the higher blocks. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> Table 3 shows the Bus_Info_Block and Root_Directory of the configuration ROM <highlight><bold>402</bold></highlight>. The first byte of each entry is known as a key and identifies the type of entry. The following can be implemented in the configuration ROM of all devices making use of the EIA-775 specifications, including display devices such as DTVs and source devices such as DVCRs, STBs, etc. There may be several other structures required based on other protocols to which each device conforms. Table 3 includes information for a device which also complies with the IEC61883 protocol. The Root_directory contains pointers to a Model_Directory and three Unit_Directory entries (IEC61883, EIA-775 and 1394WEB), to indicate that the device supports EIA-775 as well as 1394WEB protocols. The Root directory entries are useful to other 1394 devices to discover the protocols and software (also called services) supported by this 1394 device.  
<table-cwu id="TABLE-US-00003">
<number>3</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 3</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Configuration ROM</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="left"/>
<tbody valign="top">
<row>
<entry>Offset (Base address FFFF F000 0000)</entry>
</row>
<row>
<entry>&emsp;&emsp;&emsp;Bus_info_block</entry>
</row>
<row>
<entry>Offset</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="28PT" align="left"/>
<colspec colname="3" colwidth="42PT" align="left"/>
<colspec colname="4" colwidth="119PT" align="left"/>
<tbody valign="top">
<row>
<entry>04 00<highlight><subscript>16</subscript></highlight></entry>
<entry>04</entry>
<entry>crc_length</entry>
<entry>rom_crc_value</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="189PT" align="left"/>
<tbody valign="top">
<row>
<entry>04 04<highlight><subscript>16</subscript></highlight></entry>
<entry>&ldquo;1394&rdquo;</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="6">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="28PT" align="left"/>
<colspec colname="3" colwidth="42PT" align="left"/>
<colspec colname="4" colwidth="49PT" align="left"/>
<colspec colname="5" colwidth="35PT" align="left"/>
<colspec colname="6" colwidth="35PT" align="left"/>
<tbody valign="top">
<row>
<entry>04 08<highlight><subscript>16</subscript></highlight></entry>
<entry>flags</entry>
<entry>reserved</entry>
<entry>cyc_clk_acc</entry>
<entry>max_rec</entry>
<entry>reserved</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="119PT" align="left"/>
<colspec colname="3" colwidth="70PT" align="left"/>
<tbody valign="top">
<row>
<entry>04 00<highlight><subscript>16</subscript></highlight></entry>
<entry>node_vendor_id</entry>
<entry>chip_id_hi</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="189PT" align="left"/>
<tbody valign="top">
<row>
<entry>04 10<highlight><subscript>16</subscript></highlight></entry>
<entry>chip_id_io</entry>
</row>
<row><entry namest="1" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> Wherein, 04 0C<highlight><subscript>16 </subscript></highlight>and 04 10<highlight><subscript>16 </subscript></highlight>are also known as the 64 bit GUID or Global Unique ID.  
<table-cwu id="TABLE-US-00004">
<number>4</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Root_directory</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="35PT" align="left"/>
<colspec colname="2" colwidth="49PT" align="left"/>
<colspec colname="3" colwidth="133PT" align="left"/>
<tbody valign="top">
<row>
<entry>Offset</entry>
<entry></entry>
<entry></entry>
</row>
<row>
<entry>04 14<highlight><subscript>16</subscript></highlight></entry>
<entry>root_length</entry>
<entry>CRC</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry></entry>
<entry>03<highlight><subscript>16</subscript></highlight></entry>
<entry>model_vendor_id</entry>
</row>
<row>
<entry></entry>
<entry>81<highlight><subscript>16</subscript></highlight></entry>
<entry>vendor_name_textual_descriptor offset</entry>
</row>
<row>
<entry></entry>
<entry>0C<highlight><subscript>16</subscript></highlight></entry>
<entry>node_capabilities</entry>
</row>
<row>
<entry></entry>
<entry>8D<highlight><subscript>16</subscript></highlight></entry>
<entry>node_unique_id offset</entry>
</row>
<row>
<entry></entry>
<entry>D1<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_Directory offset (IEC 61883)</entry>
</row>
<row>
<entry></entry>
<entry>D1<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_Directory offset (EIA-775)</entry>
</row>
<row>
<entry></entry>
<entry>D1<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_Directory offset (1394WEB)</entry>
</row>
<row>
<entry></entry>
<entry>Optional</entry>
</row>
<row>
<entry>xx xx<highlight><subscript>16</subscript></highlight></entry>
<entry>C3<highlight><subscript>16</subscript></highlight></entry>
<entry>Model_Directory offset</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> The IEC<highlight><subscript>&mdash;</subscript></highlight>61883 unit directory is shown in Table 4. This directory is referenced by the Unit_Directory offset, in the Root Directory (e.g., Root_directory table). In the Unit_SW_Version field, the least significant bit specifies AV/C (0) as specified in IEC 61883.  
<table-cwu id="TABLE-US-00005">
<number>5</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 4</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>IEC_61883 Unit Directory</entry>
</row>
<row>
<entry>Unit_Directory (IEC_61883)</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="91PT" align="center"/>
<colspec colname="2" colwidth="91PT" align="center"/>
<colspec colname="3" colwidth="21PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>directory length</entry>
<entry>CRC</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="21PT" align="left"/>
<colspec colname="1" colwidth="21PT" align="center"/>
<colspec colname="2" colwidth="175PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>12<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_Spec_ID (1394TA &equals; 00 A0 2D<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>13<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_SW_Version (first pass key &equals; 01<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>&lt;&lt;possibly other fields&gt;&gt;</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>....</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> The EIA-775 Unit Directory is shown in Table 5. The following EIA-775 specific information appears in the EIA-775 Unit Directory.  
<table-cwu id="TABLE-US-00006">
<number>6</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 5</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>EIA-775 Unit Directory</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="91PT" align="center"/>
<colspec colname="2" colwidth="91PT" align="center"/>
<colspec colname="3" colwidth="21PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>directory length</entry>
<entry>CRC</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="21PT" align="left"/>
<colspec colname="1" colwidth="21PT" align="center"/>
<colspec colname="2" colwidth="175PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>12<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_specification_ID (EIA-775 &equals; 005068<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>13<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_software_version (010100<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>&lt;&lt;possibly other fields&gt;&gt;</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>....</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> The Unit_specification_ID specifies the identity of the organization responsible for the architectural interface of the device and the specification. In this example case, the directory and identity value&equals;005068<highlight><subscript>16 </subscript></highlight>refers to the EIA as the responsible body and the EIA-775 control architecture specification. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> The Unit_software_version designates EIA-775 revision level supported by the device. The format is shown in Table 6.  
<table-cwu id="TABLE-US-00007">
<number>7</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 6</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Unit_software_version coding</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="21PT" align="left"/>
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="133PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>First octet</entry>
<entry>01<highlight><subscript>16</subscript></highlight></entry>
</row>
<row>
<entry></entry>
<entry>Second octet</entry>
<entry>Major Version Number (currently 01<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>Third octet</entry>
<entry>Minor Version Number (currently 00<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> The 1394WEB Unit Directory is shown in Table 7. The following 1394WEB specific information appears in the 1394WEB Unit Directory.  
<table-cwu id="TABLE-US-00008">
<number>8</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 7</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>1394WEB Unit Directory</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="91PT" align="center"/>
<colspec colname="2" colwidth="91PT" align="center"/>
<colspec colname="3" colwidth="21PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>directory length</entry>
<entry>CRC</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="21PT" align="center"/>
<colspec colname="2" colwidth="182PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>12<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_specification_ID (1394WEB &equals; 00XXX<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>13<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_software_version (010100<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>38<highlight><subscript>16</subscript></highlight></entry>
<entry>Discovery_control_bits</entry>
</row>
<row>
<entry></entry>
<entry>39<highlight><subscript>16</subscript></highlight></entry>
<entry>Assigned_Count_of_1394_devices</entry>
</row>
<row>
<entry></entry>
<entry>3A<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Built_in</entry>
</row>
<row>
<entry></entry>
<entry>3B<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Assigned</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>IP_Address_Extension Leaf</entry>
</row>
<row>
<entry></entry>
<entry>&mdash;<highlight><subscript>16</subscript></highlight></entry>
<entry>&lt;&lt;possibly other fields&gt;&gt;</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> The Unit_specification_ID specifies the identity of the organization responsible for the architectural interface of the unit and the specification. In this example case the directory and identity value&equals;00XXXX<highlight><subscript>16 </subscript></highlight>refers to the responsible body and the 1394WEB control architecture specification. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> The Unit_software_version designates the 1394WEB revision level supported by the device. The format is shown in Table 8.  
<table-cwu id="TABLE-US-00009">
<number>9</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 8</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Unit_software_version coding</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="21PT" align="left"/>
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="133PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>First octet</entry>
<entry>01<highlight><subscript>16</subscript></highlight></entry>
</row>
<row>
<entry></entry>
<entry>Second octet</entry>
<entry>Major Version Number (currently 01<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>Third octet</entry>
<entry>Minor Version Number (currently 00<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0157" lvl="7"><number>&lsqb;0157&rsqb;</number> Discovery Control Bits(38<highlight><subscript>16</subscript></highlight>) </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> Key value (38<highlight><subscript>16</subscript></highlight>) permitted by the IEEE1212R specification section 8.8 for the private use by the owner of the directory and architecture is used for the Discovery_control bits_immediate value.  
<table-cwu id="TABLE-US-00010">
<number>10</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 9</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Discovery_control_bits</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="70PT" align="left"/>
<colspec colname="1" colwidth="35PT" align="center"/>
<colspec colname="2" colwidth="70PT" align="center"/>
<colspec colname="3" colwidth="42PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry></entry>
<entry>Configuration</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>operating</entry>
<entry>Which IP</entry>
</row>
<row>
<entry></entry>
<entry>FWHCP</entry>
<entry>Do not use</entry>
<entry>address&quest;</entry>
</row>
<row>
<entry></entry>
<entry>Server</entry>
<entry>use (if True)</entry>
<entry>Assignd<highlight><subscript>&mdash;</subscript></highlight></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="6">
<colspec colname="1" colwidth="14PT" align="center"/>
<colspec colname="2" colwidth="56PT" align="center"/>
<colspec colname="3" colwidth="35PT" align="center"/>
<colspec colname="4" colwidth="42PT" align="center"/>
<colspec colname="5" colwidth="28PT" align="center"/>
<colspec colname="6" colwidth="42PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry></entry>
<entry>Agent</entry>
<entry>1394 Dev.</entry>
<entry>IP-</entry>
<entry>1Built-</entry>
</row>
<row>
<entry>X</entry>
<entry></entry>
<entry>Yes &equals; 1</entry>
<entry>Count</entry>
<entry>Address</entry>
<entry>in_0</entry>
</row>
<row><entry namest="1" nameend="6" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="8">
<colspec colname="1" colwidth="14PT" align="center"/>
<colspec colname="2" colwidth="21PT" align="center"/>
<colspec colname="3" colwidth="14PT" align="center"/>
<colspec colname="4" colwidth="21PT" align="center"/>
<colspec colname="5" colwidth="35PT" align="center"/>
<colspec colname="6" colwidth="42PT" align="center"/>
<colspec colname="7" colwidth="28PT" align="center"/>
<colspec colname="8" colwidth="42PT" align="center"/>
<tbody valign="top">
<row>
<entry>31</entry>
<entry>6</entry>
<entry>5</entry>
<entry>4</entry>
<entry>3</entry>
<entry>2</entry>
<entry>1</entry>
<entry>0(LSB)</entry>
</row>
<row><entry namest="1" nameend="8" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> These are control bits in 1394 ROM space <highlight><bold>402</bold></highlight> accessible by local and remote device. The control bits are used by the IP address configuration agent <highlight><bold>406</bold></highlight> and the User Interface description generation agent 408 as described further below. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> In one embodiment of the invention, said control bits provide the following information: </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> Bit <highlight><bold>0</bold></highlight>&mdash;Which IP address&mdash;Indicates which IP address is used or is in-use i.e, the Bulit-In address (&equals;FALSE) or Assigned Address (&equals;TRUE). This is set by the operating IP configuration agent FWHCP <highlight><bold>406</bold></highlight>. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> Bits <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>&mdash;Configuration Operating Do not use&mdash;When set indicate that the 1394 device discovery and also, seperately, the IP configuration agents <highlight><bold>404</bold></highlight> and <highlight><bold>406</bold></highlight>, respectively, are operating and therefore the values referred to are invalid as they can change or are not yet written. These bits are set by the local (device) 1394DDA agent <highlight><bold>404</bold></highlight>. The 1394DDA agent <highlight><bold>404</bold></highlight> clears the 1394 Dev. Count bit and the operating FWHCP agent <highlight><bold>406</bold></highlight> clears the IP-address bit. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> Bit <highlight><bold>3</bold></highlight>&mdash;Presence of FWHCP Server Agent <highlight><bold>406</bold></highlight>&mdash;Is set if the device has an operable FWHCP agent <highlight><bold>406</bold></highlight>. This bit and GUID are used by the FWHCP agents <highlight><bold>406</bold></highlight> to determine which FWHCP agent <highlight><bold>406</bold></highlight> will operate. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> Assigned Count_of<highlight><subscript>&mdash;</subscript></highlight>1394_devices (39<highlight><subscript>16</subscript></highlight>)&mdash;Assigned immediate value of the count of 1394 devices in the network <highlight><bold>300</bold></highlight>. The count is made as the 1394 interface goes though its self-ID cycles. The 1394 device discovery agent <highlight><bold>404</bold></highlight> generates the value, which is saved in ROM space <highlight><bold>403</bold></highlight> for subsequent use by the IP and UI configuration agents <highlight><bold>406</bold></highlight> and <highlight><bold>408</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> IP_Address_Built_In (3A<highlight><subscript>16</subscript></highlight>)&mdash;Assigned Immediate Value. This address is assigned at manufacture time and built-in to the device. If this Built-in address cannot be used, an alternative address can be saved in the Assigned address space and the control bit set to indicate such. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> IP_Address_Assigned (3B<highlight><subscript>16</subscript></highlight>)&mdash;Assigned Immediate Value. If identical IP addresses are detected, the IP address configuration agent FWHCP <highlight><bold>406</bold></highlight> assigns this address to prevent collision. Further, the control bit is set to indicate such. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> IP_Address_Extension Leaf_for_attached_network (BC<highlight><subscript>16</subscript></highlight>)&mdash;This directory entry is for the address offset to the data leaf for the IP address extension table, see Table 10. The data leaf contains IP addresses for devices on connected non-1394 networks (but also could be bridged 1394 networks). The table is included in communications devices of types (e.g., bridge) that connect through to foreign (non-1394) networks. The table can be expanded to include as many IP addresses as required. The address of the communications device itself should not be included in the table.  
<table-cwu id="TABLE-US-00011">
<number>11</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 10</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>IP_Address_Extension Leaf</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="42PT" align="left"/>
<colspec colname="1" colwidth="63PT" align="center"/>
<colspec colname="2" colwidth="112PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>Leaf Length-1 (n)<highlight><subscript>16</subscript></highlight></entry>
<entry>CRC-16<highlight><subscript>16</subscript></highlight></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<tbody valign="top">
<row>
<entry>IP Address 1 (e.g., 32 bit)</entry>
</row>
<row>
<entry>...</entry>
</row>
<row>
<entry>IP Address n (e.g., 32 bit)</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> In regards to Control word for Discovery Control Bits, use of a ROM entry for the actual Discovery Control Bits word as defined herein works but is an example implementation. As ROM is not designed to be written efficiently (i.e., ROM areas have to be erased and writing them is slow relative to other hardware e.g. register). Registers are provided in the 1394 hardware for data that must be written to frequently. In another version, a 1394 Register can be used for the &lsquo;Discovery_control_bits&rsquo; control word. Registers are in a space also addressable by other devices, whereby another device can look up in the ROM the address of the Register and then write to that Register. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> Referring <cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>b, </italic></highlight>one or more devices include an IP address configuration agent (FWHCP) <highlight><bold>406</bold></highlight> (e.g., all UI devices and Gateway devices and any other device that can be a Control initiator). The FWHCP configuration agent <highlight><bold>406</bold></highlight> accesses all devices&apos; IP address values in data in the 1394 ROM <highlight><bold>402</bold></highlight> across the 1394 network <highlight><bold>300</bold></highlight>. For synchronization commencement and completion of commencement of other applications (e.g., the UI description generation), the FWHCP agent <highlight><bold>406</bold></highlight> also accesses the &lsquo;configuration operating&rsquo; control bits. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c, </italic></highlight>devices capable of displaying user interfaces, and also some other devices (e.g., Gateway devices), can include the UI description generation agent (UIDGA) <highlight><bold>408</bold></highlight> for generating the top-level UI description <highlight><bold>250</bold></highlight> in e.g. HTML. Because as detailed above only one IP configuration agent <highlight><bold>406</bold></highlight> operates per network <highlight><bold>300</bold></highlight>, not all devices need to include the IP configuration agent <highlight><bold>406</bold></highlight>, though all devices can include an IP configuration agent <highlight><bold>406</bold></highlight>. If a device has the operating IP Configuration Agent <highlight><bold>406</bold></highlight> and is a User Interface Device then the IP configuration agent should operate before the UI Description Generation agent. The UI description generation agent (UIDGA) <highlight><bold>408</bold></highlight> utilizes information including control bits defined in the 1394 ROM space <highlight><bold>402</bold></highlight> and other information (e.g., for determining which FWHCP operates is the Global Unique ID (GUID) of Bus_Info_Block of Table 3) for determining which IP configuration agent <highlight><bold>406</bold></highlight> (if multiple in the network) operates, synchronizing commencement and for access to the in-use IP addresses. Any device may have and operate a UIDGA for making the HN_Directory page (top-level discovery page). After the IP addresses are configured UIDGA reads the addresses to make the HN_Directory page. In each client device, when UI description generation is complete, the GUI generation and run-time environment <highlight><bold>410</bold></highlight> (e.g., Web Browser <highlight><bold>200</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>) uses the UI description HTML file <highlight><bold>250</bold></highlight> to access all devices&apos; HTTP file space for icons, names and logos (Icon.HTM, Name.HTM and Logo.HTM are contained in pages <highlight><bold>204</bold></highlight>, and <highlight><bold>204</bold></highlight>) to generate the full top-level GUI <highlight><bold>220</bold></highlight> for display in that client device. Web Browser uses HTML file <highlight><bold>250</bold></highlight> to render the actual GUI graphics, in the process accessing files from the devices e.g. lcon.HTM, Name.HTM and Logo.HTM and in turn accessing any additional files these files reference e.g. ICON.GIF and LOGO.GIF. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> 1394 Device Discovery Agent (1394DDA) </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c, </italic></highlight><highlight><bold>10</bold></highlight> as discussed, each 1394WEB device in the network <highlight><bold>300</bold></highlight> can include the device discovery agent <highlight><bold>404</bold></highlight>. The device discovery agent <highlight><bold>404</bold></highlight> enumerates the 1394 devices in 1394 address space connected to the 1394 bus, wherein the raw discovery is performed in 1394 hardware. The Self_ID and Physical Node Number Assignment and the steps leading to it is the basic discovery process performed by the interface hardware/firmware. All devices monitor the Self_ID cycles and make a note of the existence of 1394 devices. This is a part of 1394 software for any 1394 device: (1) Reset&mdash;Bus reset propagates to all interfaces, on device power-up, device attachment and device detachment, (2) Tree Identification&mdash;Transforms a simple net topology into a tree, to establish a ROOT which is master for certain functions: Bus Cycle Master, Highest priority in arbitration for bus time, (3) Self Identification&mdash;Assigns Physical Node number (address) and also exchange speed capabilities with neighbors. Highest numbered node with both Contender Bit and Link-on Bit is Isochronous Resource Manager. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> The discovery agent <highlight><bold>404</bold></highlight> writes the final count value of the devices to the 1394 ROM space to communicate it to other agents. The device discovery agent <highlight><bold>404</bold></highlight> is the first software agent to execute after a 1394 reset cycle, and control bits (Discovery Control Bits <highlight><bold>2</bold></highlight> and <highlight><bold>1</bold></highlight>, Configuration Operating: 1394DDA, and IP Address) are used to delay other agents, including the configuration agents <highlight><bold>406</bold></highlight> and <highlight><bold>408</bold></highlight>, from execution until the discovery agent <highlight><bold>404</bold></highlight> has finished execution. </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> In one embodiment, the 1394DDA agent <highlight><bold>404</bold></highlight> in each device performs the steps <highlight><bold>500</bold></highlight>, <highlight><bold>502</bold></highlight> including: (1) setting synchronization control bits (i.e., &lsquo;1394DDA in progress&rsquo; and &lsquo;IP configuration in progress&rsquo; bits) in the device&apos;s own 1394 ROM space <highlight><bold>402</bold></highlight> to indicate that the 1394DDA in progress and IP configuration is in progress (IP configuration will not be in progress if 1394 DDA is executing) and that the values of 1394 device count and IP address are not valid, whereby said control bits inhibit other agents (e.g., <highlight><bold>408</bold></highlight>) from operating prematurely; as such the 1394 DDA executes, then an elected FWHCP executes, and then (usually for UI device) UIDGA executes; (2) counting the number of 1394 self-identity sequences after a 1394 Reset to discover the number of devices and effectively their local node addresses for use by the other agents <highlight><bold>406</bold></highlight>, <highlight><bold>408</bold></highlight>; (3) writing the device count value to the device&apos;s own 1394 ROM space <highlight><bold>402</bold></highlight>; and (4) clearing (e.g., to false) the synchronization control bit for &lsquo;1394DDA in progress&rsquo; in the device&apos;s own 1394 ROM <highlight><bold>402</bold></highlight>, wherein the &lsquo;IP configuration in progress&rsquo; bit remains set and is cleared later by the operating FWHCP agent <highlight><bold>406</bold></highlight>. </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> Alternative Architecture for Configuration with IP Address list in network communication (bridge) device is possible. For example, the IP address list of IP addresses of devices on a bridged (e.g., non-1394 network) can alternatively be examined at the IP configuration stage by the FWHCP agent <highlight><bold>406</bold></highlight> rather than only at the UIDGA stage by the UIDGA agent <highlight><bold>408</bold></highlight>. This allows the FWHCP agent <highlight><bold>406</bold></highlight> to detect and correct address collisions and therefore allow operation without having two separately defined address ranges, one for the 1394 network <highlight><bold>300</bold></highlight> and one for the non-1394 network <highlight><bold>119</bold></highlight>. Correction of address collision can be accomplished by modifying the address of a colliding 1394 device as the bridged network IP address list cannot be modified by the aforementioned agents <highlight><bold>406</bold></highlight>, <highlight><bold>408</bold></highlight> for the 1394 network <highlight><bold>300</bold></highlight>. Configuration is more reliable if the FWHCP agent <highlight><bold>406</bold></highlight> can check the addresses in the bridged network <highlight><bold>119</bold></highlight> for collision prior to allowing the addresses used on the 1394 network <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> IP Address Configuration Agent (FWHCP Agent) </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 9</cross-reference><highlight><italic>a</italic></highlight>-<highlight><italic>c, </italic></highlight><highlight><bold>10</bold></highlight> the IP Address Configuration software agent (FWHCP) <highlight><bold>406</bold></highlight>, operates to provide &lsquo;Fixed&rsquo; IP address management and to detect and correct IP address clashes in the mass manufactured 1394 devices. All 1394WEB UI devices include, and other devices can include, an FWHCP agent <highlight><bold>406</bold></highlight>. Only one FWHCP agent <highlight><bold>406</bold></highlight> operates in the network however. The 1394DDA <highlight><bold>404</bold></highlight> agent is the first software agent to execute after a 1394 reset cycle, and as aforementioned the 1394DDA <highlight><bold>404</bold></highlight> agent sets the &lsquo;1394DDA in progress&rsquo; and &lsquo;IP configuration in progress&rsquo; bits to delay the FWHCP agent <highlight><bold>406</bold></highlight> until the 1394DDA agent <highlight><bold>404</bold></highlight> has executed to completion. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> In one embodiment, the IP Address configuration agent <highlight><bold>406</bold></highlight> in a device performs steps including polling the 1394DDA configuration operation control bit (i.e., the &lsquo;1394DDA in progress&rsquo; bit) to determine if the 1394DDA configuration software agent <highlight><bold>404</bold></highlight> has executed to completion. If so, then the FWHCP agent <highlight><bold>406</bold></highlight> uses the count of devices determined by the 1394 DDA agent <highlight><bold>404</bold></highlight>, and reads GUID&apos;s and Control Words from every device (step <highlight><bold>504</bold></highlight>) to determine which device in the network <highlight><bold>300</bold></highlight> is selected to execute its FWHCP agent <highlight><bold>406</bold></highlight> (step <highlight><bold>506</bold></highlight>). The selected device is one with an FWHCP agent <highlight><bold>406</bold></highlight> that finds it has the highest GUID (step <highlight><bold>508</bold></highlight>). All other FWHCP agents <highlight><bold>406</bold></highlight> in other devices remain dormant (step <highlight><bold>510</bold></highlight>). The operating FWHCP agent <highlight><bold>406</bold></highlight> reads the &lsquo;in-use&rsquo; (active) IP address (determined by Discovery_control_bits BIT <highlight><bold>0</bold></highlight>) from each local node (e.g. units present on the interface, host) and listed (step <highlight><bold>512</bold></highlight>). In one version, the software agent makes a list for saving the IP addresses to an &lsquo;Array&rsquo; as they are read (steps <highlight><bold>514</bold></highlight>-<highlight><bold>518</bold></highlight>). The list will be in memory (RAM or DRAM) under the control of the compiler and OS. In-use status is determined by a bit setting in the device, which indicates whether the built-in or assigned address is in-use. In Table 7 the IP_address_assigned and IP_address_built_in are in the 1394Web Unit Directory. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> The operating FWHCP agent <highlight><bold>406</bold></highlight> examines said list for collision among IP addresses listed therein (other collision detection and resolution methods can also be used) (steps <highlight><bold>520</bold></highlight>-<highlight><bold>522</bold></highlight>). If a collision is detected, the FWHCP agent alters the colliding addresses by e.g. substituting the least significant 6 bits of IP address for their 6 bit node address (step <highlight><bold>524</bold></highlight>). Only the minimum number of alterations are performed to relieve the collision. If one of the colliding addresses is already an assigned address, then that address is altered in preference to the colliding built-in address by e.g. incrementing the 6 bit substitute value and re-checking until the collision is resolved. The FWHCP agent <highlight><bold>406</bold></highlight> writes the altered value back to the device and the control bit (Discovery_Control_Bits: Bit <highlight><bold>0</bold></highlight>) is set to indicate that the assigned IP address is in-use, and the built-in default is no longer in-use (step <highlight><bold>526</bold></highlight>). The process is repeated for each IP address (step <highlight><bold>528</bold></highlight>). After the collision resolution process, the operating FWHCP agent <highlight><bold>406</bold></highlight> accesses each device in turn and sets the &lsquo;IP configuration in-progress&rsquo; bits in each device to e.g. &lsquo;false&rsquo; to indicate that the indicated IP address is valid. </paragraph>
<paragraph id="P-0180" lvl="7"><number>&lsqb;0180&rsqb;</number> UI Description Generation Agent </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> In conventional WWW operation, users access the same top level page. Referring to <cross-reference target="DRAWINGS">FIGS. 4</cross-reference><highlight><italic>b, </italic></highlight><highlight><bold>7</bold></highlight> and <highlight><bold>9</bold></highlight>-<highlight><bold>11</bold></highlight>, according to an aspect of the present invention however, all UI devices (e.g., devices capable of displaying user interfaces) include an UI description generation agent (UIDGA) <highlight><bold>408</bold></highlight> to independently generate a top-level UI page <highlight><bold>220</bold></highlight> for control of the devices on the local network (e.g., network <highlight><bold>100</bold></highlight>, network <highlight><bold>300</bold></highlight>, etc.) by users. In one example, a client device (e.g., PC) dynamically generates a locally saved default page <highlight><bold>220</bold></highlight> for user control of devices connected to the network <highlight><bold>100</bold></highlight>. This allows each UI device (e.g., DTV <highlight><bold>102</bold></highlight>) to generate a different view <highlight><bold>220</bold></highlight> of the home network e.g. with a larger more prominent icon for that UI&apos;s devices displayed. As such, the user is readily made aware of which UI device is &lsquo;right here&rsquo; (in front of the user) or in the case of access external to the home, no device is &lsquo;right here&rsquo;. A device without a UI can generate a UI for another device but is unaware of type of device (e.g., Cable Modem generates UI of HN devices for user external to the home). In this case the actual UI device is unknown. Therefore no particular device is prominent in the GUI. Further, manufacturers of devices connected to the network <highlight><bold>100</bold></highlight> can provide their own GUI design <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> in each device as desired. In addition later, improved Browser and Web technology designs need not be hampered by existing technology. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> Non-UI devices, particularly those devices performing a gateway function, can also include a UI Description Generation agent <highlight><bold>408</bold></highlight> to generate top-level GUI descriptions <highlight><bold>250</bold></highlight>, without including GUI Generation and Run-Time processes <highlight><bold>410</bold></highlight> (e.g., Web Browser <highlight><bold>200</bold></highlight>) to generate and display GUIs <highlight><bold>220</bold></highlight>. With appropriate address use (e.g., using the RFC1918 private addresses on the local HN), this allows external WWW access to the 1394WEB network devices. External addresses are assigned &lsquo;real&rsquo; IP addresses suitable for Internet use. Generally there is a unit (e.g., gateway type unit) with the UIDGA <highlight><bold>408</bold></highlight> which represents the home to the outside Internet. The gateway&apos;s UIDGA generates a different UI description for the outside use (remote access case different from inside local device use), using the home&apos;s IP address with extended links to identify which home device local private IP address. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> UI devices execute the following software processes to generate and display views <highlight><bold>220</bold></highlight> of the network <highlight><bold>100</bold></highlight>/<highlight><bold>300</bold></highlight>: (1) 1394 Device Discovery Agent <highlight><bold>404</bold></highlight> described above, (2) UI Description Generation Agent (UIDGA) <highlight><bold>408</bold></highlight>, and (3) GUI Generation and Run-Time (e.g., Web Browser <highlight><bold>200</bold></highlight>) process <highlight><bold>410</bold></highlight>. Referring to <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, in one embodiment, a UIDGA agent <highlight><bold>408</bold></highlight> in a device performs steps including polling the IP address configuration bits in the device&apos;s own 1394 ROM <highlight><bold>402</bold></highlight> to ensure completion of the FWHCP agent <highlight><bold>406</bold></highlight>, prior to accessing any further IP information (step <highlight><bold>600</bold></highlight>). Upon completion of FWHCP agent <highlight><bold>406</bold></highlight>, using the count of devices generated by the 1394DDA agent <highlight><bold>404</bold></highlight>, the UIDGA agent <highlight><bold>408</bold></highlight> then accesses the control word in each device currently connected to the network, to determine the settings for the &lsquo;configuration operating&rsquo; false, and &lsquo;in-use&rsquo; IP addresses bits (the UIDGA agent <highlight><bold>408</bold></highlight> makes the top-level HTML page, HN_Directory page, <highlight><bold>220</bold></highlight> shown by e.g., in FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>). Thereafter, the UIDGA agent <highlight><bold>408</bold></highlight> reads the actual in-use IP address value, and builds a complete list of the IP addresses of the devices currently connected to the network <highlight><bold>300</bold></highlight>. The IP address list includes information (e.g., Icon, Logo, Name, etc.) from every device, and is written in HTML by using the IP address of each device. Before it can include the addresses, the UIDGA <highlight><bold>408</bold></highlight> finds the address of each device by accessing each device and checking to see which address is in use by reading Table 9, Discovery_control_bit, control bit (Bit <highlight><bold>0</bold></highlight>). Then UIDGA <highlight><bold>408</bold></highlight> reads Table 7 Address either Built_in or Assigned. For devices that communicate to bridged networks, as determined by the presence of the extension IP address list entry in that device&apos;s 1394 ROM <highlight><bold>402</bold></highlight>, the UIDGA agent <highlight><bold>408</bold></highlight> reads the extension IP-addresses from the list (IP_Address_Extension_Leaf) to allow those devices to be included in the GUI <highlight><bold>220</bold></highlight>. The entry BC (IP_Address_Extension Leaf_) contains a reference link address that points to the actual data leaf. Devices on the attached bridged network are only included in the IP_Address_Extension_Leaf list if they also support the 1394WEB type of service i.e. they have Web Server and lcon.HTM etc and Control pages (&lsquo;index.htm). </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> The UIDGA agent <highlight><bold>408</bold></highlight> reads the IP address list (step <highlight><bold>602</bold></highlight>) and generates the top-level network UI description <highlight><bold>250</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c</italic></highlight>) in e.g. HTML (e.g., Appendix 1) using the IP address list (UIDGA outputs the HN_Directory, top-level network UI page, HTML file) (step <highlight><bold>604</bold></highlight>). The UIDGA agent <highlight><bold>408</bold></highlight> uses the IP Addresses in the hypertext links to each device for the icon.htm, name.htm and logo.htm files. UIDGA writes an HTML file including the references to each discovered device&apos;s HTML page i.e. ICON.HTM, NAME.HTM, LOGO.HTM (e.g., Appendix 2, 3, 4). The UIDGA agent <highlight><bold>408</bold></highlight> then uses HTML files to reference items including the icon and logo graphics files and name data, rather than including the raw icon.gif or logo.gif and raw name text in the top level UI description <highlight><bold>250</bold></highlight> (step <highlight><bold>606</bold></highlight>). This allows said items to be changed by the corresponding device to reflect current status, customized by the manufacturer or configured by the user at the device, without causing any change in the top-level HTML UI description <highlight><bold>250</bold></highlight> in the controlling UI device. Though one graphic per device is shown in the example GUI pages <highlight><bold>220</bold></highlight> (FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>6</bold></highlight>), customization allows inclusion of more than one graphic file referenced by ICON.HTM or LOGO.HTM and more text in the NAME.HTM. In one embodiment, HTML frames are utilized to implement the UI description <highlight><bold>250</bold></highlight> as showing in examples further below. Use of frames stabilizes the appearance of the GUI <highlight><bold>220</bold></highlight> in the event of &lsquo;bad citizen&rsquo; devices. For example a device presenting too many words or overly large text in its &lsquo;name&rsquo; frame will only affect that device&apos;s GUI look (by having some of the words truncated and not displayed) and not adversely affect the appearance of the whole Top-level GUI <highlight><bold>220</bold></highlight> in the UI device. The UIDGA <highlight><bold>408</bold></highlight> then invokes the GUI generation process <highlight><bold>410</bold></highlight> (e.g., browser) in a client device to generate and display a user interface (step <highlight><bold>608</bold></highlight>). </paragraph>
<paragraph id="P-0185" lvl="7"><number>&lsqb;0185&rsqb;</number> GUI Generation and Run-time Processes </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> The GUI generation process <highlight><bold>410</bold></highlight> (e.g., Web Browser <highlight><bold>200</bold></highlight>) utilizes the UI description <highlight><bold>250</bold></highlight> in e.g. HTML to generate GUI pages <highlight><bold>220</bold></highlight> on UI devices. In one example, to provide keyboard-less operation for consumer electronics devices (e.g., DTV) the Browser <highlight><bold>200</bold></highlight> at start-up defaults to reading and rendering a locally generated &lsquo;top-level-devices.html&rsquo; description <highlight><bold>250</bold></highlight> to generate the network top-level control GUI <highlight><bold>220</bold></highlight>. Locally as used here means in the same device (a UI device having a UIDGA that generates the device&apos;s own HN Directory (top-level) GUI of the network devices). HN Directory, Top level Network UI and Discovery page are the same. For personal computers (PC) with keyboard this need not be the default. For CE devices, launch of the Browser <highlight><bold>200</bold></highlight> is delayed until after completion of the UIDGA default page <highlight><bold>250</bold></highlight> generation by the UIDGA agent <highlight><bold>408</bold></highlight>. In the event that UIDGA agent <highlight><bold>408</bold></highlight> cannot complete its tasks, then the Browser <highlight><bold>200</bold></highlight> displays an alternative UI page <highlight><bold>220</bold></highlight> showing a network configuration error occurred (e.g., &ldquo;Unable to generate the HN_Directory Page because of xxxxxx. Try disconnecting device xxxxxxx. Network configuration error number xxxxxx occurred. Contact service Tel service xxx-xxx-xxxx or Web service http://www.service.com.&rdquo;) </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> To generate the GUI <highlight><bold>220</bold></highlight>, the Browser <highlight><bold>200</bold></highlight> fetches the &lsquo;icon.htm&rsquo;, &lsquo;name.htm&rsquo; and &lsquo;logo.htm&rsquo; files from device information <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> in each referenced device (i.e., in the UI description, where for example ICON.HTM is in the HN_Directory Page HTML file) as defined by the HTML UI description <highlight><bold>250</bold></highlight>. The contents of these pages <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> (e.g. the icon graphic) need not be static and can be altered dynamically to reflect device status change, or after user customization. In order to display the most current top-level page <highlight><bold>220</bold></highlight>, the Browser <highlight><bold>200</bold></highlight> does not cache the &lsquo;icon.htm&rsquo;, &lsquo;name.htm&rsquo; and &lsquo;logo.htm&rsquo; files. In another version, a check is always made first to determine if the device has made any changes to the HTML files <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> it holds. HTTP &ldquo;Conditional get&rdquo; is used for checking the status of controlled device. Depending on the status code returned, the Browser <highlight><bold>200</bold></highlight> will either read from its cache or fetch a fresh or updated copy the HTML file <highlight><bold>202</bold></highlight>, <highlight><bold>204</bold></highlight> from the devices. The HWW GUI display is not affected unless there is any change of the status of the controlled device. </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> The browser <highlight><bold>200</bold></highlight> does not attempt to display the top-level HN directory until it has been completely generated. If the HTML <highlight><bold>250</bold></highlight> is not generated within some reasonable amount of time, the browser displays an alternate page. If a network configuration error is the source of the problem, the alternate page might provide some technical support or user diagnostic assistance. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> Whenever the user returns to the top-level HN directory or causes it to be refreshed, the browser <highlight><bold>200</bold></highlight> redisplays the page <highlight><bold>220</bold></highlight> in its entirety. This is necessary because the HTML <highlight><bold>250</bold></highlight> that underlies the top-level HN directory may have been regenerated if a device has been added to or removed from the network <highlight><bold>100</bold></highlight>. It is also possible for device icons to be updated to reflect changes in their device&apos;s operating state. As such, browsers implemented by EIA-775.1 devices use HTTP &ldquo;conditional get&rdquo; requests to determine whether or not fresh copies of web pages or graphics are retrieved from the server. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> In this aspect, the present invention provides a User Interface description where user discovery of devices is thus made entirely with references (i.e. in the abstract), where the references are &lsquo;containers&rsquo; for the discovery information (e.g., text and/or graphics) of each device and resident on each device. Each &lsquo;container&rsquo; includes actual textual information and/or references to one or more graphics formatted information files where each file may include one or more images and/or text. Use of the reference &lsquo;containers&rsquo; allows each device to choose its preferred UI content or graphics format or alter its UI content to be displayed (by changing the text or graphic information referred to) without need to have the UI description page altered in any way. Therefore, communication of changes with the generating agent software of the Discovery UI description is not required. In one version, devices reference their e.g. ICON and LOGO graphics files indirectly using HTML files enabled by creating the network Top-level description using HTML frames. Similarly the device name that is displayed under the icon is represented by NAME HTML file. HTML files are used to reference e.g. the icon and logo graphics files and name data rather than include the raw icon.gif or logo.gif and raw name text. This allows the item to be changed to reflect current status, customized by the manufacturer or user configured at the device without causing any change in the top-level HTML description. This level of abstraction allows the Top-level UI description to be always the same regardless of the graphics ICON and LOGO file names and types and NAME text to be displayed. Also the device may use different, multiple or dynamically change the graphics files and text displayed in the Top-level GUI without the change needing to be communicated to the UIDGA. The change is automatically included whenever the GUI is redisplayed. Use of frames also stabilizes the GUI display in the event of bad citizen devices using non-displayable graphics or text as the error is confined to the particular frame and doesn&apos;t affect the whole GUI. The change is automatically included whenever the GUI is redisplayed. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> In one example, network devices top-level UI description is generated independently by any network device and certainly by devices capable of displaying UI (UI device). Generating a user interface in each device rather than generating a centrally UI, allows a device to show its own device icon/text preferentially in the GUI. In addition each GUI is manufacturer customizable, user configurable and also more reliable because it does not depend on another device e.g. a single central server. This is demonstrated with the 1394 scheme above. Multiple UI generation is enabled because all device IP addresses are accessible via the 1394 interface. UI devices (with Browser) include UIDGA agent to generate their own top-level GUI description after a 1394 reset cycle when a device attached or power-up. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> All UI devices independently generate a top-level UI page for control for the local network. This is different from the conventional WWW operation wherein users access the same top level page. According to one version the present invention, the client device (e.g., PC) dynamically generates a locally saved default page file for any purpose, allowing each UI device (e.g., DTV) to generate a different view of the home network e.g. with a larger more prominent icon for its own display. Further manufacturers have scope to make their own GUI design better then another. In addition later, improved Browser and Web technology designs need not be hampered by earlier technology. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> Referring to Appendices 1-4, illustrative examples for the following are provided: (1) Top-Level Page description <highlight><bold>250</bold></highlight> (Appendix 1); (2) Background.htm (Appendix 2); (3) Icon.htm (Appendix 4); and (4) Name.htm (Appendix4). </paragraph>
<paragraph id="P-0194" lvl="7"><number>&lsqb;0194&rsqb;</number> Linked External Web Server/Service </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> According to another aspect of the present invention, network configuration and user interface (UI) description generation for the home network top-level page Graphical User Interface (GUI) are performed to provide external services (e.g. web services) from an external network (e.g., Portal) as well as from home network devices <highlight><bold>11</bold></highlight>. In one embodiment, the external network includes interconnected devices providing services (e.g., servers comprising one or more computing systems executing software for providing services). As such, in one example, manufacturer&apos;s Portal (external Web Server) services from an external network <highlight><bold>702</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>) are included in home network top-level user interface description <highlight><bold>250</bold></highlight>. </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> In one implementation, internet gateway address of a gateway <highlight><bold>700</bold></highlight> is defined in an address space visible to all 1394 devices in the home network <highlight><bold>300</bold></highlight>. Thereafter, for at least one device <highlight><bold>11</bold></highlight> (e.g., client device <highlight><bold>12</bold></highlight> such as DTV <highlight><bold>102</bold></highlight>) in the home network <highlight><bold>300</bold></highlight>, if a gateway <highlight><bold>700</bold></highlight> is detected by e.g. the discovery agent <highlight><bold>404</bold></highlight>, then the UI description generator agent (UIDGA) <highlight><bold>408</bold></highlight> of that device <highlight><bold>11</bold></highlight> can include external IP addresses in the home network top-level UI description (TLNUID) <highlight><bold>250</bold></highlight> (as well as Home Network device addresses described above) of that device <highlight><bold>11</bold></highlight>. Alternatively, each device <highlight><bold>11</bold></highlight> can discover the gateway device <highlight><bold>700</bold></highlight> by communicating and obtaining information, for example, from another device (such as DTV <highlight><bold>103</bold></highlight>, or cable modem) to get the gateway IP address, or the device <highlight><bold>11</bold></highlight> can communicate with the gateway device (use gateway device&apos;s internal IP address) to get the public/external IP address of gateway device. External services from an external network <highlight><bold>702</bold></highlight> of interconnected devices <highlight><bold>704</bold></highlight>, can be accessed from one or more IP addresses (or Portal) known to the UIDGA <highlight><bold>408</bold></highlight> when the top level GUI <highlight><bold>220</bold></highlight> is generated or refreshed in that device <highlight><bold>11</bold></highlight>. In a version, the external home portal IP address is preprogrammed into the UIDGA <highlight><bold>408</bold></highlight>, whereby the UIDGA <highlight><bold>408</bold></highlight> need not obtain the external address through the gateway device. In one example, each device <highlight><bold>704</bold></highlight> includes one or more computing/computer systems executing software for providing services (web services), wherein the devices <highlight><bold>704</bold></highlight> are interconnected via routers and communication links (e.g., Internet). </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> illustrates a pictorial outline of the TLNUID <highlight><bold>250</bold></highlight> showing actual HTML file name reference and address of a logoicon htm file <highlight><bold>710</bold></highlight>A (residing in a server <highlight><bold>704</bold></highlight> in the external network <highlight><bold>702</bold></highlight>), and an actual HTML file name reference and address of a logoname htm file <highlight><bold>712</bold></highlight>A (residing in a server <highlight><bold>704</bold></highlight> in the external network <highlight><bold>702</bold></highlight>). <cross-reference target="DRAWINGS">FIG. 13</cross-reference> illustrates the Browser rendered GUI <highlight><bold>220</bold></highlight> based on the TLNUID <highlight><bold>250</bold></highlight>. Content of logoicon and name items <highlight><bold>710</bold></highlight>B, <highlight><bold>712</bold></highlight>B in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> for services from the Portal are refreshed whenever the top-level GUI page <highlight><bold>220</bold></highlight> in that device <highlight><bold>11</bold></highlight> is updated. Further, Portal or content page hits are generated whenever the network top-level GUI <highlight><bold>220</bold></highlight> in that device <highlight><bold>11</bold></highlight> is refreshed (and preferably not when top-level description <highlight><bold>250</bold></highlight> is generated). </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> In one example implementation, the manufacturer of a device <highlight><bold>11</bold></highlight> (e.g., DTV <highlight><bold>102</bold></highlight>) can choose to program the UIDGA <highlight><bold>408</bold></highlight> in that device <highlight><bold>11</bold></highlight> to include externally provided service logos icons in the home network top-level GUI <highlight><bold>220</bold></highlight> of the device <highlight><bold>11</bold></highlight>. Such functionality is built-in to the GUI description generator agent (UIDGA) <highlight><bold>408</bold></highlight>. The service logo page <highlight><bold>708</bold></highlight>B, logo graphics <highlight><bold>710</bold></highlight>B and text <highlight><bold>712</bold></highlight>B, address a web server <highlight><bold>704</bold></highlight> external to the home network. The logos <highlight><bold>710</bold></highlight>B can represent, and be actively hyper-linked to, services, information, media etc. provided by devices <highlight><bold>704</bold></highlight> in the external network <highlight><bold>702</bold></highlight> via the gateway <highlight><bold>700</bold></highlight>. Further, device icon spaces <highlight><bold>708</bold></highlight>B unused in the Top-level Home Network device&apos;s page <highlight><bold>220</bold></highlight> can be filled with service logos or icons <highlight><bold>710</bold></highlight>B and names <highlight><bold>712</bold></highlight>B from an external Web site provided by a server device <highlight><bold>704</bold></highlight>. In one example, there can be as many as 12 unused icon spaces for a minimum home network including one device. Referring to the example TLNUID <highlight><bold>250</bold></highlight> and the GUI <highlight><bold>220</bold></highlight> in FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight>, there are a minimum of 12 service logo-graphic <highlight><bold>710</bold></highlight>B, logo-name <highlight><bold>712</bold></highlight>B sets for the GUI <highlight><bold>220</bold></highlight>. The logo file names <highlight><bold>710</bold></highlight>A can have a number from 1 to 12 e.g. logoicon1.htm through logoicon12.htm, and are accessed in order from lower to higher numbers. Similarly,the name file names <highlight><bold>712</bold></highlight>A can have a number from 1 to 12 e.g. logoname1.htm through logoname12.htm, and are accessed in order from lower to higher numbers. The following example specification is similar to that for device icon described above. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> A logo icon and name file, <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A, respectively, per service represent the service graphically in the Top-level Home Network devices page <highlight><bold>250</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, and in the corresponding GUI <highlight><bold>220</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. A graphic file <highlight><bold>710</bold></highlight>B having a name is referenced in a corresponding HTML page <highlight><bold>710</bold></highlight>A. The graphic <highlight><bold>710</bold></highlight>B is hyper-linked to the service top-level page <highlight><bold>710</bold></highlight>A. An example graphic specification can include: Graphic file type of GIF, JPG or PNG (any name), and Logo icon graphic maximum size of 70(V)&times;130(H) pixels. An HTML page <highlight><bold>250</bold></highlight> references the graphic file <highlight><bold>710</bold></highlight>A, with the first accessed file <highlight><bold>710</bold></highlight>A representing the primary service logo graphics <highlight><bold>710</bold></highlight>B named logoicon1.htm <highlight><bold>710</bold></highlight>A. Subsequent logos can use files with incrementing number. It is possible to include more than one graphic reference in logoicon1.htm. In this case the service image is hyper-linked to the service home page and the second image (e.g., logoincon1<highlight><subscript>&mdash;</subscript></highlight>1.htm) can be hyper-linked to a different location. </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> Further, a minimum of one logo name file <highlight><bold>712</bold></highlight>A includes text <highlight><bold>712</bold></highlight>B to augment the logo graphic (logoicon.htm) in the Top-level Home Network devices page <highlight><bold>250</bold></highlight>. The text <highlight><bold>712</bold></highlight>B includes a few words to go with the service logo icon graphic relevant to the service. Name (e.g., &ldquo;VCR livingroom&rdquo; as name of a VCR in the livingroom) can include text in an HTML page called logoname1.htm. Subsequent logos can use files with incrementing number. Preferably, only the file name is standardized and not the text. The text can also be hyper-linked. An example specification can include: Text unspecified, without font restriction. As an example with Font size 10, two lines of text can be displayed under the logo icon. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> An example discovery process supported by every home device <highlight><bold>11</bold></highlight> supporting the EIA-1394WEB standard is now described. Because user control of devices indirectly via a Graphical User Interface (GUI) <highlight><bold>220</bold></highlight> is important for keyboard-less operation of devices <highlight><bold>11</bold></highlight> anywhere on the Home Network <highlight><bold>300</bold></highlight>, and for services provided by devices <highlight><bold>704</bold></highlight> outside the home network <highlight><bold>300</bold></highlight>, one function of the discovery process is to bootstrap Internet Protocol and bootstrap Web based control. The former includes device discovery <highlight><bold>404</bold></highlight> and IP address configuration <highlight><bold>406</bold></highlight> and the latter includes generation of a top-level network user interface description (TLNUID) <highlight><bold>250</bold></highlight> by the UIDGA <highlight><bold>408</bold></highlight> for the Browser default page that it renders to generate the top-level user control GUI <highlight><bold>220</bold></highlight>. The UI description (GUI source description) <highlight><bold>250</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 12</cross-reference> includes graphical icon reference <highlight><bold>706</bold></highlight>A and a textual name reference <highlight><bold>707</bold></highlight>A representing each device <highlight><bold>11</bold></highlight> in the home network <highlight><bold>300</bold></highlight>, corresponding to graphic <highlight><bold>706</bold></highlight>B and name <highlight><bold>707</bold></highlight>B, respectively, in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. The UI description (GUI source description) <highlight><bold>250</bold></highlight> further includes the graphical icon reference <highlight><bold>710</bold></highlight>A and a textual name reference <highlight><bold>712</bold></highlight>A representing each external service from the external network <highlight><bold>702</bold></highlight>, corresponding to graphic <highlight><bold>710</bold></highlight>B and name <highlight><bold>712</bold></highlight>B, respectively, in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. The Browser collects a graphic image(s) and name from each device and service, as renders the GUI <highlight><bold>220</bold></highlight> as shown by example in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> Each 1394WEB UI device <highlight><bold>11</bold></highlight> (e.g., client device <highlight><bold>12</bold></highlight> such as HDTV <highlight><bold>102</bold></highlight>) separately generates the network top-level UI description <highlight><bold>250</bold></highlight>, allowing the device to give priority to itself in the displayed GUI. In FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight> a host HDTV <highlight><bold>102</bold></highlight> that generates and presents the top-level GUI <highlight><bold>220</bold></highlight> assumes priority and uses a 4&times; large size icon. Different manufacturers can develop their own GUIs and can develop different ones for each device model wherein e.g. a hand-held Web controller generates a much simpler GUI than a HDTV. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> For a home network connected <highlight><bold>300</bold></highlight> to an external network <highlight><bold>702</bold></highlight> such as the World Wide Web (e.g., via the internet), device (e.g.,TV) manufacturers can design a device UIDGA <highlight><bold>408</bold></highlight> to include logo or icon pages (e.g., logoicon1.htm and logoname1.htm) hyper-linked from the manufacturer&apos;s Web site in a server <highlight><bold>704</bold></highlight> in the external network <highlight><bold>702</bold></highlight>. In FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight> the bottom row includes e-commerce logos <highlight><bold>712</bold></highlight>B from an example external Web Server or Home Portal, address 209.157.0.2, operated by a TV manufacturer. The primary logo item shown on the left hand side is an example logo graphic <highlight><bold>710</bold></highlight>B and name <highlight><bold>712</bold></highlight>B from the manufacturers Web site (e.g. domain name homewideweb.net, address 209.157.0.2). In that example, the YAHOO (TM) icon embedded in the second logo page (e.g., logoicon2.htm and logoname2.htm) is obtained from the TV manufacturer&apos;s Web site or Home Portal and not directly from the YAHOO web site. The TV manufacturer may allow customization of the GUI <highlight><bold>220</bold></highlight> wherein service icons and logos are obtained from a Web Server or Portal outside of the manufacturer&apos;s control. </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> In one example, the discovery process reads information from the 1394 address space data storage (e.g., configuration ROM structure), as defined in clause 8 of ISO/IEC 13213. Although called &lsquo;ROM&rsquo; it is assumed that the address space is write-able to allow user configuration and modification of user relevant stored values. The discovery process substantially comprises the steps described hereinabove, with the following additional or different functions for external Web link. Each device <highlight><bold>11</bold></highlight> keeps an extension data leaf in 1394 ROM space for IP addresses of devices <highlight><bold>704</bold></highlight> on the non-1394 network <highlight><bold>702</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIGS. 7, 14</cross-reference>), and additionally an immediate data value for the Internet Gateway address as information for all the 1394 devices <highlight><bold>11</bold></highlight>. Any 1394 device <highlight><bold>11</bold></highlight> can discover the Gateway address. The Internet Gateway device <highlight><bold>700</bold></highlight> or a device (e.g., DTV <highlight><bold>103</bold></highlight>) communicating with non-1394 network <highlight><bold>702</bold></highlight> supporting the gateway device <highlight><bold>700</bold></highlight> includes the IP address of the gateway in ROM space (1212R) as defined. One or more devices <highlight><bold>11</bold></highlight> (e.g., DTV <highlight><bold>102</bold></highlight>) can make their own icon more prominent (bigger), give the entire GUI <highlight><bold>220</bold></highlight> a different look and include logos and icons <highlight><bold>710</bold></highlight>B from the external portal (e.g. manufacturer or other website provided by one or more devices <highlight><bold>704</bold></highlight> in the external network <highlight><bold>702</bold></highlight>). Logos <highlight><bold>710</bold></highlight>B from an external Web site(s) or Portal can be included in the top-level GUI <highlight><bold>220</bold></highlight> under the control of e.g. the TV manufacturer provided DTV UI description generator <highlight><bold>408</bold></highlight>, for various (e.g., business) purposes. One or more of the devices <highlight><bold>11</bold></highlight> can further include IP address of Internet Gateway (if gateway or bridge device if present), relevant to the discovery IP address for 1394WEB in the 1394 configuration ROM. </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, during an example operation scenario of a UIDGA <highlight><bold>408</bold></highlight> in a device <highlight><bold>11</bold></highlight> (step <highlight><bold>800</bold></highlight>), if a gateway IP address is encountered during the search of 1394 ROM space (step <highlight><bold>802</bold></highlight>), it is noted to allow inclusion of externally accessed logos <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A in the Top-Level Network UI Description (TLNUID) <highlight><bold>250</bold></highlight>. Then the UIDGA <highlight><bold>408</bold></highlight> reads the IP address list of devices in the home network <highlight><bold>300</bold></highlight> (step <highlight><bold>804</bold></highlight>) discovered by the DDA <highlight><bold>404</bold></highlight>, the UIDGA <highlight><bold>408</bold></highlight> obtains the home portal IP address (step <highlight><bold>806</bold></highlight>) and generates the TLNUID <highlight><bold>250</bold></highlight> in HTML using the IP address list, including links to external services provided by the network <highlight><bold>702</bold></highlight> (step <highlight><bold>808</bold></highlight>). As shown by example in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the representative format of the TLNUID <highlight><bold>250</bold></highlight> comprises a matrix of icon graphics and underlying text representing the functions of the devices or services to the user. The Home Network devices <highlight><bold>11</bold></highlight> are given priority in the valuable TLNUID device-icon space. According to the TLNUID description <highlight><bold>250</bold></highlight>, for home network devices <highlight><bold>11</bold></highlight>, the icon.htm <highlight><bold>706</bold></highlight>A page contents <highlight><bold>706</bold></highlight>B are placed in the large space and, and the name.htm <highlight><bold>707</bold></highlight>A content <highlight><bold>707</bold></highlight>B in the smaller of the vertically adjacent frames for each device. IP addresses of devices <highlight><bold>11</bold></highlight> connected to the home network <highlight><bold>300</bold></highlight> are used in the hypertext links to each device for their icon.htm and name.htm files (shown by examples further below) (step <highlight><bold>810</bold></highlight>). </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> Further, during operation of the UIDGA <highlight><bold>408</bold></highlight> in a device <highlight><bold>11</bold></highlight>, if a Gateway <highlight><bold>700</bold></highlight> is detected (e.g., by the DDA <highlight><bold>404</bold></highlight>), any device-icon GUI spaces remaining as a result of e.g. having a small network, using multiple levels (e.g., moving some device icons to a second level page), etc. can be used for externally accessed logo-items <highlight><bold>708</bold></highlight>A, at the discretion of the UIDGA <highlight><bold>408</bold></highlight>. In the TLNUID <highlight><bold>250</bold></highlight>, the external logo-items <highlight><bold>708</bold></highlight>A (e.g., each a logo graphic file <highlight><bold>710</bold></highlight>A and associated name <highlight><bold>710</bold></highlight>B) are obtained from, for example, a manufacturer&apos;s Web server (e.g. home portal) at a fixed external IP address in the external network <highlight><bold>702</bold></highlight> under the control of the manufacturers UIDGA <highlight><bold>408</bold></highlight>. The logo-items <highlight><bold>708</bold></highlight>A include predefined page names <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A, and are accessed in number order (e.g., logoicon1.htm, logoname1.htm first and then logoicon2.htm, logoname2.htm and so on) (step <highlight><bold>812</bold></highlight>). The manufacturer (or operator of the Web server) can insert the appropriate graphics and/or text with hyper-links inside said pages <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A. As such, in this example, logoicon1.htm <highlight><bold>710</bold></highlight>A and logoname1.htm <highlight><bold>712</bold></highlight>A, get included in the TLNUID <highlight><bold>250</bold></highlight> more often, and higher numbers are included least. The TLNUID <highlight><bold>250</bold></highlight> is then utilized by the browser <highlight><bold>410</bold></highlight> to generate and display the GUI <highlight><bold>220</bold></highlight> (step <highlight><bold>814</bold></highlight>). </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> In example versions of the TLNUID <highlight><bold>250</bold></highlight>, HTML files are used to indirectly reference the actual graphics files <highlight><bold>710</bold></highlight>B and name data <highlight><bold>712</bold></highlight>B rather than directly including the raw graphic file name/type and name text. This provides a layer of abstraction that allows the item (e.g., actual graphics files <highlight><bold>710</bold></highlight>B and name data <highlight><bold>712</bold></highlight>B) to be changed on the device side to reflect current status, customized by the manufacturer or user configured at the device without causing any change to the TLNUID HTML <highlight><bold>250</bold></highlight>. Though intended for one graphic, more than one graphic file and text can be referenced by icon.htm or logoiconX.htm and graphics and text referenced in name.htm and logonameX.htm. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> In example embodiments, HTML frames are used to implement the UI description <highlight><bold>250</bold></highlight>. Use of frames stabilizes the GUI <highlight><bold>220</bold></highlight> appearance in the event of &lsquo;bad citizen&rsquo; devices. For example a device presenting too many words or over large text in its &lsquo;name&rsquo; frame will only affect that device&apos;s GUI look (by having some of the words truncated and not displayed) and not adversely affect the appearance of the whole Top-level GUI. As the Top-level description <highlight><bold>250</bold></highlight> is generated independently by UI capable devices (e.g. client devices <highlight><bold>12</bold></highlight> such as DTV <highlight><bold>102</bold></highlight>), the exact design need not be standardized. The icon and logo graphics and name maximum sizes are standardized to facilitate design of the GUI matrix. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> The top-level GUI <highlight><bold>220</bold></highlight> including many devices <highlight><bold>11</bold></highlight> and services <highlight><bold>708</bold></highlight>B can be designed according to a prior user access frequency. Devices <highlight><bold>11</bold></highlight> or services <highlight><bold>708</bold></highlight>B with higher access frequency can be given prominent display on the top-level GUI <highlight><bold>220</bold></highlight> or higher level GUI pages for ease of use. A software agent running with the Browser can be utilized to provide such a function. The software agent monitors the user access to each device <highlight><bold>11</bold></highlight> or service <highlight><bold>708</bold></highlight>B, counts the accesses and saves the number of accesses per device/service IP address to a data file in a place that is accessible by the User Interface description generator agent UIDGA <highlight><bold>408</bold></highlight>. The data file comprises e.g. a simple list of IP addresses and counts. If a file and count already exists for a particular IP address, the new count is added to the existing value. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> In one version, the UIDGA <highlight><bold>408</bold></highlight> is preprogrammed with one or more IP addresses in the external network <highlight><bold>702</bold></highlight> to access one or more external web sites, wherein a portal comprises one or more fixed web sites. The DDA <highlight><bold>404</bold></highlight> discovers the devices <highlight><bold>11</bold></highlight> in the home network <highlight><bold>300</bold></highlight>, while the UIDGA <highlight><bold>408</bold></highlight> is responsible to generate the top level TLNUID <highlight><bold>250</bold></highlight>. The gateway <highlight><bold>700</bold></highlight> is used to route the data to external networks <highlight><bold>702</bold></highlight>. Every time there is a request to access an outside network <highlight><bold>702</bold></highlight>, for example, external portal on an internet web site, the request is routed by the gateway <highlight><bold>700</bold></highlight> to the outside network <highlight><bold>702</bold></highlight> (specified by network communication). The UIDGA <highlight><bold>408</bold></highlight> uses the preprogrammed external portal IP address to generate the TLNUID <highlight><bold>250</bold></highlight> for the top-level GUI <highlight><bold>220</bold></highlight> including e.g. an icon graphic representation <highlight><bold>710</bold></highlight>B for the external services, then the GUI <highlight><bold>200</bold></highlight> is presented to the user. When a user accesses the external link/network by clicking on an icon <highlight><bold>710</bold></highlight>B in the GUI <highlight><bold>220</bold></highlight> representing a device/service in the outside network <highlight><bold>702</bold></highlight>, the request is sent out of home network <highlight><bold>300</bold></highlight> to the external network <highlight><bold>702</bold></highlight> through the gateway <highlight><bold>700</bold></highlight>. The Browser <highlight><bold>410</bold></highlight> is used to display the top level GUI <highlight><bold>220</bold></highlight>, just the same as the case where no external links are used. In one version, the UIDGA <highlight><bold>408</bold></highlight> only includes a &lsquo;base&rsquo; external service portal IP address (e.g. a device manufacturer&apos;s web site or portal address), without the need to know the external link IP addresses of other external services such as yahoo.com, amazon.com, which are stored in the base portal web site and then provided to the GUI <highlight><bold>220</bold></highlight>, in files such as logoicon1.htm, described by example below. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> Though in the above description an example implementation describes manufacturers as placing portal information in the devices, others are possible. Further, though the external web site is described as a device manufacturer&apos;s web site, any other external web site can also be utilized. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> Referring to Appendices 5-12, illustrative examples for the following htm files for generating the TLNUID and GUI in FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight> are provided: </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> Appendix 5&mdash;Top-Level Page Example TLNUID (index.htm) </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> Appendix 6&mdash;background.htm example </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> Appendix 7&mdash;icon.htm example </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> Appendix 8&mdash;Example name.htm </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> Appendix 9&mdash;Example logoicon1.htm </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> Appendix 10&mdash;Example logoname1.htm </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> Appendix 11&mdash;Example logoicon2.htm </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> Appendix 12&mdash;Example logoname2.htm </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> The Top-Level Page Example TLNUID (index.htm) <highlight><bold>250</bold></highlight> implements the TLNUID <highlight><bold>250</bold></highlight> and GUI <highlight><bold>220</bold></highlight> shown in FIGS. <highlight><bold>12</bold></highlight>-<highlight><bold>13</bold></highlight>. Eight Home Network devices <highlight><bold>11</bold></highlight> are shown represented in the top 75% area of the GUI <highlight><bold>200</bold></highlight>. The lower 25% of area, i.e. the bottom row, shows logo pages <highlight><bold>708</bold></highlight>B from the manufacturer&apos;s chosen external Web Server or Portal of a fixed IP address. The TLNUID <highlight><bold>250</bold></highlight> is generated using frames. Hyper-links to the local device <highlight><bold>11</bold></highlight> graphics and name pages all use their 10.X.X.X local addresses. Hyper-links for the externally provided logo graphics and names pages <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A use the single external IP address (e.g., 209.157.0.2) provided by the manufacturer. As such control of the logo display <highlight><bold>708</bold></highlight>B, and services offered, is provided by the TV or device manufacturer i.e. the provider of the TLNUID generator agent <highlight><bold>408</bold></highlight> in each of one or more devices <highlight><bold>11</bold></highlight>. The &ldquo;DVD 1&rdquo; device <highlight><bold>11</bold></highlight> icon frame includes two graphics from the device <highlight><bold>11</bold></highlight>. This does not affect the TLNUID <highlight><bold>250</bold></highlight>, however when the Browser <highlight><bold>410</bold></highlight> renders the GUI <highlight><bold>220</bold></highlight>, at least one icon.htm <highlight><bold>706</bold></highlight>A can reference two graphics files, one (device graphic <highlight><bold>721</bold></highlight>) hyper-linked to the device <highlight><bold>11</bold></highlight> top level control page and the other (logo <highlight><bold>720</bold></highlight>) hyper-linked to the manufacturer Web Server for customer support, service, help, etc. </paragraph>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> The icon.htm <highlight><bold>706</bold></highlight>A example description page is accessed from the device <highlight><bold>11</bold></highlight> when the Web Browser <highlight><bold>410</bold></highlight> renders the top-level GUI <highlight><bold>220</bold></highlight> and used to fill an icon space. The browser <highlight><bold>410</bold></highlight> reads this page <highlight><bold>706</bold></highlight>A and makes further accesses to the device <highlight><bold>11</bold></highlight> to fetch the actual graphic icon.gif <highlight><bold>706</bold></highlight>B for display. The icon.htm <highlight><bold>706</bold></highlight>A description shows that the device default control page index.htm is the hyper-link attached to the graphics causing the page to be fetched when invoked. When invoked the device home control page is displayed in a new Browser window. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> The name.htm <highlight><bold>707</bold></highlight>A example description page is accessed from the device <highlight><bold>11</bold></highlight> by the Web Browser <highlight><bold>410</bold></highlight> when it renders the top-level GUI <highlight><bold>220</bold></highlight>. The text <highlight><bold>707</bold></highlight>B contained in name.htm <highlight><bold>707</bold></highlight>A is placed directly under the icon <highlight><bold>706</bold></highlight>B and provides ability, through facilities provided to the user through the device control pages, to apply user-customized text under the icon. </paragraph>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> The logoincon1.htm <highlight><bold>710</bold></highlight>A example description page is kept on an external Web Server <highlight><bold>704</bold></highlight> operated by the hardware manufacturer (e.g., homewideweb.com). The page <highlight><bold>710</bold></highlight>A can include logo graphics to enable access to a service. A hyper-link in the TLNUID <highlight><bold>250</bold></highlight> provides access to the external Web Server <highlight><bold>704</bold></highlight> supporting that particular service. In this example case the address actually corresponds to the same Web Server or the Portal supporting the logo pages themselves&mdash;domain name &lsquo;homewideweb.com&rsquo;. The logoicon1.htm <highlight><bold>710</bold></highlight>A example description page is accessed in the Web Server <highlight><bold>704</bold></highlight> by the Web Browser <highlight><bold>410</bold></highlight> in the device <highlight><bold>11</bold></highlight> to render the top-level GUI <highlight><bold>220</bold></highlight>. Similarly the file logoname1.htm <highlight><bold>712</bold></highlight>A in the server <highlight><bold>704</bold></highlight> is accessed by the browser <highlight><bold>410</bold></highlight>, and the text <highlight><bold>712</bold></highlight>B in logoname1.htm <highlight><bold>712</bold></highlight>A is placed directly under the logo graphic <highlight><bold>710</bold></highlight>B and can be used to augment the graphic in describing the service. </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> As such there is a first hyper-link between the top level page <highlight><bold>250</bold></highlight> in the device <highlight><bold>11</bold></highlight> and the logoincon1.htm file <highlight><bold>710</bold></highlight>A in a server <highlight><bold>704</bold></highlight>, and there is a second hyper-link between the logoicon1.htm file <highlight><bold>710</bold></highlight>A and the actual logo graphic <highlight><bold>710</bold></highlight>B. The UIDGA <highlight><bold>408</bold></highlight> places the first hyper-link to the logoincon1.htm file <highlight><bold>710</bold></highlight>A in the top level page <highlight><bold>250</bold></highlight> for use by the browser <highlight><bold>410</bold></highlight> to access the logoincon1.htm file <highlight><bold>710</bold></highlight>A kept in the server <highlight><bold>704</bold></highlight>, and the browser <highlight><bold>410</bold></highlight> utilizes the second hyper-link in the logoincon1.htm file <highlight><bold>710</bold></highlight>A to access the actual logo <highlight><bold>710</bold></highlight>B (e.g., home wide web, Yahoo (TM), Amazon (TM), etc.) to display in the GUI <highlight><bold>220</bold></highlight> in the device <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> In one example, the logoicon1.htm file <highlight><bold>710</bold></highlight>A in the home portal (e.g., server <highlight><bold>704</bold></highlight>) includes a hypertext link to the corresponding Home Wide Web icon graphics file <highlight><bold>710</bold></highlight>B in the home portal, and the logoiconr.htm file <highlight><bold>710</bold></highlight>A in the home portal (e.g., server <highlight><bold>704</bold></highlight>) includes a hypertext link to Yahoo(TM) IP address for the corresponding Yahoo icon graphics file <highlight><bold>710</bold></highlight>B. </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> The logoicon2.htm hyper-link is kept on an external Web Server <highlight><bold>704</bold></highlight> operated by the hardware manufacturer, and is for an external Web Server supporting a particular service. In this example, the logoicon2.htm includes hyper-link to the IP address of the YAHOO(TM) domain 204.71.200.75 to reference directly to the YAHOO Web site. DNS (providing name address look-up and allowing use of the name) is not required as the user interacts with the Yahoo graphic which does not change, and its hyper-link in the logoicon2.htm page can easily be changed to reflect any new address any time the GUI <highlight><bold>220</bold></highlight> is redisplayed/refreshed. In one example, the actual GUI <highlight><bold>220</bold></highlight> is generated from the HTML description <highlight><bold>250</bold></highlight> at start-up or re-start after a device <highlight><bold>11</bold></highlight> has been added to the network <highlight><bold>300</bold></highlight>, and at a refresh. </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> For the example linked external web server implementation, example Table 11 below is used instead of the unit directory table 7 above, showing the EIA-775 Unit Directory, whereby the following EIA-1394WEB specific information should appear in the EIA-1394WEB Unit Directory.  
<table-cwu id="TABLE-US-00012">
<number>12</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 11</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>EIA-1394WEB Unit Directory</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="91PT" align="center"/>
<colspec colname="2" colwidth="91PT" align="center"/>
<colspec colname="3" colwidth="21PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>Directory length</entry>
<entry>CRC</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="21PT" align="center"/>
<colspec colname="2" colwidth="182PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>12<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_specification_ID (EIA &equals; 005068<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>13<highlight><subscript>16</subscript></highlight></entry>
<entry>Unit_software_version (010100<highlight><subscript>16</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry>38<highlight><subscript>16</subscript></highlight></entry>
<entry>Discovery_control_bits</entry>
</row>
<row>
<entry></entry>
<entry>39<highlight><subscript>16</subscript></highlight></entry>
<entry>Assigned_Count_of_1394_devices</entry>
</row>
<row>
<entry></entry>
<entry>3A<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Built_in</entry>
</row>
<row>
<entry></entry>
<entry>3B<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Assigned</entry>
</row>
<row>
<entry></entry>
<entry>BC<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Extension Leaf_for_attached_network</entry>
</row>
<row>
<entry></entry>
<entry>BD<highlight><subscript>16</subscript></highlight></entry>
<entry>IP_Address_Internet_Gateways_Leaf</entry>
</row>
<row>
<entry></entry>
<entry>&mdash;<highlight><subscript>16</subscript></highlight></entry>
<entry>&lt;&lt;possibly other fields&gt;&gt;</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> The Unit_specification_ID specifies the identity of the organization responsible for the architectural interface of the unit and the specification. In this case the directory and identity value&equals;005068<highlight><subscript>16</subscript></highlight>.refers to the EIA as the responsible body and the EIA-1394WEB control architecture specification. </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> A data leaf contains a table of gateway IP addresses to allow for more than one gateway address. It is intended for communications devices. This may be the same device or in another device on a bridged network (e.g., <cross-reference target="DRAWINGS">FIG. 7</cross-reference> including the 1394 and non-1394 device). An IP_Address_Internet_Gateways_Leaf (BD<highlight><subscript>16</subscript></highlight>) directory entry is included for the address offset to the data leaf for the IP_Address_Internet_Gateways_Leaf as shown in example table 12 below. Gateway addresses are used by host client software to direct external addresses to the Internet. Filtering for external addresses is by assumed sub-net mask 255.0.0.0 for the 10.X.X.X private network.  
<table-cwu id="TABLE-US-00013">
<number>13</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 12</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>IP_Address_Internet_Gateway_Leaf</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="42PT" align="left"/>
<colspec colname="1" colwidth="63PT" align="center"/>
<colspec colname="2" colwidth="112PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>Leaf Length-1 (n)<highlight><subscript>16</subscript></highlight></entry>
<entry>CRC-16<highlight><subscript>16</subscript></highlight></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<tbody valign="top">
<row>
<entry>IP Address 1 (32 bit)</entry>
</row>
<row>
<entry>...</entry>
</row>
<row>
<entry>IP Address n (32 bit)</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> Further, in addition to the requirement that the Bus_Info_Block, Root_Directory, and Unit Directories be present, it is also required that a Model Directory be present (e.g., Table 13 below). The following fields (defined in IEEE1212r are required of all nodes supporting the EIA-775 specification: Model_ID, Textual descriptor for Model_ID. The Model-Directory portion of the ROM is referenced by the Model_Directory offset field in the Root Directory.  
<table-cwu id="TABLE-US-00014">
<number>14</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 13</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Model directory</entry>
</row>
<row>
<entry>Model_Directory</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="91PT" align="center"/>
<colspec colname="2" colwidth="91PT" align="center"/>
<colspec colname="3" colwidth="21PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>directory length</entry>
<entry>CRC</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="28PT" align="left"/>
<colspec colname="1" colwidth="21PT" align="center"/>
<colspec colname="2" colwidth="168PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>17<highlight><subscript>16</subscript></highlight></entry>
<entry>Model_ID</entry>
</row>
<row>
<entry></entry>
<entry>81<highlight><subscript>16</subscript></highlight></entry>
<entry>device_name_textual_descriptor offset</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>&lt;&lt;possibly other fields&gt;&gt;</entry>
</row>
<row>
<entry></entry>
<entry>....</entry>
<entry>....</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0232" lvl="0"><number>&lsqb;0232&rsqb;</number> As used herein, in one example, services provided by the network <highlight><bold>702</bold></highlight>, or one or more of the devices <highlight><bold>704</bold></highlight>, includes e.g. services, information, data, transactions, e-commerce, data transfer, news, information, manufacturer web sites, etc. that can be provided by the Internet and Word Wide Web. Other services provided by other external networks are contemplated by the present invention. </paragraph>
<paragraph id="P-0233" lvl="7"><number>&lsqb;0233&rsqb;</number> Regional Service Support </paragraph>
<paragraph id="P-0234" lvl="0"><number>&lsqb;0234&rsqb;</number> In another aspect, the present invention provides Regional Service Support in home Network Top-level Home Page, and Device Manufacturer&apos;s Portal (e.g., External Web Server) provide services for networks (e.g. home networks) that include externally provided logos or icons in their home network top-level GUI (described above). The regional service support is based on the linked external web server, wherein the functionality is also built into the GUI description generator agent (UIDGA). Regional service provides advantageous features for e.g. home networks because typically information and services are localized by region. For example, such information can comprise local news, weather information, etc., and services can comprise cable service, Internet service, local TV program, etc. As such, manufacturers that include externally provided logos or icons in their home network top-level GUI can further include regional service support based on the linked external web server. </paragraph>
<paragraph id="P-0235" lvl="0"><number>&lsqb;0235&rsqb;</number> In one implementation, redirection identification code (RIC), for example regional identification code, is used for User Interface devices <highlight><bold>11</bold></highlight> in the home networks to identify their geographical location using e.g. one-time user configuration or automatic configuration. For example, area code, IP address or Zip code can be used as RIC. The choice of different RICs does not affect the regional service support. </paragraph>
<paragraph id="P-0236" lvl="0"><number>&lsqb;0236&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 17 and 19</cross-reference>, in one embodiment, the present invention provides regional service support in home network top-level home page generating process and device manufacturer&apos;s portal services using Zip code. Regional service is supported in the top-level homepage generating process UIDGA, wherein RIC is obtained (step <highlight><bold>820</bold></highlight>) and embedded into HTTP links to external web servers by the top-level homepage generating process UIDGA in the top level page <highlight><bold>250</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 16</cross-reference>) (step <highlight><bold>822</bold></highlight>). The browser <highlight><bold>410</bold></highlight> displays the GUI <highlight><bold>220</bold></highlight> based on the top level page <highlight><bold>250</bold></highlight> (step <highlight><bold>824</bold></highlight>). Manufacture&apos;s portal services <highlight><bold>908</bold></highlight> supports regional service, wherein regional service redirection by said manufacturer portal based on RIC is included in HTTP requests from home devices <highlight><bold>11</bold></highlight>. When a user clicks a cable service external link in the top-level home page <highlight><bold>250</bold></highlight> in a User Interface (UI) device <highlight><bold>11</bold></highlight> (step <highlight><bold>826</bold></highlight>), the device <highlight><bold>11</bold></highlight> uses the hyper-link to the portal <highlight><bold>908</bold></highlight> to send a an HTTP request with RIC to the portal <highlight><bold>908</bold></highlight> (step <highlight><bold>828</bold></highlight>). After looking up a RIC/local service provider database <highlight><bold>900</bold></highlight>, redirection programs <highlight><bold>904</bold></highlight> in the manufacturer portal <highlight><bold>908</bold></highlight> redirects the HTTP request to a destination portal <highlight><bold>910</bold></highlight> in external network <highlight><bold>702</bold></highlight> based on the RIC (steps <highlight><bold>830</bold></highlight>, <highlight><bold>832</bold></highlight>), wherein in one example, relative to the portal <highlight><bold>908</bold></highlight>, the destination portal <highlight><bold>910</bold></highlight> is local to the device <highlight><bold>11</bold></highlight>. Then, the browser <highlight><bold>410</bold></highlight> displays the web page of the local cable service provider for the user&apos;s specific location (region). Manufacture&apos;s portal services supports regional service, wherein regional service redirection by said manufacturer portal based on RIC is included in HTTP requests from home devices <highlight><bold>11</bold></highlight>. The external network can comprise multiple portals <highlight><bold>908</bold></highlight> and multiple portals <highlight><bold>910</bold></highlight>. </paragraph>
<paragraph id="P-0237" lvl="0"><number>&lsqb;0237&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 18 and 20</cross-reference>, the RIC of a device <highlight><bold>11</bold></highlight> is obtained when the device <highlight><bold>11</bold></highlight> dials in home portal <highlight><bold>908</bold></highlight>, the portal <highlight><bold>908</bold></highlight> obtains phone area code (for example, by caller ID) (step <highlight><bold>840</bold></highlight>). The portal <highlight><bold>908</bold></highlight> can map area code to another RIC, for example zip code, and the software agent <highlight><bold>902</bold></highlight> in the device <highlight><bold>11</bold></highlight> receives the RIC. The additional steps <highlight><bold>842</bold></highlight>-<highlight><bold>852</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> are similar to steps <highlight><bold>822</bold></highlight>-<highlight><bold>832</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, and are not repeated. </paragraph>
<paragraph id="P-0238" lvl="0"><number>&lsqb;0238&rsqb;</number> In one example scenario, when a user with a user interface device <highlight><bold>11</bold></highlight>, such as a Samsung (TM) HDTV <highlight><bold>102</bold></highlight> in Los Angeles, clicks on the external link icon for e.g. cable services, an HTTP request/inquiry is sent to the Samsung Home Network portal with the RIC in the URL from that HDTV <highlight><bold>102</bold></highlight>, wherein said Samsung portal redirects the inquiry to e.g. a cable service provider in Los Angeles based on that RIC. The Samsung portal redirects the inquiry to a cable service local to that HDTV <highlight><bold>102</bold></highlight> based on the RIC in the inquiry. In this example process, the Samsung portal receives the RIC from the HTTP get message or post message. As such, in this example, an HDTV <highlight><bold>102</bold></highlight> in a network <highlight><bold>300</bold></highlight> in New York has a different RIC than the HDTV <highlight><bold>102</bold></highlight> in Los Angeles in another network <highlight><bold>300</bold></highlight>, wherein each RIC indicates geographical area of a HDTV. The portal <highlight><bold>908</bold></highlight> redirects requests for service from each HDTV in a different geographical area to a portal <highlight><bold>910</bold></highlight> local to the requesting HDTV based on the RIC of that HDTV (<cross-reference target="DRAWINGS">FIG. 21</cross-reference>). </paragraph>
<paragraph id="P-0239" lvl="7"><number>&lsqb;0239&rsqb;</number> Regional Identification Code </paragraph>
<paragraph id="P-0240" lvl="0"><number>&lsqb;0240&rsqb;</number> As described, a regional identification code (RIC) is utilized for UI devices <highlight><bold>11</bold></highlight> to identify geographical location of such devices <highlight><bold>11</bold></highlight> in different networks. The RIC can comprise e.g. zip code (5 digit or 9 digit), phone area code, IP address of the device or the home network, IP address of the service provider, or any other identification information. The RIC can also comprise a combination of the above examples. For example, using zip code or phone area code, the geographical location of the UI device and the local service provider in the geographical area can be determined. Because each local Internet Service Provider (ISP) is typically assigned fixed IP addresses or IP address block, and they further assign certain IP addresses or blocks to a regional area, this allows determination of the ISP and region information from an IP address. The portal can use this regional information to further provide the web page of the local service provider (e.g., cable or other services). In one version, e.g. a 5-digit Zip code is used as RIC, while in another version e.g. 9-digit Zip code is used for detailed geographical information. The choice of 5-digit or 9-digit Zip code does not affect the regional service support. The choice between Zip code, area code, IP address or other possible codes does not affect the regional service support as describe herein. </paragraph>
<paragraph id="P-0241" lvl="7"><number>&lsqb;0241&rsqb;</number> Portal Service with Regional Support </paragraph>
<paragraph id="P-0242" lvl="0"><number>&lsqb;0242&rsqb;</number> For portal service with regional support, in one example a home device manufacture&apos;s portal services supports regional service (i.e., regional redirect service) based on RIC enclosed in the HTTP request from the home devices <highlight><bold>11</bold></highlight>. The portal with regional support redirects the HTTP request to a URL local to the request based on RIC. </paragraph>
<paragraph id="P-0243" lvl="0"><number>&lsqb;0243&rsqb;</number> After the UIDGA builds the top level directory <highlight><bold>250</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> (the directory <highlight><bold>250</bold></highlight> including portal address, RIC and hyperlinks for obtaining name and logo information from the portal for external service), when the browser <highlight><bold>410</bold></highlight> executes, the portal sends HTML files (logoicon1.html <highlight><bold>710</bold></highlight>A, logoname1.html <highlight><bold>712</bold></highlight>A, etc.) for icon and name representing external services to the device <highlight><bold>11</bold></highlight> for display on the GUI <highlight><bold>220</bold></highlight>. These html files <highlight><bold>710</bold></highlight>A, <highlight><bold>712</bold></highlight>A can be from the same web site or different web sites (e.g., general web site such as the portal or service provider web site). Referring to FIGS. <highlight><bold>17</bold></highlight>-<highlight><bold>18</bold></highlight>, thereafter, when a user clicks on an external link such as e.g. a cable service icon on the GUI <highlight><bold>220</bold></highlight> of the device <highlight><bold>11</bold></highlight> (e.g., HDTV), then a hyper link associated with that icon sends a request including RIC of device <highlight><bold>11</bold></highlight> to the portal <highlight><bold>908</bold></highlight> with regional support, and that portal <highlight><bold>908</bold></highlight> based on the RIC determines region of the device <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0244" lvl="0"><number>&lsqb;0244&rsqb;</number> In a first embodiment of redirection, the portal <highlight><bold>908</bold></highlight> then redirects the request to a cable service provider <highlight><bold>910</bold></highlight> in the local region (or any other desired region) associated with the RIC. For example, the portal <highlight><bold>908</bold></highlight> redirects the request to the URL of that cable service provider <highlight><bold>910</bold></highlight> (e.g., ATT) whereby the browser <highlight><bold>410</bold></highlight> in device <highlight><bold>11</bold></highlight> is redirected to that cable service provider <highlight><bold>910</bold></highlight>. After the redirection by the portal <highlight><bold>908</bold></highlight> the cable service <highlight><bold>910</bold></highlight> web page is displayed on the device <highlight><bold>11</bold></highlight> for user interaction. The HTTP redirect comprises the device <highlight><bold>11</bold></highlight> sending to the server portal <highlight><bold>908</bold></highlight> a HTTP request (including RIC) for a URL for service, and based on the RIC in the request the portal <highlight><bold>908</bold></highlight> provides a new URL of service provider portal <highlight><bold>910</bold></highlight> for service local to the device <highlight><bold>11</bold></highlight>, wherein the browser <highlight><bold>410</bold></highlight> shows the contents of the web page of destination service provider <highlight><bold>910</bold></highlight> at the new URL on the device <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0245" lvl="0"><number>&lsqb;0245&rsqb;</number> In a second embodiment of redirection, the portal <highlight><bold>908</bold></highlight> includes sets of html files <highlight><bold>906</bold></highlight> (e.g., including icons, names, URLs) associated with service providers <highlight><bold>910</bold></highlight>. The html files are categorized based on RIC, such that there is a set of html files <highlight><bold>906</bold></highlight> corresponding to each RIC. Upon receiving an HTTP request with RIC from a device <highlight><bold>11</bold></highlight>, the portal <highlight><bold>908</bold></highlight> uses the RIC to find the corresponding html files <highlight><bold>906</bold></highlight> in the portal <highlight><bold>908</bold></highlight>, and sends the html files <highlight><bold>906</bold></highlight> associated with a destination portal <highlight><bold>910</bold></highlight> to the browser <highlight><bold>410</bold></highlight> of device <highlight><bold>11</bold></highlight> for display. The html files <highlight><bold>906</bold></highlight> include e.g. icon, name and URL of the destination portal <highlight><bold>910</bold></highlight> local to the device <highlight><bold>11</bold></highlight>. Thereafter, when the user clicks on the icon/name of the destination portal displayed by the browser <highlight><bold>410</bold></highlight>, the device <highlight><bold>11</bold></highlight> is directed to the URL of the destination portal <highlight><bold>910</bold></highlight>. </paragraph>
<paragraph id="P-0246" lvl="0"><number>&lsqb;0246&rsqb;</number> In one implementation, two redirection programs <highlight><bold>904</bold></highlight> designated logoiconX and logonameX (for redirecting requests based on RIC) in the portal system <highlight><bold>908</bold></highlight> of external network <highlight><bold>702</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>) work for each service (e.g., cable, ISP, phone, etc.). The portal site <highlight><bold>908</bold></highlight> has access to a database of RICs <highlight><bold>900</bold></highlight> and local service providers, so that the portal <highlight><bold>908</bold></highlight> can look up the corresponding service provider <highlight><bold>910</bold></highlight> for different RICs and redirect HTTP requests from each device <highlight><bold>11</bold></highlight> based on that device&apos;s RIC (for displaying the local service provider information for that region on device <highlight><bold>11</bold></highlight>). For example, for Zip code or phone area RIC, the database <highlight><bold>900</bold></highlight> can be a lookup table of ZIP/local Service or Area Code/Local Service for each service, and for IP address, it can be a database of IP address/Local service provider/HTML name in the portal <highlight><bold>908</bold></highlight> (the home portal). The database <highlight><bold>900</bold></highlight> is updated by the service providers, such as cable providers or ISPs <highlight><bold>910</bold></highlight>. </paragraph>
<paragraph id="P-0247" lvl="0"><number>&lsqb;0247&rsqb;</number> The RIC is embedded into the top-level home network homepage <highlight><bold>250</bold></highlight> in the homepage generating process by the UIDGA <highlight><bold>408</bold></highlight>. When a user accesses (e.g., clicks on) an RIC embedded HTTP link on the page <highlight><bold>220</bold></highlight>, the HTTP request including an RIC is sent to the portal <highlight><bold>908</bold></highlight> in external network <highlight><bold>702</bold></highlight>. Upon receiving the HTTP request with embedded RIC: (1) in the first implementation of redirection described above, each redirect program <highlight><bold>904</bold></highlight> (e.g., logoiconX and logonameX) on the portal <highlight><bold>908</bold></highlight> redirects the request to the URL of portal service <highlight><bold>910</bold></highlight> outside the portal <highlight><bold>908</bold></highlight> based on the RICs (e.g., corresponding to the correct local service providers), or (2) in the second implementation of redirection described above each redirect program <highlight><bold>904</bold></highlight> uses said html files <highlight><bold>906</bold></highlight> for redirection, wherein e.g. the logoiconX program redirects the HTTP request from the device <highlight><bold>11</bold></highlight> (e.g., HDTV <highlight><bold>102</bold></highlight>) to a html file <highlight><bold>906</bold></highlight> corresponding to the RIC of the device <highlight><bold>11</bold></highlight> in the HTTP request in the portal <highlight><bold>908</bold></highlight>, wherein the html file <highlight><bold>906</bold></highlight> includes a link to a destination service provider <highlight><bold>910</bold></highlight> (e.g., Att.com) corresponding to the RIC. In one example, the portal <highlight><bold>908</bold></highlight> sends the html files <highlight><bold>906</bold></highlight> associated with the destination portal <highlight><bold>910</bold></highlight> to the browser <highlight><bold>410</bold></highlight> of device <highlight><bold>11</bold></highlight> for display. The html files <highlight><bold>906</bold></highlight> include e.g. icon, name and URL of the destination portal <highlight><bold>910</bold></highlight> local to the device <highlight><bold>11</bold></highlight>. Thereafter, when the user clicks on the icon/name of the destination portal displayed by the browser <highlight><bold>410</bold></highlight>, the device <highlight><bold>11</bold></highlight> is directed to the URL of the destination portal <highlight><bold>910</bold></highlight>. </paragraph>
<paragraph id="P-0248" lvl="0"><number>&lsqb;0248&rsqb;</number> The redirect programs can be programmed using any suitable program language, such as Java. There can be many destinations (e.g., URLs)available for one redirect program (e.g., LogoiconX or logonameX) to redirect a request to. The same redirect program can redirect using different kinds of RICs, for example, 5-digit Zip code, 9-digit Zip code, area code and IP address. Therefore, even mixed RICs can be used for the regional service support. </paragraph>
<paragraph id="P-0249" lvl="0"><number>&lsqb;0249&rsqb;</number> Appendix 14 shows an example redirection program example in Java Servlet, wherein the redirection program is named go.java (same function as the logoiconX or logonameX program). The redirect URL to the program is http://ip address/servlet/go, it will redirect the page immediately to, for example, the local service provider www.att.com. The RIC code can be easily added in the URL request like http://ip address/servlet/go&quest;arecode&equals;408, then the following program can be changed to get the RIC code, search the database, get the correct URL and then redirect. </paragraph>
<paragraph id="P-0250" lvl="0"><number>&lsqb;0250&rsqb;</number> Device icon spaces unused in the Top-level Home Network directory page <highlight><bold>250</bold></highlight> can be filled with service logos or icons and names from an external portal <highlight><bold>908</bold></highlight> (e.g., web site) provided by devices <highlight><bold>704</bold></highlight> in external network <highlight><bold>702</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>). For example, there can be as many as 12 unused icon spaces in the page <highlight><bold>250</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 16</cross-reference>) for a minimum network including one UI device <highlight><bold>11</bold></highlight>. In that case, there are a minimum of 12 sets of redirection programs on the portal, serving different HTML files containing logo-graphic and logo-name for the RIC based GUI <highlight><bold>220</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 12</cross-reference>). Said redirection programs can be implemented in different ways such as CGI script/program, Java servlet/program, ASP, etc. In one example, the redirect program file names have a number from 1 to 12 (e.g., logoicon1 to logoicon12, logoname1 to logoname12), and are accessed in sequential order starting with number 1. </paragraph>
<paragraph id="P-0251" lvl="0"><number>&lsqb;0251&rsqb;</number> A software agent in each UI device (FIGS. <highlight><bold>17</bold></highlight>-<highlight><bold>18</bold></highlight>) can make RICs available to the top-level home network homepage generator UIDGA. Then the RIC is embedded into the top-level home network homepage <highlight><bold>250</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 16</cross-reference>) in the homepage generating process by the UIDGA <highlight><bold>408</bold></highlight>. A default RIC can comprise e.g. all zeros. The home network can propagate identification code to UI devices <highlight><bold>11</bold></highlight> using the same kind of RIC via e.g. a device-to-device control mechanism. </paragraph>
<paragraph id="P-0252" lvl="0"><number>&lsqb;0252&rsqb;</number> In one implementation of the UIDGA for regional service, redirection program names in the portal server such as logoiconX (e.g., logoicon1, logoincon2, etc.) and logonameX (e.g., logoname1, logoname2, etc.) are used for the logo and name links in logo-items and name-items in the page <highlight><bold>250</bold></highlight>. These redirection programs redirect the request to specific HTML files according to RIC. The names of the logoicon1.htm, logoname1.htm, logoicon2.htm, logoname2.htm, etc. files are not standardized. The redirect programs <highlight><bold>904</bold></highlight> (logoiconX and logonameX) in the portal server <highlight><bold>908</bold></highlight> redirect the request to destination URLs for each local service provider according to RIC (e.g., redirect portal query to a local cable portal site). </paragraph>
<paragraph id="P-0253" lvl="0"><number>&lsqb;0253&rsqb;</number> In the above example, when a request for e.g. cable service from a device <highlight><bold>11</bold></highlight> is received by the Samsung portal, the portal uses the RIC information in the request and instead of providing the requested information from its own portal (e.g., yahoo.com or amazon.com), based on the RIC the portal redirects the request to the local cable service portal for services, such that the service is localized based on the RIC regional information. </paragraph>
<paragraph id="P-0254" lvl="7"><number>&lsqb;0254&rsqb;</number> Top-level Homepage with External Links and Regional Service </paragraph>
<paragraph id="P-0255" lvl="0"><number>&lsqb;0255&rsqb;</number> As described, an aspect of providing regional service is supported in the top-level homepage generating process UIDGA, wherein an RIC is embedded into the HTTP request to external web servers <highlight><bold>908</bold></highlight> of network <highlight><bold>702</bold></highlight> in the top-level homepage <highlight><bold>220</bold></highlight>. For example, if CGI type redirect program logoiconX and logonameX is utilized on the portal, the icon redirection URL can comprise e.g.: </paragraph>
<paragraph id="P-0256" lvl="2"><number>&lsqb;0256&rsqb;</number> http://209.157.0.2/cgi-bin/logoicon1&quest;zip&equals;95134, or </paragraph>
<paragraph id="P-0257" lvl="2"><number>&lsqb;0257&rsqb;</number> http://209.157.0.2/cgi-bin/logoicon1&quest;zip&equals;951342111, or </paragraph>
<paragraph id="P-0258" lvl="2"><number>&lsqb;0258&rsqb;</number> http://209.157.0.2/cgi-bin/logoicon1&quest;ipaddress&equals;165.35.2.1, or </paragraph>
<paragraph id="P-0259" lvl="2"><number>&lsqb;0259&rsqb;</number> http://209.157.0.2/cgi-bin/logoicon1&quest;areaCode&equals;408. </paragraph>
<paragraph id="P-0260" lvl="0"><number>&lsqb;0260&rsqb;</number> Similarly, the name redirection URL can comprise e.g.: </paragraph>
<paragraph id="P-0261" lvl="2"><number>&lsqb;0261&rsqb;</number> http:/1209.157.0.2/cgi-bin/logoname1&quest;zip&equals;95134, or </paragraph>
<paragraph id="P-0262" lvl="2"><number>&lsqb;0262&rsqb;</number> http://209.157.0.2/cgi-bin/logoname1&quest;zip&equals;951342111, or </paragraph>
<paragraph id="P-0263" lvl="2"><number>&lsqb;0263&rsqb;</number> http://209.157.0.2/cgi-bin/logoname1&quest;ipaddress&equals;165.35.2.1, or </paragraph>
<paragraph id="P-0264" lvl="2"><number>&lsqb;0264&rsqb;</number> http://209.157.0.2/cgi-bin/logoname1&quest;areaCode&equals;408. </paragraph>
<paragraph id="P-0265" lvl="0"><number>&lsqb;0265&rsqb;</number> In the process of generating the top-level homepage, the UIDGA includes the RIC (e.g., Zip code) of the current UI device <highlight><bold>11</bold></highlight> into the HTTP link (e.g., Iogoicon2&quest;zip&equals;95134 in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>). </paragraph>
<paragraph id="P-0266" lvl="7"><number>&lsqb;0266&rsqb;</number> Obtaining RICs </paragraph>
<paragraph id="P-0267" lvl="0"><number>&lsqb;0267&rsqb;</number> RICs can be obtained and set up in the following example two methods. The first method comprises one-time user configuration, as shown by example in <cross-reference target="DRAWINGS">FIGS. 17 and 19</cross-reference>, wherein user can input RIC code such as Zip code or area code into a software agent <highlight><bold>902</bold></highlight> in a one-time setup step. The second method comprises automatic configuration with the help of service providers as shown in <cross-reference target="DRAWINGS">FIGS. 18 and 20</cross-reference>. An RIC software agent <highlight><bold>902</bold></highlight> in the UI device <highlight><bold>11</bold></highlight> (e.g., HDTV) can collect the RIC from the service provider automatically, for example, using a trace route program <highlight><bold>912</bold></highlight> in the portal <highlight><bold>908</bold></highlight>. In cases where the RIC comprises area code or Zip code, said software agent <highlight><bold>902</bold></highlight> in a UI device <highlight><bold>11</bold></highlight> (e.g., HDTV <highlight><bold>102</bold></highlight>) can activate a dial-in phone call (wire-based or wireless, directly from the device or through the home network) to the home portal <highlight><bold>908</bold></highlight>. The home portal <highlight><bold>908</bold></highlight> can obtain the area code e.g., using caller ID. The portal <highlight><bold>908</bold></highlight> can further map the area code to CIP code. The software agent <highlight><bold>902</bold></highlight> in the device <highlight><bold>11</bold></highlight> can obtain this information, such as the area code or zip code as RIC for use by the UIDGA <highlight><bold>408</bold></highlight>. Where the RIC comprises a Device or Home Network IP Address, the software agent <highlight><bold>902</bold></highlight> in the HDTV <highlight><bold>102</bold></highlight> can obtain the IP address from the HDTV <highlight><bold>102</bold></highlight> directly or from home network, then use it as the RIC for the HDTV <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0268" lvl="0"><number>&lsqb;0268&rsqb;</number> In cases where the Service Provider IP Address is used as RIC, the IP address of service provider can be also used as RIC. First the RIC software agent <highlight><bold>902</bold></highlight> in HDTV <highlight><bold>102</bold></highlight> can call a TraceRoute program <highlight><bold>912</bold></highlight> in a portal site <highlight><bold>908</bold></highlight> of external network <highlight><bold>702</bold></highlight>, and retrieve the intermediate IP addresses list. Then the RIC software agent <highlight><bold>902</bold></highlight> selects the service provider <highlight><bold>910</bold></highlight> IP address from the list according to a criteria (e.g., the nearest IP address with a domain name ending with &ldquo;.net&rdquo; can be selected). Then this IP address, or even domain name, can be used as RIC. The example steps can be used regardless of the type of RIC. </paragraph>
<paragraph id="P-0269" lvl="0"><number>&lsqb;0269&rsqb;</number> An example trace route program <highlight><bold>912</bold></highlight> is shown in Appendix 13, wherein after user configuration or automatic configuration, the RIC code is stored in the UI device <highlight><bold>11</bold></highlight> (e.g., on a hard disk therein). The trace program <highlight><bold>912</bold></highlight> traces all the hubs, gateways and routers that a message goes through when it is traversing e.g. the Internet, to discover that for example the message has gone through the cable<custom-character file="US20030001883A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00003"/>s head end router, allowing identification of the cable provider. If the request/message went through TCI<custom-character file="US20030001883A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00004"/>s router, the portal redirects to TCI<custom-character file="US20030001883A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00005"/>s portal. </paragraph>
<paragraph id="P-0270" lvl="0"><number>&lsqb;0270&rsqb;</number> Though in the examples described herein redirection from a portal to destination portals is based on a regional identification code, in another example redirection from one portal to another can based on other information in addition to, or in place of, a location or region of a device <highlight><bold>11</bold></highlight>. Such other information can comprise e.g. information (e.g., age, education, etc.) about the user of a device <highlight><bold>11</bold></highlight>, wherein redirection to destination portals is based on such information. Further, the destination service provider can be either external to the portal <highlight><bold>908</bold></highlight>, or within the destination portal <highlight><bold>908</bold></highlight> for providing services. Therefore, the redirection programs <highlight><bold>904</bold></highlight> in the portal <highlight><bold>908</bold></highlight> can redirect a request from a device <highlight><bold>11</bold></highlight> to a service providers within the portal <highlight><bold>908</bold></highlight>, or to portals <highlight><bold>910</bold></highlight> external to the portal <highlight><bold>908</bold></highlight>. </paragraph>
<paragraph id="P-0271" lvl="0"><number>&lsqb;0271&rsqb;</number> Appendices 15, 6, 7, 8, 16, 17, 18, and 19 are illustrative examples for htm files for generating the top level home network user interface description and GUI in <cross-reference target="DRAWINGS">FIGS. 13 and 16</cross-reference> including external links with regional support. </paragraph>
<paragraph id="P-0272" lvl="7"><number>&lsqb;0272&rsqb;</number> Architecture for Home Network on Word Wide Web </paragraph>
<paragraph id="P-0273" lvl="0"><number>&lsqb;0273&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 22</cross-reference> in conjunction with the above description, in another aspect of the present invention, a web technology based home network (software) architecture in the home network (local network) <highlight><bold>300</bold></highlight> described hereinabove, is extended to outside the home network <highlight><bold>300</bold></highlight>. The home network <highlight><bold>300</bold></highlight> includes devices <highlight><bold>12</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, DTV <highlight><bold>102</bold></highlight>, DVCR <highlight><bold>120</bold></highlight>, etc.). A customer/user often needs to access the home network <highlight><bold>300</bold></highlight> from a remote site. For example, a traveler wants to start the home air conditioning system while arriving in the airport, program his VCR at home from an office computer to record a program, etc. The present invention provides an architecture (HomeNetOnWeb) for extending the device control and communication process to at least three systems, including: home portal <highlight><bold>1050</bold></highlight> (e.g., home portal <highlight><bold>908</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>), remote access devices <highlight><bold>1052</bold></highlight> with web browser, and the home network <highlight><bold>300</bold></highlight>. As such, a secure, remote home network control is accomplished. </paragraph>
<paragraph id="P-0274" lvl="0"><number>&lsqb;0274&rsqb;</number> A remote user can access the home network <highlight><bold>300</bold></highlight> the same way as a user in the home, using HomeWideWeb technology described above. The remote user is provided with substantially the same look of home network directory page, and same way to control devices through the directory page. The user is provided with a similar home network GUI, HomeNetOnWeb GUI <highlight><bold>1054</bold></highlight> (e.g., remote home network directory page), on the remote access device <highlight><bold>1052</bold></highlight> (e.g., personal computer). All communication between the remote access devices <highlight><bold>1052</bold></highlight> and the home network <highlight><bold>300</bold></highlight> are through at least one home portal <highlight><bold>1050</bold></highlight> via secure communication. The remote user of home network <highlight><bold>300</bold></highlight> may access the home network <highlight><bold>300</bold></highlight> through any device <highlight><bold>1052</bold></highlight> such as e.g. PC, laptop, PDA, wireless phone, etc. </paragraph>
<paragraph id="P-0275" lvl="0"><number>&lsqb;0275&rsqb;</number> The HomeNetOnWeb GUI <highlight><bold>1054</bold></highlight> (GUI displayed on a remote access device) can be generated by a software agent UIDGA <highlight><bold>408</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c</italic></highlight>) in the gateway device <highlight><bold>702</bold></highlight> in the home network <highlight><bold>300</bold></highlight>, and transmitted to the home portal <highlight><bold>1050</bold></highlight> for secure communication between remote devices <highlight><bold>1052</bold></highlight> and the home network <highlight><bold>300</bold></highlight> via a communication network <highlight><bold>1056</bold></highlight> (e.g., Internet). This software agent <highlight><bold>408</bold></highlight> ensures secure home network access and provides private/public IP address/URL mapping, described below. The gateway device <highlight><bold>702</bold></highlight> can include the same software agent for generating a GUI for the internal home network as for the remote access device <highlight><bold>1052</bold></highlight>, but in the case of the latter uses different generating method as described hereinbelow. </paragraph>
<paragraph id="P-0276" lvl="0"><number>&lsqb;0276&rsqb;</number> In the example <cross-reference target="DRAWINGS">FIG. 22</cross-reference> of the basic architecture of HomeNetOnWeb architecture <highlight><bold>1045</bold></highlight> according to the present invention, and its relationship with devices <highlight><bold>12</bold></highlight> such as a Home Wide Web Web-TV <highlight><bold>1058</bold></highlight> (i.e., a digital TV that can have the home network technology and capability to discover devices on the home network <highlight><bold>300</bold></highlight> and display a home network directory page <highlight><bold>220</bold></highlight>, whereby the user can control the discovered device through that TV <highlight><bold>1058</bold></highlight>, described above). In this example, the architecture spreads the control and communication process on three systems: home portal <highlight><bold>1050</bold></highlight>, remote access device <highlight><bold>1052</bold></highlight> with web browser, and the home network <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0277" lvl="0"><number>&lsqb;0277&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>, all communication between the remote access devices <highlight><bold>1052</bold></highlight> and the home network <highlight><bold>300</bold></highlight> is through a home portal <highlight><bold>1050</bold></highlight> (e.g., HN Portal), which is a secure web site providing: secure data transmission between remote access device <highlight><bold>1052</bold></highlight> and the home portal <highlight><bold>1050</bold></highlight>; secure data transmission between the home network <highlight><bold>300</bold></highlight> (e.g., through a home gateway device <highlight><bold>702</bold></highlight>) and the home portal <highlight><bold>1050</bold></highlight>; functions to redirect HTTP requests from remote access devices <highlight><bold>1052</bold></highlight> to the home network <highlight><bold>300</bold></highlight>; storing the user access information, such as user login and password; and optionally storing the user information for customized or personalized access. More than one home network <highlight><bold>300</bold></highlight> can be connected to the portal <highlight><bold>1050</bold></highlight>, and more than one portal <highlight><bold>1050</bold></highlight> can be included in the system <highlight><bold>1045</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 22</cross-reference> also shows direct communication between an external device <highlight><bold>1052</bold></highlight> (e.g., P.C.) and the home network <highlight><bold>300</bold></highlight> (not going through the home portal <highlight><bold>1050</bold></highlight>) based on a trigger function to initialize a dial-up connection from the home network to ISP for dial-up connections to a communication device <highlight><bold>1060</bold></highlight> in the network <highlight><bold>300</bold></highlight>, described further below. </paragraph>
<paragraph id="P-0278" lvl="0"><number>&lsqb;0278&rsqb;</number> A remote user of a home network <highlight><bold>300</bold></highlight> may access the home network <highlight><bold>300</bold></highlight> through any device <highlight><bold>1052</bold></highlight> such as e.g. PC, laptop computer, PDA, wireless phone, etc., wherein such devices include at least a display for GUI presentation and user interaction, and an HTML compatible web browser <highlight><bold>200</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>a</italic></highlight>) to display the HTML based HN directory page <highlight><bold>1054</bold></highlight> and device page <highlight><bold>202</bold></highlight> (e.g., <cross-reference target="DRAWINGS">FIG. 4</cross-reference><highlight><italic>a</italic></highlight>), with the example minimum client web browser <highlight><bold>200</bold></highlight> specified below. </paragraph>
<paragraph id="P-0279" lvl="0"><number>&lsqb;0279&rsqb;</number> For use in an embodiment of the present invention, the HTTP1.1, Section &lsquo;8.1.2.1 Negotiation&rsquo; regarding connection persistence, is modified because the persistent connection is normal for 1394WEB user control to allow full status reporting while the GUI remains visible, wherein an HTTP/1.1 client shall expect a connection to remain open. </paragraph>
<paragraph id="P-0280" lvl="0"><number>&lsqb;0280&rsqb;</number> A GUI presentation engine <highlight><bold>200</bold></highlight>, described above, is provided that interprets GUI descriptions <highlight><bold>250</bold></highlight> written in the HTML4.0 document description language and the associated example specifications listed below, and creates a graphical form for display to the user under user control. A HTML 4.0 compatible web browser in some remote access device could be utilized as the presentation engine. </paragraph>
<paragraph id="P-0281" lvl="2"><number>&lsqb;0281&rsqb;</number> WINDOW (GUI) MINIMUM DEFAULT SIZE&equals;480&times;640 pixels, wherein this default size is to ensure the intended appearance is transferred to the user. The transferred GUI is displayed in a window 480&times;640 pixels or magnified larger with the same aspect ratio unless otherwise directed by the user. </paragraph>
<paragraph id="P-0282" lvl="2"><number>&lsqb;0282&rsqb;</number> STILL IMAGE COMPRESSION formats: GIF89a, JPEG, PNG. </paragraph>
<paragraph id="P-0283" lvl="2"><number>&lsqb;0283&rsqb;</number> STYLE SHEET formats and fonts: CSS1 and CSS2. </paragraph>
<paragraph id="P-0284" lvl="2"><number>&lsqb;0284&rsqb;</number> FONTS: The following built-in fonts are used for the client (browser) system to save simple server appliances from having to support them. Other fonts can be used, such as minimum one from each generic Latin family e.g.: Times New Roman, from &lsquo;serif&rsquo; family, Helvetica, from &lsquo;sans-serif&rsquo; family, Zapf-Chancery, from &lsquo;cursive&rsquo; family, Western from &lsquo;fantasy&rsquo; family, and Courier from &lsquo;monospace&rsquo; family. </paragraph>
<paragraph id="P-0285" lvl="2"><number>&lsqb;0285&rsqb;</number> SCRIPTING LANGUAGE: ECMA-262. </paragraph>
<paragraph id="P-0286" lvl="2"><number>&lsqb;0286&rsqb;</number> The Web Browser need not use CACHE MEMORY for Device WEB PAGE and CONTENTS. </paragraph>
<paragraph id="P-0287" lvl="2"><number>&lsqb;0287&rsqb;</number> Security requirement: To ensure the secure data transmission between remote access device and home portal, the browser supports at least SSL (Secure Socket Layer) 3.0. </paragraph>
<paragraph id="P-0288" lvl="0"><number>&lsqb;0288&rsqb;</number> Different remote access devices <highlight><bold>1052</bold></highlight> may have different versions of home network directory page <highlight><bold>1054</bold></highlight>, and customized remote home network interfaces. For example, a hand-held device <highlight><bold>1052</bold></highlight> with low resolution may use a text only version, while a high-end PC may have a complex graphics interface. These customized HN directories (e.g., home network top level GUI <highlight><bold>1054</bold></highlight>, Home Network Directory Page) can be accommodated using XSL, or the gateway device <highlight><bold>702</bold></highlight> may generate different versions. </paragraph>
<paragraph id="P-0289" lvl="0"><number>&lsqb;0289&rsqb;</number> The HomeNetOnWeb GUI (GUI displayed on a remote access device) <highlight><bold>1054</bold></highlight> can be generated by a software agent designated Remote HN Interface Generator agent <highlight><bold>1062</bold></highlight> (similar to UIDGA <highlight><bold>408</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c</italic></highlight>) in the gateway <highlight><bold>702</bold></highlight> device in the home network <highlight><bold>300</bold></highlight> and transmitted to a routing agent <highlight><bold>1064</bold></highlight> in the home portal <highlight><bold>1050</bold></highlight>. The gateway <highlight><bold>702</bold></highlight> further includes a communication agent <highlight><bold>1066</bold></highlight> for address mapping as described further below. The routing agent <highlight><bold>1064</bold></highlight> in the home portal <highlight><bold>1050</bold></highlight> verifies secure communication between the remote device <highlight><bold>1052</bold></highlight> and the home network <highlight><bold>300</bold></highlight>. The remote user can access and control the home network device <highlight><bold>12</bold></highlight> requested, and the home network directory page <highlight><bold>1054</bold></highlight> is from the home network <highlight><bold>300</bold></highlight> requested by the remote user. Once the home portal <highlight><bold>1050</bold></highlight> receives the home network directory page <highlight><bold>1054</bold></highlight> from home network <highlight><bold>300</bold></highlight>, the home portal <highlight><bold>1050</bold></highlight> sends the page <highlight><bold>1054</bold></highlight> to the remote device <highlight><bold>1052</bold></highlight>. For example, the HTML content of directory page <highlight><bold>1054</bold></highlight> can be read by a Java Servlet and then the HTML content is sent to Servlet output, which can be standard HTML display on the remote access device <highlight><bold>1052</bold></highlight>. The agents ensures secure home network access private/public IP address/URL mapping, described further below. </paragraph>
<paragraph id="P-0290" lvl="0"><number>&lsqb;0290&rsqb;</number> To provide secure access to home network, in the example of <cross-reference target="DRAWINGS">FIG. 22</cross-reference>, the communication agent <highlight><bold>1066</bold></highlight> in the gateway device <highlight><bold>702</bold></highlight> in the home network only allows communication with authorized or certified home portals <highlight><bold>1050</bold></highlight> and service providers when requested from outside the home network <highlight><bold>300</bold></highlight>. In this way, for example, an office PC in a user&apos;s office will not be allowed to access the home network <highlight><bold>300</bold></highlight> directly, whereby the chances of breaking into the home network <highlight><bold>300</bold></highlight> are virtually eliminated. </paragraph>
<paragraph id="P-0291" lvl="0"><number>&lsqb;0291&rsqb;</number> The verification of certified home portal <highlight><bold>300</bold></highlight> is done by digital certificate issued by authorized Certification Authorities (CA). In each communication requested from outside the home network <highlight><bold>300</bold></highlight>, the remote HN interface generator <highlight><bold>1062</bold></highlight> in the gateway device <highlight><bold>702</bold></highlight> performs steps including: (1) retrieving and checking the certificate of the counterpart in communication against authorized communication list, (2) if it is authorized home portal <highlight><bold>1050</bold></highlight>, establishing secure connection, for example, using SSL, with the portal <highlight><bold>1050</bold></highlight> and (3) if it is not authorized home portal <highlight><bold>1050</bold></highlight>, rejecting the connection request. </paragraph>
<paragraph id="P-0292" lvl="0"><number>&lsqb;0292&rsqb;</number> FIGS. <highlight><bold>23</bold></highlight>A-D show example flowcharts of an embodiment of steps of providing remote access to a home network <highlight><bold>300</bold></highlight> according to the present invention. Generally, the Home Network owner initially registers home network information on the Home Portal <highlight><bold>1050</bold></highlight>, wherein such information can include IP address of the home network <highlight><bold>300</bold></highlight>, log in name for qualified users in the home network (HN), password for said qualified users, etc. That information is stored in the secure home portal <highlight><bold>1050</bold></highlight>, wherein a user can access/modify the information via their home portal account. In one example, a user logs into her web account in home portal <highlight><bold>1050</bold></highlight> through secure HTTP connection (HTTPS). Special security is used between the home portal (e.g., HN Portal) <highlight><bold>1050</bold></highlight> and the Home Network Gateway <highlight><bold>702</bold></highlight> (e.g., HTTPS plus Public key and private key), while the security between remote access device <highlight><bold>1052</bold></highlight> (e.g., Remote PC) and home portal <highlight><bold>1050</bold></highlight> can include e.g. HTTPS. </paragraph>
<paragraph id="P-0293" lvl="0"><number>&lsqb;0293&rsqb;</number> In one example, a qualified remote access device <highlight><bold>1052</bold></highlight> utilizes certificates or other authorizations to communicate with the home portal <highlight><bold>1050</bold></highlight> as described above. Qualified portals <highlight><bold>1050</bold></highlight> are then allowed to communicate with the home network <highlight><bold>300</bold></highlight>, specified by the owner of the HN <highlight><bold>300</bold></highlight> (e.g., only allow communication from www.homewideweb.com). The home network (HN) <highlight><bold>300</bold></highlight> is registered on the portal <highlight><bold>1050</bold></highlight>, and is open to remote access devices <highlight><bold>1052</bold></highlight>. Some home networks <highlight><bold>300</bold></highlight> may be private only. This can be set up by the owner on HN when they register their HomeNetOnWeb account on the portal <highlight><bold>1050</bold></highlight>. </paragraph>
<paragraph id="P-0294" lvl="0"><number>&lsqb;0294&rsqb;</number> Referring to the flowchart in <cross-reference target="DRAWINGS">FIG. 23</cross-reference>A, example steps of an embodiment of a process for loading remote HomeNetOnWeb directory Page <highlight><bold>1054</bold></highlight> is shown. The process is initiated by user request. Remote HN Interface Generator <highlight><bold>1062</bold></highlight> in the home network gateway device <highlight><bold>702</bold></highlight> generates the directory page <highlight><bold>250</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 12</cross-reference>, described above), wherein for a remote directory page, private/public IP address/URL mapping is utilized to include external addresses for the devices <highlight><bold>12</bold></highlight> in the directory page <highlight><bold>250</bold></highlight> used to generate the HomeNetOnWeb page <highlight><bold>1054</bold></highlight>. For example, the user initiates the process and, for example, logs into home portal <highlight><bold>1050</bold></highlight> and click on his home network icon. The directory <highlight><bold>250</bold></highlight> is generated by the software agent <highlight><bold>1062</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 23A</cross-reference>). The remote directory version <highlight><bold>1064</bold></highlight> shows all the available devices <highlight><bold>12</bold></highlight> on the home network <highlight><bold>300</bold></highlight>, same as inside a home network. The directory <highlight><bold>1064</bold></highlight> is loaded and displayed on the remote device <highlight><bold>1052</bold></highlight> that made the original request. </paragraph>
<paragraph id="P-0295" lvl="0"><number>&lsqb;0295&rsqb;</number> As described above, any device <highlight><bold>12</bold></highlight> in the home network with a Remote HN Interface Generator <highlight><bold>1062</bold></highlight> (in addition to, or in place of the gateway <highlight><bold>702</bold></highlight>) can generate the directory page, and any remote device <highlight><bold>1052</bold></highlight> with a qualified GUI display can display the directory page whereby the uses can control other devices. Therefore, in this example, a remote user utilizes a remote device <highlight><bold>1052</bold></highlight> (e.g., using a remote PC) to initiate access to the home network <highlight><bold>300</bold></highlight> via the Internet <highlight><bold>1056</bold></highlight> (steps <highlight><bold>900</bold></highlight>, <highlight><bold>902</bold></highlight>). The remote device <highlight><bold>1052</bold></highlight> (e.g., PC) accesses the Home Portal <highlight><bold>1050</bold></highlight> to log into the Home Portal <highlight><bold>1050</bold></highlight>. The user utilizes the web browser <highlight><bold>200</bold></highlight> on remote access device <highlight><bold>1052</bold></highlight> and the home portal IP address or domain name, communicating through secure HTTPS protocol. The home portal <highlight><bold>1050</bold></highlight> includes a login page, which the remote user utilizes to log in the home portal <highlight><bold>1050</bold></highlight> with a user ID/password. The remote device <highlight><bold>1052</bold></highlight> sends an HTTP Request to Home Portal <highlight><bold>1050</bold></highlight> to log in, securely using e.g. HTTP and SSL (step <highlight><bold>904</bold></highlight>). Upon receiving the request, the Home Portal <highlight><bold>1050</bold></highlight> logs the user into the home portal (step <highlight><bold>906</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> redirects or routes user&apos;s request to the home network gateway <highlight><bold>702</bold></highlight> using registered home network IP addresses in the home portal <highlight><bold>1050</bold></highlight> (registered when the home network account on the home portal is established along with qualified user ID/password) via security communication (step <highlight><bold>908</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> verifies that secure access is from home portal <highlight><bold>1050</bold></highlight> e.g. by digital certificate and using proper entitlement information, such as login/password (step <highlight><bold>910</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> generates and sends the home network directory page <highlight><bold>1054</bold></highlight> (remote version) (e.g., HomeNetOnWeb page per Appendix 20) to the home portal <highlight><bold>1050</bold></highlight> via secure communication (step <highlight><bold>912</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> verifies that communication is from qualified Home Network Gateway <highlight><bold>702</bold></highlight>, and if so redirects (routes) the remote home network directory page <highlight><bold>1054</bold></highlight> to remote access device <highlight><bold>1052</bold></highlight> via e.g. HTTPS (step <highlight><bold>914</bold></highlight>). Remote access device <highlight><bold>1052</bold></highlight> then displays the home network directory page <highlight><bold>1054</bold></highlight> (e.g. remote version) for user interaction (step <highlight><bold>916</bold></highlight>). </paragraph>
<paragraph id="P-0296" lvl="0"><number>&lsqb;0296&rsqb;</number> After loading the HomeNetOnWeb home directory page <highlight><bold>1054</bold></highlight> into the remote device <highlight><bold>1052</bold></highlight>, a process to access a device control page <highlight><bold>202</bold></highlight> in the home network from the remote device <highlight><bold>1052</bold></highlight> can be executed by user for selected devices <highlight><bold>12</bold></highlight>, as shown by example steps in the flowchart of <cross-reference target="DRAWINGS">FIG. 23B</cross-reference>. The remote user uses the remote access device <highlight><bold>1052</bold></highlight> to access the home network <highlight><bold>300</bold></highlight> (steps <highlight><bold>920</bold></highlight>, <highlight><bold>922</bold></highlight>). The user clicks on a desired device icon <highlight><bold>1068</bold></highlight> on the HomeNetOnWeb directory page <highlight><bold>1054</bold></highlight> displayed on the user device display in the remote device <highlight><bold>1052</bold></highlight>, and request is sent to the home portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>924</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> receives request which includes an external address of the selected device from the directory page <highlight><bold>250</bold></highlight> (step <highlight><bold>926</bold></highlight>), and redirects (routes) user&apos;s request to the home network gateway <highlight><bold>702</bold></highlight> using a registered home network IP address in the home portal via special security communication (step <highlight><bold>928</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> verifies secure access is from home portal <highlight><bold>1050</bold></highlight> (e.g., by digital certificate) and using proper entitlement information, such as login/password (step <highlight><bold>930</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> discovers and communicates with the requested/selected device <highlight><bold>12</bold></highlight> in home network <highlight><bold>300</bold></highlight> using internal home network discovery (e.g., DDA agent <highlight><bold>404</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 9</cross-reference><highlight><italic>c</italic></highlight>) to obtain the control page <highlight><bold>202</bold></highlight> of the selected device <highlight><bold>12</bold></highlight> (e.g., TV <highlight><bold>1058</bold></highlight>) (step <highlight><bold>932</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> sends the requested device&apos;s control page <highlight><bold>202</bold></highlight> to the Home Portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>934</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> verifies the communication is from qualified Home Network Gateway <highlight><bold>702</bold></highlight>, and if so, redirects the requested device&apos;s control page <highlight><bold>202</bold></highlight> to the remote access device <highlight><bold>1052</bold></highlight> via e.g. HTTPS (step <highlight><bold>936</bold></highlight>). The remote access device <highlight><bold>1052</bold></highlight> displays the requested device&apos;s control page <highlight><bold>202</bold></highlight> (remote version) for interaction by the user (step <highlight><bold>938</bold></highlight>). </paragraph>
<paragraph id="P-0297" lvl="0"><number>&lsqb;0297&rsqb;</number> After remote discovery and loading of the requested device&apos;s control page <highlight><bold>202</bold></highlight> into the remote access device <highlight><bold>1052</bold></highlight>, a process to control the selected device <highlight><bold>12</bold></highlight> in home network <highlight><bold>300</bold></highlight> from remote device is executed, as shown by example steps in the flowchart of <cross-reference target="DRAWINGS">FIG. 23C</cross-reference>. The remote user uses the remote access device <highlight><bold>1052</bold></highlight> to control the requested device <highlight><bold>12</bold></highlight> in the home network <highlight><bold>300</bold></highlight> (steps <highlight><bold>940</bold></highlight>, <highlight><bold>942</bold></highlight>). The user clicks on function control icon on the requested device&apos;s control page <highlight><bold>202</bold></highlight> displayed on the access device <highlight><bold>1052</bold></highlight>, and a request is sent from the access device <highlight><bold>1052</bold></highlight> to the home portal (step <highlight><bold>944</bold></highlight>). The home portal <highlight><bold>1052</bold></highlight> receives the user&apos;s request (step <highlight><bold>946</bold></highlight>), and redirects (routes) the user&apos;s request to the home network gateway <highlight><bold>702</bold></highlight> using registered home network IP address in home portal <highlight><bold>1050</bold></highlight> by special security communication (step <highlight><bold>948</bold></highlight>). The Home Network Gateway verifies secure access is from home portal <highlight><bold>1050</bold></highlight> (e.g. by digital certificate) and using proper keys and entitlement information, such as login/password (step <highlight><bold>950</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> communicates with and controls the requested device <highlight><bold>12</bold></highlight> in the home network <highlight><bold>300</bold></highlight> using internal home network discovery approach (such as Device-to-Device control described above) (step <highlight><bold>952</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> sends the device control result page (e.g. page showing VCR finished rewinding, generated by the controlled device such as the VCR) to the Home Portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>954</bold></highlight>). The result page is generated by the selected/requested (controlled) device (e.g., the user remotely sends a rewind command to a VCR device in the home network, and the VCR sends back a result page confirming rewinding). The Home Portal <highlight><bold>1050</bold></highlight> verifies the communication is from qualified Home Network Gateway <highlight><bold>702</bold></highlight>, and if so, redirects (routes) the device control result page to the remote access device <highlight><bold>1052</bold></highlight> via HTTPS (step <highlight><bold>956</bold></highlight>). The Remote access device displays device <highlight><bold>1052</bold></highlight> control result page (remote version) (step <highlight><bold>958</bold></highlight>). The above steps can be repeated for controlling different devices <highlight><bold>12</bold></highlight> in the network <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0298" lvl="0"><number>&lsqb;0298&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 23</cross-reference>D, in another aspect, the present invention further provides a trigger dialup internet connection from outside the home network <highlight><bold>300</bold></highlight>. For example, for a DSL/Cable Internet connection, because the connection is always on, there is no need for this feature; however without such a connection, a dialup Internet connection is necessary, and in this embodiment it is initialized from the home network <highlight><bold>300</bold></highlight>. When the user is at remote side, this feature is used to start the Internet connection between the home network <highlight><bold>300</bold></highlight> and the Internet <highlight><bold>1056</bold></highlight>. </paragraph>
<paragraph id="P-0299" lvl="0"><number>&lsqb;0299&rsqb;</number> A 2-way Web (ISP) connection for the home network is provided. As discussed, if the home network is always connected to the Internet, the user-to-device and device-to-device control from inside and outside the home are similar, except for the Private-public IP address translation described below. However, for dialup Internet connection, the connection must be initialed. An example architecture to establish such a connection from outside the home is show in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>. </paragraph>
<paragraph id="P-0300" lvl="0"><number>&lsqb;0300&rsqb;</number> A phone call or software AutoDial in the remote device <highlight><bold>1052</bold></highlight> is used to start the Internet connection of home network remotely. A program in the remote PC <highlight><bold>1052</bold></highlight> dials in the phone <highlight><bold>1060</bold></highlight> in the home network, and transmits a specified code. The home network phone <highlight><bold>1060</bold></highlight> (e.g., an intelligent phone or other device in the home network) understands that this code is to start Internet connection. The home network phone <highlight><bold>1060</bold></highlight> (e.g., an intelligent phone or other device in the home network) hangs up the call and dials in the default ISP to initial the phone line Internet connection. Thereby, the home network <highlight><bold>300</bold></highlight> is connected to the Internet <highlight><bold>1056</bold></highlight>, allowing the remote access device <highlight><bold>1052</bold></highlight> to log on to the home portal <highlight><bold>1050</bold></highlight> to access the home network <highlight><bold>300</bold></highlight> as described. The Internet connection is disconnected after remote user is done. The remote user is enabled to perform any user-to-device or device-to-device control, similar to a user in the home. </paragraph>
<paragraph id="P-0301" lvl="0"><number>&lsqb;0301&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23D</cross-reference> shows example steps of an embodiment of Remote Phone Home Network Connection Activation above, according to the present invention. Remote user (e.g., using a remote PC) initiates access to the home network (step <highlight><bold>960</bold></highlight>). A software agent in the remote PC <highlight><bold>1052</bold></highlight> dials in a intelligent phone <highlight><bold>1060</bold></highlight> in the home network <highlight><bold>300</bold></highlight>, and transmits a pre-specified code (e.g., phone number combination) (step <highlight><bold>962</bold></highlight>). The intelligent phone <highlight><bold>1060</bold></highlight> verifies the codes to establish Internet connection (step <highlight><bold>964</bold></highlight>), and if the codes is verified, the intelligent phone hangs up and initializes modem dialup using the default ISP (default ISP is the home network default Internet account) to establish an Internet connection between the home network <highlight><bold>300</bold></highlight> and the ISP (step <highlight><bold>966</bold></highlight>). Once Internet connection is established, the remote PC <highlight><bold>1052</bold></highlight> uses said remote discovery and control process, described above, to communicate with and control the home network devices as desired via the home portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>968</bold></highlight>). After remote control, the user can terminate the Internet connection using any home network user-to-device (U2D) and device-to-device (D2D) control approach (e.g., U2D, if a control page is available for the phone, the user goes to the page and clicks &ldquo;stop Internet connection&rdquo; button; D2D, once user stops the connection between remote user to HN through home portal for a certain time, home gateway can send a D2D control message to the modem to stop connection) (step <highlight><bold>970</bold></highlight>). Alternatively, the Internet connection can time out if not terminated by the user through remote home network control (HomeNetOnWeb) such as the above U2D example (step <highlight><bold>972</bold></highlight>). </paragraph>
<paragraph id="P-0302" lvl="0"><number>&lsqb;0302&rsqb;</number> In the aforementioned HomeWideWebNetwork model, most devices <highlight><bold>12</bold></highlight> in the home network use private addresses (e.g., Internet IP addresses) that are only valid inside the home network <highlight><bold>300</bold></highlight>. In most cases, there is at least one public address (external IP address) for each home network <highlight><bold>300</bold></highlight> assigned by an ISP to the gateway device <highlight><bold>702</bold></highlight> or cable modem (interface device). Therefore, for a device <highlight><bold>12</bold></highlight> in the home network <highlight><bold>300</bold></highlight> to be controlled remotely, a mechanism (e.g., communication agent <highlight><bold>1066</bold></highlight> or GUI generation agent <highlight><bold>1062</bold></highlight>) maps the internal (private) IP address to an external (public) IP address, and vice versa. </paragraph>
<paragraph id="P-0303" lvl="0"><number>&lsqb;0303&rsqb;</number> In one embodiment, when a remote user wants to remotely access the home network (<cross-reference target="DRAWINGS">FIGS. 22 and 24</cross-reference>), the following steps are performed: </paragraph>
<paragraph id="P-0304" lvl="2"><number>&lsqb;0304&rsqb;</number> 1 The user uses said remote access device <highlight><bold>1052</bold></highlight> to access the home portal web site <highlight><bold>1050</bold></highlight>; </paragraph>
<paragraph id="P-0305" lvl="2"><number>&lsqb;0305&rsqb;</number> 2. The home portal <highlight><bold>1050</bold></highlight> web site is displayed on the user&apos;s remote access device <highlight><bold>1052</bold></highlight>; </paragraph>
<paragraph id="P-0306" lvl="2"><number>&lsqb;0306&rsqb;</number> 3. User uses his/her home network user name and password, and follows the login process of the home portal <highlight><bold>1050</bold></highlight> to login to the home portal <highlight><bold>1050</bold></highlight> over a secure connection (e.g., SSL); </paragraph>
<paragraph id="P-0307" lvl="2"><number>&lsqb;0307&rsqb;</number> 4. The home portal <highlight><bold>1050</bold></highlight> verifies the user&apos;s login and password, and if correct, the home portal <highlight><bold>1050</bold></highlight> contacts the home network (HN) gateway device over secure connection; </paragraph>
<paragraph id="P-0308" lvl="2"><number>&lsqb;0308&rsqb;</number> 5. The Home Network Gateway <highlight><bold>702</bold></highlight> verifies that secure access is from home portal <highlight><bold>1050</bold></highlight> e.g. by digital certification and using proper keys and entitlement information, such as login/password; </paragraph>
<paragraph id="P-0309" lvl="2"><number>&lsqb;0309&rsqb;</number> 6. If the request is from an authorized home portal <highlight><bold>1050</bold></highlight>, connection will be established between the home portal <highlight><bold>1050</bold></highlight> and home network <highlight><bold>300</bold></highlight> (e.g., using SSL), otherwise, the connection request is rejected by the gateway device <highlight><bold>702</bold></highlight>, and the remote access process terminates; </paragraph>
<paragraph id="P-0310" lvl="2"><number>&lsqb;0310&rsqb;</number> 7. The remote HN interface generator <highlight><bold>1062</bold></highlight> or the communication agent <highlight><bold>1066</bold></highlight> performs private-public (i.e., Internal-external) IP address mapping (described below) and generates the remote HN directory page <highlight><bold>1054</bold></highlight>; </paragraph>
<paragraph id="P-0311" lvl="2"><number>&lsqb;0311&rsqb;</number> 8. The remote HN directory page <highlight><bold>1054</bold></highlight> is transmitted from the HN gateway device <highlight><bold>720</bold></highlight> to the home portal over <highlight><bold>1050</bold></highlight> a secure connection; </paragraph>
<paragraph id="P-0312" lvl="2"><number>&lsqb;0312&rsqb;</number> 9. The remote HN directory page <highlight><bold>1054</bold></highlight> is transmitted from home portal <highlight><bold>1050</bold></highlight> (by the routing agent <highlight><bold>1064</bold></highlight>) to the remote access device <highlight><bold>1052</bold></highlight> over a secure connection, and displayed by the remote access device <highlight><bold>1052</bold></highlight>; </paragraph>
<paragraph id="P-0313" lvl="2"><number>&lsqb;0313&rsqb;</number> 10. When the remote user clicks any HTTP links or icons associated with HTTP links on the page <highlight><bold>1054</bold></highlight> displayed on the remote access device <highlight><bold>1052</bold></highlight>, the HTTP link is transformed (mapped) by a redirection (routing) software agent in the home portal <highlight><bold>1050</bold></highlight>, providing a transformed link that is accepted by the gateway device <highlight><bold>702</bold></highlight>; </paragraph>
<paragraph id="P-0314" lvl="2"><number>&lsqb;0314&rsqb;</number> 11. Said remote HN interface generator <highlight><bold>1062</bold></highlight>, communication agent <highlight><bold>1066</bold></highlight>, or routing agent <highlight><bold>1064</bold></highlight> performs private/public IP address/URL mapping and maps the transformed link to the home network internal link and redirects the link to the controlled device <highlight><bold>12</bold></highlight> to finish the control function requested by the user (e.g., play, rewind, etc.). </paragraph>
<paragraph id="P-0315" lvl="2"><number>&lsqb;0315&rsqb;</number> 12. The result of the finished function are presented as a web page and transmitted to the remote access device <highlight><bold>1052</bold></highlight> for display (similar to the HN directory page or device home page). </paragraph>
<paragraph id="P-0316" lvl="0"><number>&lsqb;0316&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24A</cross-reference> shows a flowchart of steps of another example of a process to load remote HomeNetOnWeb directory Page with private/public IP address/URL mapping. The flowchart in <cross-reference target="DRAWINGS">FIG. 24A</cross-reference> is similar to that in <cross-reference target="DRAWINGS">FIG. 23</cross-reference>A, including additional steps of internal-external IP addressing. As shown in <cross-reference target="DRAWINGS">FIG. 24A, a</cross-reference> remote user utilizes a remote device <highlight><bold>1052</bold></highlight> (e.g., using a remote PC) to initiate access to the home network <highlight><bold>300</bold></highlight> via the Internet <highlight><bold>1056</bold></highlight> (steps <highlight><bold>900</bold></highlight>, <highlight><bold>902</bold></highlight>). The user can communicate with home portal <highlight><bold>1050</bold></highlight> and home network <highlight><bold>300</bold></highlight> using the web browser on the remote access device <highlight><bold>1052</bold></highlight>, the home portal IP address or domain name and secure protocol such as HTTPS. There is a login page in the home portal <highlight><bold>1050</bold></highlight>, which a remote user utilizes to log in the home portal with a user ID/password. The remote device (e.g., PC) <highlight><bold>1052</bold></highlight> sends an HTTP Request to Home Portal to log in, securely using e.g. HTTP and SSL (step <highlight><bold>904</bold></highlight>). Upon receiving the request, the Home Portal <highlight><bold>1050</bold></highlight> logs the user into the home portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>906</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> redirects (routes) user&apos;s request to the home network <highlight><bold>300</bold></highlight> gateway using registered home network IP addresses in the home portal <highlight><bold>1050</bold></highlight> (registered when the home network account on the home portal is established along with qualified user ID/password) via special security communication (step <highlight><bold>908</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> verifies that secure access is from home portal e.g. by digital certification and using proper keys and entitlement information, such as login/password (step <highlight><bold>910</bold></highlight>). The remote HN interface generator <highlight><bold>1062</bold></highlight> in the Home Network Gateway device uses the private/public IP address/URL mapping mechanism and generates the remote HN directory page with external addresses (step <highlight><bold>911</bold></highlight>). The Home Network Gateway <highlight><bold>702</bold></highlight> sends the home network directory page <highlight><bold>1054</bold></highlight> (e.g., HomeNetOnWeb page per Appendix 20, described above) to the home portal <highlight><bold>1050</bold></highlight> via special secure communication (step <highlight><bold>912</bold></highlight>). The Home Portal <highlight><bold>1050</bold></highlight> verifies that communication is from qualified Home Network Gateway <highlight><bold>702</bold></highlight>, and if so redirects the home network directory page <highlight><bold>1054</bold></highlight> to remote access device <highlight><bold>1052</bold></highlight> via HTTPS (step <highlight><bold>914</bold></highlight>). Remote access device <highlight><bold>1052</bold></highlight> then displays the home network directory page (e.g. remote version) for user interaction (step <highlight><bold>916</bold></highlight>). </paragraph>
<paragraph id="P-0317" lvl="0"><number>&lsqb;0317&rsqb;</number> In the above example, the remote HN interface generator <highlight><bold>1062</bold></highlight> in the gateway performs the public-private (internal-external) address mapping (e.g., using a software agent). Generally at least one public IP address is available for the home network public IP address (e.g., the IP address for gateway device). For each private home network device URL (mapped link or mapped URL) in the home network <highlight><bold>300</bold></highlight>, starting with private IP address in the HN directory page or device control home page, or other private control pages in the home network, mapping is performed as: the home portal <highlight><bold>1050</bold></highlight> IP address is used first, the HN <highlight><bold>300</bold></highlight> public IP address is used second, and device <highlight><bold>12</bold></highlight> private IP address is appended. </paragraph>
<paragraph id="P-0318" lvl="0"><number>&lsqb;0318&rsqb;</number> As such, if a home network control page <highlight><bold>1054</bold></highlight>, such as home network directory page, or device control page <highlight><bold>202</bold></highlight> is needed remotely, the same UI generating process (described above) is utilized by external addresses of the devices <highlight><bold>12</bold></highlight> are provided in the directory page <highlight><bold>1054</bold></highlight>. For home network directory <highlight><bold>1054</bold></highlight>, additional steps for private-public address mapping are performed by GUI generator <highlight><bold>1062</bold></highlight> (e.g., in home gateway device <highlight><bold>702</bold></highlight>) to map the internal/private HN IP addresses/URL to a public/external HN IP addresses/URL, for access by the remote device <highlight><bold>1052</bold></highlight> via the portal <highlight><bold>1050</bold></highlight>. For other static control pages, such as the device control page, because typically it is not dynamically generated as HN directory page, a software agent in home gateway device (e.g., the same software agent for generating GUI) parses the page and applies the private/public IP address/URL mapping. Then the new page is sent to the remote device upon request. </paragraph>
<paragraph id="P-0319" lvl="0"><number>&lsqb;0319&rsqb;</number> In an example HN directory HTML page described above, each device in the home network is identified by its private IP address. </paragraph>
<paragraph id="P-0320" lvl="1"><number>&lsqb;0320&rsqb;</number> &lt;FRAMESET ROWS&equals;&ldquo;73%,27%&rdquo;&gt;</paragraph>
<paragraph id="P-0321" lvl="2"><number>&lsqb;0321&rsqb;</number> &lt;FRAME SRC&equals;&ldquo;http://10.1.1.63/icon.htm&rdquo; SCROLLING&equals;&ldquo;no&rdquo; NORESIZE&gt;</paragraph>
<paragraph id="P-0322" lvl="2"><number>&lsqb;0322&rsqb;</number> &lt;FRAME SRC&equals;&ldquo;http://10.1.1.63/name.htm&rdquo; SCROLLING&equals;&ldquo;no&rdquo; NORESIZE&gt;</paragraph>
<paragraph id="P-0323" lvl="1"><number>&lsqb;0323&rsqb;</number> &lt;/FRAMESET&gt;</paragraph>
<paragraph id="P-0324" lvl="0"><number>&lsqb;0324&rsqb;</number> Referring to the flowchart in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>B, example steps for generating a URL (mapped URL) for the remote access device using private-public (Internal-external) IP address/URL mapping, are shown, as performed by the Home Network Gateway device (or any other device in the home network) including the following steps. </paragraph>
<paragraph id="P-0325" lvl="0"><number>&lsqb;0325&rsqb;</number> The HTTP links and pages described above, are generated for each private home network device <highlight><bold>12</bold></highlight> URL (mapped link or mapped URL) in the home network <highlight><bold>300</bold></highlight> starting with device <highlight><bold>12</bold></highlight> private IP address in the HN directory page, or device control home page, or other private control pages in home network <highlight><bold>300</bold></highlight> (step <highlight><bold>1020</bold></highlight>). If the is request from a remote device <highlight><bold>1052</bold></highlight>, then a remote version <highlight><bold>1054</bold></highlight> of the home network directory page <highlight><bold>220</bold></highlight> or device control page <highlight><bold>202</bold></highlight> or other private control pages in home network is generated, as described by an example below. </paragraph>
<paragraph id="P-0326" lvl="0"><number>&lsqb;0326&rsqb;</number> The device <highlight><bold>12</bold></highlight> private URL (link) inside home network is utilized (e.g., http://Private IP address/else) (step <highlight><bold>1022</bold></highlight>), and the private URL is prefixed by the HN <highlight><bold>300</bold></highlight> public IP address to redirect the URL (step <highlight><bold>1024</bold></highlight>), wherein the modified URL becomes: </paragraph>
<paragraph id="P-0327" lvl="2"><number>&lsqb;0327&rsqb;</number> https://HN Public Address/agent&quest;Private IP address/else, </paragraph>
<paragraph id="P-0328" lvl="2"><number>&lsqb;0328&rsqb;</number> (e.g., https://207.188.120.88/agent&quest;10.1.1.63/icon.htm); </paragraph>
<paragraph id="P-0329" lvl="0"><number>&lsqb;0329&rsqb;</number> The prefix changes the URL for remote access purposes. As described, this is different for home network directory page <highlight><bold>220</bold></highlight> and other static pages. </paragraph>
<paragraph id="P-0330" lvl="0"><number>&lsqb;0330&rsqb;</number> The Home Portal <highlight><bold>1050</bold></highlight> IP address is prefixed to the modified URL and the URL redirected again (step <highlight><bold>1026</bold></highlight>),wherein the new URL becomes: </paragraph>
<paragraph id="P-0331" lvl="1"><number>&lsqb;0331&rsqb;</number> https://Home Portal IP address/redirect&quest;HN Public Address/redirect&quest;Private IP address/else, </paragraph>
<paragraph id="P-0332" lvl="1"><number>&lsqb;0332&rsqb;</number> (e.g., https://211.45.27.151&quest;redirect&quest;207.188.120.88/agent&quest;10.1.1.63/icon.htm); </paragraph>
<paragraph id="P-0333" lvl="0"><number>&lsqb;0333&rsqb;</number> The new URL (mapped URL) is a public URL used by the remote device <highlight><bold>1052</bold></highlight> for home network control. </paragraph>
<paragraph id="P-0334" lvl="0"><number>&lsqb;0334&rsqb;</number> The old private URL is replaced with the new public URL as the external address (step <highlight><bold>1028</bold></highlight>). As such, the private URL is used in the directory page <highlight><bold>200</bold></highlight> for use in the home network <highlight><bold>300</bold></highlight>, and the public URL (external address) is the URL used in the directory page <highlight><bold>1054</bold></highlight> for use by the remote access device <highlight><bold>1052</bold></highlight>. </paragraph>
<paragraph id="P-0335" lvl="0"><number>&lsqb;0335&rsqb;</number> Further, the private version of the requested device&apos;s control page <highlight><bold>202</bold></highlight> initially contains the private URLs (links), and is then modified to include new public URLs (links), such that the control page <highlight><bold>202</bold></highlight> can be used remotely by the remote access device <highlight><bold>1052</bold></highlight>. The new control page <highlight><bold>202</bold></highlight>, is sent to the remote access device <highlight><bold>1052</bold></highlight> for display thereon (i.e., the home network gateway device send the page to the remote device) (step <highlight><bold>1030</bold></highlight>). </paragraph>
<paragraph id="P-0336" lvl="0"><number>&lsqb;0336&rsqb;</number> Referring to the flowchart in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>C, example steps for private-public IP address/URL mapping based on user request are shown. A remote user requests access to home network <highlight><bold>300</bold></highlight> through the remote version URL in a home network page <highlight><bold>1054</bold></highlight> (generated above) (e.g., clicking on a link in the page <highlight><bold>1054</bold></highlight> with mapped URLs displayed on the remote access device) (step <highlight><bold>1000</bold></highlight>). To ensure security, SSL can be used, such that http:// is mapped to https:// for the transmission of HN directory page <highlight><bold>1054</bold></highlight> and device home page. As discussed, in the mapped URL, the home portal <highlight><bold>1050</bold></highlight> IP address and request is used first, the HN <highlight><bold>300</bold></highlight> public IP address and software agent program name in home network gateway device is used second, while device private IP address is appended, as shown by example below: </paragraph>
<paragraph id="P-0337" lvl="2"><number>&lsqb;0337&rsqb;</number> https://Home Portal IP address/redirect&quest;HN Public Address/agent&quest;Private IP address/else; </paragraph>
<paragraph id="P-0338" lvl="0"><number>&lsqb;0338&rsqb;</number> For example, if the home portal IP address is http://211.45.27.151, and the home network public IP address is http://207.188.120.88, then a private device link http://10.1.1.63/icon.htm is mapped to the following public accessed link: https://211.45.27.151&quest;redirect&quest;207.188.120.88/agent&quest;10.1.1.63/icon.htm. </paragraph>
<paragraph id="P-0339" lvl="0"><number>&lsqb;0339&rsqb;</number> As shown the external address can include: (1) name of software agent in the home network <highlight><bold>300</bold></highlight> (e.g., devices <highlight><bold>12</bold></highlight> and/or gateway device <highlight><bold>702</bold></highlight>) for providing services, and/or (2) name of software agent in the portal <highlight><bold>1050</bold></highlight>. </paragraph>
<paragraph id="P-0340" lvl="0"><number>&lsqb;0340&rsqb;</number> When a user uses a remote access device <highlight><bold>1052</bold></highlight> to access the home network <highlight><bold>300</bold></highlight>, because in the secure home network access model specified in Home Wide Web Architecture the remote access device <highlight><bold>1052</bold></highlight> cannot access the home network directly <highlight><bold>300</bold></highlight>, the remote device accesses the home network through the home portal <highlight><bold>1050</bold></highlight>. In this example, a software agent <highlight><bold>1064</bold></highlight> in the home portal transforms (routes) the command link so that the command from the authorized home portal <highlight><bold>1050</bold></highlight> is authorized by the gateway device <highlight><bold>702</bold></highlight>. The remote access device <highlight><bold>1052</bold></highlight> sends the URL (i.e., a public URL from a home network control page including public URLs) to the home portal, and the home portal <highlight><bold>1050</bold></highlight> sends the URL to the home network <highlight><bold>300</bold></highlight> by URL redirection (as shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>C and the below example, the agent in the URL is a program that redirects HTTP or HTTPS requests; said software agent can be implemented using e.g. Java Servlet or CGI, etc.) </paragraph>
<paragraph id="P-0341" lvl="0"><number>&lsqb;0341&rsqb;</number> The home portal <highlight><bold>1050</bold></highlight> receives the request (e.g., mapped URL) and logs the user in as necessary (step <highlight><bold>1002</bold></highlight>). Said software agent <highlight><bold>1064</bold></highlight> in the home portal, redirects the user&apos;s request to the home network <highlight><bold>300</bold></highlight> (step <highlight><bold>1004</bold></highlight>), (i.e., parses and redirects the link </paragraph>
<paragraph id="P-0342" lvl="1"><number>&lsqb;0342&rsqb;</number> https://Home Portal IP address/redirect&quest;HN Public Address/redirect&quest;Private IP address/else </paragraph>
<paragraph id="P-0343" lvl="1"><number>&lsqb;0343&rsqb;</number> to </paragraph>
<paragraph id="P-0344" lvl="1"><number>&lsqb;0344&rsqb;</number> https://HN Public Address/redirect&quest;Private IP address/else (e.g., https://207.188.120.88/agent&quest;10.1.1.63/icon.htm)) </paragraph>
<paragraph id="P-0345" lvl="0"><number>&lsqb;0345&rsqb;</number> The HN gateway device <highlight><bold>702</bold></highlight> receives and verifies the request, from the home portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>1006</bold></highlight>). Another software agent (e.g., communication agent <highlight><bold>1066</bold></highlight>), residing in the HN gateway device <highlight><bold>702</bold></highlight>, parses and redirects the received request/link to the private IP address of the requested device <highlight><bold>12</bold></highlight> in the home network <highlight><bold>300</bold></highlight> (step <highlight><bold>1008</bold></highlight>): </paragraph>
<paragraph id="P-0346" lvl="1"><number>&lsqb;0346&rsqb;</number> https://HN Public Address/agent&quest;Private IP address/else </paragraph>
<paragraph id="P-0347" lvl="1"><number>&lsqb;0347&rsqb;</number> to </paragraph>
<paragraph id="P-0348" lvl="1"><number>&lsqb;0348&rsqb;</number> http://Private IP address/else </paragraph>
<paragraph id="P-0349" lvl="0"><number>&lsqb;0349&rsqb;</number> The link/URL after mapping is private IP address and URL and is valid only inside the home network <highlight><bold>300</bold></highlight>, and is pointed to the requested device <highlight><bold>12</bold></highlight> in the HN <highlight><bold>300</bold></highlight>. </paragraph>
<paragraph id="P-0350" lvl="0"><number>&lsqb;0350&rsqb;</number> The HN gateway device <highlight><bold>702</bold></highlight> sends responses to the remote access device <highlight><bold>1052</bold></highlight> via the home portal <highlight><bold>1050</bold></highlight> (step <highlight><bold>1010</bold></highlight>). If the response to remote device <highlight><bold>1052</bold></highlight> through home portal is a HTML page which contains an HTTP or HTTPS link, then mapping is performed. The mapping occurs both ways: (1) from HN <highlight><bold>300</bold></highlight> to home portal <highlight><bold>1050</bold></highlight> to remote device <highlight><bold>1052</bold></highlight>, in every remote version HN page, such as home network directory page <highlight><bold>1054</bold></highlight> or device control page <highlight><bold>202</bold></highlight>, public URL (result URL after the mapping) is used instead of private URL (from private URL to public URL, URL gets longer by adding IP addresses and agents), and (2) from remote device <highlight><bold>1052</bold></highlight> to home portal <highlight><bold>1050</bold></highlight> to HN <highlight><bold>300</bold></highlight>, the URL mapping is performed the other way (from public URL to private URL, URL gets shorter). </paragraph>
<paragraph id="P-0351" lvl="0"><number>&lsqb;0351&rsqb;</number> The remote access device <highlight><bold>1053</bold></highlight> displays said responses from the requested device <highlight><bold>12</bold></highlight> in the home network <highlight><bold>300</bold></highlight> (step <highlight><bold>1012</bold></highlight>). A user then interacts with the displayed page on the remote access device as described above, for remotely communicating with, and controlling, the devices in the home network. </paragraph>
<paragraph id="P-0352" lvl="0"><number>&lsqb;0352&rsqb;</number> Although the present invention has been described in considerable detail with regard to the preferred versions thereof, other versions are possible. Therefore, the appended claims should not be limited to the descriptions of the preferred versions contained herein. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for providing user interfaces in a first network to a remote access device, the first network including first devices interconnected via a communication medium, and at least one interface device for connecting said first network to at least a second network, the user interfaces for controlling the devices that are currently connected to the first network, the method comprising the steps of: 
<claim-text>(a) the remote access device establishing communication with the second network; </claim-text>
<claim-text>(b) the remote access device sending a request to the interface device via the second network for accessing the first network; </claim-text>
<claim-text>(c) at least one of the first devices in the first network obtaining information from one or more of said first devices currently connected to the first network, said information including device information, and generating a user interface description including at least one reference associated with the device information of each of said one or more first devices, said reference including an external address for the associated device in the first network, such that the device is accessible from remote access device via the second network using said external address; </claim-text>
<claim-text>(d) the interface device sending the user interface description to the remote access device via the second network; and </claim-text>
<claim-text>(e) the remote access device displaying a user interface based on the user interface description, for user interaction with the first network </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the first network comprises a 1394 network, and the second network comprises a non-1394 network. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the interface device comprises a gateway device. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the second network comprises a plurality of interconnected second devices providing one or more services. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein each of said second devices comprises at least one computer system programmed to provide services. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein: 
<claim-text>the second network comprises the Internet, and </claim-text>
<claim-text>at least one of said second devices providing services comprises one or more web servers providing services. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein a service provided by at least one of the devices connected to the second network comprises a web site service. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein: 
<claim-text>the steps of generating the user interface description further includes the steps of providing at least one reference associated with services provided by the first network, in the user interface description, wherein each reference in the user interface description associated to services provided by the first network comprises at least one hyper-link to service information in the first network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein the step of generating each user interface description further comprises the steps of: associating a hyper-link with the device information of one or more of said first devices. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the device information in each first device in the first network includes a user interface description for user interaction with that device. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein: 
<claim-text>the second network includes at least a portal for providing services; </claim-text>
<claim-text>step (b) further includes the steps of: 
<claim-text>the remote access device sending a request for accessing the first network, to the portal; </claim-text>
</claim-text>
<claim-text>the portal receiving the request and redirecting the request to the interface device in the first network; and </claim-text>
<claim-text>step (d) further includes the steps of: </claim-text>
<claim-text>the interface device sending the user interface description to the portal; </claim-text>
<claim-text>the portal sending the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein said external address for each associated device in the first network includes the private address of that device in the first network prefixed by the public address of the first network prefixed by the address of the portal. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein: 
<claim-text>the private address for each device in the first network comprises an IP address in the first network; </claim-text>
<claim-text>the first network public address comprises a public IP address for the first network; and </claim-text>
<claim-text>the portal address comprises an IP address of the home portal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, further comprising the steps of maintaining identification information for the first network, and maintaining authorization information for access to the first network; and wherein: 
<claim-text>step (b) further includes the steps of the portal sending the request to the interface device using said identification information for the first network; </claim-text>
<claim-text>and </claim-text>
<claim-text>step (c) further includes the steps of the interface device authorizing access to the first network based on said authorization information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference>, wherein: 
<claim-text>in step (b) sending a request further includes the steps of providing user identification information in the request from remote access device; </claim-text>
<claim-text>in step (c) authorizing access further includes the steps of the interface device comparing the user identification information to the authorization information, and authorizing access to the first network only if one or more predetermined conditions are satisfied. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein: 
<claim-text>in step (b) sending a request to the interface device further includes the steps of the portal determining if the request is from a qualified remote access device, and if so, sending the request to the interface device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein: 
<claim-text>in step (d) sending the user interface description, further includes the steps of the portal determining if the user interface description is from a qualified user interface device, and if so sending the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of generating said user interface description further includes the steps of generating said external address for each associated device, including a private address of that device in the first network, an address of the first network and an address of the portal, such that said device in the first network is accessible by the remote device via the second network. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein generating said external address for each associated device in the first network further includes generating said external address to further include a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein generating said external address for each corresponding device in the first network further includes generating said external address to further include a name of a software agent in the first network for providing services. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein generating said external address for each corresponding device in the first network further includes generating said external address to further include a name of a software agent in the second network for providing services. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the remote access device communicates with the second network using secure communication. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the second network communicates with the interface device using secure communication. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein: 
<claim-text>the remote access device communicates with the second network using secure communication; and </claim-text>
<claim-text>the second network communicates with the interface device using secure communication; </claim-text>
<claim-text>whereby the remote access device communicates with the first network securely. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising the steps of: 
<claim-text>(f) the remote access device receiving user input via the displayed user interface, requesting access to a selected device in the first network; </claim-text>
<claim-text>(g) the remote access device sending a request including an external address from the user interface description for the selected device, to the interface device via the second network for accessing the selected device; and </claim-text>
<claim-text>(h) the interface device using said external address to communicate the request to the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein: 
<claim-text>the second network includes at least a portal for providing services; </claim-text>
<claim-text>step (g) further includes the steps of: 
<claim-text>the remote access device sending said request to the portal for accessing he selected device; </claim-text>
<claim-text>the portal receiving the request and using said external address in the request to send the request to the interface device in the first network. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein the step of generating said user interface description further includes the steps of generating said external address for each associated device, including a private address of that device in the first network, an address of the first network and an address of the portal, such that said device in the first network is accessible by the remote device. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein generating said external address for each associated device in the first network further includes generating said external address to further include a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein generating said external address for each associated device in the first network further includes generating said external address to further include a name of a software agent in the first network for providing services. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein generating said external address for each associated device in the first network further includes generating said external address to further include a name of a software agent in the second network for providing services. </claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein said external address for each associated device in the first network includes the private address of that device in the first network prefixed by the public address of the first network prefixed by the address of the portal </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 31</dependent-claim-reference>, wherein step (g) further includes the steps of: 
<claim-text>transforming the external address to a modified address including said private address of the device in the first network prefixed by the public address of the first network, and </claim-text>
<claim-text>the portal using the address of the first network in the external address to send the request with said modified address to the interface device in the first network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 32</dependent-claim-reference>, wherein step (h) further includes the steps of: 
<claim-text>transforming said modified address to a private address including said private address of the selected device in the first network, and </claim-text>
<claim-text>the interface device using the private address of the selected device in the first network to communicate with the device in the first network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, further comprising the steps of: 
<claim-text>(i) the interface device obtaining information from the selected device, said information including device information, and generating a device user interface description including at least one reference associated with the device information of the selected device; </claim-text>
<claim-text>(j) the interface device sending the device user interface description to the remote access device via the portal; and </claim-text>
<claim-text>(k) the remote access device displaying a device user interface based on the device user interface description, for user interaction with the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 34</dependent-claim-reference>, further comprising the steps of: 
<claim-text>(l) the remote access device receiving user input via the displayed device user interface, requesting control of the selected device in the first network; </claim-text>
<claim-text>(m) the remote access device sending a request for control of the selected device to the interface device via the portal, the request including said corresponding external address for the selected device; </claim-text>
<claim-text>(n) the portal sending the request to the interface device in the first network after verification; </claim-text>
<claim-text>(o) the interface device sending the request for control to the selected device, and the selected device performing a service based on the request for control; </claim-text>
<claim-text>(p) the interface device obtaining response information from the selected device; </claim-text>
<claim-text>(q) the interface device sending the response information to the remote access device via the portal; and </claim-text>
<claim-text>(r) the remote access device displaying said response information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. A network system for performing services to a remote access device, comprising: 
<claim-text>an external network for providing services, wherein the remote access device is connected to the external network; </claim-text>
<claim-text>a local network of first devices interconnected via a communication medium; </claim-text>
<claim-text>a user interface description generation agent in at least one of said first devices in the local network, configured for: 
<claim-text>(a) obtaining information from one or more of said first devices currently connected to the local network, said information including device information; and </claim-text>
<claim-text>(b) generating a user interface description including at least one reference associated with the device information of each of said one or more first devices, said reference including an external address for the associated device in the local network, such that the device is accessible from remote access device via the external network using said external address; </claim-text>
</claim-text>
<claim-text>wherein the interface device is connected to the external network via a communication link, and the interface device is further configured for establishing communication with the external network and sending the user interface description to the remote access device via the external network; and </claim-text>
<claim-text>wherein the remote access device establishes communication with the external network and is configured for receiving said user interface description, and displaying a user interface based on the received user interface description for user interaction with the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein the local network comprises a 1394 network, and the external network comprises a non-1394 network. </claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein the interface device comprises a gateway <highlight><bold>8</bold></highlight>device. </claim-text>
</claim>
<claim id="CLM-00039">
<claim-text><highlight><bold>39</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein the external network comprises a plurality of interconnected second devices providing one or more services. </claim-text>
</claim>
<claim id="CLM-00040">
<claim-text><highlight><bold>40</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 39</dependent-claim-reference>, wherein each of said second devices comprises at least one computer system programmed to provide services. </claim-text>
</claim>
<claim id="CLM-00041">
<claim-text><highlight><bold>41</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 39</dependent-claim-reference>, wherein: 
<claim-text>the external network comprises the Internet, and </claim-text>
<claim-text>at least one of said second devices providing services comprises one or more web servers providing services. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00042">
<claim-text><highlight><bold>42</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein a service provided by at least one of the devices connected to the external network comprises a web site service. </claim-text>
</claim>
<claim id="CLM-00043">
<claim-text><highlight><bold>43</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein each reference in the user interface description associated with services provided by the local network comprises at least one hypertext link to device information of the devices in the local network. </claim-text>
</claim>
<claim id="CLM-00044">
<claim-text><highlight><bold>44</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference> further comprising said remote access device. </claim-text>
</claim>
<claim id="CLM-00045">
<claim-text><highlight><bold>45</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein: 
<claim-text>the external network includes at least a portal for providing services; </claim-text>
<claim-text>the remote access device is configured for sending a request for accessing the local network to the portal, the portal including a routing agent for receiving the request and sending the request to the interface device; and </claim-text>
<claim-text>the interface device includes an agent for sending the user interface description to the portal, wherein said routing agent in the portal sends the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00046">
<claim-text><highlight><bold>46</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 45</dependent-claim-reference>, wherein the user interface description generation agents generates said user interface description such that each external address for each associated device, includes a private address of that device in the local network, an address of the local network and an address of the portal, such that said device in the local network is accessible by the remote device via the portal. </claim-text>
</claim>
<claim id="CLM-00047">
<claim-text><highlight><bold>47</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00048">
<claim-text><highlight><bold>48</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in the local network for providing services. </claim-text>
</claim>
<claim id="CLM-00049">
<claim-text><highlight><bold>49</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in the external network for providing services. </claim-text>
</claim>
<claim id="CLM-00050">
<claim-text><highlight><bold>50</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein said external address for each associated device in the first network includes the private address of that device in the first network prefixed by the public address of the first network prefixed by the address of the portal. </claim-text>
</claim>
<claim id="CLM-00051">
<claim-text><highlight><bold>51</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00055">claim 50</dependent-claim-reference>, wherein: 
<claim-text>the private address for each device in the first network comprises an IP address in the first network; </claim-text>
<claim-text>the first network public address comprises a public IP address for the first network; and </claim-text>
<claim-text>the portal address comprises an IP address of the home portal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00052">
<claim-text><highlight><bold>52</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, further comprising identification information for the local network, and authorization information for accessing the local network, wherein: 
<claim-text>the routing agent in the portal sends the request to the interface device using said identification information for the local network; and </claim-text>
<claim-text>the interface device is configured for authorizing access to the local network based on said authorization information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00053">
<claim-text><highlight><bold>53</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00055">claim 52</dependent-claim-reference>, wherein: 
<claim-text>the remote access device provides user identification information in said request; and </claim-text>
<claim-text>the interface device is configured for comparing the user identification information to the authorization information, and authorizing access to the local network only if one or more predetermined conditions are satisfied. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00054">
<claim-text><highlight><bold>54</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal is configured for determining if the request is from a qualified remote access device, and if so, sends the request to the interface device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00055">
<claim-text><highlight><bold>55</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal is configured for determining if the user interface description is from a qualified user interface device, and if so sends the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00056">
<claim-text><highlight><bold>56</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein the remote access device communicates with the portal using secure communication. </claim-text>
</claim>
<claim id="CLM-00057">
<claim-text><highlight><bold>57</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein the portal communicates with the interface device using secure communication. </claim-text>
</claim>
<claim id="CLM-00058">
<claim-text><highlight><bold>58</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein: 
<claim-text>the remote access device communicates with the portal using secure communication; and </claim-text>
<claim-text>the portal communicates with the interface device using secure communication; </claim-text>
<claim-text>whereby the remote access device communicates with the local network securely. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00059">
<claim-text><highlight><bold>59</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein: 
<claim-text>the remote access device is configured for receiving user input via the displayed user interface, requesting access to a selected device in the local network, and sends a request including an external address from the received user interface description for the selected device, for accessing the selected device to the interface device via the external network; and </claim-text>
<claim-text>the interface device includes an agent configured for using said external address to communicate the request to the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00061">
<claim-text><highlight><bold>61</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00055">claim 57</dependent-claim-reference>, wherein: 
<claim-text>the external network includes at least a portal for providing services; </claim-text>
<claim-text>the remote access device sends said request to the portal for accessing the selected device; and </claim-text>
<claim-text>the portal further includes a routing agent that uses said external address in the request to send the request to the interface device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00062">
<claim-text><highlight><bold>62</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 60</dependent-claim-reference>, wherein the user interface description generation agent generates said user interface description such that each external address for each associated device in the local network, includes a private address of that device in the local network, an address of the local network and an address of the portal, such that said device in the local network is accessible by the remote access device via the portal. </claim-text>
</claim>
<claim id="CLM-00063">
<claim-text><highlight><bold>63</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, wherein said external address for each associated device further includes a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00064">
<claim-text><highlight><bold>64</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, wherein said external address for each associated device further includes a name of a software agent in the local network for providing services. </claim-text>
</claim>
<claim id="CLM-00065">
<claim-text><highlight><bold>65</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, wherein said external address for each associated device further includes name of a software agent in the portal for providing services. </claim-text>
</claim>
<claim id="CLM-00066">
<claim-text><highlight><bold>66</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, wherein said external address for each associated device in the local network includes the private address of that device in the local network prefixed by the public address of the local network prefixed by the address of the portal. </claim-text>
</claim>
<claim id="CLM-00067">
<claim-text><highlight><bold>67</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 65</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal transforms the external address in the request from the remote access device to a modified address including said private address of the device in the local network prefixed by the public address of the local, and </claim-text>
<claim-text>the routing agent uses the address of the local network in the external address to send the request with said modified address to the interface device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00068">
<claim-text><highlight><bold>68</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 66</dependent-claim-reference>, wherein: 
<claim-text>the interface device transforms said modified address to a private address including said private address of the selected device in the local network, </claim-text>
<claim-text>the interface device uses the private address of the device in the local network to communicate with the selected device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00069">
<claim-text><highlight><bold>69</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 60</dependent-claim-reference>, wherein: 
<claim-text>the interface device is configured for obtaining information from the selected device, said information including device control information, for generating a device user interface description including at least one reference associated with the device information of the selected device, and sending the device user interface description to the remote access device via the portal, such that the remote access device displays a device user interface based on the device user interface description, for user interaction with the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00070">
<claim-text><highlight><bold>70</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00066">claim 68</dependent-claim-reference>, wherein: 
<claim-text>the remote access device is configured for receiving user input via the displayed device user interface, requesting control of the selected device in the local network, and sending a request for control of the selected device to the interface device via the portal, the request including said external address for the selected device; </claim-text>
<claim-text>the portal routing agent, upon receiving the request, uses the external address to send the request to the interfaced device; </claim-text>
<claim-text>the interface device agent sends the request for control to the selected device, such that the selected device performs a service based on the request for control, and the interface device obtains response information from the selected device and sends the response information to the remote access device via the portal, wherein the remote access device displays said response information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00071">
<claim-text><highlight><bold>71</bold></highlight>. In a network system comprising a local network connected to an external network, and a remote access device connected to the external network, the local network including first devices interconnected via a communication medium and an interface device connecting the local network to the external network, a remote access agent providing communication between the remote access device and the local network, comprising: 
<claim-text>a user interface description generation agent in at least one of said first devices in the local network for: (a) obtaining information from one or more of said first devices currently connected to the local network, said information including device information; and (b) generating a user interface description including at least one reference associated with the device information of each of said one or more first devices, said reference including an external address for the associated device in the local network, such that the device is accessible from remote access device via the external network using said external address; </claim-text>
<claim-text>an interface device communication agent configuring the interface device for communication with the remote access device and for sending the user interface description to the remote access device via the external network, wherein the remote access device is configured for displaying a user interface based on the user interface description for user interaction with local network, and </claim-text>
<claim-text>a routing agent in the external network for routing information between the remote access device and the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00072">
<claim-text><highlight><bold>72</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein the local network comprises a 1394 network, and the external network comprises a non-1394 network. </claim-text>
</claim>
<claim id="CLM-00073">
<claim-text><highlight><bold>73</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein the interface device comprises a gateway device. </claim-text>
</claim>
<claim id="CLM-00074">
<claim-text><highlight><bold>74</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein the external network comprises a plurality of interconnected second devices providing one or more services. </claim-text>
</claim>
<claim id="CLM-00075">
<claim-text><highlight><bold>75</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 74</dependent-claim-reference>, wherein each of said second devices comprises at least one computer system programmed to provide services. </claim-text>
</claim>
<claim id="CLM-00076">
<claim-text><highlight><bold>76</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 74</dependent-claim-reference>, wherein: 
<claim-text>the external network comprises the Internet, and </claim-text>
<claim-text>at least one of said second devices providing services comprises one or more web servers providing services. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00077">
<claim-text><highlight><bold>77</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 76</dependent-claim-reference>, wherein a service provided by at least one of the devices connected to the external network comprises a web site service. </claim-text>
</claim>
<claim id="CLM-00078">
<claim-text><highlight><bold>78</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein each reference in the user interface description associated with services provided by the local network comprises at least one hyper-text link to device information of the devices in the local network. </claim-text>
</claim>
<claim id="CLM-00079">
<claim-text><highlight><bold>79</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein: 
<claim-text>the external network includes at least a portal for providing services; </claim-text>
<claim-text>the remote access device is configured for sending a request for accessing the local network to the portal, wherein the routing agent receives the request and sends the request to the interface device; and </claim-text>
<claim-text>the communication agent sends the user interface description to the portal, wherein said routing agent in the portal sends the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00080">
<claim-text><highlight><bold>80</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein the user interface description generation agent generates said user interface description such that each external address for each associated device, includes a private address of that device in the local network, an address of the local network and an address of the portal, such that said device in the local network is accessible by the remote device via the portal. </claim-text>
</claim>
<claim id="CLM-00081">
<claim-text><highlight><bold>81</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 80</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00082">
<claim-text><highlight><bold>82</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 80</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in the local network for providing services. </claim-text>
</claim>
<claim id="CLM-00083">
<claim-text><highlight><bold>83</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 80</dependent-claim-reference>, wherein each external address for each associated device further includes a name of a software agent in the external network for providing services. </claim-text>
</claim>
<claim id="CLM-00084">
<claim-text><highlight><bold>84</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 80</dependent-claim-reference>, wherein said external address for each associated device in the first network includes the private address of that device in the first network prefixed by the public address of the first network prefixed by the address of the portal. </claim-text>
</claim>
<claim id="CLM-00085">
<claim-text><highlight><bold>85</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 84</dependent-claim-reference>, wherein: 
<claim-text>the private address for each device in the first network comprises an IP address in the first network; </claim-text>
<claim-text>the first network public address comprises a public IP address for the first network; and </claim-text>
<claim-text>the portal address comprises an IP address of the home portal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00086">
<claim-text><highlight><bold>86</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein the remote access device communicates with the portal using secure communication. </claim-text>
</claim>
<claim id="CLM-00087">
<claim-text><highlight><bold>87</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein the portal communicates with the interface device using secure communication. </claim-text>
</claim>
<claim id="CLM-00088">
<claim-text><highlight><bold>88</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein: 
<claim-text>the remote access device communicates with the portal using secure communication; and </claim-text>
<claim-text>the portal communicates with the interface device using secure communication; </claim-text>
<claim-text>whereby the remote access device communicates with the local network securely. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00089">
<claim-text><highlight><bold>89</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, further comprising identification information for the local network, and authorization information for accessing the local network, wherein: 
<claim-text>the routing agent in the portal sends the request to the interface device using said identification information for the local network; and </claim-text>
<claim-text>the communication agent is configured for authorizing access to the local network based on said authorization information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00090">
<claim-text><highlight><bold>90</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00088">claim 89</dependent-claim-reference>, wherein: 
<claim-text>the remote access device provides user identification information in said request; and </claim-text>
<claim-text>the communication agent is configured for comparing the user identification information to the authorization information, and authorizing access to the local network only if one or more predetermined conditions are satisfied. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00091">
<claim-text><highlight><bold>91</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal is configured for determining if the request is from a qualified remote access device, and if so, sends the request to the interface device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00092">
<claim-text><highlight><bold>92</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 79</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal is configured for determining if the user interface description is from a qualified user interface device, and if so sends the user interface description to the remote access device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00093">
<claim-text><highlight><bold>93</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00077">claim 71</dependent-claim-reference>, wherein: 
<claim-text>the remote access device is configured for receiving user input via the displayed user interface, requesting access to a selected device in the local network, and sends a request for accessing the selected device to the interface device via the external network, the request including an external address from the received user interface description for the selected device; and </claim-text>
<claim-text>the communication agent of the interface device uses said external address to communicate the request to the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00094">
<claim-text><highlight><bold>94</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 92</dependent-claim-reference>, wherein: 
<claim-text>the external network includes at least a portal for providing services; </claim-text>
<claim-text>the remote access device sends said request to the portal for accessing the selected device; and </claim-text>
<claim-text>the portal includes said routing agent, wherein the routing agent uses said external address in the request to send the request to the interface device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00095">
<claim-text><highlight><bold>95</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 94</dependent-claim-reference>, wherein the user interface description generation agent generates said user interface description such that each external address for each associated device in the local network, includes a private address of that device in the local network, an address of the local network and an address of the portal, such that said device in the local network is accessible by the remote access device via the portal. </claim-text>
</claim>
<claim id="CLM-00096">
<claim-text><highlight><bold>96</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 95</dependent-claim-reference>, wherein said external address for each associated device further includes a name of a software agent in that device for providing services. </claim-text>
</claim>
<claim id="CLM-00097">
<claim-text><highlight><bold>97</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 95</dependent-claim-reference>, wherein said external address for each associated device further includes a name of a software agent in the local network for providing services. </claim-text>
</claim>
<claim id="CLM-00098">
<claim-text><highlight><bold>98</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 95</dependent-claim-reference>, wherein said external address for each associated device further includes name of a software agent in the portal for providing services. </claim-text>
</claim>
<claim id="CLM-00099">
<claim-text><highlight><bold>99</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 95</dependent-claim-reference>, wherein said external address for each associated device in the local network includes the private address of that device in the local network prefixed by the public address of the local network prefixed by the address of the portal. </claim-text>
</claim>
<claim id="CLM-00100">
<claim-text><highlight><bold>100</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 99</dependent-claim-reference>, wherein: 
<claim-text>the routing agent in the portal transforms the external address in the request from the remote access device to a modified address including said private address of the device in the local network prefixed by the public address of the local, and </claim-text>
<claim-text>the routing agent uses the address of the local network in the external address to send the request with said modified address to the interface device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00101">
<claim-text><highlight><bold>101</bold></highlight>. The network system of claim <highlight><bold>100</bold></highlight>, wherein: 
<claim-text>the interface device communication agent transforms said modified address to a private address including said private address of the selected device in the local network, </claim-text>
<claim-text>the interface device communication agent uses the private address of the device in the local network to communicate with the selected device in the local network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00102">
<claim-text><highlight><bold>102</bold></highlight>. The network system of <dependent-claim-reference depends_on="CLM-00099">claim 94</dependent-claim-reference>, wherein: 
<claim-text>the interface device communication agent is configured for obtaining information from the selected device, said information including device control information, and the user interface description generation agent generates a device user interface description including at least one reference associated with the device information of the selected device, and the communication agent sending the device user interface description to the remote access device via the portal, such that the remote access device displays a device user interface based on the device user interface description, for user interaction with the selected device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00103">
<claim-text><highlight><bold>103</bold></highlight>. The network system of claim <highlight><bold>102</bold></highlight>, wherein: 
<claim-text>the remote access device is configured for receiving user input via the displayed device user interface, requesting control of the selected device in the local network, and sending a request for control of the selected device to the interface device via the portal, the request including said external address for the selected device; </claim-text>
<claim-text>the portal routing agent, upon receiving the request, uses the external address to send the request to the interfaced device; and </claim-text>
<claim-text>the interface device communication agent sends the request for control to the selected device, such that the selected device performs a service based on the request for control, and the communication agent obtains response information from the selected device and sends the response information to the remote access device via the portal, wherein the remote access device displays said response information.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001883A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001883A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001883A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001883A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001883A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001883A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001883A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001883A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001883A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001883A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001883A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030001883A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030001883A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030001883A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030001883A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030001883A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030001883A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030001883A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030001883A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030001883A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030001883A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030001883A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00022">
<image id="EMI-D00022" file="US20030001883A1-20030102-D00022.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00023">
<image id="EMI-D00023" file="US20030001883A1-20030102-D00023.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00024">
<image id="EMI-D00024" file="US20030001883A1-20030102-D00024.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00025">
<image id="EMI-D00025" file="US20030001883A1-20030102-D00025.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00026">
<image id="EMI-D00026" file="US20030001883A1-20030102-D00026.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00027">
<image id="EMI-D00027" file="US20030001883A1-20030102-D00027.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00028">
<image id="EMI-D00028" file="US20030001883A1-20030102-D00028.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00029">
<image id="EMI-D00029" file="US20030001883A1-20030102-D00029.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00030">
<image id="EMI-D00030" file="US20030001883A1-20030102-D00030.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
