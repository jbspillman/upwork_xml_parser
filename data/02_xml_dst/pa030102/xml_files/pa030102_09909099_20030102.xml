<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030003930A1-20030102-D00000.TIF SYSTEM "US20030003930A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030003930A1-20030102-D00001.TIF SYSTEM "US20030003930A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030003930A1-20030102-D00002.TIF SYSTEM "US20030003930A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030003930A1-20030102-D00003.TIF SYSTEM "US20030003930A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030003930A1-20030102-D00004.TIF SYSTEM "US20030003930A1-20030102-D00004.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030003930</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09909099</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010719</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04Q007/20</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>455</class>
<subclass>466000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>455</class>
<subclass>412000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Methods and systems for communicating between subscribers of different application-layer mobile communications protocols</title-of-invention>
</technical-information>
<continuity-data>
<non-provisional-of-provisional>
<document-id>
<doc-number>60301601</doc-number>
<document-date>20010627</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Rick</given-name>
<middle-name>L.</middle-name>
<family-name>Allison</family-name>
</name>
<residence>
<residence-us>
<city>Apex</city>
<state>NC</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Thomas</given-name>
<middle-name>M.</middle-name>
<family-name>McCann</family-name>
</name>
<residence>
<residence-us>
<city>Morrisville</city>
<state>NC</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>JENKINS &amp; WILSON, PA</name-1>
<name-2></name-2>
<address>
<address-1>3100 TOWER BLVD</address-1>
<address-2>SUITE 1400</address-2>
<city>DURHAM</city>
<state>NC</state>
<postalcode>27707</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A routing node communicates between subscribers of different application-layer mobile communications protocols, such as IS-41 and GSM, without converting each IS-41 message to GSM and vice versa. Rather than converting each message to the protocol of the intended recipient, the routing node functions as an HLR to provide the location of a mobile subscriber in a different application-layer mobile communications protocol and as an MSC to forward short message service messages to a short message service center of the other application-layer mobile communications protocol. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application claims the benefit of U.S. provisional patent application No. 60/301,601, filed Jun. 27, 2001, the disclosure of which is incorporated herein by reference in its entirety.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates generally to methods and systems for communicating between subscribers of different application-layer mobile communications protocols. More particularly, the present invention relates to methods and systems for establishing calls and forwarding short message service messages between ANSI IS-41 mobile subscribers and GSM mobile subscribers. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND ART </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> American National Standards Institute (ANSI) Interim Standard 41 (IS-41) includes application-layer protocols used to set up mobile calls and deliver short message service messages between mobile subscribers. IS-41 is the dominant standard for mobile communications in North America. The Global System for Mobile Communications (GSM) is the dominant standard in Europe. GSM networks provide services similar to those provided by ANSI networks, such as call delivery, short message service, mobility management, etc. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Because IS-41 and GSM standards each specify different messages for call setup and short message service, interworking systems have been developed. One type of interworking system that has been developed is a roaming gateway. A roaming gateway converts GSM messages to IS-41 messages and vice versa when a GSM subscriber is roaming in an IS-41 network or when an IS-41 mobile subscriber is roaming in a GSM network. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> One problem with roaming gateways is that protocol conversion is performed for each message required to establish a call or deliver a short message service (SMS) message. For example, in order to deliver an SMS message from an IS-41 subscriber to a GSM subscriber, the IS-41 short message service center (SMSC) serving the IS-41 subscriber sends an IS-41 Short Message Service Request (SMSREQ) message to an IS-41 home location register (HLR). A roaming gateway receives the IS-41 SMSREQ Message, determines that the message is attempting to locate a GSM subscriber, converts the message into a GSM Send Routing Information for Short Message message, and forwards the message to a GSM HLR. The GSM HLR responds with a Send Routing Information for SM Acknowledge message that contains the MSC ID of the mobile switching center serving the intended recipient. The roaming gateway receives the Send Routing Information for SM Acknowledge message, converts the message into an IS-41 SMSREQ message containing the requested information and forwards the message to the IS-41 SMSC. This translation between GSM and IS-41 is repeated for each message transmitted between GSM and IS-41 network elements. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Translating each message required to set up a call or deliver an SMS message results in a high processing load on the translating node and increases call setup or SMS message delivery time. For example, because a roaming gateway is required to intercept and translate each message in a call flow, the roaming gateway may spend a significant amount of its processing resources on translating messages. The time required for translating each message can also increase call setup or SMS message delivery time. In addition, because the roaming gateway terminates IS-41 and GSM signaling, it is required to handle and translate error messages in both protocols. For instance, if a GSM short message service message recipient deactivates his or her mobile handset, the roaming gateway is responsible for receiving the GSM error message from the GSM MSC serving the called party, translating the error message to IS-41 , and delivering the error message to the IS-41 SMSC. The roaming gateway may also be responsible for receiving a response from the IS-41 SMSC, translating the response to GSM, and forwarding the response to the serving GSM MSC. Handling and translating such error messages further increases the processing load on the roaming gateway. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Accordingly, there exists a long-felt need for improved methods and systems for setting up calls and delivering short message service messages between subscribers of different application-layer mobile communications protocols. </paragraph>
</section>
<section>
<heading lvl="1">DISCLOSURE OF THE INVENTION </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The present invention includes methods and systems for setting up calls and delivering short message service messages between mobile subscribers of different application-layer mobile communications protocols. As used herein, the phrase &ldquo;application-layer mobile communications protocol&rdquo; refers to any protocol that operates at the application layer and is used for mobile call setup and short message service. Examples of application-layer mobile communications protocols include IS-41 and GSM. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> According to one aspect, the present invention includes a routing node that receives either ANSI or GSM messages and emulates both HLR and MSC functionality to deliver SMS messages to a destination node without translating each message required to deliver the SMS messages. In the case where a GSM subscriber sends a short message service message to an IS-41 subscriber, the routing node receives a Send Routing Information for SM (SRI-SM) message from the SMSC serving the GSM subscriber. The routing node determines that the SRI-SM message is requesting routing information for an IS-41 subscriber. In response, rather than converting the SRI-SM message into an IS-41 SMSREQ message, the routing node responds to the SRI-SM message with an SRI-SM acknowledge message with the SMSC ID of an IS-41 SMSC stored in the mobile application part (MAP) MSC number field. The GSM SMSC that receives the SRI-SM ACK message interprets the SMSC ID as an MSC ID because of its location in the SRI-SM ACK message. As a result, the GSM SMSC sends a GSM mobile-terminated Forward Short Message (FSM) message that it believes is destined for a GSM MSC. By providing an IS-41 SMSC ID in the MSC ID field, the routing node eliminates the need for translation of the GSM SRI-SM message into an IS-41 SMSREQ message. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The routing node intercepts the mobile-terminated GSM Forward Short Message message transmitted by the GSM SMSC, determines it is destined for an IS-41 subscriber by examination of the number and maps the message to an IS-41 mobile-originated Short Message Delivery Point to Point (SMDPP) Invoke message. The routing node then forwards the mobile-originated SMDPP Invoke message to the IS-41 SMSC identified by the SMSC ID in the MSC number field. The IS-41 SMSC is responsible for delivering the message to the intended recipient. By converting the GSM mobile-terminated FSM message to a mobile-originated IS-41 SMDPP Invoke message, the routing node appears as an IS-41 MSC delivering a short message from a mobile station to the IS-41 network. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> According to another aspect of the invention, the routing node is capable of forwarding IS-41-originating short message service messages to GSM subscribers without requiring translation of each IS-41 message to GSM and vice versa. In the IS-41-originating scenario, the routing node receives an SMSREQ Invoke message from an IS-41 SMSC. The routing node determines that the SMSREQ message is destined for a GSM subscriber and, in response, sends an SMSREQ Return Result message to the IS-41 SMSC. The routing node inserts its own point code and subsystem number in the SMS_Address field of the message, rather than the address of the MSC serving the intended recipient. However, because the PC and SSN values are in the SMS_Address field, the IS-41 MSC interprets these values as being the address of the intended destination. Accordingly, the IS-41 SMSC formulates and sends a mobile-terminated SMDPP Invoke message using the point code and subsystem number of the routing node, rather than the destination switch. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> When the routing node receives the SMDPP Invoke message, the routing node converts the mobile-terminated IS-41 SMDPP Invoke message to a mobile-originated GSM Forward Short Message message. The routing node sends the GSM MO Forward Short Message message to a GSM SMSC, which is responsible for delivering the message to the intended recipient. Because the routing node converts the mobile-terminated IS-41 messages to a mobile-originated GSM message, the receiving GSM SMSC believes the message to have originated from a GSM MSC receiving a message from a mobile station. As a result, the GSM SMSC simply delivers the message to its intended recipient without further involvement from the routing node. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> According to yet another aspect a routing node according to an embodiment of the present invention is capable of handling call signaling between IS-41 and GSM subscribers to establish calls between the subscribers without translating every message from IS-41 to GSM and vice versa. This applies particularly in the case where the technology, i.e., IS-41 or GSM, of the subscriber being called is not known by the MSC handling the call. The functionality for setting up calls is similar to that described above for delivering short message service messages in that when the routing node receives a location request of and the receiver uses a different application-layer mobile communications protocol than the sender, the routing node responds to the location request with the GSM or IS-41 Routing Number (RN). The sending MSC receives the location request response and sends an IAM message to the MSC serving the intended recipient. Because the routing node functions as pseudo-HLR, rather than simply a protocol converter, the routing node has a lower processing load than that of a conventional message routing gateway and reduces network traffic.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a network diagram illustrating an exemplary message flow for delivering a GSM-originated short message service message to an IS-41 subscriber according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a network diagram illustrating an exemplary message flow for delivering an IS-41-originated short message service message to a GSM subscriber according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a network diagram illustrating an exemplary message flow for setting up a call from a GSM subscriber to an IS-41 subscriber according to an embodiment of the present invention; and </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a network diagram illustrating an exemplary message flow for setting up a call from an IS-41 subscriber to a GSM subscriber according to an embodiment of the present invention.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Preferred embodiments of the invention will now be explained with reference to the accompanying drawings. In the drawings, unless otherwise indicated, like reference numerals refer to like elements. </paragraph>
</section>
<section>
<heading lvl="1">Short Message Originated from GSM Subscriber Destined for IS-41 Subscriber </heading>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a network diagram illustrating a routing node according to an embodiment of the present invention. In <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, routing node <highlight><bold>100</bold></highlight> includes a routing element <highlight><bold>102</bold></highlight> and a converter <highlight><bold>104</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> may be any type of node capable of routing messages in a mobile communications network. For example, routing element <highlight><bold>102</bold></highlight> may be a signal transfer point capable of routing application-layer mobile communications messages over an SS7 network using SS7 MTP routing and global title translation. Alternatively, routing element <highlight><bold>102</bold></highlight> may be an SS7/IP or an SS7/X.25 gateway capable of routing application-layer mobile communications messages over SS7 and IP networks or SS7 and X.25 networks. In yet another alternative embodiment, routing element <highlight><bold>102</bold></highlight> may be an IP router capable of routing application-layer mobile communications messages over an IP network. In a further alternative embodiment, routing element may be an ATM switch capable of routing application-layer mobile communications messages over an ATM network. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> In a preferred embodiment of the invention, routing element <highlight><bold>102</bold></highlight> includes SS7 MTP routing and global title translation capabilities for routing application-layer mobile communications messages over an SS7 network. An exemplary commercially-available product capable of performing these SS7 functions is the Eagle&reg; signal transfer point available from Tekelec of Calabasas, Calif. An exemplary commercially-available product for performing both SS7 and IP routing functions is the IP<highlight><superscript>7</superscript></highlight>&reg; Secure Gateway, also available from Tekelec. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> According to an important aspect of the invention, routing element <highlight><bold>102</bold></highlight> includes an application-layer mobile communications protocol identification and translation database <highlight><bold>106</bold></highlight>. Database <highlight><bold>106</bold></highlight> includes fields for identifying the protocol of an incoming application-layer mobile communications protocol message and for inserting parameters in the message that make routing node <highlight><bold>100</bold></highlight> appear as an HLR or an MSC. The operation and contents of database <highlight><bold>106</bold></highlight> will be discussed in more detail below. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> Converter <highlight><bold>104</bold></highlight> converts messages from one application-layer mobile communications protocol to another application-layer mobile communications protocol. For example, converter <highlight><bold>104</bold></highlight> may convert messages from IS-41 to GSM and vice versa. Converter <highlight><bold>104</bold></highlight> may include any suitable hardware platform on which conversion software may execute. For example, converter <highlight><bold>104</bold></highlight> may be a personal computer, a server, or a workstation. An exemplary commercially-available hardware platform suitable for use as converter <highlight><bold>104</bold></highlight> may be a Netra&reg; available from SUN Microsystems. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Converter <highlight><bold>104</bold></highlight> may be connected to routing element <highlight><bold>102</bold></highlight> via any suitable high-speed connection, such as an Ethernet connection or an ATM connection. In addition, although the example illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> depicts converter <highlight><bold>104</bold></highlight> and routing element <highlight><bold>102</bold></highlight> as separate elements, the present invention is not limited to such an embodiment. For example, in an alternative embodiment, converter <highlight><bold>104</bold></highlight> may be included within routing element <highlight><bold>102</bold></highlight> as hardware and/or software executing on one or more processors of routing element <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The network illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> includes a variety of standard mobile network elements used to establish calls and deliver short message service messages between mobile subscribers. In the illustrated example, the network includes a GSM short message service center <highlight><bold>108</bold></highlight> for delivering short message service messages to and from GSM subscribers, IS-41 short message service centers <highlight><bold>110</bold></highlight> and <highlight><bold>112</bold></highlight> for delivering short message service messages to and from IS-41 subscribers, and IS-41 HLRs <highlight><bold>114</bold></highlight>, <highlight><bold>116</bold></highlight>, <highlight><bold>118</bold></highlight>, and <highlight><bold>120</bold></highlight> for storing location information regarding IS-41 subscribers. The operation of the network illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> in delivering a short message service message originating from a GSM mobile subscriber to an IS-41 mobile subscriber will now be explained in detail. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> When a GSM mobile subscriber sends a short message service message to a IS-41 mobile subscriber, the message originates at the GSM mobile subscriber&apos;s handset, travels over the air interface to a base station, and travels from the base station to a GSM mobile switching center. Because the operation of these elements is not essential to explaining the invention, these elements are omitted from <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The GSM mobile switching center delivers the short message service message to a GSM short message service center, such as SMSC <highlight><bold>108</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Referring to the call flow diagram illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, in step <highlight><bold>1</bold></highlight>, in response to receiving the short message from the GSM MSC, SMSC <highlight><bold>108</bold></highlight> formulates a Send-Routing-lnfo-for-SM (SRI_SM) message including the MSISDN of the destination mobile subscriber&apos;s handset in order to obtain the temporary routing address of the destination mobile subscriber. According to ETS 300 974: Digital Cellular Telecommunications System (Phase 2&plus;) Mobile Application Part (MAP) Specification, GSM 09.02 version 5.15.1, Release 1996, (hereinafter, &ldquo;the MAP Specification&rdquo;) the proper destination for an SRI_SM message is an HLR. In the illustrated embodiment, SMSC <highlight><bold>108</bold></highlight> sends the message to the HLR via routing node <highlight><bold>100</bold></highlight>, which functions as an STP. Based on a configured set of triggers in the message (e.g. GTI, TT, NP and NAI), routing node <highlight><bold>100</bold></highlight> sends the message to database <highlight><bold>106</bold></highlight>, which functions as a multi-protocol HLR. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> In step <highlight><bold>2</bold></highlight>, routing node <highlight><bold>100</bold></highlight> performs a lookup in database <highlight><bold>106</bold></highlight> using the MSISDN number extracted from the MAP portion of the SRI_SM message. In this example, it is assumed that the lookup in database <highlight><bold>106</bold></highlight> results in a match for the MSISDN, which specifies the address of an IS-41 SMSC, indicating that the message is addressed to an IS-41 subscriber. For purposes of this example, the SMSC ID returned by database <highlight><bold>106</bold></highlight> is assumed to the ID of IS-41 SMSC <highlight><bold>110</bold></highlight>. The dialed number (MSISDN) contained in the MAP message may actually be an IS-41 mobile identification number (MIN) or Mobile Directory Number (MDN), since the dialed number is for an IS-41 subscriber. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> According to an important aspect of the invention, rather than converting the SRI-SM message to an IS-41 location request message, routing node <highlight><bold>100</bold></highlight> formulates a GSM SRI_SM acknowledgement containing the SMSC ID of IS-41 SMSC <highlight><bold>110</bold></highlight>. The SMSC ID of IS-41 SMSC <highlight><bold>110</bold></highlight> is preferably stored in the MSC Number field of the SRI_SM acknowledgement message. According to the MAP Specification, the MSC Number field is used to store the identifier of the MSC serving the destination mobile subscriber. However, according to the present invention, rather than storing the number of an MSC, this field carries the ID of an IS-41 SMSC. The sending GSM SMSC will believe that the ID is for a GSM MSC and will formulate a subsequent message that it believes to be directed to a GSM MSC. The IMSI parameter in the SRI_SM acknowledgement message is set to the MIN of the IS-41 subscriber. This is either received as the MSISDN or obtained from database <highlight><bold>106</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> In step <highlight><bold>3</bold></highlight> GSM SMSC <highlight><bold>108</bold></highlight> formulates and sends a Mobile Terminal Forward Short Message (MT_FWD_SM) message using the ID of IS-41 SMSC <highlight><bold>110</bold></highlight> as the SCCP CdPA. The MT_FWD_SM message indicates route-on-GT. The MAP portion of the message contains Dest Addr&equals;MIN (this may be equivalent to the IMSI for a GSM subscriber). The MAP Originating Address parameter specifies the address of GSM SMSC <highlight><bold>108</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> In response to receiving the MT_FWD_SM message, routing element <highlight><bold>102</bold></highlight> performs GTT using the SMSC ID of IS-41 SMSC <highlight><bold>110</bold></highlight> stored in the SCCP CdPA field. The GTT tables, which may be included in database <highlight><bold>106</bold></highlight> or in a GTT database separate from database <highlight><bold>106</bold></highlight>, contain default translation for the ID of SMSC <highlight><bold>110</bold></highlight> to the address of converter <highlight><bold>104</bold></highlight>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In step <highlight><bold>4</bold></highlight>, once the GTT has been performed, routing element <highlight><bold>102</bold></highlight> forwards, i.e., MTP routes, the MT_FWD_SM message to converter <highlight><bold>104</bold></highlight>. In response to receiving the MT_FWD_SM message, converter <highlight><bold>104</bold></highlight> creates a call record. The call record preferably includes the Invoke ID parameter, the originating GSM SMSC ID parameter, and the CdPA parameter, which is the IS-41 SMSC ID, extracted from GSM MT_FWD_SM message. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Converter <highlight><bold>104</bold></highlight> includes a table for mapping the IS-41 SMSC ID in the SCCP CdPA of a received GSM message to an IS-41 SMSC point code/subsystem number (PC/SSN). In this example, it is assumed that the SMSC ID of IS-41 SMSC <highlight><bold>110</bold></highlight> maps to the point code/subsystem number of IS-41 SMSC <highlight><bold>110</bold></highlight>. According to an important aspect of the invention, converter <highlight><bold>104</bold></highlight> maps the mobile-terminated GSM MT_FWD_SM message into a mobile-originated IS-41 SMDPP message with a TCAP Invoke component. The mapping may be performed as follows: </paragraph>
<paragraph id="P-0033" lvl="2"><number>&lsqb;0033&rsqb;</number> MAP Portion of SMDPP Message: </paragraph>
<paragraph id="P-0034" lvl="3"><number>&lsqb;0034&rsqb;</number> Invoke ID&equals;Invoke ID from GSM MT_FWD_SM </paragraph>
<paragraph id="P-0035" lvl="3"><number>&lsqb;0035&rsqb;</number> MIN parameter&equals;IMSI (destination address parameter from MT_FWD_SM) </paragraph>
<paragraph id="P-0036" lvl="3"><number>&lsqb;0036&rsqb;</number> SMS Bearer Data&equals;SM data (UI parameter from MT_FWD_SM) </paragraph>
<paragraph id="P-0037" lvl="3"><number>&lsqb;0037&rsqb;</number> SMS Destination Addr&equals;IMSI (destination address parameter from MT_FWD_SM), if needed </paragraph>
<paragraph id="P-0038" lvl="3"><number>&lsqb;0038&rsqb;</number> SMS Originating Addr&equals;GSM SMSC ID (originating address parameter from MT_FWD_SM) </paragraph>
<paragraph id="P-0039" lvl="2"><number>&lsqb;0039&rsqb;</number> SCCP Portion of SMDPP Message: </paragraph>
<paragraph id="P-0040" lvl="3"><number>&lsqb;0040&rsqb;</number> SCCP CdPA&equals;PC/SSN of IS-41 SMSC associated with the SMSC ID of IS-41 SMSC <highlight><bold>110</bold></highlight> </paragraph>
<paragraph id="P-0041" lvl="3"><number>&lsqb;0041&rsqb;</number> SCCP CgPA&equals;PC/SSN of converter <highlight><bold>104</bold></highlight>. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Mapping the mobile-terminated GSM message to a mobile-originated IS-41 message makes routing node/converter <highlight><bold>100</bold></highlight> appear as an MSC to downstream nodes because in GSM and IS-41 networks, MSCs originate messages containing the short message from the mobile station and forward these messages to SMSCs for delivery. Appearing as or simulating an MSC removes routing node <highlight><bold>100</bold></highlight> from participation in MAP error control scenarios that could occur downstream from the SMSC. As a result, routing node <highlight><bold>100</bold></highlight> has a lower processing load than a conventional roaming gateway that translates every message and must therefore translate between the error control messages of the protocols </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> After formulating the SMDPP message, in step <highlight><bold>5</bold></highlight>, converter <highlight><bold>104</bold></highlight> sends the message route-on-SSN to routing element <highlight><bold>102</bold></highlight>. In step <highlight><bold>6</bold></highlight>, routing element <highlight><bold>102</bold></highlight> MTP routes message to IS-41 SMSC <highlight><bold>110</bold></highlight>. In step <highlight><bold>7</bold></highlight>, IS-41 SMSC <highlight><bold>110</bold></highlight> sends an SMDPP message including a TCAP Return Result component back to converter <highlight><bold>104</bold></highlight> PC/SSN via routing element <highlight><bold>102</bold></highlight> route-on-SSN. In step <highlight><bold>8</bold></highlight>, routing element <highlight><bold>102</bold></highlight> MTP routes the SMDPP message to converter <highlight><bold>104</bold></highlight>. Meanwhile, IS-41 SMSC <highlight><bold>110</bold></highlight> processes the short message as it would any other mobile-originated short message service message that it receives, i.e., SMSC <highlight><bold>110</bold></highlight> attempts to deliver the message to its intended recipient. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In response to receiving the SMDPP message, converter <highlight><bold>104</bold></highlight> retrieves Invoke ID from the SMDPP message and locates the associated call record. Converter <highlight><bold>104</bold></highlight> maps the IS-41 SMDPP Return Result message to a GSM MT_FWD_SM_ACK message as follows: </paragraph>
<paragraph id="P-0045" lvl="2"><number>&lsqb;0045&rsqb;</number> MAP PORTION: </paragraph>
<paragraph id="P-0046" lvl="3"><number>&lsqb;0046&rsqb;</number> Invoke ID&equals;Invoke ID from the SMDPP Return Result message&mdash;This is the original Invoke ID from the MT_FWD_SM message. </paragraph>
<paragraph id="P-0047" lvl="2"><number>&lsqb;0047&rsqb;</number> SM Data&equals;SMS Bearer Data (if returned from IS-41 SMSC <highlight><bold>110</bold></highlight>) </paragraph>
<paragraph id="P-0048" lvl="2"><number>&lsqb;0048&rsqb;</number> User Error&equals;Mapping of SMS_CauseCode from the SMDPP Return Result message if the SMDPP Return Result indicates a NACK, blank if ACK </paragraph>
<paragraph id="P-0049" lvl="2"><number>&lsqb;0049&rsqb;</number> SCCP PORTION: </paragraph>
<paragraph id="P-0050" lvl="3"><number>&lsqb;0050&rsqb;</number> CdPA&equals;GSM SMSC <highlight><bold>108</bold></highlight>, route-on-GT (retrieved from converter&apos;s call record) </paragraph>
<paragraph id="P-0051" lvl="3"><number>&lsqb;0051&rsqb;</number> CgPA&equals;IS-41 SMSC ID for SMSC <highlight><bold>110</bold></highlight>, route-on-GT (retrieved from converter&apos;s call record) </paragraph>
<paragraph id="P-0052" lvl="7"><number>&lsqb;0052&rsqb;</number> Once converter <highlight><bold>104</bold></highlight> builds the GSM MT_FWD_SM acknowledge message, in step <highlight><bold>9</bold></highlight>, converter <highlight><bold>104</bold></highlight> forwards the message to routing element <highlight><bold>102</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> performs GTT on message, and, in step <highlight><bold>10</bold></highlight>, routes the message to GSM SMSC <highlight><bold>108</bold></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Short Message Originated from IS-41 Subscriber Destined for GSM Subscriber </heading>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> As stated above, in addition to the capability of routing GSM-originated short message service messages to IS-41 subscribers, a routing node according to embodiments of the present invention is preferably also capable of routing IS-41 -originated short message service messages to GSM subscribers. <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a network diagram illustrating the nodes involved in delivering an IS-41 -originated short message service message to a GSM subscriber. In addition to routing node <highlight><bold>100</bold></highlight>, the illustrated network includes various network elements used to establish calls and deliver short message service messages between mobile subscribers. For example, the network includes an IS-41 short message service center <highlight><bold>200</bold></highlight> for delivering short message service messages to and from IS-41 subscribers, GSM short message service centers <highlight><bold>202</bold></highlight> and <highlight><bold>204</bold></highlight> for delivering short message service messages to and from GSM subscribers, and GSM HLRs <highlight><bold>206</bold></highlight>, <highlight><bold>208</bold></highlight>, <highlight><bold>210</bold></highlight>, and <highlight><bold>212</bold></highlight> for storing location information regarding GSM subscribers. The operation of the network illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> in delivering a short message service message originating from an IS-41 mobile subscriber to a GSM mobile subscriber will now be explained in detail. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> When an IS-41 mobile subscriber sends a short message service message to a GSM mobile subscriber, the message originates at the IS-41 mobile subscriber&apos;s handset, travels over the air interface to a base station, and travels from the base station to an IS-41 mobile switching center. Because the operation of these elements is not essential to explaining the invention, these elements are omitted from <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. The IS-41 mobile switching center delivers the short message service message to an IS-41 short message service center, such as SMSC <highlight><bold>200</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Referring to the call flow diagram illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, in step <highlight><bold>1</bold></highlight>, in response to receiving the short message from the IS-41 MSC, SMSC <highlight><bold>200</bold></highlight> formulates an SMS request (SMSREQ) message including a TCAP Invoke component to obtain the temporary routing address of the intended recipient. According to TIA/EIA IS-41.3-C, February 1996, (hereinafter, &ldquo;the IS-41 Specification&rdquo;) the proper responding functional entity for an SMSREQ message originating from an SMSC is an HLR that holds the subscribers information. However, in the illustrated embodiment, SMSC <highlight><bold>200</bold></highlight> sends the message to the point code and subsystem number of database <highlight><bold>106</bold></highlight> in routing node <highlight><bold>100</bold></highlight>, which functions as an HLR in this instance. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> In response to receiving the SMSREQ message, routing node <highlight><bold>100</bold></highlight> performs a lookup in database <highlight><bold>106</bold></highlight> using the mobile identification number (MIN) extracted from the MAP portion of the SMSREQ message. In this example, it is assumed that the lookup in database <highlight><bold>106</bold></highlight> results in a match for the MIN, which specifies the address of a GSM SMSC, indicating that the message is addressed to a GSM subscriber. For purposes of this example, the SMSC ID returned by database <highlight><bold>106</bold></highlight> is assumed to be the ID of GSM SMSC <highlight><bold>202</bold></highlight>. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> According to an important aspect of the invention, rather than converting the SMSREQ message to a GSM Send Routing Information for Short Message message, routing element <highlight><bold>102</bold></highlight> formulates an SMSREQ message containing a TCAP Return Result component containing the address of routing element <highlight><bold>102</bold></highlight> stored in the SMS_Address field. According to the IS-41 Specification, the SMS_Address field is used to store the temporary routing address, which can be used to deliver a short message to a mobile station. This field has conventionally been populated with the address of the MSC serving the mobile subscriber. By storing the address of routing element <highlight><bold>102</bold></highlight> in the SMS_Address field, routing element <highlight><bold>102</bold></highlight> &ldquo;tricks&rdquo; IS-41 SMSC <highlight><bold>200</bold></highlight> into believing that routing element <highlight><bold>102</bold></highlight> is the destination MSC for the short message. This step, along with subsequent steps described below, reduces the processing performed by routing element <highlight><bold>102</bold></highlight> over conventional roaming gateways that simply converted all of the messages. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> In step <highlight><bold>2</bold></highlight>, routing element <highlight><bold>102</bold></highlight> sends the SMSREQ Return Result message to IS-41 SMSC <highlight><bold>200</bold></highlight>. Because IS-41 SMSC <highlight><bold>200</bold></highlight> believes routing element <highlight><bold>102</bold></highlight> to be the destination MSC, in step <highlight><bold>3</bold></highlight>, IS-41 SMSC <highlight><bold>200</bold></highlight> formulates and sends a mobile-terminated SMDPP invoke message using the DPC of routing element <highlight><bold>102</bold></highlight> and specifies &ldquo;route-on-SSN&rdquo; in the SCCP portion of the message. The MAP portion of the SMDPP message contains the SMS_BearerData (stores the actual short message), SMS_Teleserviceldentifier (stores identification of the teleservice; used for interpreting the bearer data), MIN of recipient, SMS_OriginatingAddress (stores IS-41 SMSC ID), and SMS_OriginalOriginatingAddress (stores MIN of sender) parameters. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> In response to the SMDPP message, routing element <highlight><bold>102</bold></highlight> passes it to the local subsystem indicated in the SSN parameter. The logic elements in routing element <highlight><bold>102</bold></highlight> indicate that since the SMDPP is routed to its PC/SSN, and it is an IS-41 message destined for a GSM subscriber, it needs to be forwarded to converter <highlight><bold>104</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> leaves the PC/SSN of IS-41 SMSC <highlight><bold>200</bold></highlight> in the SCCP CgPA portion of the message. Before forwarding the SMDPP message to converter <highlight><bold>104</bold></highlight>, routing element <highlight><bold>102</bold></highlight> performs a second lookup in database <highlight><bold>106</bold></highlight> on the MIN from the SMDPP message. Routing element <highlight><bold>102</bold></highlight> finds a match (as before) and obtains the SMSC ID of GSM SMSC <highlight><bold>202</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> inserts SMSC ID of GSM SMSC <highlight><bold>202</bold></highlight> into the SMS_DestinationAddress parameter of the SMDPP message and, in step <highlight><bold>4</bold></highlight>, sends the SMDPP message to converter <highlight><bold>104</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> In response to receiving the SMDPP message, converter <highlight><bold>104</bold></highlight> creates a call record with the Invoke ID and PC/SSN of routing element <highlight><bold>102</bold></highlight> and PC/SSN of IS-41 SMSC <highlight><bold>200</bold></highlight> extracted from the SMDPP message.. According to an important aspect of the invention, converter <highlight><bold>104</bold></highlight> maps the mobile-terminated SMDPP message into a GSM MO_FWD_SM (mobile-originated) as follows: </paragraph>
<paragraph id="P-0061" lvl="2"><number>&lsqb;0061&rsqb;</number> MAP PORTION: </paragraph>
<paragraph id="P-0062" lvl="3"><number>&lsqb;0062&rsqb;</number> Invoke ID&equals;Invoke ID from IS-41 SMDPP </paragraph>
<paragraph id="P-0063" lvl="3"><number>&lsqb;0063&rsqb;</number> DestinationAddress (SM RP DA)&equals;GSM SMSC from SMS_DestinationAddress parameter </paragraph>
<paragraph id="P-0064" lvl="3"><number>&lsqb;0064&rsqb;</number> OriginationAddress (SM RP OA)&equals;MIN of sender received in SMS_OriginalOriginatingAddress </paragraph>
<paragraph id="P-0065" lvl="3"><number>&lsqb;0065&rsqb;</number> Short Message Data (SM RP Ul) SMS_BearerData from SMDPP </paragraph>
<paragraph id="P-0066" lvl="2"><number>&lsqb;0066&rsqb;</number> SCCP PORTION: </paragraph>
<paragraph id="P-0067" lvl="3"><number>&lsqb;0067&rsqb;</number> CdPA&equals;GSM SMSC <highlight><bold>202</bold></highlight>, route-on-GT </paragraph>
<paragraph id="P-0068" lvl="3"><number>&lsqb;0068&rsqb;</number> CgPA&equals;ID of converter <highlight><bold>104</bold></highlight>, route-on-GT </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Converting the message from a mobile-terminated IS-41 message to a mobile-originated GSM message makes routing node <highlight><bold>100</bold></highlight> appear as a GSM MSC to GSM SMSC <highlight><bold>202</bold></highlight>. As a result, routing element <highlight><bold>102</bold></highlight> can simply forward a short message to GSM SMSC <highlight><bold>202</bold></highlight> for delivery without implementing the error control mechanisms of two protocols, as required in conventional roaming gateways. Accordingly, in step <highlight><bold>5</bold></highlight>, converter <highlight><bold>104</bold></highlight> sends the MO_FWD_SM message route-on-GT to GSM SMSC <highlight><bold>202</bold></highlight> via routing element <highlight><bold>102</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> performs GTT based on CdPA&equals;SMSC <highlight><bold>202</bold></highlight> ID, and, in step <highlight><bold>6</bold></highlight>, routes the MO_FWD_SM message to GSM SMSC <highlight><bold>202</bold></highlight>. GSM SMSC <highlight><bold>202</bold></highlight> handles the steps required to deliver the short message to the GSM subscriber. In step <highlight><bold>7</bold></highlight>, GSM SMSC <highlight><bold>202</bold></highlight> sends a MO_FWD_SM_ACK message to routing element <highlight><bold>102</bold></highlight> with the CdPA field set to the global title address of converter <highlight><bold>104</bold></highlight>. Routing element <highlight><bold>102</bold></highlight> performs GTT, and, in step <highlight><bold>8</bold></highlight>, routes the MO_FWD_SM_ACK message to converter <highlight><bold>104</bold></highlight>. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In response to receiving the MO_FWD_SM_ACK, converter <highlight><bold>104</bold></highlight> retrieves the Invoke ID parameter from the message and locates associated call record. Converter <highlight><bold>104</bold></highlight> maps the GSM MO_FWD_SM_ACK message to an IS-<highlight><bold>41</bold></highlight> SMDPP Return Result message as follows: </paragraph>
<paragraph id="P-0071" lvl="2"><number>&lsqb;0071&rsqb;</number> MAP PORTION: </paragraph>
<paragraph id="P-0072" lvl="3"><number>&lsqb;0072&rsqb;</number> Invoke ID&equals;Invoke ID from GSM MO_FWD_SM_Ack-this is original Invoke ID from IS-41 SMDPP </paragraph>
<paragraph id="P-0073" lvl="3"><number>&lsqb;0073&rsqb;</number> SMS BearerData&equals;SM Data (if returned from GSM SMSC <highlight><bold>202</bold></highlight>) </paragraph>
<paragraph id="P-0074" lvl="3"><number>&lsqb;0074&rsqb;</number> SMS_CauseCode&equals;Mapping of User Error from MO_FWD_SM_ACK if present, blank if not </paragraph>
<paragraph id="P-0075" lvl="2"><number>&lsqb;0075&rsqb;</number> SCCP PORTION: </paragraph>
<paragraph id="P-0076" lvl="3"><number>&lsqb;0076&rsqb;</number> CdPA&equals;IS-41 SMSC <highlight><bold>200</bold></highlight> PC/SSN, route-on-SSN (stored in converter&apos;s call record) </paragraph>
<paragraph id="P-0077" lvl="3"><number>&lsqb;0077&rsqb;</number> CgPA&equals;routing element <highlight><bold>102</bold></highlight> PC/SSN, route-on-SSN (stored in converter&apos;s call record) </paragraph>
<paragraph id="P-0078" lvl="7"><number>&lsqb;0078&rsqb;</number> In step <highlight><bold>9</bold></highlight>, converter <highlight><bold>104</bold></highlight> sends the SMDPP Return Result message to routing element <highlight><bold>102</bold></highlight>. In step <highlight><bold>10</bold></highlight>, routing element <highlight><bold>102</bold></highlight> MTP-routes the SMDPP Return Result message to IS-41 SMSC <highlight><bold>200</bold></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Call-Related Message Processing </heading>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> The present invention is not limited to routing only short message service messages between mobile subscribers of different application-layer mobile communications protocols. For example, routing node <highlight><bold>100</bold></highlight> may also be used to route messages for establishing calls, such as voice calls, between mobile subscribers of different application-layer mobile communications protocols. This applies particularly in the case where the technology, i.e., GSM or IS-41, of the subscriber being called is not known by the MSC handling the call. <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a network diagram illustrating exemplary signaling between routing node <highlight><bold>100</bold></highlight> and other network elements for establishing a call originating from a GSM subscriber to an IS-41 subscriber. In step <highlight><bold>1</bold></highlight>, a GSM MSC <highlight><bold>300</bold></highlight> receives a call setup message for establishing a call from a GSM subscriber to an IS-41 subscriber. By default, in step <highlight><bold>2</bold></highlight>, GSM MSC <highlight><bold>300</bold></highlight> sends an SRI message to routing node <highlight><bold>100</bold></highlight> to obtain the location of the called party. Rather than converting the SRI message into an IS-41 Location Request message, routing element <highlight><bold>102</bold></highlight> performs a lookup in database <highlight><bold>106</bold></highlight>. Database <highlight><bold>106</bold></highlight> matches the MSISDN number in the SRI message with a routing number (RN), which corresponds to an IS-41 HLR, such as IS-41 HLR <highlight><bold>304</bold></highlight>. In step <highlight><bold>3</bold></highlight>, Routing element <highlight><bold>102</bold></highlight> returns the HLR ID as a RN to GSM MSC <highlight><bold>300</bold></highlight> in an SRI ACK message. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> In response to receiving the SRI ACK message, GSM MSC <highlight><bold>300</bold></highlight> recognizes that the call is destined for an IS-41 subscriber and, in step <highlight><bold>4</bold></highlight>, sends an IAM message to IS-41 MSC <highlight><bold>302</bold></highlight>. The IAM message is routed based on the RN received from the database. From this point, the two MSC rely on normal IS-41 &rlarr; GSM call setup procedures to complete the call. Because routing node <highlight><bold>100</bold></highlight> returns the RN for the IS-41 network, rather than translating the message to an IS-41 Location Request message, the processing load on routing node <highlight><bold>100</bold></highlight> is reduced over that of conventional roaming gateways. Call setup time may also be reduced. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a network diagram illustrating an exemplary call flow for routing an IS-41 initiated call to a GSM subscriber according to an embodiment of the present invention. Referring to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, the network includes an IS-41 MSC <highlight><bold>400</bold></highlight>, a GSM MSC <highlight><bold>402</bold></highlight>, and a GSM HLR <highlight><bold>404</bold></highlight>. In step <highlight><bold>1</bold></highlight>, IS-41 MSC <highlight><bold>400</bold></highlight> receives a call setup message for establishing a call from a GSM subscriber to an IS-41 subscriber. In step <highlight><bold>2</bold></highlight>, IS-41 MSC <highlight><bold>400</bold></highlight> formulates and sends an IS-41 Location Request message to routing node <highlight><bold>100</bold></highlight>. Routing node <highlight><bold>100</bold></highlight> performs a lookup in database <highlight><bold>106</bold></highlight> using the mobile identification number in the received Location Request message. Since the called party is a GSM subscriber, in step <highlight><bold>3</bold></highlight>, routing node <highlight><bold>100</bold></highlight> sends a Location Request Acknowledge message to IS-41 MSC <highlight><bold>400</bold></highlight> containing the HLR ID of GSM HLR <highlight><bold>404</bold></highlight> as a RN. In step <highlight><bold>4</bold></highlight>, IS-41 MSC <highlight><bold>400</bold></highlight> sends an IAM message to GSM MSC <highlight><bold>402</bold></highlight>. From this point, the two MSCs rely on normal IS-41 &rlarr; GSM call setup procedures to complete the call. Because routing node <highlight><bold>100</bold></highlight> returns location information of the RN of the network serving the called party, rather than translating the IS-41 message, the processing load on routing node <highlight><bold>100</bold></highlight> is decreased over that of a conventional roaming gateway. Call setup time may also be reduced. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> It will be understood that various details of the invention may be changed without departing from the scope of the invention. Furthermore, the foregoing description is for the purpose of illustration only, and not for the purpose of limitation-the invention being defined by the claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A routing node for delivering short message service (SMS) messages between subscribers of different application-layer mobile communications protocols, the routing node comprising: 
<claim-text>(a) a routing element for receiving, from a short message service center (SMSC) of a first application-layer mobile communications protocol, a message requesting location information of a mobile subscriber of a second application-layer mobile communications protocol and for formulating a response to the message including an address of a node other than a mobile switching center, the address being stored in a destination ID field of the response message; and </claim-text>
<claim-text>(b) a converter operatively associated with the routing element for receiving, from the SMSC of the first application-layer mobile communications protocol, a mobile-terminated SMS message of the first application-layer communications protocol and for converting the mobile-terminated SMS message to a mobile-originated SMS message of the second application-layer communications protocol, thereby simulating operations of a mobile switching center of the second application-layer mobile communications protocol in forwarding a short message received from a mobile terminal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The routing node of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the routing element comprises an SS7 signal transfer point. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The routing node of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the routing element comprises an SS7/IP gateway. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The routing node of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the converter comprises a processing platform separate from the routing element. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The routing node of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the converter comprises a processor internal to the routing element. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The routing node of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the first application-layer mobile communications protocol is the American National Standards Institute (ANSI) Interim Standard 41 (IS-41) protocol and the second application-layer mobile communications protocol is the Global System for Mobile Communications (GSM) protocol. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The routing node of claim I wherein the first application-layer mobile communications protocol is the Global System for Mobile Communications (GSM) protocol and the second application-layer mobile communications protocol is the American National Standards Institute (ANSI) Interim Standard 41 (IS-41) protocol. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the destination ID field comprises the GSM MSC_ID field and the destination node comprises an SMSC. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the destination ID field comprises the IS-41 SMS_Address field and the destination node comprises a routing element. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A method for communicating messages between subscribers of different application-layer mobile communications protocols, the method comprising: 
<claim-text>(a) receiving, from a network element of a first application-layer mobile communications protocol, a first message relating to a subscriber of a second application-layer mobile communications protocol; </claim-text>
<claim-text>(b) in response to receiving the first message, formulating a second message of the first application-layer mobile communications protocol; </claim-text>
<claim-text>(c) including, in a destination ID field of the second message, an address of a node other than a mobile switching center; and </claim-text>
<claim-text>(d) forwarding the second message to the network element of the first application-layer mobile communications protocol. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein receiving the first message includes receiving the first message from a short message service center of the first application-layer mobile communications protocol. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein including an address in a destination ID field of the second message comprises including a GSM SMSC ID in a GSM MSC_ID field of the second message. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein including an address in a destination ID field of the second message comprises including a routing node address in an IS-41 SMS_ADDR field of the second message. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein the first application-layer mobile communications protocol comprises the American National Standards Institute (ANSI) Interim Standard 41 (IS-41) protocol and the second application-layer mobile communications protocol comprises the Global System for Mobile Communications (GSM) protocol. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein the first application-layer mobile communications protocol comprises the Global System for Mobile Communications (GSM) protocol and the second application-layer mobile communications protocol comprises the American National Standards Institute (ANSI) Interim Standard 41 (IS-41) protocol. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein steps (a)-(d) are performed at a signal transfer point. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein steps (a)-(d) are performed at an SS7/IP signaling gateway. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> further comprising: 
<claim-text>(a) receiving a mobile-terminated SMS message of the first application-layer mobile communications protocol; </claim-text>
<claim-text>(b) in response, formulating a mobile-originated SMS message of the second application-layer mobile communications protocol; and </claim-text>
<claim-text>(c) forwarding the mobile-originated SMS message to a short message service center of the second application-layer mobile communications protocol, thereby simulating operations of a mobile switching center of the second application-layer mobile communications protocol in forwarding a short message received from a mobile subscriber. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A method for establishing a call between subscribers of different application-layer communications protocols, the method comprising: 
<claim-text>(a) receiving, from a mobile switching center (MSC) of a first application-layer mobile communications protocol, a first message requesting the location of a subscriber of a second application-layer mobile communications protocol; </claim-text>
<claim-text>(b) performing a lookup in a database based on a called party identifier in the first message and obtaining a routing number for a network serving the mobile subscriber of the second application-level mobile communications protocol; </claim-text>
<claim-text>(c) formulating a second message of the first application-layer mobile communications protocol; </claim-text>
<claim-text>(d) including the routing number in the second message; and </claim-text>
<claim-text>(e) forwarding the second message to the MSC of the first application-layer mobile communications protocol. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference> wherein the first application-layer mobile communications protocol comprises IS-41 and the second application-layer mobile communications protocol comprises GSM. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference> wherein the first application-layer mobile communications protocol comprises GSM and the second application-layer mobile communications protocol comprises IS-41.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030003930A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030003930A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030003930A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030003930A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030003930A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
