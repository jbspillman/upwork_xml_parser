<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030000500A1-20030102-C00001.CDX SYSTEM "US20030000500A1-20030102-C00001.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00001.MOL SYSTEM "US20030000500A1-20030102-C00001.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00001.TIF SYSTEM "US20030000500A1-20030102-C00001.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00002.CDX SYSTEM "US20030000500A1-20030102-C00002.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00002.MOL SYSTEM "US20030000500A1-20030102-C00002.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00002.TIF SYSTEM "US20030000500A1-20030102-C00002.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00003.CDX SYSTEM "US20030000500A1-20030102-C00003.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00003.MOL SYSTEM "US20030000500A1-20030102-C00003.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00003.TIF SYSTEM "US20030000500A1-20030102-C00003.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00004.CDX SYSTEM "US20030000500A1-20030102-C00004.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00004.MOL SYSTEM "US20030000500A1-20030102-C00004.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00004.TIF SYSTEM "US20030000500A1-20030102-C00004.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00005.CDX SYSTEM "US20030000500A1-20030102-C00005.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00005.MOL SYSTEM "US20030000500A1-20030102-C00005.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00005.TIF SYSTEM "US20030000500A1-20030102-C00005.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00006.CDX SYSTEM "US20030000500A1-20030102-C00006.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00006.MOL SYSTEM "US20030000500A1-20030102-C00006.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00006.TIF SYSTEM "US20030000500A1-20030102-C00006.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00007.CDX SYSTEM "US20030000500A1-20030102-C00007.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00007.MOL SYSTEM "US20030000500A1-20030102-C00007.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00007.TIF SYSTEM "US20030000500A1-20030102-C00007.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00008.CDX SYSTEM "US20030000500A1-20030102-C00008.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00008.MOL SYSTEM "US20030000500A1-20030102-C00008.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00008.TIF SYSTEM "US20030000500A1-20030102-C00008.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00009.CDX SYSTEM "US20030000500A1-20030102-C00009.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00009.MOL SYSTEM "US20030000500A1-20030102-C00009.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00009.TIF SYSTEM "US20030000500A1-20030102-C00009.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00010.CDX SYSTEM "US20030000500A1-20030102-C00010.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00010.MOL SYSTEM "US20030000500A1-20030102-C00010.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00010.TIF SYSTEM "US20030000500A1-20030102-C00010.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00011.CDX SYSTEM "US20030000500A1-20030102-C00011.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00011.MOL SYSTEM "US20030000500A1-20030102-C00011.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00011.TIF SYSTEM "US20030000500A1-20030102-C00011.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00012.CDX SYSTEM "US20030000500A1-20030102-C00012.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00012.MOL SYSTEM "US20030000500A1-20030102-C00012.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00012.TIF SYSTEM "US20030000500A1-20030102-C00012.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00013.CDX SYSTEM "US20030000500A1-20030102-C00013.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00013.MOL SYSTEM "US20030000500A1-20030102-C00013.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00013.TIF SYSTEM "US20030000500A1-20030102-C00013.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00014.CDX SYSTEM "US20030000500A1-20030102-C00014.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00014.MOL SYSTEM "US20030000500A1-20030102-C00014.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00014.TIF SYSTEM "US20030000500A1-20030102-C00014.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00015.CDX SYSTEM "US20030000500A1-20030102-C00015.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00015.MOL SYSTEM "US20030000500A1-20030102-C00015.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00015.TIF SYSTEM "US20030000500A1-20030102-C00015.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00016.CDX SYSTEM "US20030000500A1-20030102-C00016.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00016.MOL SYSTEM "US20030000500A1-20030102-C00016.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00016.TIF SYSTEM "US20030000500A1-20030102-C00016.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00017.CDX SYSTEM "US20030000500A1-20030102-C00017.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00017.MOL SYSTEM "US20030000500A1-20030102-C00017.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00017.TIF SYSTEM "US20030000500A1-20030102-C00017.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00018.CDX SYSTEM "US20030000500A1-20030102-C00018.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00018.MOL SYSTEM "US20030000500A1-20030102-C00018.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00018.TIF SYSTEM "US20030000500A1-20030102-C00018.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00019.CDX SYSTEM "US20030000500A1-20030102-C00019.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00019.MOL SYSTEM "US20030000500A1-20030102-C00019.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00019.TIF SYSTEM "US20030000500A1-20030102-C00019.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00020.CDX SYSTEM "US20030000500A1-20030102-C00020.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00020.MOL SYSTEM "US20030000500A1-20030102-C00020.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00020.TIF SYSTEM "US20030000500A1-20030102-C00020.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-C00021.CDX SYSTEM "US20030000500A1-20030102-C00021.CDX" NDATA CDX>
<!ENTITY US20030000500A1-20030102-C00021.MOL SYSTEM "US20030000500A1-20030102-C00021.MOL" NDATA MOL>
<!ENTITY US20030000500A1-20030102-C00021.TIF SYSTEM "US20030000500A1-20030102-C00021.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-D00000.TIF SYSTEM "US20030000500A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-D00001.TIF SYSTEM "US20030000500A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-D00002.TIF SYSTEM "US20030000500A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-D00003.TIF SYSTEM "US20030000500A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030000500A1-20030102-D00004.TIF SYSTEM "US20030000500A1-20030102-D00004.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030000500</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09909679</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010720</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>F02M001/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>123</class>
<subclass>438000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>123</class>
<subclass>492000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>123</class>
<subclass>493000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Engine fuel delivery management system</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-in-part-of>
<parent-child>
<child>
<document-id>
<doc-number>09909679</doc-number>
<kind-code>A1</kind-code>
<document-date>20010720</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09784336</doc-number>
<document-date>20010216</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-in-part-of>
</continuations>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Glen</given-name>
<middle-name>F.</middle-name>
<family-name>Chatfield</family-name>
</name>
<residence>
<residence-us>
<city>Bradfordwoods</city>
<state>PA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>Optimum Power L.P.</organization-name>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>Morgan, Lewis &amp; Bockius LLP</name-1>
<name-2></name-2>
<address>
<address-1>1701 Market Street</address-1>
<city>Philadelphia</city>
<state>PA</state>
<postalcode>19103-2921</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">An apparatus and method for adjusting a quantity of fuel delivered to an engine when an engine operating state transitions is provided. The apparatus and method includes determining a current steady-state quantity of fuel to be delivered to the engine and add a transitory quantity of fuel, based on a difference between a previous steady-state quantity of fuel delivered and the current steady-state quantity of fuel to be delivered, to the current steady-state quantity of fuel for a period of time following initiation of the transition. The invention also provides an apparatus and method by which an operator may adjust the amount of fuel delivered during an engine operating state transition. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS-REFERENCE TO RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present application is a continuation-in-part of U.S. patent application Ser. No. 09/784,336, filed Feb. 16, 2001, which is currently pending and assigned to the assignee of the present invention. The entirety of this earlier filed co-pending patent application is hereby expressly incorporated herein by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention is directed to an engine fuel delivery management system for an internal combustion engine. In particular, this invention is directed to a system and method that compensates for a change in engine operating state by altering an amount of an operating parameter, such as quantity of fuel to be delivered. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> It is believed that the performance of an internal combustion engine is dependent on a number of factors including the operating cycle (e.g., two-stroke having 360 degrees of crankshaft rotation per cycle, four-stroke having 720 degrees of crankshaft rotation per cycle, or Wankel), the fuel type (e.g., gasoline or diesel) the number and design of combustion chambers, the selection and control of ignition and fuel delivery systems, and the ambient conditions in which the engine operates. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Examples of design choices for a combustion chamber are believed to include choosing a compression ratio and choosing the numbers of intake and exhaust valves associated with each chamber. In general, it is believed that these choices cannot be changed so as to calibrate engine operation after the engine has been built. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> With regard to ignition systems, breaker point systems and electronic ignition systems are known. It is believed that these known systems provide spark timing based on an operating characteristic of the engine, e.g., speed of rotation and load. In the case of breaker point systems, it is believed that engine speed is frequently detected mechanically using centrifugally displaced weights, and that intake manifold pressure or exhaust manifold pressure is commonly used to detect engine load. In the case of electronic ignition systems, it is believed that engine speed is generally detected with an angular motion sensor associated with rotation of the crankshaft, and that engine load is frequently detected, for example, by the output of a throttle position sensor, intake manifold pressure or mass airflow sensor. In each case, spark timing is typically fixed for a given steady operating state of the engine. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> With regard to fuel delivery systems, carburetors and fuel injection systems are known. It is believed that those known systems supply a quantity of fuel, e.g., gasoline and air, in accordance with the position of the throttle as set by the operator. In the case of carburetors, it is believed that fuel is delivered by a system of orifices, known as &ldquo;jets.&rdquo; As examples of carburetor operation, it is believed that an idle jet may supply fuel downstream of a throttle valve at engine idling speeds, and that fuel delivery may be boosted by an accelerator pump to facilitate rapid increases in engine load. It is believed that most carburetors must be disassembled and different size jets or pumps installed to modify the amount of fuel delivery at a particular engine load. However, that is a laborious process that, it is believed, most often, can only be done while the engine is not running. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> It is believed that known fuel injection systems, which can be operated electronically, spray a precisely metered amount of fuel into the intake system or directly into the combustion cylinder. The fuel quantity is believed to be determined by a controller based on the state of the engine and a data table known as a &ldquo;map&rdquo; or &ldquo;look-up table.&rdquo; It is believed that the map includes a collection of possible values or &ldquo;setpoints&rdquo; for each of at least one independent variable (i.e., a characteristic of the state of the engine), which can be measured by a sensor connected to the controller, and a collection of corresponding control values, for a dependent variable control function, e.g., fuel quantity. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Conventionally, it is believed that maps are developed by the engine manufacturer and permanently set in an engine control unit at the factory. Currently, for on-road vehicles, this is believed to be legally required in order to meet emissions regulations. However, it is believed that even when it is not legally required, the manufacturers prevent engine operators from modifying the maps for a variety of reasons, such as the manufacturers believe that their maps provide the best engine performance, the manufacturers are concerned that an engine operator might damage the engine by specifying inappropriate control values, or the manufacturers assume that an engine operator might not have sufficient skill to properly modify a map. However, it is believed that the manufacturers have &ldquo;optimized&rdquo; their maps to perform best under a set of conditions that they specify. In certain cases, however, it is believed that those conditions do not match the conditions in which the engine is operated. Consequently, stock maps sometimes limit, rather than optimize, an engine&apos;s performance. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Conventional maps, furthermore, are typically created to provide fuel delivery and ignition timing suitable for the engine when operating at a steady-state. Thus, map values may not be appropriate for an engine operating in transition such as, for example, an accelerating or decelerating engine. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Further, engine performance is believed to be substantially dependent on how combustion is accomplished in the ambient conditions. The stoichiometric mass fraction ratio of air to gasoline is approximately 14.7:1. However, it is believed that ratios from about 10:1 to about 20:1 will combust, and that it is often desirable to adjust the air-fuel ratio (&ldquo;AFR&rdquo;) to achieve specific engine performance (e.g., a certain level of power output, better fuel economy, or reduced emissions). Properly calibrating the fuel delivery system of an engine to deliver the optimum AFR under all operating conditions is one of the most important goals of a calibration effort. It is also frequently the most time consuming , difficult, and costly part of the calibration effort. Similarly, it is also believed to be desirable to adjust ignition timing, commonly measured in degrees of crank rotation before a piston reaches top-dead-center of the compression stroke, to achieve specific engine performance (e.g., lowest fuel consumption or reduced emissions). </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> It is believed to be a disadvantage of known ignition timing systems and fuel delivery systems that engine operation is constrained by the fixed controls established by the suppliers of these systems. It is also believed that a simple, effective system and method for varying fuel delivery during engine operating state transitions is needed. Thus, there is believed to be a need to overcome the disadvantages of known fuel delivery systems. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The present invention is directed to a system, method and apparatus for adjusting a quantity of fuel delivered to an engine when an engine operating state transitions. In accordance with one form of the present invention, there is provided such a method that includes determining from a data table a current steady-state quantity of fuel to be delivered to the engine under a steady-state condition and adding a transitory quantity of fuel to the current steady-state quantity of fuel. The transitory quantity of fuel is based on a difference between a previous steady-state quantity of fuel delivered and the current steady-state quantity of fuel to be delivered. The steady-state quantity of fuel is a quantity of fuel delivered or to be delivered to an engine when the engine is operating at any steady-state. The data table from which the steady-state quantity of fuel is determined may be a two-dimensional map utilizing engine load and engine speed to determine steady-state fuel quantity. The steady-state quantity determined may be the closest value on the map corresponding to an engine operating state that is retrieved and used as the required steady-state fuel mass required. Alternately, the steady-state value may be interpolated from multiple values on the map. For example, when interpolation is used the steady-state value may be interpolated from the two speed values closest to the current engine operating state and the two load values closest to the current engine operating state. A transition occurs when an engine shifts from one operating state to another. A transition may, therefore, correspond to any movement from any one position to any other position on a map. Compensation for transitions resulting in both positive and negative transitory fuel quantities may be implemented and different weights may be placed on positive and negative transitory fuel quantities. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The present invention is also directed to an engine transitional fuel control apparatus and method of operating that apparatus. The engine transitional fuel control apparatus includes a processor, a fuel supply device; and a fuel supply actuator. The processor has an output and a memory, whereby the memory contains a fuel delivery table and instructions. When executed by the processor, the instructions cause the processor to determine a steady-state amount of fuel to be delivered, add a transitory quantity of fuel to the steady-state amount of fuel to be delivered for a period of time following initiation of the transition, and apply a signal corresponding to that total amount of fuel to the output. The steady-state amount of fuel to be delivered is determined by reference to the fuel delivery table and the transitory quantity of fuel is based on a difference between a previously determined steady-state quantity of fuel and the current steady-state amount of fuel to be delivered. The fuel supply actuator is coupled to the output of the processor and operably coupled to the fuel supply device to control fuel flow therethrough. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The present invention provides a number of advantages including the ability for fuel delivery to be adjusted electronically without need for component removal or system disassembly. Another advantage is the ability of the present invention to electronically adjust fuel delivery, including specifically transitory fuel quantity, while the engine is running. Yet another advantage is that fuel supply to an engine can be controlled by way of a program that compensates for changes in engine operating state. Another advantage is that fuel supply to an engine can be controlled by way of a program that compensates for desired changes in engine operation. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Accordingly, the present invention provides solutions to the shortcomings of prior engine control systems and methods. Those of ordinary skill in the art will readily appreciate, therefore, that those and other details, features, and advantages of the present invention will become further apparent in the following detailed description of the preferred embodiments of the invention.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> The accompanying drawings, which are incorporated herein and constitute part of this specification, include one or more embodiments of the invention, and together with a general description given above and a detailed description given below, serve to disclose principles of the invention in accordance with a best mode contemplated for carrying out the invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic illustration of an embodiment of a system for calibrating engine operation; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a schematic illustration of an embodiment of a fuel delivery system; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a cross-sectional view of an embodiment of a cylinder in a four-stroke engine; and </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates an embodiment of a system by which a vehicle operator may trim engine operating characteristics.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Reference will now be made in detail to the preferred embodiments of the present invention, examples of which are illustrated in the accompanying drawings. It is to be understood that the Figures and descriptions of the present invention included herein illustrate and describe elements that are of particular relevance to the present invention, while eliminating, for purposes of clarity, other elements found in typical engines and engine control systems. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> As they are used in connection with the present invention, the expressions &ldquo;trim&rdquo; or &ldquo;trimming,&rdquo; &ldquo;group,&rdquo; &ldquo;trim definition,&rdquo; and &ldquo;map set&rdquo; have specific meanings. The expressions &ldquo;trim&rdquo; and &ldquo;trimming&rdquo; refer to changing the value of one or more map setpoints or transient operating parameters. The value of this change, which can be positive or negative, can be a function of the original value or a selected increment. The expression &ldquo;group&rdquo; refers to an aggregation or parcel of setpoints or transient operating parameters that are acted upon in unison by a trimming action. A group can be defined by a &ldquo;trim definition.&rdquo; For example, a trim definition can parcel out an engine control map so as to create a group of setpoints that lie within one or more selected ranges of one or more independent variables, e.g., sensed engine operating characteristics. The expression &ldquo;map set&rdquo; refers to a single engine control map and/or transient operating parameter or to an association of more than one related engine control map or transient operating parameter. For example, a map set can consist solely of a fuel delivery map. Alternatively, a map set might comprise an ignition timing map, a fuel delivery map, and increasing and decreasing fuel transient operating parameters. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> It is also noted that any reference in the specification to &ldquo;one embodiment&rdquo; or &ldquo;an embodiment&rdquo; means that a particular feature, structure or characteristic described in connection with the embodiment is included in at least one embodiment of the invention. The appearances of phrases such as &ldquo;in one embodiment&rdquo; in various places in the specification are not necessarily all referring to the same embodiment. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates an embodiment of an engine management system <highlight><bold>10</bold></highlight> that includes a library of engine management files in an external computer <highlight><bold>130</bold></highlight>. Those engine management files can be made available to an engine control system via a processor <highlight><bold>120</bold></highlight>, and can be used for calibrating engine performance. The engine management system <highlight><bold>10</bold></highlight> includes an engine control unit <highlight><bold>20</bold></highlight> that is coupled (e.g., via wires, fiber, wirelessly, or other coupling device) to one or more input or output devices (e.g., sensors or actuators). The engine control unit <highlight><bold>20</bold></highlight> can include a processor <highlight><bold>120</bold></highlight> that uses coded instructions to act on one or more electrical input signals and to supply one or more electrical output signals. According to one embodiment, wires electrically connect the engine control unit <highlight><bold>20</bold></highlight> with various other components, which will be described in detail below. The engine control unit <highlight><bold>20</bold></highlight> may have a housing <highlight><bold>20</bold></highlight><highlight><italic>a </italic></highlight>mounted to a vehicle chassis through which other components can be electrically grounded with respect to the vehicle chassis (not shown), e.g., a motorcycle frame, in a known manner. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> According to one embodiment, the engine control unit <highlight><bold>20</bold></highlight> can provide a single engine operating control value, i.e., for adjusting a single engine control, such as fuel quantity delivery. According to another embodiment, however, the engine control unit <highlight><bold>20</bold></highlight> can provide a plurality of engine operating control values, i.e., for controlling a plurality of engine controls, such as fuel quantity and ignition timing. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates an embodiment of a fuel delivery system <highlight><bold>40</bold></highlight> that may be utilized in connection with the present invention. The engine control unit <highlight><bold>20</bold></highlight> is electrically connected to the fuel delivery system <highlight><bold>40</bold></highlight> as illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The fuel delivery system <highlight><bold>40</bold></highlight> depicted includes a fuel tank <highlight><bold>302</bold></highlight>, a coarse filter <highlight><bold>304</bold></highlight>, a fuel pump <highlight><bold>306</bold></highlight>, a pressure regulator <highlight><bold>308</bold></highlight>, a fine filter <highlight><bold>310</bold></highlight>, a fuel injector <highlight><bold>312</bold></highlight>, and a fuel line <highlight><bold>314</bold></highlight>. The fuel tank <highlight><bold>302</bold></highlight> contains a fuel, such as gasoline or diesel, for delivery to and consumption by the engine <highlight><bold>100</bold></highlight>. The fuel line <highlight><bold>314</bold></highlight> may be, for example, a steel or stainless steel conduit in fluid communication with the fuel tank <highlight><bold>302</bold></highlight> and the fuel injector <highlight><bold>312</bold></highlight>. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The coarse filter <highlight><bold>304</bold></highlight> may be located along the fuel line <highlight><bold>314</bold></highlight> to remove large contaminants from the fuel as the fuel travels from the fuel tank <highlight><bold>302</bold></highlight> to the fuel pump <highlight><bold>306</bold></highlight>. The fuel pump <highlight><bold>306</bold></highlight> may also be located in the fuel line <highlight><bold>314</bold></highlight> between the fuel tank <highlight><bold>302</bold></highlight> and fuel injectors <highlight><bold>312</bold></highlight>. The fuel pump <highlight><bold>306</bold></highlight> may alternately be placed elsewhere, such as in the fuel tank <highlight><bold>302</bold></highlight>. The fuel pump <highlight><bold>306</bold></highlight> typically creates a pressure differential in the fuel line <highlight><bold>314</bold></highlight> between a pump inlet <highlight><bold>316</bold></highlight> and a pump outlet <highlight><bold>318</bold></highlight>, thus transporting fuel from the fuel tank <highlight><bold>302</bold></highlight> through the fuel line <highlight><bold>314</bold></highlight> and in-line components and, ultimately, through the fuel injector <highlight><bold>312</bold></highlight>. The fuel pump <highlight><bold>306</bold></highlight> can be electrically interconnected with the engine control unit <highlight><bold>20</bold></highlight>, and may be, for example, a positive displacement type pump or a dynamic type pump. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> The pressure regulator <highlight><bold>308</bold></highlight> measures differential pressure in the fuel line <highlight><bold>314</bold></highlight> and may be piped in fluid communication with the fuel tank <highlight><bold>302</bold></highlight> and the pump outlet <highlight><bold>318</bold></highlight>. The pressure regulator <highlight><bold>308</bold></highlight> may control operation of the fuel pump <highlight><bold>306</bold></highlight> to maintain the pressure differential at a desired level. The pressure regulator <highlight><bold>308</bold></highlight>, in one embodiment, relieves excess pressure by returning a portion of the high-pressure fuel stream to the fuel tank <highlight><bold>302</bold></highlight>. The pressure regulator <highlight><bold>308</bold></highlight> may alternately or in addition be interconnected with the engine control unit <highlight><bold>20</bold></highlight>, providing an input signal to the engine control unit <highlight><bold>20</bold></highlight>, such that the engine control unit <highlight><bold>20</bold></highlight> may control operation of the fuel pump <highlight><bold>306</bold></highlight> to maintain a desired fuel differential pressure. The fine filter <highlight><bold>310</bold></highlight> may be located in the fuel line <highlight><bold>314</bold></highlight> between the fuel pump <highlight><bold>306</bold></highlight> and the fuel injector <highlight><bold>312</bold></highlight> to remove small particles of contaminants remaining in the fuel which might otherwise become lodged in the fuel injector <highlight><bold>312</bold></highlight>. The fuel injector <highlight><bold>312</bold></highlight> atomizes the fuel and sprays the fuel toward one or more cylinders <highlight><bold>362</bold></highlight> as required. The fuel injector <highlight><bold>312</bold></highlight> can be oriented so as to spray a precisely metered amount of fuel toward, for example, an intake port in a two-stroke engine or an inlet tract <highlight><bold>352</bold></highlight> in a four-stroke engine. In the case of four-stroke engine designs having a plurality of intake valves, each of the fuel injectors <highlight><bold>312</bold></highlight> can be oriented so as to spray fuel into an inlet tract <highlight><bold>352</bold></highlight> for a single valve as illustrated in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> or a fuel injector <highlight><bold>312</bold></highlight> may provide fuel to multiple intake valves. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates an embodiment of a cylinder of a four-stroke engine <highlight><bold>350</bold></highlight> that may be utilized in connection with the present invention. It will be recognized that other cylinder configurations may be utilized with the present invention including, for example, two-stroke engines and configurations in which a fuel injector <highlight><bold>312</bold></highlight> supplies fuel to either one or multiple cylinders <highlight><bold>362</bold></highlight>. The embodiment of <cross-reference target="DRAWINGS">FIG. 3</cross-reference> includes a fuel injector <highlight><bold>312</bold></highlight>, an inlet tract <highlight><bold>352</bold></highlight>, an inlet valve <highlight><bold>354</bold></highlight>, a spark plug <highlight><bold>356</bold></highlight>, an exhaust valve <highlight><bold>358</bold></highlight>, an exhaust tract <highlight><bold>360</bold></highlight>, the cylinder <highlight><bold>362</bold></highlight>, and a piston <highlight><bold>364</bold></highlight> attached to a crankshaft (not shown) via a connecting-rod <highlight><bold>366</bold></highlight> and a bearing <highlight><bold>368</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> Pressurized fuel from the fuel line <highlight><bold>314</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is sprayed through a nozzle <highlight><bold>370</bold></highlight> of the fuel injector <highlight><bold>312</bold></highlight> when a valve, such as an electrically operated solenoid valve (not shown), is opened permitting fuel to flow through the fuel injector <highlight><bold>312</bold></highlight>. That valve may be an electrically operated solenoid valve that is actuated through an output of the engine control unit <highlight><bold>20</bold></highlight>. Control of such a solenoid valve is usually performed by pulse width modulation such that a longer opening duration will provide more fuel into the cylinder or cylinders <highlight><bold>362</bold></highlight> supplied by the fuel injector <highlight><bold>312</bold></highlight>. A butterfly valve may be positioned to permit airflow into the inlet tract <highlight><bold>352</bold></highlight> of one or more cylinders <highlight><bold>362</bold></highlight>. The butterfly valve may be pivotal about an axis between a first position preventing airflow into the inlet tract <highlight><bold>352</bold></highlight> and a second position permitting airflow into the inlet tract <highlight><bold>352</bold></highlight>. An actuator cam (not shown) may be connected to the butterfly valve for pivoting the butterfly valve against the bias of a return spring, e.g., a torsion spring, from the first position to the second position. The actuator cam can be connected, via a throttle cable (not shown), to an operator controlled throttle control element (not shown). Alternately, the actuator cam may be controlled by an output of the engine management system <highlight><bold>10</bold></highlight> and the throttle control element may serve only as an input to the engine management system <highlight><bold>10</bold></highlight>. A throttle position sensor <highlight><bold>44</bold></highlight>, as illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, may, for example, be connected to the butterfly valve for measuring the angular position of the butterfly valve as it is pivoted about the axis, and/or may be connected to a throttle control element for input to the engine management system <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> Fuel is typically permitted to flow through the inlet valve <highlight><bold>354</bold></highlight> to the cylinder or multiple cylinders <highlight><bold>362</bold></highlight>. The inlet valve <highlight><bold>354</bold></highlight> then closes and the fuel is ignited by the spark plug <highlight><bold>356</bold></highlight>, thereby driving the piston <highlight><bold>364</bold></highlight> away from the inlet valve <highlight><bold>354</bold></highlight> and outlet valve <highlight><bold>358</bold></highlight>. The exhaust valve <highlight><bold>358</bold></highlight> opens as the piston <highlight><bold>364</bold></highlight> moves back toward the inlet valve <highlight><bold>354</bold></highlight> and exhaust valve <highlight><bold>358</bold></highlight>, thereby forcing exhaust gases out of the cylinder <highlight><bold>362</bold></highlight>, through the exhaust valve <highlight><bold>358</bold></highlight> and away through the exhaust tract <highlight><bold>360</bold></highlight>. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> It should be noted that fuel delivered to the cylinder <highlight><bold>362</bold></highlight> often passes through an inlet tract <highlight><bold>352</bold></highlight> where the fuel may be mixed with an oxidant, such as air, drawn through the inlet tract <highlight><bold>352</bold></highlight>. Liquid fuel may thus build-up on a wall <highlight><bold>372</bold></highlight> of the inlet tract <highlight><bold>352</bold></highlight> or on the back of the inlet valve <highlight><bold>354</bold></highlight>. Fuel may be delivered both during the approximately one-quarter cycle of a cylinder <highlight><bold>362</bold></highlight> in a four-stroke engine <highlight><bold>350</bold></highlight> when the inlet valve <highlight><bold>354</bold></highlight> is in an open position and during much of the three-quarters of a cycle when the inlet valve <highlight><bold>354</bold></highlight> is in a closed position when the engine is under high load. Thus, substantial build-up may occur on the inlet tract walls <highlight><bold>372</bold></highlight> and on the intake valve <highlight><bold>352</bold></highlight>, and in the airstream present in the inlet tract <highlight><bold>352</bold></highlight>, particularly under such high load engine conditions. The present invention is directed, in part, to compensating for lean operation when fuel, intended to be delivered to the cylinder <highlight><bold>362</bold></highlight>, instead remains in the inlet tract <highlight><bold>352</bold></highlight>, or rich operation when fuel from the inlet tract <highlight><bold>352</bold></highlight> is provided to the engine <highlight><bold>100</bold></highlight> in addition to fuel provided by the fuel injector <highlight><bold>312</bold></highlight>. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> The engine control unit <highlight><bold>20</bold></highlight> may be electrically connected to a dash panel <highlight><bold>80</bold></highlight> that is described in U.S. patent application Ser. No. 09/784,336. As the engine management system <highlight><bold>10</bold></highlight> is shown in the figures, the engine control unit <highlight><bold>20</bold></highlight> supplies a signal controlling fuel quantity. It should be recognized, however, that additional control signals, for example controlling ignition timing, may also be provided by the engine control unit <highlight><bold>20</bold></highlight>. In general, a map set can include different numbers of maps (i.e., one, two, or more than two), different types of maps (e.g., fuel timing, power jet actuation, or power valve actuation), or different combinations of map types (e.g., ignition timing, fuel timing, and power valve actuation). </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Table 1 shows an example of a map that includes an arbitrarily selected number of steady-state fuel quantity setpoints. Fuel quantity setpoints typically vary from one engine to any other engine, thus optimum fuel quantity setpoints are calibrated uniquely for each engine <highlight><bold>100</bold></highlight>. Fuel quantity setpoints also generally vary for any particular engine <highlight><bold>100</bold></highlight> depending on the operating characteristic to be optimized, i.e., maximum power, minimum fuel consumption, emission regulations, etc. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> An engine state may be defined by measuring the value of one or more operating characteristics of an engine. It is common practice in engine management that engine speed and load are used to define a two-dimensional plane of engine operating states. It is also common for a controlled value such as engine fueling to be measured for a finite number of operating states. Thus, a map may include fuel values corresponding to known engine states. In a two-dimensional map having a measurable characteristic corresponding to engine load as a first axis and a measurable characteristic corresponding to engine speed as a second axis, a particular engine state may be defined as the intersection of the current engine load and current engine speed on the plane of the map. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Thus, the operating state of an engine <highlight><bold>100</bold></highlight> may be determined in many ways including measuring the speed of rotation of the engine <highlight><bold>100</bold></highlight> and the load on the engine <highlight><bold>100</bold></highlight>. Engine speed is usually expressed in units of revolutions-per-minute or rpms. Engine load may be sensed by a variety of sensors including, for example, a throttle position sensor <highlight><bold>44</bold></highlight>, a manifold vacuum sensor (not shown), or a mass airflow sensor (not shown) positioned to sense air flowing into one or more cylinders <highlight><bold>362</bold></highlight>. The present invention also contemplates utilizing air mass per cycle delivered, or to be delivered, to an engine <highlight><bold>100</bold></highlight> or cylinder <highlight><bold>362</bold></highlight> to sense engine load. Each setpoint in Table 1 corresponds to the values of two engine operating characteristics, i.e., an engine speed value and an engine load value. Thus, for a given value of engine speed (e.g., as sensed by or derived from an output signal from a crankshaft angular motion sensor <highlight><bold>102</bold></highlight> coupled to an engine <highlight><bold>100</bold></highlight>) and for a given value of engine load (e.g., as measured by the throttle position sensor <highlight><bold>44</bold></highlight>), fuel quantity setpoints are assigned in a map and may be read therefrom. For example, the map illustrated in Table 1 causes the engine control unit <highlight><bold>20</bold></highlight> to deliver twenty-five grams of fuel per cycle at 2000 revolutions per minute (rpm), when the throttle is opened 50%. At 5000 rpm, when the throttle is fully open, the engine control unit <highlight><bold>20</bold></highlight> will vary fuel delivery to provide fifty grams of fuel per cycle. Thus, when either the engine load (e.g., throttle position) or engine speed changes, the fuel delivery system <highlight><bold>40</bold></highlight> will determine an initial, steady-state amount of fuel that is to be delivered at the new speed and load by reference to the map.  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="77PT" align="center"/>
<colspec colname="2" colwidth="140PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="2" align="center">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="2" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Fuel Delivery</entry>
<entry></entry>
</row>
<row>
<entry>(milligrams</entry>
<entry>Engine speed (revolutions per minute)</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="77PT" align="center"/>
<colspec colname="2" colwidth="35PT" align="center"/>
<colspec colname="3" colwidth="35PT" align="center"/>
<colspec colname="4" colwidth="35PT" align="center"/>
<colspec colname="5" colwidth="35PT" align="center"/>
<tbody valign="top">
<row>
<entry>per cycle</entry>
<entry>1000</entry>
<entry>2000</entry>
<entry>5000</entry>
<entry>7000</entry>
</row>
<row><entry namest="1" nameend="5" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="6">
<colspec colname="1" colwidth="49PT" align="center"/>
<colspec colname="2" colwidth="28PT" align="center"/>
<colspec colname="3" colwidth="35PT" align="center"/>
<colspec colname="4" colwidth="35PT" align="center"/>
<colspec colname="5" colwidth="35PT" align="center"/>
<colspec colname="6" colwidth="35PT" align="center"/>
<tbody valign="top">
<row>
<entry>Load</entry>
<entry>&ensp;5</entry>
<entry>&ensp;7</entry>
<entry>&ensp;5</entry>
<entry>&ensp;4</entry>
<entry>&ensp;3</entry>
</row>
<row>
<entry>(Percentage</entry>
<entry>25</entry>
<entry>10</entry>
<entry>21</entry>
<entry>15</entry>
<entry>10</entry>
</row>
<row>
<entry>Throttle</entry>
<entry>50</entry>
<entry>15</entry>
<entry>25</entry>
<entry>37</entry>
<entry>30</entry>
</row>
<row>
<entry>Opening)</entry>
<entry>75</entry>
<entry>15</entry>
<entry>25</entry>
<entry>44</entry>
<entry>40</entry>
</row>
<row>
<entry></entry>
<entry>100&ensp;</entry>
<entry>15</entry>
<entry>25</entry>
<entry>50</entry>
<entry>45</entry>
</row>
<row><entry namest="1" nameend="6" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> In general, a map will include a great number of setpoints that can be assigned for small increments of measured value for each engine operating characteristic utilized in the map. If the operating state of the engine falls in a gap between specified values of the characteristics (e.g., in Table 1, there are gaps of 2000 rpm or more between the specified values for engine speed and 20% or more gaps in engine load), the engine control unit <highlight><bold>20</bold></highlight> can interpolate the operating control values between the two closest speed columns and two closest load rows or the equivalent thereto. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> As illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, engine management data including one or more map sets can be downloaded to the engine control unit <highlight><bold>20</bold></highlight> from a processor <highlight><bold>120</bold></highlight>, either via a data port <highlight><bold>110</bold></highlight> or by &ldquo;docking&rdquo; the processor <highlight><bold>120</bold></highlight>, which may be a palm-size computer, with the fixed portion <highlight><bold>80</bold></highlight><highlight><italic>a </italic></highlight>of the dash panel <highlight><bold>80</bold></highlight>. Multiple maps may be downloaded to the engine control unit <highlight><bold>20</bold></highlight> to control different operating parameters and/or to optimize a single operating parameter for different situations or conditions. For example, a map that optimizes normal racing conditions, a map that optimizes engine operation during acceleration from a low speed, and a map that optimizes engine operation at high speed may each be loaded into the engine control unit <highlight><bold>20</bold></highlight>. The operator may then select any one of the three loaded maps while operating the vehicle by, for example, moving a three-position map selection switch <highlight><bold>82</bold></highlight> coupled to the engine control unit <highlight><bold>20</bold></highlight>. The operator may furthermore trim certain characteristics of each map through another interface, such as a knob or trim-up and trim-down buttons, for interfacing to the engine control unit <highlight><bold>20</bold></highlight>. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> Engines <highlight><bold>100</bold></highlight> have two types of modes of operation, steady-state modes and unsteady-state modes, commonly called transitory or transient modes. An engine <highlight><bold>100</bold></highlight> operates in a steady-state mode when the engine load and speed are constant with respect to time and in a transitory mode when either the engine load or speed varies with time. In other words, an engine <highlight><bold>100</bold></highlight> is operating in a transitory mode anytime engine operation shifts from one state to another. A transition may, therefore, correspond to a shift from any one position on a map to any other position on a map. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Maps are typically optimized for steady-state engine operation. Engines <highlight><bold>100</bold></highlight>, however, are most often operated at varying speeds and loads. For example, the engine of a racing motorcycle may be continually changing its operating state because of changing track conditions, such as hills and turns, encountered on a typical racing track. Moreover, values such as the mass of fuel supplied to an engine, optimized for steady-state operation, are typically not optimum values for transitory operation. Thus, there is a need for a method and system that will optimize performance during transitions in engine operating states. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> The present invention may also include an interface to the engine control unit <highlight><bold>20</bold></highlight> through which an operator may vary the operation of transitory fueling. For example, a three-position transitory mode selection switch <highlight><bold>84</bold></highlight> may be coupled to the engine control unit <highlight><bold>20</bold></highlight>. That switch may have, for example, an upper position, a center position, and a lower position. The upper position may be optimized for fastest engine response. The center position may be optimized for normal operation, which may, for example, be more comfortable for an operator or provide more stable operation of the vehicle. The lower position may be optimized for operation under slippery conditions. Of course, optimization for any condition and any number of transitory modes may be possible depending on the needs of an operator and/or vehicle. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Transitory modes may, furthermore, be tied to an individual map. Thus, different transitory control modes may operate for each map contained within the engine control unit <highlight><bold>20</bold></highlight>. The engine control unit <highlight><bold>20</bold></highlight> may contain three fueling maps having three modes of transitory compensation that are unique to each map and the transitory mode selection switch <highlight><bold>84</bold></highlight> may be utilized to select one of three transitory modes related to the map selected by the map selection switch <highlight><bold>82</bold></highlight>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The coupling between the processor <highlight><bold>120</bold></highlight> and either the data port <highlight><bold>110</bold></highlight> or the fixed portion <highlight><bold>80</bold></highlight><highlight><italic>a </italic></highlight>can be via wires or wireless. In addition to the operation of the engine control unit <highlight><bold>20</bold></highlight> described above, the engine control unit <highlight><bold>20</bold></highlight> can operate smart lights and perform other functions as desired. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In addition to processing downloaded data, the engine control unit <highlight><bold>20</bold></highlight> can also be connected to any necessary on-board sensor. For example, an air-temperature sensor (not shown) and/or barometric pressure sensor (not shown) can provide sensor signals that can in turn be used to calculate the density of the air being inducted into the engine <highlight><bold>100</bold></highlight>. Because the displacement of an engine is typically constant and mass of combustion air is equal to the displacement times the density of the combustion air, the mass of combustion air may be calculated.. Thus, inlet temperature and pressure can be used to affect global changes to all control signals based on the values in each map set that has been downloaded to the engine control unit <highlight><bold>20</bold></highlight>. Thus, a map may include fuel mass requirements under standard atmospheric conditions and the engine control unit <highlight><bold>20</bold></highlight> may compensate for various atmospheric pressures and/or temperatures, which effect air density and air mass per engine cycle. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> In connection with this invention, the expression &ldquo;global&rdquo; refers to making an adjustment with respect to every setpoint in a control map, whereas &ldquo;local&rdquo; refers to a setpoint or a group of setpoints in a control map. The sensor signals from the engine speed sensor <highlight><bold>102</bold></highlight> and throttle position sensor <highlight><bold>44</bold></highlight>, in addition to being monitored by the engine control unit <highlight><bold>20</bold></highlight> for accessing setpoints, can be used to determine which setpoints are to be the basis for trimming. Using the engine management system <highlight><bold>10</bold></highlight> in connection with the fuel delivery system <highlight><bold>40</bold></highlight> including fuel injectors <highlight><bold>312</bold></highlight> can furthermore be considered to be analogous to carburetor jetting, i.e., below a certain throttle opening, local trimming according to the present invention corresponds to changing the slow jet, local trimming at higher throttle openings corresponds to changing the needle jet, and local trimming at still higher throttle openings corresponds to changing the main jet. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Additionally, a sensor (not shown) for electrical system voltage can measure variations that directly affect the reaction time and accuracy of the electromechanical movements within the fuel injectors <highlight><bold>312</bold></highlight>. Sensors (not shown) for gear position and side stand deployment can be used to alert a user, such as a motorcycle rider, to potentially harmful or dangerous conditions and a sensor (not shown) for detecting the initiation of a gear change can signal the engine control unit <highlight><bold>20</bold></highlight> to momentarily cut-off the ignition system or fuel delivery, thereby facilitating smoother shifts. Of course, the engine control unit <highlight><bold>20</bold></highlight> can be connected to many other sensors, e.g., sensors (not shown) for engine coolant temperature or oil pressure that can provide a warning to the engine operator or control of the engine <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> It is believed that fuel flowing into the cylinders <highlight><bold>362</bold></highlight> of fuel injected engines comes not only from the fuel injectors <highlight><bold>312</bold></highlight> but also from collateral sources including one or more walls <highlight><bold>372</bold></highlight> of any inlet tract <highlight><bold>352</bold></highlight> extending from the fuel injector <highlight><bold>312</bold></highlight> to the cylinder <highlight><bold>362</bold></highlight>, surfaces of the inlet valve <highlight><bold>354</bold></highlight> and the airstream in the inlet tract <highlight><bold>352</bold></highlight>. It is furthermore believed that when fuel delivery is not at a steady-state, for example, during acceleration or deceleration, or increasing or decreasing load, the quantity of fuel delivered by those collateral sources varies. For example, when the throttle is opened quickly, fuel delivered from the inlet tract <highlight><bold>352</bold></highlight> may be reduced because of greater pressure in the inlet tract <highlight><bold>352</bold></highlight> causing the engine <highlight><bold>100</bold></highlight> to run lean during that period of acceleration. Similarly, when the throttle is closed quickly, the delivery of fuel from the walls <highlight><bold>372</bold></highlight> of the inlet tract <highlight><bold>352</bold></highlight> may increase causing the engine <highlight><bold>100</bold></highlight> to run rich. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The present invention calculates necessary fuel delivery under transitory throttle conditions and compensates for changes in fuel delivered from collateral sources by varying fuel flow from the injectors during transitory engine operation. In one embodiment, the present invention senses engine speed and throttle position and reads or interpolates an associated quantity of fuel from a look-up table or map that is to be delivered to each cylinder <highlight><bold>362</bold></highlight> every engine cycle. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> Quantity of fuel is expressed in the examples that follow, as a fuel mass per cycle to be delivered. It should be noted that fuel mass delivered per cycle may decrease as engine speed increases, however, the rate of fuel delivery per time unit such as per second will increase because of increased frequency of injection. The values retained within the map may, however, be expressed in terms other than fuel quantity or mass. For example, the value saved in the map may be an amount of time that an injector should be held open to deliver a desired quantity of fuel in, for example, a pulse width modulated system. The value may also correspond to fuel pressure, AFR, or a degree of injector opening, for example. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> When an engine is operating at a steady-state, the fueling requirements are the same for each consecutive engine cycle. Engines may furthermore be operated at various steady-states in a laboratory and optimum fuel delivery may be determined by stepping the engine along its operating range. Thus, the fuel mass to be delivered for any steady-state operation may be easily determined and included in a map. Engines, however, typically transition from one operating state to another during use and the mapped steady-state fuel quantity is typically not optimized for such transitional operation. Moreover, an engine may transition in a nearly infinite number of ways. During a transition, engine speed and load may change separately or together in a wide variety of combinations. Thus, mapping transitional calibration values would be very time consuming and difficult. In contrast, the present invention provides a general purpose method to accomplish transient fueling calibration that recognizes changes in the state of operation of an engine and compensates for transitions by changing fuel delivery based on the sensitivity of the engine to changing states and the amount of change reflected in a steady-state fuel calibration map or table for the engine. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Thus, the present method may begin by retrieving the steady-state fuel value from a map for the current operating state. The steady-state value may then be compared to a previous steady-state value to determine an amount of change in the steady-state fueling requirements. If a change in steady-state requirement occurs, the method will adjust the fuel quantity to compensate for the transition. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> The fuel delivery system <highlight><bold>40</bold></highlight> of the present invention will calculate a transient fuel differential, which is an amount of fuel that should be added to or subtracted from the current steady-state amount of fuel determined from the map. That determination may be accomplished by, for example, reading from the map or interpolating from values on the map. That transient fuel differential alters the amount of fuel that would be delivered by the map only, compensating for collateral fuel loss or gain due to the transition taking place and other transitory needs of the engine. That transient fuel differential may be expressed as a positive value where fuel is to be added and a negative value when fuel is to be subtracted from the steady-state fuel quantity determined from the map. A minimum amount of fueling change may, furthermore, be required to surpass a noise threshold before adding the transient fuel differential to the steady-state fuel requirement. Such a threshold beneficially minimizes the effect of such things as a noisy speed signal or variations in throttle position caused by unintentional variations in pressure applied to the throttle by an operator. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> In adjusting fuel quantity to compensate for an engine transition, the present method may consider a variety of factors including the sensitivity of the engine to fueling changes, the amount of the fuel change, duration or the number of engine cycles during which compensation should persist, and a decay rate for the compensation. Engine sensitivity may be a factor related to how much compensation a particular engine requires during transitions and may be expressed as a multiplier such as the factor &ldquo;ETSF&rdquo; in the equation hereinbelow. The amount of change in the operating state of an engine may be expressed in terms of a change in a steady-state fueling value for an engine, engine load, engine speed or one or more other sensed or calculated values that indicate the state of the engine. The equation included hereinbelow utilizes steady-state change in fuel mass per cycle, which is equal to the steady-state mass required for the next cycle less the steady-state mass that was required for the previous cycle, or &ldquo;SSCM/C.&rdquo; The duration during which a transient fueling amount compensating for an engine state transition should be added may be expressed in terms of, for example, time or number of engine cycles. The duration may be as little as a single cycle such that utilizing a stack as described below is not necessary. Compensation over a duration may also be considered by use of Proportional and Integral &ldquo;PI&rdquo; or Proportional, Integral, and Derivative &ldquo;PID&rdquo; control strategies. It should be noted that in certain applications, including racing engines, transitions occur nearly every engine cycle, which may affect duration decisions. Decay is a rate of reduction of the amount of influence a single state change has as time passes. Decay may be a multiplier applied to the transitory mass of fuel each cycle or each unit of time to reduce the effect of past transitions. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> In a certain embodiment, the transient fuel differential is equal to the sum of a stack of values stored in a data storage facility such as RAM. The values that are stored in the stack may be calculated by multiplying an engine transition sensitivity factor, which may be determined separately through experimentation for each engine to be controlled, by an engine requirement differential. The engine requirement differential may be equal to the difference between the steady-state fuel requirement to be delivered next and the steady-state fuel requirement that was to be delivered previously. For example, the engine requirement differential may be equal to a fuel mass determined from the map for the current throttle position and engine speed less the fuel mass delivered in the last cycle. That value may then be entered into a first position in the stack. Notably, the engine requirement differential may be calculated for each cycle of each cylinder <highlight><bold>362</bold></highlight>. Thus, the value entered into the first position of the stack may be calculated as follows:</paragraph>
<paragraph lvl="0"><in-line-formula>TM/C&equals;ETSF*SSCM/C</in-line-formula></paragraph>
<paragraph id="P-0055" lvl="2"><number>&lsqb;0055&rsqb;</number> Where: </paragraph>
<paragraph id="P-0056" lvl="2"><number>&lsqb;0056&rsqb;</number> TM/C is the transient mass of fuel per cycle or transitory fuel differential; </paragraph>
<paragraph id="P-0057" lvl="2"><number>&lsqb;0057&rsqb;</number> ETSF is the engine transition sensitivity factor; and </paragraph>
<paragraph id="P-0058" lvl="2"><number>&lsqb;0058&rsqb;</number> SSCM/C is the steady-state change in fuel mass per cycle, which is equal to the steady-state mass required for the next cycle less the steady-state mass that was required for the previous cycle. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> It will be recognized that, when the next steady-state mass of fuel requirement is less than the previous steady-state mass of fuel requirement, the transient mass of fuel per cycle will be a negative amount. Conversely, when the current steady-state mass of fuel requirement is greater than the previous steady-state mass of fuel requirement, the transient mass of fuel per cycle will be a positive amount. In that way, compensation for both increases and decreases in fuel delivered from collateral sources is provided by the calculated transient mass of fuel per cycle. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Furthermore, the engine transition sensitivity factor may alternately be a non-linear function rather than a linear factor. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The stack may be any size and may be variable in size depending, for example, on engine operating state. In the following example, the stack contains storage locations for five fuel mass values. The first value in the stack is the calculated transitory fuel amount for a current fuel quantity transition. The remainder of the stack is utilized to factor a decay rate for the transitory fuel differential over four additional cycles. Thus, for a first cycle, a first transitory fuel differential is calculated and placed in the first storage area in the stack. Prior to the second cycle, that transitory fuel amount is removed from the first storage area, multiplied by a decay rate, and placed in the second stack storage area. For the third cycle, the value in the second storage area is removed, multiplied by the decay rate, and placed in the third stack storage area. Similarly, the value is removed from the third storage area, decayed, and placed in the fourth storage area and then removed, decayed, and placed in the fifth storage area prior to the fourth and fifth cycles, respectively. That transitory fuel amount is then removed from the fifth storage area and has no further effect on fuel mass delivery after the fifth cycle. Therefore, when a single fuel quantity transition occurs at least five cycles after the last transition, and no fuel quantity transitions occur for five cycles after that transition, only one non-zero amount will reside in the stack. Thus, the sum of the stack storage areas will be equal to the decaying fuel mass calculated from the single transition. The values in the stack are then totaled and added to the steady-state fuel mass associated with the current engine state to arrive at a mass of fuel to be delivered to, for example, the engine <highlight><bold>100</bold></highlight> or a particular cylinder <highlight><bold>362</bold></highlight> for the current cycle. Where one or more additional transitions occur within five cycles, multiple values will concurrently reside in the stack. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> The decay may also be a non-linear function rather than a linear rate of decay.  
<table-cwu id="TABLE-US-00002">
<number>2</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="7">
<colspec colname="1" colwidth="35PT" align="center"/>
<colspec colname="2" colwidth="14PT" align="center"/>
<colspec colname="3" colwidth="42PT" align="center"/>
<colspec colname="4" colwidth="14PT" align="center"/>
<colspec colname="5" colwidth="49PT" align="center"/>
<colspec colname="6" colwidth="21PT" align="center"/>
<colspec colname="7" colwidth="42PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="7" align="center">TABLE 2</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>2a</entry>
<entry>2b</entry>
<entry>2c</entry>
<entry>2d</entry>
<entry>2e</entry>
<entry>2f</entry>
<entry>2g</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>
<chemistry-cwu id="CHEM-US-00001">
<number>1</number>
<image id="EMI-C00001" he="43.91415" wi="9.61065" file="US20030000500A1-20030102-C00001.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00001" file="US20030000500A1-20030102-C00001.CDX"/>
<chemistry-mol-file id="CHEMMOL-00001" file="US20030000500A1-20030102-C00001.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00002">
<number>2</number>
<image id="EMI-C00002" he="43.91415" wi="9.61065" file="US20030000500A1-20030102-C00002.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00002" file="US20030000500A1-20030102-C00002.CDX"/>
<chemistry-mol-file id="CHEMMOL-00002" file="US20030000500A1-20030102-C00002.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00003">
<number>3</number>
<image id="EMI-C00003" he="42.72345" wi="11.2833" file="US20030000500A1-20030102-C00003.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00003" file="US20030000500A1-20030102-C00003.CDX"/>
<chemistry-mol-file id="CHEMMOL-00003" file="US20030000500A1-20030102-C00003.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00004">
<number>4</number>
<image id="EMI-C00004" he="43.91415" wi="9.61065" file="US20030000500A1-20030102-C00004.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00004" file="US20030000500A1-20030102-C00004.CDX"/>
<chemistry-mol-file id="CHEMMOL-00004" file="US20030000500A1-20030102-C00004.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00005">
<number>5</number>
<image id="EMI-C00005" he="42.2415" wi="14.175" file="US20030000500A1-20030102-C00005.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00005" file="US20030000500A1-20030102-C00005.CDX"/>
<chemistry-mol-file id="CHEMMOL-00005" file="US20030000500A1-20030102-C00005.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00006">
<number>6</number>
<image id="EMI-C00006" he="42.2415" wi="14.175" file="US20030000500A1-20030102-C00006.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00006" file="US20030000500A1-20030102-C00006.CDX"/>
<chemistry-mol-file id="CHEMMOL-00006" file="US20030000500A1-20030102-C00006.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00007">
<number>7</number>
<image id="EMI-C00007" he="42.2415" wi="14.175" file="US20030000500A1-20030102-C00007.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00007" file="US20030000500A1-20030102-C00007.CDX"/>
<chemistry-mol-file id="CHEMMOL-00007" file="US20030000500A1-20030102-C00007.MOL"/>
</chemistry-cwu>
</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>8</entry>
<entry>4</entry>
<entry>&minus;2</entry>
<entry>&minus;1</entry>
<entry>&minus;0.5</entry>
<entry>&minus;0.5</entry>
<entry>&minus;0.25</entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> Table 2 illustrates transitions occurring over seven cycles (a-g) of a cylinder <highlight><bold>362</bold></highlight>. In that example, the decay rate will reduce the transitory fuel differential to one half of its previous value. The engine transition sensitivity factor in this example is 0.5. In a first cycle, illustrated in column 2a of Table 2, a transition occurs for which the steady-state change in fuel mass is 16 mg of fuel. Thus, the transitory fuel differential is equal to 0.5 times 16 mg, or 8 mg of fuel. Thus 8 is placed in the first stack position. As illustrated in column <highlight><bold>2</bold></highlight><highlight><italic>b, </italic></highlight>if no transition occurs in a second cycle, a zero is placed in the first stack position to correspond to a transitory fuel differential of zero and a four is placed in the second stack position to correspond to the <highlight><bold>8</bold></highlight> decayed by one-half. As illustrated in column 2c, if another transition occurs in a third cycle having a steady-state change in fuel mass of &minus;8 mg, then the transitory fuel differetial is equal to 0.5 times &minus;8 mg, or &minus;4 mg of fuel. Thus, a &minus;4 is placed in the first stack position, a 0 is placed in the second stack position, and a 2 is placed in the third stack position to correspond to the 8 that entered the stack in the first cycle decayed twice. As illustrated in column 2d, if no transition occurs in a fourth cycle, a zero is placed in the first stack position to correspond to a transitory fuel differential of zero, a &minus;2 is placed in the second stack position to correspond to the &minus;4 that entered the stack on the third cycle decayed by one-half, a 0 is placed in the third stack position, and a 1 is placed in the fourth stack position to correspond to the 8 that entered the stack in the first cycle decayed three times. As illustrated in column 2e, if no transition occurs in a fifth cycle, a zero is placed in the first stack position to correspond to a transitory fuel differential of zero, a zero is placed in the second position corresponding to the zero in the first position of the last cycle decayed, a &minus;1 is placed in the third stack position to correspond to the &minus;4 that entered the stack on the third cycle decayed twice, a 0 is placed in the fourth stack position, and a 0.5 is placed in the fifth stack position to correspond to the 8 that entered the stack in the first cycle decayed four times. After the fifth cycle, the decayed 8 mg transitory fuel differential will be removed from the stack and have no further effect on fuel mass to be delivered to the cylinder <highlight><bold>362</bold></highlight>. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> As illustrated in column 2f, if no transition occurs during the sixth cycle, zeros are placed in the first through third stack positions, &minus;0.5 is placed in the fourth position to correspond to the &minus;4 that entered the stack on the third cycle decayed three times, and a 0 is placed in the fifth stack position. As illustrated in column 2g, if no transition occurs again during the seventh cycle, zeros are placed in the first through fourth stack positions and &minus;0.25 is placed in the fifth position to correspond to the &minus;4 that entered the stack on the third cycle decayed four times. Thereafter, the transitory fuel differential from the third cycle will have no further affect on the amount of fuel delivered. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Assuming that no transitions occurred in the 4 cycles prior to the first cycle described above, the total of the stack would be 8&plus;0&plus;0&plus;0&plus;0, or 8 mg for the first cycle and, thus, in addition to the steady-state fuel mass read from the map, an additional 8 mg of fuel would be supplied due to the transitory fuel differential. In the second cycle, 0&plus;4&plus;0&plus;0&plus;0, or 4 mg of fuel would be provided in addition to the steady-state fuel mass. In the third cycle, &minus;4&plus;0&plus;2&plus;0&plus;0, or &minus;2 mg of fuel would be added to compensate for transitory fuel needs. In the fourth cycle, 0&plus;&minus;2&plus;0&plus;1&plus;0, or &minus;1 mg of fuel would be provided in addition to the steady-state fuel mass. In the fifth cycle, 0&plus;0&plus;&minus;1&plus;0&plus;0.5, or &minus;0.5 mg of fuel would be added to compensate for transitory fuel needs. In the sixth cycle, 0&plus;0&plus;0&plus;&minus;0.5&plus;0, or &minus;0.5 mg of fuel would be added and in the seventh cycle, 0&plus;0&plus;0&plus;0&plus;&minus;0.25, or &minus;0.25 mg of fuel would be added to compensate for transitory fuel needs.  
<table-cwu id="TABLE-US-00003">
<number>3</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="7">
<colspec colname="1" colwidth="42PT" align="center"/>
<colspec colname="2" colwidth="14PT" align="center"/>
<colspec colname="3" colwidth="42PT" align="center"/>
<colspec colname="4" colwidth="14PT" align="center"/>
<colspec colname="5" colwidth="49PT" align="center"/>
<colspec colname="6" colwidth="14PT" align="center"/>
<colspec colname="7" colwidth="42PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="7" align="center">TABLE 3</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>3a</entry>
<entry>3b</entry>
<entry>3c</entry>
<entry>3d</entry>
<entry>3e</entry>
<entry>3f</entry>
<entry>3g</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>
<chemistry-cwu id="CHEM-US-00008">
<number>8</number>
<image id="EMI-C00008" he="43.91415" wi="9.61065" file="US20030000500A1-20030102-C00008.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00008" file="US20030000500A1-20030102-C00008.CDX"/>
<chemistry-mol-file id="CHEMMOL-00008" file="US20030000500A1-20030102-C00008.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00009">
<number>9</number>
<image id="EMI-C00009" he="43.91415" wi="9.61065" file="US20030000500A1-20030102-C00009.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00009" file="US20030000500A1-20030102-C00009.CDX"/>
<chemistry-mol-file id="CHEMMOL-00009" file="US20030000500A1-20030102-C00009.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00010">
<number>10</number>
<image id="EMI-C00010" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00010.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00010" file="US20030000500A1-20030102-C00010.CDX"/>
<chemistry-mol-file id="CHEMMOL-00010" file="US20030000500A1-20030102-C00010.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00011">
<number>11</number>
<image id="EMI-C00011" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00011.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00011" file="US20030000500A1-20030102-C00011.CDX"/>
<chemistry-mol-file id="CHEMMOL-00011" file="US20030000500A1-20030102-C00011.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00012">
<number>12</number>
<image id="EMI-C00012" he="43.2054" wi="15.11055" file="US20030000500A1-20030102-C00012.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00012" file="US20030000500A1-20030102-C00012.CDX"/>
<chemistry-mol-file id="CHEMMOL-00012" file="US20030000500A1-20030102-C00012.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00013">
<number>13</number>
<image id="EMI-C00013" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00013.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00013" file="US20030000500A1-20030102-C00013.CDX"/>
<chemistry-mol-file id="CHEMMOL-00013" file="US20030000500A1-20030102-C00013.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00014">
<number>14</number>
<image id="EMI-C00014" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00014.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00014" file="US20030000500A1-20030102-C00014.CDX"/>
<chemistry-mol-file id="CHEMMOL-00014" file="US20030000500A1-20030102-C00014.MOL"/>
</chemistry-cwu>
</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>8</entry>
<entry>4</entry>
<entry>2</entry>
<entry>1</entry>
<entry>0.5</entry>
<entry>&minus;0</entry>
<entry>&minus;0</entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> In another embodiment, positive transitory fuel differentials are utilized but negative transitory fuel differentials have no affect on the mass of fuel delivered. Applying that embodiment to the seven cycles described hereinbefore, the transient fuel differential is the same for the first two cycles. Thus, as illustrated in columns 3a and 3b of Table 3, respectively, in the first cycle the transient fuel differential is 8&plus;0&plus;0&plus;0&plus;0, or 8 mg and 0&plus;4&plus;0&plus;0&plus;0, or 4 mg of fuel in the second cycle. As illustrated in column 3c, in the third cycle, the fuel quantity transition to a reduced engine operation state is not utilized to modify the mass of fuel to be supplied and, thus, 0&plus;0&plus;2&plus;0&plus;0, or 2 mg of fuel would be added to compensate for transitory fuel needs. As illustrated in column 3d, in the fourth cycle, 0&plus;0&plus;0&plus;1&plus;0, or 1 mg of fuel would be provided in addition to the steady-state fuel mass. As illustrated in column 3e, in the fifth cycle, 0&plus;0&plus;0&plus;0&plus;0.5, or 0.5 mg of fuel would be added to compensate for transitory fuel needs, and, as illustrated in columns 3f and 3g, respectively, in the sixth and seventh cycles, 0 mg of fuel would be added to compensate for transitory fuel needs. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In another embodiment of the present invention, the engine transition sensitivity factor and the decay rate are separate parameters that may be set differently for transitions requiring additional fuel than are the engine transition sensitivity factor and the decay rate for transitions requiring a reduction in fuel. Moreover, when a negative transition requiring a reduction in fuel follows one or more positive transitions requiring an addition in fuel, all values remaining in the stack from positive transitions are zeroed. Similarly, when a positive transition requiring an addition in fuel follows one or more negative transitions requiring a reduction in fuel, all values remaining in the stack from negative transitions are zeroed. Thus, for example, in a deceleration, positive transients are eliminated so that the engine can decelerate as desired without earlier positive transients to reduce the degree of desired deceleration. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Furthermore, a range, such as a hysteresis band, may be set around a zero transitory fuel requirement. That hysteresis band might be utilized to eliminate the effect of a small transition in fuel requirement from a previous cycle which might be due, for example, to noisy signals or small variations in engine operation state or operator input that are not intended to zero transitory fuel. Transitions occurring in that range would not zero values remaining in the stack from previous cycles so that transitory fueling will remain in effect when small transitions occur in the opposite direction. Transitions occurring within the hysteresis band may, furthermore, trigger placement of a zero in the stack for the cycle during which that transition occurs. Alternately, only a transition falling within the hysteresis band that is in the same direction as the most recent transition will trigger a non-zero value to be included in the stack for the applicable cycle.  
<table-cwu id="TABLE-US-00004">
<number>4</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="7">
<colspec colname="1" colwidth="35PT" align="center"/>
<colspec colname="2" colwidth="14PT" align="center"/>
<colspec colname="3" colwidth="35PT" align="center"/>
<colspec colname="4" colwidth="21PT" align="center"/>
<colspec colname="5" colwidth="49PT" align="center"/>
<colspec colname="6" colwidth="21PT" align="center"/>
<colspec colname="7" colwidth="42PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="7" align="center">TABLE 4</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>4a</entry>
<entry>4b</entry>
<entry>4c</entry>
<entry>4d</entry>
<entry>4e</entry>
<entry>4f</entry>
<entry>4g</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>
<chemistry-cwu id="CHEM-US-00015">
<number>15</number>
<image id="EMI-C00015" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00015.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00015" file="US20030000500A1-20030102-C00015.CDX"/>
<chemistry-mol-file id="CHEMMOL-00015" file="US20030000500A1-20030102-C00015.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00016">
<number>16</number>
<image id="EMI-C00016" he="42.9786" wi="10.0926" file="US20030000500A1-20030102-C00016.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00016" file="US20030000500A1-20030102-C00016.CDX"/>
<chemistry-mol-file id="CHEMMOL-00016" file="US20030000500A1-20030102-C00016.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00017">
<number>17</number>
<image id="EMI-C00017" he="43.68735" wi="12.2472" file="US20030000500A1-20030102-C00017.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00017" file="US20030000500A1-20030102-C00017.CDX"/>
<chemistry-mol-file id="CHEMMOL-00017" file="US20030000500A1-20030102-C00017.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00018">
<number>18</number>
<image id="EMI-C00018" he="42.9786" wi="10.80135" file="US20030000500A1-20030102-C00018.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00018" file="US20030000500A1-20030102-C00018.CDX"/>
<chemistry-mol-file id="CHEMMOL-00018" file="US20030000500A1-20030102-C00018.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00019">
<number>19</number>
<image id="EMI-C00019" he="42.0147" wi="14.88375" file="US20030000500A1-20030102-C00019.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00019" file="US20030000500A1-20030102-C00019.CDX"/>
<chemistry-mol-file id="CHEMMOL-00019" file="US20030000500A1-20030102-C00019.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00020">
<number>20</number>
<image id="EMI-C00020" he="41.53275" wi="14.88375" file="US20030000500A1-20030102-C00020.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00020" file="US20030000500A1-20030102-C00020.CDX"/>
<chemistry-mol-file id="CHEMMOL-00020" file="US20030000500A1-20030102-C00020.MOL"/>
</chemistry-cwu>
</entry>
<entry>
<chemistry-cwu id="CHEM-US-00021">
<number>21</number>
<image id="EMI-C00021" he="42.72345" wi="16.3296" file="US20030000500A1-20030102-C00021.TIF"/>
<chemistry-chemdraw-file id="CHEMCDX-00021" file="US20030000500A1-20030102-C00021.CDX"/>
<chemistry-mol-file id="CHEMMOL-00021" file="US20030000500A1-20030102-C00021.MOL"/>
</chemistry-cwu>
</entry>
</row>
<row>
<entry> </entry>
</row>
<row>
<entry>2.0</entry>
<entry>1.0</entry>
<entry>&minus;2.0</entry>
<entry>&minus;1.0</entry>
<entry>&minus;0.5</entry>
<entry>&minus;0.25</entry>
<entry>&minus;0.13</entry>
</row>
<row><entry namest="1" nameend="7" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Table 4 illustrates an example of the present invention in which the engine transition sensitivity factor for positive steady-state fuel changes is 0.5 and the engine transition sensitivity factor for negative steady-state fuel changes is 0.2. In the example illustrated in Table 4, the decay rate is 0.5 for both positive and negative transitions and zeroing is implemented when alternating positive and negative steady-state transitions occur. Furthermore, a hysteresis band from &minus;2 mg to &plus;2 mg is applied so that any change in steady-state requirement that is greater than or equal to &minus;2 mg and follows a positive transition that has a remnant in the stack will not zero the positive transition from the stack and any change in steady-state requirement that is less than or equal to 2 mg and follows a negative transition that has a remnant in the stack will not zero the negative transition from the stack. All transitions in the hysteresis band in this example will, furthermore, trigger placement of a zero in the stack for that cycle. The example illustrated in Table 4 permits a transitory fuel differential to decay for five cylinder cycles from the cycle at which the transition occurs and then discards any remnant of a transition after the fifth cycle. Thus, for example, when a positive transition has occurred in the last five cycles, and a negative transition of greater than or equal to &minus;2 mg occurs, the positive transition remnant in the stack will remain in the stack and a zero value will be placed in the stack corresponding to the cycle in which the small negative transition occurred. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In a first cycle illustrated in column 4a of Table 4, no transition occurs, however a remnant from a positive transition that occurred in the previous cycle resides in the second stack position. In a second cycle illustrated in column 4b of Table 4, a negative transition of &minus;1 mg occurs. That transition falls within the hysteresis band and so initiates entry of a zero in the stack for that cycle while permitting the positive remainder from the positive transition to remain in the stack. Thus, a zero is placed in the first memory area of the stack for the second cycle. The positive transition is decayed by multiplying the value in the second memory area of the stack by the decay rate of 0.5 and placing a 1.0 in the third memory area of the stack. All other memory areas of the stack are filled with zeros to correspond to the lack of transitions during those cycles. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> In a third cycle illustrated in column 4c of Table 4, a negative steady-state transition of &minus;10 mg occurs. Thus, &minus;10 is multiplied by the negative transition factor of 0.2 to arrive at a value of &minus;2 to be placed in the first stack location. The zero value from the transition that occurred in the second cycle carries into the second stack location. The third stack location is set at zero to correspond to the lack of transition during the first cycle. The fourth stack location is also zeroed because the current negative transition is outside the hysteresis band, thus causing the positive transition to be zeroed. The fifth stack location is also zeroed to correspond to no transition occurring during the corresponding cycle. In the fourth through seventh cycles, which are illustrated in columns 4d-4g of Table 4, no additional transitions occur and the values that entered during the transitions of the second and third cycles are shown decaying through the stack. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> In the various embodiments of the present invention, the sum of the stack will appropriately account for the multiple transitions. When a decay multiplier of less than one is applied in the equation, the earliest transitions using such a decay factor will decay more than later transitions, so than more recent transitions have a greater effect on the mass of fuel delivered. Thus, the stack also appropriately accounts for the proximity in time of each transition when an appropriate decay factor is applied. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates a system by which a driver or rider of a vehicle may adjust or &ldquo;trim&rdquo; engine operating characteristics including transient fueling. The embodiment illustrated is a grouping of input and output devices that constitute a rider trim system <highlight><bold>400</bold></highlight> for attachment to one or more handlebars of a vehicle. An operator is provided with information regarding vehicle performance through indicators and is able to modify operation through input devices. The input devices may be analog devices such as potentiometers or binary devices such as switches, buttons, or general contact based devices. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> The rider trim system illustrated in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> includes a kill switch <highlight><bold>402</bold></highlight>, a map select switch <highlight><bold>404</bold></highlight>, a trim up switch <highlight><bold>406</bold></highlight>, a trim down switch <highlight><bold>408</bold></highlight>, a system power indicator <highlight><bold>410</bold></highlight>, a diagnostic indicator <highlight><bold>412</bold></highlight>, an engine temperature indicator <highlight><bold>414</bold></highlight>, a transient trim enable/disable indicator <highlight><bold>415</bold></highlight>, a first map indicator <highlight><bold>416</bold></highlight>, a second map indicator <highlight><bold>418</bold></highlight>, a third map indicator <highlight><bold>420</bold></highlight>, a display <highlight><bold>422</bold></highlight> and a trim defeat switch <highlight><bold>426</bold></highlight>. Those switches may have dual functionality such that certain switches may be selectively activated to trim map, set point, and transient operation. The switches will be described herein, however, only in connection with trimming transient fueling. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> The kill switch <highlight><bold>402</bold></highlight> will stop engine operation when activated and is typically intended as an operator initiated emergency shut-down system. The map select switch <highlight><bold>404</bold></highlight> may be operated to alternately activate an assortment of maps to vary performance of the engine <highlight><bold>100</bold></highlight>. Furthermore, because each map may include transient operating parameters, only the parameters of the selected map are adjusted by the trim up and trim down switches <highlight><bold>406</bold></highlight> and <highlight><bold>408</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The trim up and trim down switches <highlight><bold>406</bold></highlight> and <highlight><bold>408</bold></highlight> may be assigned, by way of a trim definition setup, to trim any engine operating characteristic. Those engine operating characteristic may include transient control parameters individually or in combination. Such transient control parameters include, for example, the positive engine transition sensitivity factor, the negative engine transition sensitivity factor, the positive decay rate, the negative decay rate, the duration for which a positive transition will affect fueling and the duration for which a negative transition will affect fueling. Moreover, while engine trimming may be performed when the engine <highlight><bold>100</bold></highlight> is not operating, it may also be performed in a particularly beneficial manner while the engine <highlight><bold>100</bold></highlight> is operating. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> In a certain embodiment, the trim up and trim down switches <highlight><bold>406</bold></highlight> and <highlight><bold>408</bold></highlight> are defined to adjust both the positive and negative engine transition sensitivity simultaneously. That approach provides a very simple yet powerful transient calibration tool. For example, where a trim factor of one is set initially, by depressing the trim up switch <highlight><bold>406</bold></highlight> one time, the trim factor may be increased to 1.2. Each time the trim up switch <highlight><bold>406</bold></highlight> is depressed thereafter, the transitory fuel differential will be increased by 0.2 up to a limit set in a transitory fuel trim definition. Likewise, each time the trim down switch <highlight><bold>408</bold></highlight> is depressed the transitory fuel differential will be decreased by 0.2 until a limit set in the transitory fuel trim definition or zero is reached. The calculated transitory fuel differential may also be limited to a minimum of zero. When the trim up switch <highlight><bold>406</bold></highlight> is depressed once, for example, and the transitory fuel differential is 2.5 mg, the amount of transitory fuel delivered to the engine would be 2.5 mg times 1.2 or 3 mg. Similarly, when the trim up switch <highlight><bold>406</bold></highlight> is depressed once and the transitory fuel differential is &minus;2.5 mg, the amount of transitory fuel delivered to the engine would be &minus;2.5 mg times 1.2 or &minus;3 mg. When the trim down switch <highlight><bold>408</bold></highlight> is depressed once in that example, and the transitory fuel differential is 2.5 mg, the amount of transitory fuel delivered to the engine would be 2.5 mg times 0.8 or 2 mg. Similarly, when the trim down switch <highlight><bold>408</bold></highlight> is depressed once and the transitory fuel differential is &minus;2.5 mg, the amount of transitory fuel delivered to the engine would be &minus;2.5 mg times 0.8 or &minus;2 mg. The trim defeat switch <highlight><bold>426</bold></highlight> permits an operator to alternate between one or more settings created by use of the trim switches <highlight><bold>404</bold></highlight>, <highlight><bold>406</bold></highlight>, and <highlight><bold>408</bold></highlight> and one or more original untrimmed settings. The trim defeat switch may thus operate as an A-B-A switch to permits alternation between the trimmed settings and the original settings and back again with each operation of the switch. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> The display lights <highlight><bold>410</bold></highlight>, <highlight><bold>412</bold></highlight>, <highlight><bold>414</bold></highlight>, <highlight><bold>415</bold></highlight>, <highlight><bold>416</bold></highlight>, and <highlight><bold>418</bold></highlight> illuminate to indicate certain engine conditions to the operator and the display <highlight><bold>422</bold></highlight> is utilized to display pertinent information to the operator. The first map indicator <highlight><bold>416</bold></highlight> may illuminate to indicate that a first preprogrammed steady-state map has been selected with the map select switch <highlight><bold>404</bold></highlight>. Similarly, the second map indicator <highlight><bold>416</bold></highlight> may illuminate to indicate that a second preprogrammed steady-state map has been selected with the map select switch <highlight><bold>404</bold></highlight> and the third map indicator <highlight><bold>416</bold></highlight> may illuminate to indicate that a third preprogrammed steady-state map has been selected with the map select switch <highlight><bold>404</bold></highlight>. The transient trim enable/disable indicator <highlight><bold>415</bold></highlight> may illuminate when trimming is enabled and dark when trimming is disabled by operation of the trim defeat switch <highlight><bold>426</bold></highlight>. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> Thus, the engine management system <highlight><bold>10</bold></highlight> provides many advantages including calibrating engine performance with adjustments that can be made while the engine <highlight><bold>100</bold></highlight> is being operated in its intended environment, and enabling adjustments to delivered fuel quantity to compensate for transitions in state of engine <highlight><bold>100</bold></highlight> operation. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> The embodiments of the engine management system <highlight><bold>10</bold></highlight> can be provided for internal combustion engine powered land traversing vehicles, watercraft, and flying vehicles, and thus, include automobiles, trucks, motorcycles, all-terrain vehicles, snowmobiles, boats, personal watercraft, and airplanes. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> The embodiments described above are examples of the present apparatus and method for trimming an engine management system <highlight><bold>10</bold></highlight> whereby a number of advantages are achieved. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Those advantages include allowing engine operation to be calibrated during continuous operation in the engine&apos;s intended environment and improving operation of an engine <highlight><bold>100</bold></highlight> when the engine operating state changes, for example, during acceleration or deceleration of the engine <highlight><bold>100</bold></highlight>. For example, the performance of a race engine can be improved by preventing lean operation during acceleration. Moreover, engine performance can be modified within particular user defined ranges of engine performance. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> While the present invention has been disclosed with reference to certain embodiments, numerous modifications, alterations, and changes to the described embodiments are possible without departing from the scope of the present invention, as defined in the appended claims. Accordingly, it is intended that the present invention not be limited to the described embodiments, but that it have the full scope defined by the language of the following claims, and equivalents thereof. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method of adjusting a quantity of fuel delivered to an engine when an engine operating state transitions, comprising: 
<claim-text>determining a current steady-state quantity of fuel to be delivered to the engine; and </claim-text>
<claim-text>adding a transitory quantity of fuel, based on a difference between a previously determined quantity of fuel and the current steady-state quantity of fuel, to the current steady-state quantity of fuel for a period of time following initiation of the transition. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel is negative. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel is set to zero when a negative transitory quantity of fuel is calculated. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein delivering a quantity of fuel further comprises delivering the quantity of fuel to a cylinder of the engine. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the quantity of fuel is delivered to more than one cylinder of the engine. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the fuel quantity is expressed in terms of a period of time during which a valve is open for fuel to pass therethrough. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the period of time following initiation of the transition is the time required for a predetermined number of cycles to occur. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the predetermined number of cycles is a predetermined number of cycles of the engine. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein the predetermined number of cycles is a predetermined number of cycles of a cylinder of the engine. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel changes during the period of time following initiation of the transition. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein the transitory quantity of fuel decays during the period of time following initiation of the transition. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein the transitory quantity of fuel decays at a predetermined rate. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel has no effect on the quantity of fuel delivered after the predetermined period of time expires. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the engine operating transition includes a change of throttle position. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the engine operating state transition includes a change in engine speed. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the engine operating state transition includes a change in engine load. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the engine operating state transition includes a change in engine speed and a change in engine load. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the fuel is to be delivered to the engine. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the previously determined quantity of fuel is a quantity of fuel that was previously calculated to be delivered. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the previously determined quantity of fuel is an actual quantity of fuel that was delivered. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the previously determined quantity of fuel is a steady-state quantity of fuel that would have been delivered if a transitory quantity of fuel had not been added thereto. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, whereby determining a steady-state quantity of fuel to be delivered to the engine includes retrieving the steady-state quantity of fuel from a table. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, whereby determining a steady-state quantity of fuel to be delivered to the engine further includes interpolating the steady-state quantity of fuel from the table. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the steady-state quantity of fuel is determined by reference to a map. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel is based on a non-linear function of the difference between the previously determined quantity of fuel and the current steady-state quantity of fuel. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel is calculated by applying an engine sensitivity factor to the difference between the previously determined quantity of fuel and the current steady-state quantity of fuel. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein the sensitivity is a non-linear function. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, further comprising manipulating a device that adjusts a trim factor, wherein the trim factor varies the engine sensitivity factor. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein a decay factor is applied to the transitory quantity of fuel each subsequent engine cycle. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference>, wherein the decay is a non-linear function. </claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein the transitory quantity of fuel for a given transition in engine state affects the quantity of fuel delivered to the engine for a duration equal to a predetermined number of cycles. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 31</dependent-claim-reference>, wherein the transitory quantity of fuel for a given transition in engine state does not affect the quantity of fuel delivered to the engine after the predetermined number of cycles. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 31</dependent-claim-reference>, wherein the duration is a variable number of cycles. </claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the transitory quantity of fuel is further based on an operator manipulated device. </claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 34</dependent-claim-reference>, wherein the operator manipulated device is manipulated during operation of the engine. </claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. A method of adjusting a transitory quantity of fuel delivered to an engine when an engine operating state transitions, comprising: 
<claim-text>determining a current steady-state quantity of fuel to be delivered to the engine; </claim-text>
<claim-text>calculating an initial transitory quantity of fuel by applying an engine sensitivity factor to a difference between a previously determined quantity of fuel and the current steady-state quantity of fuel; </claim-text>
<claim-text>manipulating a trim device that varies a trim factor; </claim-text>
<claim-text>calculating a trimmed transitory quantity of fuel by applying the trim factor to the initial transitory quantity of fuel; </claim-text>
<claim-text>actuating a trim defeat device that alternates between an enable trim mode and disable trim mode when actuated; </claim-text>
<claim-text>setting the transitory quantity of fuel equal to the initial transitory quantity of fuel when trim mode is disabled; and </claim-text>
<claim-text>setting the transitory quantity of fuel equal to the trimmed transitory quantity of fuel when trim mode is enabled. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, further comprising retaining the trim factor in a memory device. </claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 37</dependent-claim-reference>, further comprising retrieving the trim factor from the memory device. </claim-text>
</claim>
<claim id="CLM-00039">
<claim-text><highlight><bold>39</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00033">claim 36</dependent-claim-reference>, wherein the trim factor is non-linear. </claim-text>
</claim>
<claim id="CLM-00040">
<claim-text><highlight><bold>40</bold></highlight>. An engine fuel control apparatus, comprising: 
<claim-text>a processor having an output and a memory, whereby the memory contains fuel delivery data and instructions which, when executed by the processor, cause the processor to </claim-text>
<claim-text>determine a current steady-state amount of fuel to be delivered by reference to the fuel delivery data, </claim-text>
<claim-text>add a transitory quantity of fuel, based on a difference between a previously determined quantity of fuel and the current steady-state amount of fuel to be delivered, to the current steady-state amount of fuel to be delivered for a period of time following initiation of the transition; and </claim-text>
<claim-text>apply a signal corresponding to that amount of fuel to the output; </claim-text>
<claim-text>a fuel supply device; and </claim-text>
<claim-text>a fuel supply actuator coupled to the output of the processor and operably coupled to the fuel supply device to control fuel flow therethrough. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00041">
<claim-text><highlight><bold>41</bold></highlight>. An engine fuel control apparatus, comprising: 
<claim-text>a processor having an input and an output, whereby a signal corresponding to a steady-state amount of fuel to be provided to the engine plus a transitory amount of fuel to be provided to the engine is incident on the output; </claim-text>
<claim-text>a fuel supply device; </claim-text>
<claim-text>a fuel supply actuator coupled to the output of the processor and operably coupled to the fuel supply device to control fuel flow therethrough; </claim-text>
<claim-text>an operator actuated input device coupled to said processor, whereby actuation of the input device adjusts the transitory amount of fuel to be provided to the engine. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00042">
<claim-text><highlight><bold>42</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the fuel supply device includes a fuel injector. </claim-text>
</claim>
<claim id="CLM-00043">
<claim-text><highlight><bold>43</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the fuel supply device includes a carburetor. </claim-text>
</claim>
<claim id="CLM-00044">
<claim-text><highlight><bold>44</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the input device is manipulated by an operator of a vehicle driven by the engine. </claim-text>
</claim>
<claim id="CLM-00045">
<claim-text><highlight><bold>45</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the input device is a potentiometer. </claim-text>
</claim>
<claim id="CLM-00046">
<claim-text><highlight><bold>46</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the input device includes a trim up contact and a trim down contact. </claim-text>
</claim>
<claim id="CLM-00047">
<claim-text><highlight><bold>47</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the trim up contact increments transitory fuel quantity delivered and the trim down contact decrements transitory fuel quantity delivered. </claim-text>
</claim>
<claim id="CLM-00048">
<claim-text><highlight><bold>48</bold></highlight>. The apparatus of <dependent-claim-reference depends_on="CLM-00044">claim 47</dependent-claim-reference>, further comprising a trim defeat contact that alternates transitory fuel quantity delivered between a base fuel amount that is unaffected by the input device and a trimmed fuel amount that is affected by the input device. </claim-text>
</claim>
<claim id="CLM-00049">
<claim-text><highlight><bold>49</bold></highlight>. A method of adjusting an amount of fuel to be provided to an engine during a transition in engine state, comprising: 
<claim-text>determining a steady-state quantity of fuel to be delivered to the engine; </claim-text>
<claim-text>calculating a transitory quantity of fuel to be delivered to the engine; </claim-text>
<claim-text>manipulating a device that adjusts the transitory amount of fuel to be provided to the engine, and </claim-text>
<claim-text>delivering an amount of fuel to the engine that is equal to the steady-state quantity of fuel plus the manipulated transitory quantity of fuel.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030000500A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030000500A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030000500A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030000500A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030000500A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
