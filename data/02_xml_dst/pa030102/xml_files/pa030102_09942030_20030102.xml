<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004666A1-20030102-M00001.NB SYSTEM "US20030004666A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030004666A1-20030102-M00001.TIF SYSTEM "US20030004666A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-M00002.NB SYSTEM "US20030004666A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030004666A1-20030102-M00002.TIF SYSTEM "US20030004666A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00000.TIF SYSTEM "US20030004666A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00001.TIF SYSTEM "US20030004666A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00002.TIF SYSTEM "US20030004666A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00003.TIF SYSTEM "US20030004666A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00004.TIF SYSTEM "US20030004666A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00005.TIF SYSTEM "US20030004666A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00006.TIF SYSTEM "US20030004666A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00007.TIF SYSTEM "US20030004666A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00008.TIF SYSTEM "US20030004666A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00009.TIF SYSTEM "US20030004666A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00010.TIF SYSTEM "US20030004666A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00011.TIF SYSTEM "US20030004666A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00012.TIF SYSTEM "US20030004666A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00013.TIF SYSTEM "US20030004666A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00014.TIF SYSTEM "US20030004666A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00015.TIF SYSTEM "US20030004666A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00016.TIF SYSTEM "US20030004666A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00017.TIF SYSTEM "US20030004666A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00018.TIF SYSTEM "US20030004666A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00019.TIF SYSTEM "US20030004666A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030004666A1-20030102-D00020.TIF SYSTEM "US20030004666A1-20030102-D00020.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004666</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09942030</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010830</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-113324</doc-number>
</priority-application-number>
<filing-date>20010411</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G01F001/12</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G01F001/50</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G06F019/00</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G01F025/00</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G01L027/00</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>702</class>
<subclass>100000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Gas flow meter</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Takafumi</given-name>
<family-name>Matsumura</family-name>
</name>
<residence>
<residence-non-us>
<city>Hitachinaka</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Noboru</given-name>
<family-name>Sugiura</family-name>
</name>
<residence>
<residence-non-us>
<city>Mito</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Kenichi</given-name>
<family-name>Katagishi</family-name>
</name>
<residence>
<residence-non-us>
<city>Hitachinaka</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Masahiro</given-name>
<family-name>Matsumoto</family-name>
</name>
<residence>
<residence-non-us>
<city>Hitachi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Keiji</given-name>
<family-name>Hanzawa</family-name>
</name>
<residence>
<residence-non-us>
<city>Mito</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>CROWELL &amp; MORING, L.L.P.</name-1>
<name-2></name-2>
<address>
<address-1>P.O. Box 14300</address-1>
<city>Washington</city>
<state>DC</state>
<postalcode>20044-4300</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A gas flow meter having a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a voltage generated across the resistor and outputting a voltage signal representing a gas flow passing through the gas passage; a noise reduction circuit for reducing external noise; and a digital adjusting circuit for digitally adjusting a signal representing the detected gas flow and outputting the adjusted signal; wherein a voltage signal based on the signal adjusted by the digital adjusting circuit is output. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a gas flow meter for automotive control and more particularly to a noise reduction circuit, to an adjustment circuit, to a reduction in the number of adjustment terminals and output terminals, and to an output circuit. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> A gas flow meter for detecting an air flow in internal combustion engines has been in use. An example of the gas flow meter is a constant temperature control hot wire type gas flow meter described in the Journal of Fluid Mechanics, vol. 47 (1971), pp577-599. <cross-reference target="DRAWINGS">FIG. 25</cross-reference> shows an outline configuration of a gas flow detection circuit DECT<highlight><bold>1</bold></highlight> applying the constant temperature control heat wire type gas flow meter. This gas flow detection circuit mainly comprises an operational amplifier OP<highlight><bold>1</bold></highlight>, a power transistor Tr<highlight><bold>1</bold></highlight>, a heating resistor (also called a hot wire) Rh, a gas temperature measuring resistor (also called a cold wire) Rc and resistors R<highlight><bold>1</bold></highlight>, R<highlight><bold>2</bold></highlight> and keeps the temperature of the heating resistor Rh constant at all times, i.e., keeps its resistance constant by maintaining a bridge balance using the operational amplifier OP<highlight><bold>1</bold></highlight>. As the gas flow increases, heat taken from the heating resistor Rh increases resulting in an increased heating current. Because this heating current is proportional to a voltage between terminals of the resistor R<highlight><bold>1</bold></highlight>, the measurement of this voltage can determine the gas flow. The voltage output produced by the current detection resistor R<highlight><bold>1</bold></highlight> is processed by an adjust circuit having a predetermined input/output characteristic so that the voltage output provides a predetermined signal characteristic required of the gas flow meter. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> There is another gas flow detection circuit DECT<highlight><bold>2</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 26</cross-reference>, in which heat sensing resistors Ru, Rd for measuring gas flow temperatures are arranged upstream and downstream of the heating resistor Rh of the constant temperature control hot wire type gas flow meter so that they are influenced by heat from the heating resistor Rh. The resistor Ru on the upstream side is cooled by the gas flow to lower its resistance and the resistor Rd on the downstream side receives a gas flow heated by the heating resistor Rh to raise its temperature and therefore its resistance. This changes the potential at a connecting point between Ru and Rd and thus measuring this voltage can determine the gas flow. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Still another gas flow detection circuit DECT<highlight><bold>3</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is available, in which a total of four heat sensing resistors for measuring gas flow temperatures are arranged two upstream and two downstream of the heating resistor Rh of the constant temperature control hot wire type gas flow meter so that they are influenced by heat from the heating resistor Rh, and in which one pair of resistors Ru<highlight><bold>1</bold></highlight>, Rd<highlight><bold>1</bold></highlight> are serially connected in an upstream-downstream order and another pair of resistors Rd<highlight><bold>2</bold></highlight>, Ru<highlight><bold>2</bold></highlight> are serially connected in a downstream-upstream order to form a bridge and measure a potential difference between two connecting points. The resistors Ru<highlight><bold>1</bold></highlight>, Ru<highlight><bold>2</bold></highlight> on the upstream side are cooled by the gas flow to lower their resistances and the resistors Rd<highlight><bold>1</bold></highlight>, Rd<highlight><bold>2</bold></highlight> on the downstream side receive a gas flow heated by the heating resistor Rh, raising their temperatures and therefore their resistances. This changes the potential difference in the bridge and thus measuring this voltage difference can determine the gas flow. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> The electronic circuits that adjust the output characteristic of a gas flow meter mounted on motor vehicles are subject to various surges and overvoltages, as specified in the International Standard Organization (ISO) 7637-1, 7637-3 standard and Japan automotive standard (JASO) D001-94. These standards are intended to prevent undesired operations or failures of electronic circuits due to surge voltages caused by ignition of engine, overvoltages caused by batteries stacked in two tiers at time of starting engine in cold environment, and high frequency noise caused by other electronic devices. On the other hand, the electronic circuits are constructed in the form of IC circuits for reducing the manufacturing cost and, in recent years, to meet the emission control requirements the gas flow meter is increasingly required to raise its precision in line with the sophistication of engine control functions. Further, because the service temperature range is as wide as &minus;40&deg; C. to 130&deg; C., measures should be taken to prevent a possible change in output due to temperature variations. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> For surges and overvoltages, a variety of overvoltage protection circuits have been in use. One such example is a protection circuit using a Zener diode ZD and a current limiting resistor R as shown in <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The circuit of <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is one type of a commonly used constant voltage circuit in which a voltage applied to a connection terminal VBB for the battery causes a current to flow through the current limiting resistor R to the Zener diode ZE. When an overvoltage is applied, the voltage of the power supply terminal Vcc to various circuits is clamped by a Zener voltage of the Zener diode ZD to put an overvoltage protection into action. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Further, JP-A-9-307361 proposes as a conventional technology an overvoltage protection circuit that uses an overvoltage detection circuit made up of a resistor and a Zener diode and a switching circuit made up of bipolar transistors. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The overvoltage protection circuit described in this official gazette is intended for protecting microwave FETs (field-effect transistors). When an overvoltage higher than a voltage sum of the Zener voltage of the Zener diode and the base-emitter voltage of the switching transistor is applied to the power supply terminal, the switching circuit is operated to cut off the load from the power supply line and thereby prevent the overvoltage from being impressed on the load. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The voltage outputs of the flow detection circuits DECT<highlight><bold>1</bold></highlight>-<highlight><bold>3</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 25</cross-reference> to <cross-reference target="DRAWINGS">FIG. 27</cross-reference> need adjustments in zero point and span (output range) to produce the required sensor output characteristics. This adjust circuit is mainly an analog circuit at present but a higher precision adjustment is considered possible by using a digital circuit. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Table 1 shows comparison between an analog circuit and a digital circuit (&ldquo;CMOS Analog Circuit Design Technique&rdquo; published by Triceps (1998), compiled under the supervision of Iwata).  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="49PT" align="left"/>
<colspec colname="2" colwidth="77PT" align="left"/>
<colspec colname="3" colwidth="77PT" align="left"/>
<thead>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center">TABLE 1</entry>
</row>
<row>
<entry></entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>Analog circuit</entry>
<entry>Digital circuit</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
<entry>No. of</entry>
<entry>Few (about 20 pcs in</entry>
<entry>Many (2000 pcs in</entry>
</row>
<row>
<entry></entry>
<entry>transistors</entry>
<entry>multiplier)</entry>
<entry>8-bit multiplier)</entry>
</row>
<row>
<entry></entry>
<entry>Chip area</entry>
<entry>Small (few devices)</entry>
<entry>Large (many</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry></entry>
<entry>devices)</entry>
</row>
<row>
<entry></entry>
<entry>Power</entry>
<entry>Low power</entry>
<entry>Large (many gates</entry>
</row>
<row>
<entry></entry>
<entry>consumption</entry>
<entry>consumption because</entry>
<entry>are switched)</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>of fewer devices</entry>
</row>
<row>
<entry></entry>
<entry>Clock</entry>
<entry>Low (determined by</entry>
<entry>Higher (&frac12; of cut-</entry>
</row>
<row>
<entry></entry>
<entry>frequency</entry>
<entry>settling of</entry>
<entry>off frequency of</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>amplifier)</entry>
<entry>device)</entry>
</row>
<row>
<entry></entry>
<entry>Signal</entry>
<entry>High (about &frac12; of</entry>
<entry>Low (1/10 of clock</entry>
</row>
<row>
<entry></entry>
<entry>frequency</entry>
<entry>cut-off frequency of</entry>
<entry>frequency)</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>device)</entry>
</row>
<row>
<entry></entry>
<entry>Precision</entry>
<entry>Low (device</entry>
<entry>High (depending on</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>deviation, noise)</entry>
<entry>bit number)</entry>
</row>
<row>
<entry></entry>
<entry>Stability</entry>
<entry>Low (oscillation,</entry>
<entry>High</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>characteristic</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>variation)</entry>
</row>
<row>
<entry></entry>
<entry>Noise</entry>
<entry>Low (S/N)</entry>
<entry>Strong (large noise</entry>
</row>
<row>
<entry></entry>
<entry>resistance</entry>
<entry></entry>
<entry>margin)</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="left"><footnote id="FOO-00001">Source: &ldquo;CMOS Analog Circuit Design Technique&rdquo; published by Triceps (1998), compiled under the supervision of Iwata </footnote></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The analog circuit has a small size and a small power consumption compared with the digital circuit. But the use of such devices as resistors causes manufacturing variations and other variations due to aged deterioration, and thus the analog circuit has less precision and stability than the digital circuit. The digital circuit, while it is superior to the analog circuit in terms of precision and stability, has a larger circuit size and a larger power consumption. The rapid advance in the integrated circuit manufacturing technology in recent years, however, has enabled micro-fabrication and therefore reduced the circuit size and power consumption. The digital circuit is now finding many applications in various industrial fields. Example applications of a digital adjust circuit to the gas flow meter are found in Japanese Patent No. 3073089 and JP-A-8-62010 and JP-A-11-118552. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> shows comparison between an analog adjustment and a digital adjustment in the adjust circuit of the gas flow meter. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> An outline circuit configuration for analog adjustment shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference> comprises an operational amplifier OP<highlight><bold>2</bold></highlight>, trimming resistors Rs<highlight><bold>1</bold></highlight>, Rz<highlight><bold>1</bold></highlight> and resistors Rs<highlight><bold>2</bold></highlight>, Rz<highlight><bold>2</bold></highlight>. This circuit trims the trimming resistors Rz<highlight><bold>1</bold></highlight>, Rs<highlight><bold>1</bold></highlight> to adjust the voltage output from the flow detection circuit DECT and thereby adjust the zero point and span to produce an output for a desired gas flow. As the trimming resistors Rs, Rz, thin-film resistors printed on a hybrid IC or thin-film resistors on IC may be used. In trimming the resistors, a laser trimmer may be used. The laser trimmer has a disadvantage that trimming with high precision takes time and re-trimming cannot be done. Further, because only a two-point adjustment is made, it is difficult for the laser trimmer to make a complicated adjustment on the output characteristic, such as a non-linear adjustment. In the analog circuit, when the output specification for the gas flow is changed, the resistance value needs to be redesigned and, in some cases, it is necessary to redesign the hybrid IC substrate pattern, which in turn increases the man-hour of designing works. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> In the case of the digital adjust circuit of <cross-reference target="DRAWINGS">FIG. 29</cross-reference>, since the output specification can be changed by simply changing an adjust coefficient while leaving the circuit pattern intact, the number of design steps can be reduced. As an example digital adjust circuit, a method described in Japanese Patent No. 3073089 has been proposed. A rough circuit configuration for the digital adjustment is as follows. The voltage output from the flow detection circuit DECT is converted into a digital value by an analog-digital converter AD. Based on the digital value, a digital processor CALC calculates the zero point and span adjustments, which are then converted by a digital-analog converter DA into an analog signal which is an analog output for a desired gas flow. The adjust coefficient used in this calculation is stored in a storage device MEM such as PROM. Further, the digital processor CALC, because of its ability to easily perform non-linear calculations, can make non-linear adjustments as well as zero point and span adjustments during the output adjustment. With this non-linear adjustment, the adjustment accuracy is within &plusmn;2%. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> Another example configuration for the digital adjustment is found in JP-A-11-118552. While its configuration is similar to that of the digital adjust circuit of <cross-reference target="DRAWINGS">FIG. 29</cross-reference>, this circuit reduces its circuit size by using an oversampling type analog-digital converter including a delta-sigma modulator as an analog-digital converter AD. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> Still another example configuration for the digital adjustment is found in JP-A-2000-338193. The adjust coefficient used by the processor in executing the adjustment calculation is written into a storage device such as PROM through a terminal of a digital input/output circuit that communicates with external circuits of the sensor. This official gazette describes that a third-degree polynomial is used for the adjustment calculation. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> A further example configuration for the digital adjustment is found in JP-A-11-94620. This circuit converts a flow signal from the gas flow detection circuit into a rectangular wave signal and counts up a counter at a certain rate only while the rectangular wave is &ldquo;1&rdquo;. To this count value is added the adjust coefficient to produce an output. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Because the heating current flowing through the heating resistor Rh is not affected by voltage variations in the power supply (for example, battery), the voltage output of the gas flow detection circuit DECT<highlight><bold>1</bold></highlight> has a non-ratiometric characteristic. As output specifications of the gas flow meter, there are ratiometric analog and digital output specifications in addition to the non-ratiometric analog output specification. A circuit configuration that realizes the ratiometric analog output circuit is described in JP-A-2-85724. This circuit divides an external ratiometric output reference voltage into smaller voltages by two resistors and inputs the divided voltages to an operational amplifier to realize a ratiometric output. With a sum of the two resistors set to about 10 kilo-ohm, the current to be supplied from the reference voltage is relatively small at about 0.5 mA. An example of the digital output circuit is disclosed in JP-A-8-247815. This circuit configuration comprises at least a constant temperature control circuit, a zero point/span adjust circuit and a voltage control oscillator, all integrated into one chip. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> Another configuration is described in JP-A-5-203475 in which an analog output and a digital output are produced by a single circuit board. In this configuration, a single circuit board is provided with both an analog output terminal and a digital output terminal, and both analog and digital outputs are supplied to an output connector which selects and uses one of the two output signals or only one of the outputs is connected through wire to the output connector. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> When the gas flow meter circuit is integrated into a digital circuit to reduce the cost and size of the gas flow meter and enhance the accuracy of the output by adjustment, the conventional technique described above is not optimized and thus has some problems that cannot be solved by conventional technology. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> C-MOSs are used for enhancing the level of circuit integration and for building the gas flow meter circuit with a digital circuit. The C-MOSs, however, are easily affected by surges and overvoltages compared with bipolar transistors used in analog circuits and thus need countermeasures. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> In an overvoltage protection circuit shown in <cross-reference target="DRAWINGS">FIG. 28</cross-reference>, when a current through a connected circuit is large, a resistance of a current limiting resistor must be reduced to prevent a voltage drop. In this case, the electric withstandability of a Zener diode ZD is increased large enough so that it can withstand an overcurrent. This results in an increase in size and cost of components, which is not desirable. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> A circuit described in JP-A-2000-338193 performs a nonlinear adjustment using a cubic equation. When the nonlinear adjustment needs to be done with a quatic equation or higher order function, the calculation time naturally increases. In addition, if individual output characteristics have steep characteristic changes with respect to an ideal characteristic, the output characteristics may often not be able to be adjusted with such a polynomial. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> Next, in integrating the electronic circuit of the gas flow meter into a digital circuit, because adjustment coefficients need to be written into a programmable storage device during the adjustment process, terminals must be added. Further, there are different specifications on the sensor output, i.e., a ratiometric analog output, a non-ratiometric analog output and a digital output. For reduced manufacturing cost, it is necessary during the integration process to make provisions for coping with all these specifications. Simply adding terminals to meet this requirement, as described in Japanese JP-A-11-94620, results in an increase in the chip area, which should be avoided. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Next, when the adjustment calculation is digitized, a digital-analog converter may be required at the output stage. The digital-analog converter includes an amplifier circuit for a signal output to external circuits and thus its current consumption reaches several mA. When the digital-analog converter is to be driven by using an external reference voltage to produce a ratiometric output, if the maximum current supplied from its power supply is small, the digital-analog converter cannot be operated. This raises a problem that the reference voltage cannot be connected directly to the power supply terminal of the digital-analog converter. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> It is therefore an object of the present invention to provide a means which solves various problems encountered when reducing the cost and size of the gas flow meter, enhancing the integration-level of electronic circuits, making the output characteristics more accurate and adjustable, and transforming the circuits into digital circuits. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> To achieve the above objective, the present invention discloses the following configuration: </paragraph>
<paragraph id="P-0029" lvl="2"><number>&lsqb;0029&rsqb;</number> (1) A gas flow meter comprising: </paragraph>
<paragraph id="P-0030" lvl="3"><number>&lsqb;0030&rsqb;</number> a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a voltage generated across the resistor and outputting a voltage signal representing a gas flow passing through the gas passage; </paragraph>
<paragraph id="P-0031" lvl="3"><number>&lsqb;0031&rsqb;</number> a noise reduction circuit for reducing external noise; and </paragraph>
<paragraph id="P-0032" lvl="3"><number>&lsqb;0032&rsqb;</number> a digital adjust circuit for digitally adjusting a signal representing the detected gas flow and outputting the adjusted signal; </paragraph>
<paragraph id="P-0033" lvl="3"><number>&lsqb;0033&rsqb;</number> wherein a voltage signal based on the signal adjusted by the digital adjust circuit is output. </paragraph>
<paragraph id="P-0034" lvl="2"><number>&lsqb;0034&rsqb;</number> (2) Preferably, the gas flow meter according to item (1), wherein the digital adjust circuit includes: </paragraph>
<paragraph id="P-0035" lvl="3"><number>&lsqb;0035&rsqb;</number> a digital conversion circuit for converting an output from the gas flow detection circuit into a digital signal; </paragraph>
<paragraph id="P-0036" lvl="3"><number>&lsqb;0036&rsqb;</number> an adjust means for adjusting the digital signal to produce a desired output characteristic; and </paragraph>
<paragraph id="P-0037" lvl="3"><number>&lsqb;0037&rsqb;</number> a regulator circuit for supplying a reference voltage to the digital conversion circuit and/or the adjust means. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> With the above arrangement, the digital adjustment type gas flow meter has a more appropriate circuit configuration. </paragraph>
<paragraph id="P-0039" lvl="2"><number>&lsqb;0039&rsqb;</number> (3) Preferably, a gas flow meter comprising: a gas flow detection circuit for detecting a gas flow passing through a gas passage; </paragraph>
<paragraph id="P-0040" lvl="3"><number>&lsqb;0040&rsqb;</number> an adjust circuit for adjusting an output characteristic to a desired output characteristic and outputting it; and </paragraph>
<paragraph id="P-0041" lvl="3"><number>&lsqb;0041&rsqb;</number> a noise reduction circuit including an overvoltage protection circuit and supplying to the gas flow detection circuit and the adjust circuit a voltage whose surges and overvoltages applied to a power supply terminal are reduced; </paragraph>
<paragraph id="P-0042" lvl="3"><number>&lsqb;0042&rsqb;</number> wherein there are two or more voltage supply paths for supplying different voltages to the gas flow detection circuit and the adjust circuit through the overvoltage protection circuit. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> With this arrangement, the minimum required voltage can be properly supplied to the gas flow detection circuit and the adjust circuit of the gas flow meter. </paragraph>
<paragraph id="P-0044" lvl="2"><number>&lsqb;0044&rsqb;</number> (4) Preferably, the gas flow meter according to item (3), wherein in one of the voltage supply paths for supplying a voltage having reduced surges and overvoltages to various circuits, a voltage limiter circuit that turns on when applied with a voltage in excess of a predetermined voltage is connected between a voltage supply terminals and a ground terminal and a current limiting resistor is connected between the power supply terminal and the voltage supply terminals; in the other voltage supply path, another current limiting resistor is connected between the power supply terminal and the voltage supply terminals; and an overvoltage protection circuit is provided in which a diode is connected between each of the voltage supply terminals. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> With this arrangement, the overvoltage protection circuit has a more appropriate configuration. </paragraph>
<paragraph id="P-0046" lvl="2"><number>&lsqb;0046&rsqb;</number> (5) Preferably, the gas flow meter according to item (3), wherein in all of the voltage supply paths for supplying a voltage having reduced surges and overvoltages to various circuits, a voltage limiter circuit that turns on when applied with a voltage in excess of a predetermined voltage is connected between voltage supply terminals and a ground terminal and a current limiting resistor is connected between the power supply terminal and the voltage supply terminals; and </paragraph>
<paragraph id="P-0047" lvl="2"><number>&lsqb;0047&rsqb;</number> an overvoltage protection circuit is provided in which the current limiting resistors connected to the respective voltage supply terminals have different resistances. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> With this arrangement, the noise reduction circuit has a more appropriate configuration. </paragraph>
<paragraph id="P-0049" lvl="2"><number>&lsqb;0049&rsqb;</number> (6) Preferably, the gas flow meter according to item (4) or (5), further including an overvoltage protection circuit having an additional diode connected between the voltage supply terminals and the ground terminal. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> With this arrangement, the overvoltage protection circuit has a more appropriate configuration. </paragraph>
<paragraph id="P-0051" lvl="2"><number>&lsqb;0051&rsqb;</number> (7) Preferably, the gas flow meter according to any one of items (3) through (6), wherein a part or all of devices included in the overvoltage protection circuit, the gas flow detection circuit and the adjust circuit are formed in the same integrated circuit. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> With this arrangement, the circuit can be reduced in size. </paragraph>
<paragraph id="P-0053" lvl="2"><number>&lsqb;0053&rsqb;</number> (8) Preferably, the gas flow meter according to any one of items (3) through (7), wherein the number of the voltage supply paths are two; and </paragraph>
<paragraph id="P-0054" lvl="2"><number>&lsqb;0054&rsqb;</number> a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjust circuit. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> With this arrangement, the digital adjustment type gas flow meter has a more appropriate configuration. </paragraph>
<paragraph id="P-0056" lvl="2"><number>&lsqb;0056&rsqb;</number> (9) Preferably, a gas flow meter preferably comprising: </paragraph>
<paragraph id="P-0057" lvl="3"><number>&lsqb;0057&rsqb;</number> a gas flow detection circuit for outputting a voltage signal representing a gas flow passing through a gas passage; and </paragraph>
<paragraph id="P-0058" lvl="3"><number>&lsqb;0058&rsqb;</number> an adjust circuit for adjusting the voltage output from the gas flow detection circuit; </paragraph>
<paragraph id="P-0059" lvl="3"><number>&lsqb;0059&rsqb;</number> wherein an input range of the voltage signal entered into the adjust circuit is divided in two or more and, in each divided range, a different adjustment calculation formula is determined in advance; </paragraph>
<paragraph id="P-0060" lvl="3"><number>&lsqb;0060&rsqb;</number> wherein a means is provided which selects the adjustment calculation formula according to an input value of the voltage signal entered into the adjust circuit and performs adjustment calculation to produce an output value. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> With this arrangement, the gas flow meter can perform a more precise adjustment during the output characteristic adjustment. </paragraph>
<paragraph id="P-0062" lvl="2"><number>&lsqb;0062&rsqb;</number> (10) Preferably, the gas flow meter according to item (9), wherein the adjust circuit is a digital adjust circuit which digitally adjusts the signal representing the detected gas flow and outputs the adjusted signal. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> With this arrangement, the adjustment as described in item (9) can be realized. </paragraph>
<paragraph id="P-0064" lvl="2"><number>&lsqb;0064&rsqb;</number> (11) Preferably, the gas flow meter according to item (9) or (10), wherein the adjust circuit has input/output characteristics represented by each of the adjustment calculation formulas expressed as a first-degree function of y&equals;a&middot;x&plus;b where x is an output value of the gas flow detection circuit, i.e., input value for the adjustment calculation, y is an output of the adjustment calculation, and a and b are adjustment coefficients. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> With this arrangement, the calculation time can be shortened. </paragraph>
<paragraph id="P-0066" lvl="2"><number>&lsqb;0066&rsqb;</number> (12) Preferably, the gas flow meter according to any one of items (9) through (11), further including: </paragraph>
<paragraph id="P-0067" lvl="3"><number>&lsqb;0067&rsqb;</number> a temperature sensor; and </paragraph>
<paragraph id="P-0068" lvl="3"><number>&lsqb;0068&rsqb;</number> a digital conversion circuit for converting an output of the temperature sensor into a digital value; </paragraph>
<paragraph id="P-0069" lvl="3"><number>&lsqb;0069&rsqb;</number> wherein the adjust circuit also uses the output of the temperature sensor in performing the adjustment calculation. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> With this arrangement, the temperature adjustment can be made. </paragraph>
<paragraph id="P-0071" lvl="2"><number>&lsqb;0071&rsqb;</number> (13) Preferably, the gas flow meter according to item (12), wherein the adjust circuit has an input/output characteristic expressed by</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>a</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;a</italic></highlight><highlight><bold>2</bold></highlight>)&middot;<highlight><italic>x&plus;</italic></highlight>(<highlight><italic>b</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;b</italic></highlight><highlight><bold>2</bold></highlight>)</in-line-formula></paragraph>
<paragraph id="P-0072" lvl="7"><number>&lsqb;0072&rsqb;</number> where x is an output value of the gas flow detection circuit, t is an output value of the temperature sensor, and a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are adjustment coefficients. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> With this arrangement, the digital adjust circuit can perform an appropriate adjustment. (14) Preferably, the gas flow meter according to item (11) or (13), wherein the adjust circuit writes the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> into a programmable storage device. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> With this arrangement, the digital adjust circuit has an appropriate circuit configuration. </paragraph>
<paragraph id="P-0075" lvl="2"><number>&lsqb;0075&rsqb;</number> (15) Preferably, the gas flow meter according to item (11) or (13), wherein the adjust circuit writes the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> into an erasable and programmable storage device. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> With this arrangement, the digital adjust circuit has an appropriate circuit configuration. </paragraph>
<paragraph id="P-0077" lvl="2"><number>&lsqb;0077&rsqb;</number> (16) Preferably, a gas flow meter comprising: </paragraph>
<paragraph id="P-0078" lvl="3"><number>&lsqb;0078&rsqb;</number> a gas flow detection circuit for outputting a voltage signal representing a gas flow passing through a gas passage; </paragraph>
<paragraph id="P-0079" lvl="3"><number>&lsqb;0079&rsqb;</number> an adjust circuit for adjusting the voltage output of the gas flow detection circuit; </paragraph>
<paragraph id="P-0080" lvl="3"><number>&lsqb;0080&rsqb;</number> a storage device for storing data for adjustment; and </paragraph>
<paragraph id="P-0081" lvl="3"><number>&lsqb;0081&rsqb;</number> a data input/output circuit; </paragraph>
<paragraph id="P-0082" lvl="3"><number>&lsqb;0082&rsqb;</number> wherein the data input/output circuit has two external data communication terminals for writing adjust data from outside into the storage device and for reading data from the storage device to the outside. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> With this arrangement, the gas flow meter can be made small in size. </paragraph>
<paragraph id="P-0084" lvl="2"><number>&lsqb;0084&rsqb;</number> (17) Preferably, the gas flow meter according to item (16), wherein the adjust circuit has a means which, after a predetermined number, two or more, of pulses have been supplied to one of the external data communication terminals of the data input/output circuit, allows the adjust circuit to enter into a data communication mode where it transfers data between the storage device and external circuits. With this arrangement, the adjust circuit can be prevented from undesirably entering into the data communication mode even when pulse noise is impressed during normal operation. </paragraph>
<paragraph id="P-0085" lvl="2"><number>&lsqb;0085&rsqb;</number> (18) Preferably, a gas flow meter comprising: </paragraph>
<paragraph id="P-0086" lvl="3"><number>&lsqb;0086&rsqb;</number> a gas flow detection circuit for outputting a voltage signal representing a gas flow passing through a gas passage; </paragraph>
<paragraph id="P-0087" lvl="3"><number>&lsqb;0087&rsqb;</number> an adjust circuit for adjusting the voltage output of the gas flow detection circuit; and </paragraph>
<paragraph id="P-0088" lvl="3"><number>&lsqb;0088&rsqb;</number> a storage device for storing data for adjustment; </paragraph>
<paragraph id="P-0089" lvl="3"><number>&lsqb;0089&rsqb;</number> wherein the adjust circuit retrieves as the output signal of the detected gas flow a ratiometric analog output, a non-ratiometric analog output and a digital output and selects one of these output signals by an output selection means provided in the adjust circuit. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> With this arrangement, a single gas flow meter can cope with a variety of output specifications and contribute to standardization and reduction in manufacturing cost. </paragraph>
<paragraph id="P-0091" lvl="2"><number>&lsqb;0091&rsqb;</number> (19) Preferably, the gas flow meter according to item (18), wherein circuits for producing the ratiometric analog output, the non-ratiometric analog output and the digital output are formed on the same integrated circuit. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> With this arrangement, the circuit can be reduced in size. </paragraph>
<paragraph id="P-0093" lvl="2"><number>&lsqb;0093&rsqb;</number> (20) Preferably, the gas flow meter according to item (16) or (18), wherein the external data communication terminals serve as a detected flow output terminal. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> With this arrangement, the gas flow meter can be reduced in size. </paragraph>
<paragraph id="P-0095" lvl="2"><number>&lsqb;0095&rsqb;</number> (21) Preferably, a gas flow meter comprising: </paragraph>
<paragraph id="P-0096" lvl="3"><number>&lsqb;0096&rsqb;</number> a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a generated voltage and outputting a voltage signal representing a gas flow passing through the gas passage; </paragraph>
<paragraph id="P-0097" lvl="3"><number>&lsqb;0097&rsqb;</number> a digital conversion circuit for converting the detected gas flow into a digital signal; and </paragraph>
<paragraph id="P-0098" lvl="3"><number>&lsqb;0098&rsqb;</number> a digital adjust circuit for digitally adjusting the digital signal and outputting the adjusted digital signal; </paragraph>
<paragraph id="P-0099" lvl="3"><number>&lsqb;0099&rsqb;</number> wherein a voltage signal based on the digital signal adjusted by the digital adjust circuit is output, and </paragraph>
<paragraph id="P-0100" lvl="3"><number>&lsqb;0100&rsqb;</number> the digital conversion circuit has a means for selecting either a single-phase input or a differential input. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> With this arrangement, the adjust circuit can deal with either a gas flow detection circuit with a single-phase output or a gas flow detection circuit with a differential output </paragraph>
<paragraph id="P-0102" lvl="2"><number>&lsqb;0102&rsqb;</number> (22) Preferably, a gas flow meter comprising: </paragraph>
<paragraph id="P-0103" lvl="3"><number>&lsqb;0103&rsqb;</number> a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a voltage generated across the resistor and outputting a voltage signal representing a gas flow passing through the gas passage; </paragraph>
<paragraph id="P-0104" lvl="3"><number>&lsqb;0104&rsqb;</number> a digital conversion circuit for converting the detected gas flow into a digital signal; </paragraph>
<paragraph id="P-0105" lvl="3"><number>&lsqb;0105&rsqb;</number> a digital adjust circuit for digitally adjusting the digital signal and outputting the adjusted digital signal; and </paragraph>
<paragraph id="P-0106" lvl="3"><number>&lsqb;0106&rsqb;</number> an analog conversion circuit for receiving the adjusted digital signal and converting it into an analog signal; </paragraph>
<paragraph id="P-0107" lvl="3"><number>&lsqb;0107&rsqb;</number> wherein the analog conversion circuit is driven by a voltage based on an external reference voltage and a voltage follower circuit is arranged between a reference voltage terminal and a power supply terminal which drives the analog conversion circuit. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> With this arrangement, the digital-analog converter can be operated even when the current supplied from the external reference voltage is small.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is an outline circuit configuration of a gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is an outline circuit configuration of a noise reduction circuit applied to a gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is an outline circuit configuration of an overvoltage protection circuit used in a gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is an example of a voltage limiter circuit used in the overvoltage protection circuit according to the present invention. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is an outline circuit configuration of the overvoltage protection circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is an outline circuit configuration of the overvoltage protection circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is an example of a diode used in the overvoltage protection circuit according to the present invention. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is an outline circuit configuration of the overvoltage protection circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is an outline circuit configuration of the overvoltage protection circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is an example output characteristic of a gas detection circuit of the gas flow meter. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is an example input/output characteristic of an adjust circuit of the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is an example of an adjusted output characteristic of the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is an error of the adjusted output characteristic of the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a flow chart representing an adjustment calculation used by the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a diagram showing a principle of the adjustment calculation used by the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is an outline circuit configuration of the adjust circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is an example of a temperature sensor circuit. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is an example of a regulator circuit. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference>A and <cross-reference target="DRAWINGS">FIG. 19B</cross-reference> are examples of temperature-characteristic-adjusted output characteristics of the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is an outline circuit configuration of the adjust circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is an outline circuit configuration of a data communication input/output circuit and a sensor output circuit, both used in the gas flow meter of the present invention. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is an outline timing chart for terminals of the data communication input/output circuit of <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is an outline circuit configuration of a data communication input/output circuit and a sensor output circuit, both used in the gas flow meter of the present invention. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is an outline circuit configuration of a power supply circuit unit for a digital-analog converter circuit used in the gas flow meter according to the present invention. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> is a schematic diagram showing an example of the flow detection circuit. </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> is a schematic diagram showing an example of the flow detection circuit. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is a schematic diagram showing an example of the flow detection circuit. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is an example outline circuit configuration of a conventional overvoltage protection circuit. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is a table showing comparison between an example analog adjustment system and an example digital adjustment system of the adjust circuit in the gas flow meter.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE EMBODIMENTS </heading>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> Now, the configurations of a gas flow meter, an integrated circuit and an adjust circuit according to the present invention will be described in detail by referring to the embodiments shown in the accompanying drawings. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a configuration of the gas flow meter as a first embodiment of the invention. This configuration comprises a gas flow detection circuit <highlight><bold>10</bold></highlight>, a digital adjust circuit <highlight><bold>20</bold></highlight>, a regulator <highlight><bold>30</bold></highlight> and a noise reduction circuit <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> The gas flow detection circuit <highlight><bold>10</bold></highlight> outputs a voltage signal representing a gas flow passing through a gas passage. The gas flow detection circuit <highlight><bold>10</bold></highlight> may be a gas flow detection circuit DECT<highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 21</cross-reference> which detects a current flowing through a resistor arranged in the gas passage or a voltage across the resistor and outputs a voltage signal representing the gas flow passing through the gas passage. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> The voltage output is supplied to the digital adjust circuit <highlight><bold>20</bold></highlight>. In an example configuration of the digital adjust circuit <highlight><bold>20</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference>B, the voltage output from the flow detection circuit is converted by an analog-digital converter AD<highlight><bold>1</bold></highlight> into a digital value, which is processed by a digital processor CALC to adjust a zero point and a span. The adjusted zero point and span are converted into an analog signal by a digital-analog converter DA to produce an analog output corresponding to a desired gas flow. The gas flow meter also has the regulator <highlight><bold>30</bold></highlight> which drives these analog-digital converter AD, digital processor CALC and digital-analog converter DA, and produces a reference voltage for the analog-digital converter AD and the digital-analog converter DA. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> The noise reduction circuit <highlight><bold>100</bold></highlight> is a circuit to reduce surges, overvoltages and high frequency noise and to supply a stable power supply voltage. A part of the digital adjust circuit <highlight><bold>20</bold></highlight> uses C-MOSs that may be damaged by surges or overvoltages or operate undesirably due to high frequency electromagnetic noise generated by a variety of electronic devices. Hence, the power supply terminal of the digital adjust circuit is connected to the noise reduction circuit <highlight><bold>100</bold></highlight> through the regulator. A part or all of the digital adjust circuit <highlight><bold>20</bold></highlight> may use bipolar transistors, and the noise reduction circuit <highlight><bold>100</bold></highlight> may be connected to various circuits in the gas flow meter. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the noise reduction circuit <highlight><bold>100</bold></highlight> comprises an overvoltage protection circuit <highlight><bold>101</bold></highlight> for protecting the gas flow detection circuit <highlight><bold>10</bold></highlight> and the digital adjust circuit <highlight><bold>20</bold></highlight> from surges and overvoltages impressed on the power supply terminal VBB, and a high frequency noise reduction circuit <highlight><bold>102</bold></highlight> for reducing high frequency noise. The noise reduction circuit <highlight><bold>100</bold></highlight> supplies a regulated power supply voltage with reduced overvoltages, surges and high frequency noise via two or more terminals to circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> such as gas flow detection circuit and adjust circuit. When minimum voltages required by the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> differ, the voltages supplied through the voltage supply terminals need only be differentiated. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> Next, the overvoltage protection circuit, a part of the noise reduction circuit <highlight><bold>100</bold></highlight>, will be described by referring to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> The overvoltage protection circuit <highlight><bold>103</bold></highlight> comprises a voltage limiter circuit <highlight><bold>110</bold></highlight>, two current limiting resistors Ra, Rb, and diodes D<highlight><bold>2</bold></highlight>, D<highlight><bold>3</bold></highlight>. The overvoltage protection circuit <highlight><bold>103</bold></highlight> receives a DC power (VB) from a car battery not shown via the power supply terminal VBB and the ground terminal GND and then supplies an overvoltage-protected DC power to the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> connected to the two voltage supply terminals Vcc<highlight><bold>1</bold></highlight>, Vcc<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> The voltage limiter circuit <highlight><bold>110</bold></highlight>, when the voltage exceeds a predetermined value, turns on to pass a current. This circuit has current limiting resistors connected in series to clip an overvoltage such as surge voltage impressed between the power supply terminal VBB and the ground terminal GND to absorb an overvoltage energy. </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> The voltage limiter circuit <highlight><bold>110</bold></highlight> may use a circuit which, for example, has a certain number of Zener diodes ZD<highlight><bold>1</bold></highlight>-ZDn connected in series, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, and also an Nch D-MOS M added to them. In this configuration, the group of Zener diodes ZD<highlight><bold>1</bold></highlight>-ZDn, when applied with a voltage higher than a predetermined level, is turned on to turn on the Nch D-MOS M to pass a surge current. This arrangement can reduce the size of the Zener diodes through which almost no current flows, thus contributing a reduction in the circuit size. The Nch D-MOS of the voltage limiter circuit <highlight><bold>110</bold></highlight> may be replaced with a bipolar transistor, or the voltage limiter circuit may be formed by using only Zener diodes. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> Returning to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the diode D<highlight><bold>3</bold></highlight> prevents a current from the resistor Rb from flowing into the circuit Ld<highlight><bold>1</bold></highlight> or a current from the resistor Ra from flowing into the circuit Ld<highlight><bold>2</bold></highlight> and also has a function of supplying different supply voltages from the voltage supply terminals Vcc<highlight><bold>1</bold></highlight>, Vcc<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> The diode D<highlight><bold>3</bold></highlight> uses a bipolar transistor with its base and emitter connected, as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. This arrangement allows the diode to be fabricated in the same step that the bipolar transistor is made, thus reducing the number of manufacturing steps. </paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> Here, suppose that resistance Ra is larger Ad than resistance Rb. When a positive surge voltage, against which the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> are to be protected, is impressed between the power supply terminal VBB and the ground terminal GND, a surge current flows mainly through the current limiting resistor Rb and the voltage limiter circuit <highlight><bold>110</bold></highlight>, thus protecting the circuit Ld<highlight><bold>2</bold></highlight> from the surge. Because of the diode D<highlight><bold>3</bold></highlight>, the voltage at the voltage supply terminal Vcc<highlight><bold>1</bold></highlight> is almost equal to that of the voltage supply terminal Vcc<highlight><bold>2</bold></highlight>, thus protecting the circuit LD<highlight><bold>1</bold></highlight>, too, from the surge. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> When a negative surge voltage is applied, the surge current flows through the diode D<highlight><bold>2</bold></highlight> and the current limiting resistor Rb, thus protecting the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> from the surge. </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> Another configuration of the overvoltage protection circuit <highlight><bold>104</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. This configuration has the diode D<highlight><bold>2</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 3</cross-reference> reconnected at the position of the diode D<highlight><bold>1</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> When a positive surge voltage, against which the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> are to be protected, is applied between the power supply terminal VBB and the-ground terminal GND, the surge current flows mainly through the current limiting resistor Rb and the voltage limiter circuit <highlight><bold>110</bold></highlight>, protecting the Ld<highlight><bold>2</bold></highlight> from the surge. The diode D<highlight><bold>3</bold></highlight> renders the voltage at the voltage supply terminal Vcc<highlight><bold>1</bold></highlight> almost equal to that of the voltage supply terminal Vcc<highlight><bold>2</bold></highlight>, also protecting the circuit Ld<highlight><bold>1</bold></highlight> from the surge. </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> As for the negative surge, the surge current flows through the diodes D<highlight><bold>1</bold></highlight>, D<highlight><bold>3</bold></highlight> and the current limiting resistor Rb, protecting the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> from the surge. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> Another configuration of the overvoltage protection circuit <highlight><bold>105</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. This configuration has a voltage limiter circuit <highlight><bold>111</bold></highlight> and a diode D<highlight><bold>1</bold></highlight> connected in series with a current limiting resistor Ra, as opposed to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, and has a Zener diode ZD connected between the voltage supply terminals Vcc<highlight><bold>1</bold></highlight> and Vcc<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> If a positive surge voltage, against which the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> are to be protected, is applied between the power supply terminal VBB and the ground terminal GND, the surge current flows mainly through the current limiting resistor Rb, the Zener diode ZD and the voltage limiter circuit <highlight><bold>111</bold></highlight>, thus protecting the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> from the surge. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> As for a negative surge, the surge current flows through the diode D<highlight><bold>1</bold></highlight>, the Zener diode ZD and the current limiting resistor Rb, thus protecting the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> from the surge. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> Still another configuration of the overvoltage protection circuit <highlight><bold>106</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. This overvoltage protection circuit <highlight><bold>106</bold></highlight> comprises voltage limiter circuits <highlight><bold>110</bold></highlight>, <highlight><bold>111</bold></highlight>, two current limiting resistors Ra, Rb, and diodes D<highlight><bold>1</bold></highlight>, D<highlight><bold>2</bold></highlight>. The overvoltage protection circuit <highlight><bold>106</bold></highlight> receives a DC power from a car battery not shown through the power supply terminal VBB and the ground terminal GND and supplies an overvoltage-protected DC power to the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> connected to the voltage supply terminals Vcc<highlight><bold>1</bold></highlight>, Vcc<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> It is assumed that the minimum voltages and minimum currents required for the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight> differ. The current limiting resistors Ra, Rb normally cause voltage drops as the current flows through the circuits Ld<highlight><bold>1</bold></highlight>, Ld<highlight><bold>2</bold></highlight>. By increasing the resistances of the current limiting resistors Ra, Rb within the minimum required supply voltage range for the circuit Ld<highlight><bold>1</bold></highlight> and circuit Ld<highlight><bold>2</bold></highlight>, the voltage limiter circuit can be reduced in size, which in turn contributes to a reduction in the overall circuit size. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> The present invention is suitably applied to a circuit of a gas flow meter that has a digital adjust circuit in particular. One such example is shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. Here, the overvoltage protection circuit has the configuration <highlight><bold>103</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. As the circuit Ld<highlight><bold>1</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, an operational amplifier OP<highlight><bold>1</bold></highlight>, a part of the gas flow detection circuit DECT<highlight><bold>1</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 25</cross-reference>, is connected. As the circuit of Ld<highlight><bold>2</bold></highlight>, a regulator REG is connected that supplies a reference voltage to various parts of the circuit of the gas flow meter. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> The operational amplifier OP<highlight><bold>1</bold></highlight> controls a power transistor Tr<highlight><bold>1</bold></highlight>, so the current to be supplied to the operational amplifier OP<highlight><bold>1</bold></highlight> may be small (suppose it is about 1.5 mA) but a relatively high voltage is needed to drive the power transistor Tr<highlight><bold>1</bold></highlight>. For example, even when the battery voltage is low and the voltage at the power supply terminal VBB is 6 V as during the starting of a car engine, an output of approximately 5.5 V must be able to be produced. As for the regulator REG which supplies voltage to the analog-digital converter AD<highlight><bold>1</bold></highlight> of the digital adjust circuit type (b) shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference>, digital processor CALC and digital-analog converter DA, although the current to be supplied to the regulator REG is relatively large (suppose it is about 15 mA), it needs only to produce an output of 5 V at all times even when the voltage at the power supply terminal VBB falls to 6 V. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> Suppose the overvoltage protection circuit has a configuration shown in <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. When an overvoltage-protected voltage is supplied from one voltage supply terminal to both the operational amplifier OP<highlight><bold>1</bold></highlight> and the regulator REG, the resistance of the current limiting resistor R needs to have 30 ohm from the requirement that the supply voltage is 5.5 V and the supply current is 16.5 mA when the voltage at the power supply terminal VBB is 6 V. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> In the overvoltage protection circuit <highlight><bold>103</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, the resistance can be made larger than in the general overvoltage protection circuit of <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. That is, under the condition that the current limiting resistor Ra causes a voltage drop of 0.5 V or less when a current of 1.5 mA flows and that the current limiting resistor Rb causes a voltage drop of 1 V or less when a current of 15 mA flows, the resistor Ra may be set to 250 ohm and the resistor Rb to 50 ohm, for example. Because the current, or energy, flowing through the voltage limiter circuit <highlight><bold>110</bold></highlight> is reduced, the electrical withstandability required also decreases, making it possible to reduce the voltage limiter circuit <highlight><bold>110</bold></highlight>. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> Further, a part or all of the devices contained in these overvoltage protection circuit, flow detection circuit DECT and digital adjust circuit may be integrated into the same IC circuit by using the BCD (bipolar, C-MOS, D-MOS) process to reduce the size and manufacturing cost. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> The configuration of the overvoltage protection circuit according to the present invention can be applied in the similar manner if the number of voltage supply terminals Vcc increases to three or more. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> Next, the accuracy enhancement in adjusting the sensor output characteristic will be explained by referring to <cross-reference target="DRAWINGS">FIG. 10</cross-reference> through <cross-reference target="DRAWINGS">FIG. 13</cross-reference> for a case of an example adjustment calculation of the present invention, as compared with a conventional adjustment that adjusts only the zero point and the span. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows a gas flow versus output voltage characteristic of the flow detection circuit DECT. The output voltage is adjusted by the adjust circuit to become a narrow line A, an ideal flow-output characteristic, in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> First, in a conventional example (2) represented by a dotted line in which only the zero point and span are adjusted, the adjustment calculation formula in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> used by the adjust circuit is a linear relationship irrespective of the voltage value entered. When, by using the input/output characteristic of this adjust circuit, the flow-output voltage characteristic of the flow detection circuit in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is adjusted, the characteristic will be as shown by a curve (2) in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. An error from the ideal output characteristic is shown at (2) in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. In an example of adjustment calculation according to the present invention (1), as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the input/output characteristic of the adjust circuit has its input range of voltage signal divided in two and defines different adjustment calculation formulas in different divided ranges A, B (in this example, the simplest first-degree equations). Adjusting the flow-output voltage characteristic of the flow detection circuit of <cross-reference target="DRAWINGS">FIG. 10</cross-reference> by using the input/output characteristic of this adjust circuit results in a curve (1) of <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. When the error from the ideal output (A) is shown superimposed on the conventional case (2) in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, it is seen that the adjustment error (1) is reduced. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> While in this example the input range of voltage signal entered is divided in two, the simplest division number, it is possible to increase the division number and define an adjustment calculation formula in each divided range for further reduction in the adjustment error. For example, when it is divided into four, the characteristic curve will be as shown at (3) in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. The adjustment calculation formula of second or higher degree may be used to reduce the adjustment error. This, however, raises a problem of an increased circuit size and, in digital calculation, a longer calculation time. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> Further, although in this example the error is discussed as a characteristic of a quadratic function, this invention can be applied to those errors that are characteristics of a third- (or higher) degree function by increasing the division number to reduce the adjustment error. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> Such an adjust circuit can easily be realized by constructing the adjust circuit in a digital form. An example of the digital adjust circuit is shown in (b) of <cross-reference target="DRAWINGS">FIG. 29</cross-reference>. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> This digital adjust circuit converts the voltage output of the flow detection circuit DECT<highlight><bold>1</bold></highlight>, DECT<highlight><bold>2</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 25</cross-reference> and <cross-reference target="DRAWINGS">FIG. 26</cross-reference> into a digital value by the analog-digital converter AD<highlight><bold>1</bold></highlight>, adjusts the output characteristic by the digital processor CALC, and produces an analog output by the digital-analog converter DA. Programs for controlling the digital processor CALC and for adjustment calculation, adjustment coefficients for adjustment calculations, and data temporarily stored during calculation are stored in a storage device MEM, such as read only memory ROM, programmable read only memory PROM, electrically erasable &amp; programmable read only memory EEPROM, and random access memory RAM. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> For an arbitrary function y&equals;f(x) that can be differentiated, when a is a constant and &verbar;x-a&verbar; is very small, the function can be expressed, from the theorem of average value, as f(x)&equals;f(a)&plus;f&prime;(a)(x-a). That is, in a very small range of x an arbitrary function can be replaced with a first-degree function. </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> If we let</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Dout&equals;f</italic></highlight>(<highlight><italic>Din</italic></highlight>)&emsp;&emsp;(1)</in-line-formula></paragraph>
<paragraph id="P-0175" lvl="7"><number>&lsqb;0175&rsqb;</number> then, for each small range of Din, the equation (1) can be rewritten as</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Dout&equals;A&middot;Din&plus;B</italic></highlight>&emsp;&emsp;(2)</in-line-formula></paragraph>
<paragraph id="P-0176" lvl="7"><number>&lsqb;0176&rsqb;</number> However, because it is not realistic to give a linear equation for all Din and because almost the same linear equation adjustment calculation formula can be used in some Din ranges, the axis of Din is divided into n segments at dividing points Din(<highlight><bold>1</bold></highlight>), Din(<highlight><bold>2</bold></highlight>), . . . , Din(n). For each divided segment, the following linear equation adjustment calculation formula is given:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Dout</mi>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mi>A</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>1</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mi>B</mi>
                    <mo>&af;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mn>1</mn>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>1</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                    <mo>&lt;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mi>A</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mi>B</mi>
                    <mo>&af;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mn>2</mn>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                    <mo>&lt;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>3</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>M</mi>
              </mtd>
              <mtd>
                <mi>M</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mi>A</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>n</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mi>B</mi>
                    <mo>&af;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mi>n</mi>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>n</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030004666A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="42.9786" file="US20030004666A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> A calculation flow chart based on the above formula is shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>. First, from Din entered into the digital processor CALC, a search is made for k that satisfies Din(k)&lt;Din&lE;Din(k&plus;1). Next, coefficients A(k) and B(k) are retrieved from the storage device MEM and the calculation is performed by the digital processor CALC according to the adjustment calculation formula (3) to adjust the output. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> Here, it is assumed that the number of dividing points n is 2 raised to the ith power. The digital value Din is expressed in m-bit binary number (m&equals;n&plus;1 or more). As for the dividing point, high order i bits are arbitrary values and the remaining low order (m&minus;i) bits are all 0. That is, Din(k) is</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>i </italic></highlight>bits (<highlight><italic>m&minus;i</italic></highlight>) bits</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Din</italic></highlight>(<highlight><bold>1</bold></highlight>)&equals;000 00 . . . 00</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Din</italic></highlight>(<highlight><bold>1</bold></highlight>)&equals;001 00 . . . 00</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula>. . .</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Din</italic></highlight>(<highlight><italic>n</italic></highlight>)&equals;111 00 . . . 00&emsp;&emsp;(4)</in-line-formula></paragraph>
<paragraph id="P-0179" lvl="7"><number>&lsqb;0179&rsqb;</number> That is, the division intervals are equal. To adjust the sensor output, if the high order i bits of Din are k (binary notation), then the Din will always be</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Din</italic></highlight>(<highlight><italic>k</italic></highlight>)&lE;<highlight><italic>Din&lE;Din</italic></highlight>&emsp;&emsp;(<highlight><italic>k&plus;</italic></highlight>1)</in-line-formula></paragraph>
<paragraph id="P-0180" lvl="7"><number>&lsqb;0180&rsqb;</number> Hence, the coefficients of the adjustment calculation formula are A(k) and B(k). That is, what is required is to retrieve A(k) and B(k) having high order i bits of Din as label from the storage device and to perform the adjustment calculation by the digital processor CALC. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> With this retrieval method, the search time does not change even when the division number increases. This method therefore is particularly effective where the number of divisions is large. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> As for the measurement during the adjustment of the gas flow meter before the adjustment value is written, there is no need to take measurements at all n measuring points and it is possible to take measurements at arbitrary points, determine n adjustment coefficients A(k) and B(k) by interpolation and write them. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> A straight line for linear approximation using this uniform division has a relationship as shown in a graph of <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. That is, by using the remaining low order (m&minus;i) bits excluding the high order i bits used for retrieval in some segments of Din, the following adjustment calculation formula (5) can be used to reduce the possibility of overflow.</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Dout&equals;A&middot;</italic></highlight>(lower order (<highlight><italic>m&minus;i</italic></highlight>) bits of <highlight><italic>Din</italic></highlight>)&plus;<highlight><italic>B</italic></highlight>&emsp;&emsp;(5)</in-line-formula></paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> There is a fourth-degree relationship as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> between the flow Q and the voltage output V produced by the current detection resistor Rc of the gas flow detection circuit DECT. If a necessity arises to produce a linear output characteristic as defined by V&prop;Q, it is possible to increase the number of divisions and represent the fourth-degree equation by a linear approximation. In the case of this gas flow meter, the error between the fourth-degree equation and the linear approximation is about 3% for 16 divisions, about 0.8% for 32 divisions, about 0.2% for 64 divisions, and about 0.05% for 128 divisions. Increasing the division number. naturally reduces the error produced by the linear approximation of the quartic equation and approaches a linear output characteristic for the flow Q. Considering the error tolerated for the output characteristic of the gas flow meter, the division number is preferably 32 or more. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> Next, the adjustment of a temperature characteristic will be explained. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> A temperature characteristic of the gas flow meter, i.e., changes in output characteristic due to temperature variations, may be classified largely into two types: an intake air temperature characteristic in which a circuit board temperature remains constant while the gas temperature changes; and a circuit board temperature characteristic in which the gas temperature remains constant while the circuit board temperature changes (also called a module temperature characteristic). Here let us explain about the adjustment of the circuit board temperature characteristic. As for the intake air temperature characteristic, the output variations can be minimized by appropriately setting resistances of the heating resistor Rh and gas temperature measuring resistor Rc in the gas flow detection circuit DECT<highlight><bold>1</bold></highlight>, a resistor temperature coefficient (TCR), and resistances of resistors R<highlight><bold>1</bold></highlight>, R<highlight><bold>2</bold></highlight>. The intake air temperature characteristic has a flow dependency and is difficult to eliminate completely. So, by deliberately providing the circuit board temperature characteristic with a reverse characteristic for the intake air temperature characteristic, the overall temperature characteristic for the gas flow meter can be set to zero. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> The circuit board temperature characteristic is mainly determined by a temperature characteristic of the output voltage of the regulator that supplies a reference voltage to the analog-digital converter AD and the digital-analog converter DA. </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> An outline configuration of the circuit for adjusting the temperature characteristic is shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. Added to the digital adjust circuit shown in (b) of <cross-reference target="DRAWINGS">FIG. 29</cross-reference> in order to adjust the temperature characteristic are a temperature sensor TS and an analog-digital converter AD<highlight><bold>2</bold></highlight> for converting the output of the temperature sensor into a digital value. The converted digital value is entered into the digital processor CALC. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> The temperature sensor TS necessary for the adjustment of a temperature characteristic is arranged close to the regulator that has a temperature characteristic. An example configuration of the temperature sensor is shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, in which a constant current source IS and one to several diodes D are used. When three diodes are connected in series, for example, the output changes with temperature variations at a rate of about &minus;6 to &minus;5 mV/&deg; C. exhibiting a good linearity. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> Further, if the supply voltage of the regulator is set to change linearly with respect to temperature variations, the temperature adjustment needs only to have a linear expression. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> Such a regulator can be realized by using a band gap reference power supply circuit (band gap voltage source circuit). The outline configuration of this circuit is shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. The regulator has two diode-connected transistors Q<highlight><bold>1</bold></highlight>, Q<highlight><bold>2</bold></highlight>, an operational amplifier OP<highlight><bold>3</bold></highlight>, and resistors R<highlight><bold>7</bold></highlight>, R<highlight><bold>8</bold></highlight>, R<highlight><bold>9</bold></highlight>. By using the operational amplifier OP<highlight><bold>3</bold></highlight>, the currents flowing through the transistors Q<highlight><bold>1</bold></highlight>, Q<highlight><bold>2</bold></highlight> can be made to have a constant ratio determined by the resistances of resistors R<highlight><bold>8</bold></highlight>, R<highlight><bold>9</bold></highlight>. At this time, the output voltage of the operational amplifier OP<highlight><bold>3</bold></highlight> stabilizes in such a way that the sum of the base-emitter voltage of the transistor Q<highlight><bold>2</bold></highlight> and the voltage drop of the resistor R<highlight><bold>7</bold></highlight> is equal to the base-emitter voltage of the transistor Q<highlight><bold>1</bold></highlight>. The voltage drop of the resistor R<highlight><bold>7</bold></highlight> is equal to the difference in the base-emitter voltage between the transistor Q<highlight><bold>2</bold></highlight> and the transistor Q<highlight><bold>1</bold></highlight> and is proportional to a thermal voltage V<highlight><subscript>T</subscript></highlight>&equals;kT/q. So, the currents flowing through the resistors R<highlight><bold>8</bold></highlight>, R<highlight><bold>9</bold></highlight> and the transistors Q<highlight><bold>2</bold></highlight>, Q<highlight><bold>1</bold></highlight> have a linear positive temperature characteristic. Generally the base-emitter voltage has a negative temperature characteristic. Hence, the reference voltage, which is an output of the band gap reference power supply circuit and equal to the sum of the base-emitter voltages of the transistors Q<highlight><bold>2</bold></highlight>, Q<highlight><bold>1</bold></highlight> and the voltage drop of the resistor R<highlight><bold>7</bold></highlight> proportional to the thermal voltage V<highlight><subscript>T</subscript></highlight>, can set a linear temperature coefficient by changing the resistances of the resistors R<highlight><bold>7</bold></highlight>, R<highlight><bold>8</bold></highlight>, R<highlight><bold>9</bold></highlight>. In practice, elements in the band gap reference power supply circuit have slightly non-linear temperature coefficients, so the output voltage of this reference power supply circuit has a characteristic slightly non-linear for temperature variations on the high temperature side. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> Since the output of the temperature sensor TS and the supply voltage of the regulator that supplies a reference voltage have a linear temperature characteristic for the temperature variations, the temperature characteristic adjustment needs only to add a linear temperature adjustment term to the adjustment terms of A and B in the adjustment calculation formula (2) for Din. That is, the temperature characteristic adjustment can be given by the following equation (6) with a, b, c and d as coefficients.</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Dout</italic></highlight>&equals;(<highlight><italic>a&middot;Dtepm&plus;b</italic></highlight>)&middot;<highlight><italic>Din&plus;</italic></highlight>(<highlight><italic>c&middot;Dtemp&plus;d</italic></highlight>)&emsp;&emsp;(6)</in-line-formula></paragraph>
<paragraph id="P-0193" lvl="7"><number>&lsqb;0193&rsqb;</number> The adjustment calculation formula therefore is given as follows by combining and rewriting the equations (3) and (4) with a(k), b(k), c(k) and d(k) as coefficients.  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Dout</mi>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mrow>
                            <mrow>
                              <mrow>
                                <mi>a</mi>
                                <mo>&af;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mn>1</mn>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                              <mo>&CenterDot;</mo>
                              <mi>D</mi>
                            </mrow>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>t</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>e</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>m</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>p</mi>
                          </mrow>
                          <mo>+</mo>
                          <mrow>
                            <mi>b</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mn>1</mn>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <mrow>
                          <mrow>
                            <mi>c</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mn>1</mn>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&CenterDot;</mo>
                          <mi>D</mi>
                        </mrow>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>t</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>e</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>m</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>p</mi>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <mi>d</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>1</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>1</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                    <mo>&lt;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mrow>
                            <mrow>
                              <mrow>
                                <mi>a</mi>
                                <mo>&af;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mn>2</mn>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                              <mo>&CenterDot;</mo>
                              <mi>D</mi>
                            </mrow>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>t</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>e</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>m</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>p</mi>
                          </mrow>
                          <mo>+</mo>
                          <mrow>
                            <mi>b</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mn>2</mn>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <mrow>
                          <mrow>
                            <mi>c</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mn>2</mn>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&CenterDot;</mo>
                          <mi>D</mi>
                        </mrow>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>t</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>e</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>m</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>p</mi>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <mi>d</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>2</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                    <mo>&lt;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mn>3</mn>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>&vellip;</mi>
              </mtd>
              <mtd>
                <mi>&vellip;</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mrow>
                            <mrow>
                              <mrow>
                                <mi>a</mi>
                                <mo>&af;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mi>n</mi>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                              <mo>&CenterDot;</mo>
                              <mi>D</mi>
                            </mrow>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>t</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>e</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>m</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>p</mi>
                          </mrow>
                          <mo>+</mo>
                          <mrow>
                            <mi>b</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>n</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>&CenterDot;</mo>
                      <mi>D</mi>
                    </mrow>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>i</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <mrow>
                          <mrow>
                            <mi>c</mi>
                            <mo>&af;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>n</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&CenterDot;</mo>
                          <mi>D</mi>
                        </mrow>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>t</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>e</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>m</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>p</mi>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <mi>d</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>n</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mrow>
                        <mi>n</mi>
                        <mo>&af;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>n</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>&leq;</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>i</mi>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mi>n</mi>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030004666A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="274.11615" he="43.91415" file="US20030004666A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> To adjust the output of the sensor, a search is made for k that satisfies Din(k)&lE;Din &lt;Din(k&plus;1) as in the flow chart of <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, coefficients in the adjustment calculation formula a(k), b(k), c(k) and d(k) are retrieved from the storage device, and the calculation is performed by the digital processor CALC according to the adjustment calculation formula (7) to adjust the output. </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> To further simplify the adjustment for temperature variations, the adjustment calculation formula (6) may be replaced with the following formula with C and D as coefficients.</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Dout&equals;</italic></highlight>(<highlight><italic>C&middot;Dtemp&plus;D</italic></highlight>)&middot;(<highlight><italic>A&middot;Din&plus;B</italic></highlight>)&emsp;&emsp;(8)</in-line-formula></paragraph>
<paragraph id="P-0196" lvl="7"><number>&lsqb;0196&rsqb;</number> This formula first performs the adjustment calculation related to the flow before performing the adjustment calculation for the temperature. </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> Further, because the regulator has a slightly non-linear temperature characteristic, the calculation formula may be changed according to the output value of the temperature sensor as in the flow adjustment, in order to improve the adjustment accuracy for the temperature characteristic. An example of this method is shown in <cross-reference target="DRAWINGS">FIGS. 19A and 19B</cross-reference>. A case (a) where the calculation formula is changed according to the output value of the temperature sensor (here, the temperature range is divided in two) is compared with another case (b) where one adjustment formula is applied over the entire output range. Here it is assumed that the input value to the adjust circuit is constant, i.e., the intake air temperature characteristic is zero and the flow is constant. The adjustment calculation formulas are shown in <cross-reference target="DRAWINGS">FIG. 19A</cross-reference> for the temperature characteristic of the regulator shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. From <cross-reference target="DRAWINGS">FIG. 19</cross-reference>B, which shows the output characteristics after being adjusted based on the temperature characteristic, it is seen that the error is reduced. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> The calculation formula for the temperature characteristic adjustment may be of second-degree or higher. It is also possible to add a gas temperature sensor and an analog-digital converter and perform the adjustment calculation similar to the above to adjust the intake air temperature characteristic. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> If rewritable storage devices such as EEPROM are used for storing the adjustment coefficients, gas flow meters can be taken out from unused motor vehicles and the output specifications changed to enable their use on various types of motor vehicles. In the present manufacturing process, the adjustment procedure involves first supplying a gas before adjustment, determining the amount of adjustment on the output characteristic, performing the adjustment, and then verifying the characteristic. If an EEPROM is used, it is written with an adjustment coefficient in advance and only those gas flow meters that failed the characteristic verification test need to be adjusted again. That is, the use of the EEPROM enhances the level of reuse and offers the advantage of reducing the manufacturing cost. </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> A digital adjust circuit as shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is also possible. This circuit is almost similar to that of <cross-reference target="DRAWINGS">FIG. 16</cross-reference> except that the differential output type flow detection circuit DECT<highlight><bold>3</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is connected to the analog-digital converter AD<highlight><bold>1</bold></highlight>. Further, this circuit has a group of switches SWS to switch between a single-phase input and a differential input so that the flow detection circuits DECT<highlight><bold>1</bold></highlight>, DECT<highlight><bold>2</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 25</cross-reference> and <cross-reference target="DRAWINGS">FIG. 26</cross-reference> can also be connected. Further, a frequency output circuit FC is also added as an output circuit. The adjustment calculation can be performed in the similar manner. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> Next, <cross-reference target="DRAWINGS">FIG. 21</cross-reference> shows one embodiment of a circuitry according to this invention which is capable of reducing the number of flow signal output terminals used in the gas flow meter and the number of input/output terminals used for data communication with the storage device in which adjustment data is written; of outputting as a flow signal output of the gas flow meter one of a ratiometric analog output, a non-ratiometric analog output and a digital output; and of reducing the number of terminals by commonly using an electric path as a data communication input/output path and a flow signal output path. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> An output circuit <highlight><bold>201</bold></highlight> comprises mainly a digital-analog converter DA, a frequency output circuit FC, and switches SW<highlight><bold>1</bold></highlight>, SW<highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> A digital value produced by the digital processor CALC performing the adjustment calculation is entered into the digital-analog converter DA and the frequency output circuit FC. The digital-analog converter DA converts the received digital value into an analog voltage output. A reference used in generating this analog voltage output is a voltage supplied to the digital-analog converter DA. This voltage is switched by the switch SW<highlight><bold>2</bold></highlight> between a voltage generated by an electronic circuit in the gas flow meter and a voltage supplied from outside to a ratiometric reference voltage terminal <highlight><bold>232</bold></highlight> (e.g., a reference voltage of an analog-digital converter in an automotive engine control unit) to enable selection between the non-ratiometric voltage output and the ratio metric output. The frequency output circuit FC outputs the received digital value as a desired digital output. An analog voltage output and a digital output are selected by the switch SW<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> The switching operation of these switches SW<highlight><bold>1</bold></highlight>, SW<highlight><bold>2</bold></highlight> is carried out according to data in the storage device MEM which can be written during sensor adjustment. </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> A data input/output circuit <highlight><bold>202</bold></highlight> for transferring data between the outside of the gas flow meter and the storage device MEM into which the adjustment coefficients and the switching setting are written during the sensor adjustment, mainly comprises: a data conversion circuit I/O for converting the number of bits (8 or 16 bits) of data in the integrated circuit and one-bit data used during data transfer to and from the external circuits; a direction signal output circuit DIR for outputting a DIRECTION signal indicating whether the data conversion circuit I/O inputs or outputs data; a clock detection circuit CDECT for detecting a clock signal supplied to a CLOCK terminal; and a switch SW<highlight><bold>4</bold></highlight> for selecting whether a data signal is to be entered into or output from the data conversion circuit I/O according to the signal from the direction signal output circuit DIR. </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> The detection signal from the clock detection circuit CDECT is entered into the data conversion circuit I/O which is activated by the signal. If a switch SW<highlight><bold>3</bold></highlight> is added which is operated according to the detection signa<highlight><bold>1</bold></highlight>, it is possible to combine the flow signal output path and the data input/output path into one path in the integrated circuit. To ensure that pulse noise to the CLOCK terminal will not undesirably operate the switch SW<highlight><bold>3</bold></highlight>, the detection signal is output only after a predetermined number of pulses are entered to the clock detection circuit CDECT. </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> shows an example of data timing chart when data is input and output. When a CLOCK signal <highlight><bold>251</bold></highlight> is supplied to the CLOCK terminal, the clock detection circuit CDECT is operated to generate a START signal <highlight><bold>252</bold></highlight>. The switch SW<highlight><bold>3</bold></highlight> is operated by the START signal <highlight><bold>252</bold></highlight>. The DIRECTION signal <highlight><bold>253</bold></highlight> is turned on or off by a predetermined number of clock pulses. The DIRECTION signal <highlight><bold>253</bold></highlight> operates the switch SW<highlight><bold>4</bold></highlight> to change the direction of data flow, i.e., to select between a DATA IN signal <highlight><bold>254</bold></highlight> and a DATA OUT signal <highlight><bold>255</bold></highlight>. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> shows another embodiment of a circuitry according to this invention which is capable of reducing the number of flow signal output terminals used in the gas flow meter and the number of input/output terminals used for communication with the storage device in which adjustment data is written; of outputting as a sensor output one of a ratiometric analog output, a non-ratiometric analog output and a pulse output; and of reducing the number of terminals by commonly using the terminals as communication input/output terminals and sensor output terminals. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> What is different from <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is that a VF conversion circuit VF for converting an analog voltage into a digital output is inserted at a stage downstream of the digital-analog converter DA and that the switch SW<highlight><bold>1</bold></highlight> selects between the analog voltage output and the digital output. The operation of this configuration is the same as that of <cross-reference target="DRAWINGS">FIG. 21</cross-reference> and thus its explanation is omitted. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> With this configuration, therefore, the connection terminals with the outside of the gas flow meter can be constructed of at least four terminals: a power supply terminal, a ground terminal, a common terminal for flow signal output and data input/output, and a data input/output terminal. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> If the maximum current supplied from the external reference voltage of the engine control unit is small, there is a possibility that simply connecting this external reference voltage directly to the digital-analog converter DA, which includes an amplifier circuit at an output stage and has a large current consumption, may fail to drive the digital-analog converter DA. To deal with this problem, a buffer circuit is inserted, as shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>, which has a power supply terminal of an operational amplifier OP<highlight><bold>4</bold></highlight> connected to a battery voltage not shown. With the input of the buffer circuit as a resistor, the buffer output is connected to the power supply terminal of the digital-analog converter DA to supply a current from the operational amplifier OP<highlight><bold>4</bold></highlight> to the digital-analog converter DA for operation. The load resistance Ri of the buffer circuit is set to about 10 kilo-ohm. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> The gas flow meter with a digital adjust circuit according to the present invention has an advantage that even if C-MOS devices not resistant to surges and overvoltages are used in the internal circuit, a high level of circuit integration and the use of digital circuitry can prevent failure or undesired operation. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> Further, the overvoltage protection circuit included in the electronic circuit noise reduction circuit in the gas flow meter has an advantage of being able to minimize a drop in the supply voltage from the voltage supply terminal due to a voltage drop caused by the current limiting resistor used in the overvoltage protection circuit. The voltage limiter circuit can also be reduced in size. </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> In the gas flow meter output characteristic adjustment calculation, because a predetermined first-degree adjustment calculation formula is selected for calculation according to an input value, the calculation time is short and a non-linear adjustment can be made. Further, the circuit board temperature adjustment can also be performed simultaneously. </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> Further, because one electric path is commonly used both for the flow signal output and for the data input/output, it is possible to cope with different flow signal output specifications calling for a ratiometric analog output, a non-ratiometric analog output or a digital output, without increasing the number of terminals. A further feature of this invention is that the digital-analog converter at the output stage can be driven even when the maximum current supplied from the external reference voltage is small. </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> It is therefore possible to provide an optimum integrated circuit and configuration when the gas flow meter circuit is integrated into a digital circuit to reduce the cost of the gas flow meter and enhance the accuracy of the output. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A gas flow meter comprising: 
<claim-text>a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a voltage generated across the resistor and outputting a voltage signal representing a gas flow passing through the gas passage; </claim-text>
<claim-text>a noise reduction circuit for reducing external noise; and </claim-text>
<claim-text>a digital adjusting circuit for digitally adjusting a signal representing the detected gas flow and outputting the adjusted signal; </claim-text>
<claim-text>wherein said gas flow meter outputs a voltage signal based on the signal adjusted by the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said digital adjusting circuit includes: 
<claim-text>a digital conversion circuit for converting an output from the gas flow detection circuit into a digital signal; </claim-text>
<claim-text>adjusting means for adjusting the digital signal to produce a desired output characteristic; and </claim-text>
<claim-text>a regulator circuit for supplying a reference voltage to the digital conversion circuit and/or the adjusting means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A gas flow meter comprising: 
<claim-text>a gas flow detection circuit for detecting a gas flow passing through a gas passage; </claim-text>
<claim-text>an adjusting circuit for adjusting an output characteristic of said gas flow meter to a desired output characteristic and outputting a gas flow signal; and </claim-text>
<claim-text>a noise reduction circuit including an overvoltage protection circuit and supplying to the gas flow detection circuit and the adjusting circuit a voltage whose surges and overvoltages applied to a power supply terminal are reduced; </claim-text>
<claim-text>wherein there are two or more voltage supply paths for supplying different voltages to the gas flow detection circuit and the adjusting circuit through the overvoltage protection circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein in one of the voltage supply paths for supplying a voltage having reduced surges and overvoltages to various circuits, a voltage limiter circuit that turns on when applied with a voltage in excess of a predetermined voltage is connected between a voltage supply terminals and a ground terminal and a current limiting resistor is connected between the power supply terminal and the voltage supply terminals; 
<claim-text>in the other voltage supply path, another current limiting resistor is connected between the power supply terminal and the voltage supply terminals; and </claim-text>
<claim-text>an overvoltage protection circuit is provided in which a diode is connected between each of the voltage supply terminals. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein in all of said voltage supply paths for supplying a voltage having reduced surges and overvoltages to various circuits, a voltage limiter circuit that turns on when applied with a voltage in excess of a predetermined voltage is connected between voltage supply terminals and a ground terminal and a current limiting resistor is connected between the power supply terminal and the voltage supply terminals; and 
<claim-text>an overvoltage protection circuit is provided in which the current limiting resistors connected to the respective voltage supply terminals have different resistance values. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, further including an overvoltage protection circuit having an additional diode connected between the voltage supply terminals and the ground terminal. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, further including an overvoltage protection circuit having an additional diode connected between the voltage supply terminals and the ground terminal. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein a part or all of devices included in said overvoltage protection circuit, said gas flow detection circuit and said adjusting circuit are formed in a common integrated circuit. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein two voltage supply paths are provided; and 
<claim-text>a circuit connected to a higher supply voltage is an operational amplifier in the gas flow detection circuit and a circuit connected to a lower supply voltage is a regulator that supplies a voltage to the digital adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A gas flow meter comprising: 
<claim-text>a gas flow detection circuit for outputting a voltage signal representing a gas flow passing through a gas passage; and </claim-text>
<claim-text>an adjusting circuit for adjusting the voltage output from the gas flow detection circuit; </claim-text>
<claim-text>wherein an input range of the voltage signal entered into the adjusting circuit is divided in two or more and, in each divided range, a different adjustment calculation formula is set in advance; </claim-text>
<claim-text>wherein said gas flow meter further comprises means for selecting the adjustment calculation formula according to an input value of the voltage signal entered into the adjusting circuit and performing adjustment calculation to produce an output value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein the adjusting circuit is a digital adjusting circuit which digitally adjusts the signal representing the detected gas flow and outputs the adjusted signal. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein the adjusting circuit has input/output characteristics represented by each of the adjustment calculation formulas expressed as a first-degree function of y&equals;a&middot;x&plus;b where x is an output value of the gas flow detection circuit, i.e., input value for the adjustment calculation, y is an output of the adjustment calculation, and a and b are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the adjusting circuit has input/output characteristics represented by each of the adjustment calculation formulas expressed as a first-degree function of y&equals;a&middot;x&plus;b where x is an output value of the gas flow detection circuit, i.e., input value for the adjustment calculation, y is an output of the adjustment calculation, and a and b are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, further including: 
<claim-text>a temperature sensor; and </claim-text>
<claim-text>a digital conversion circuit for converting an output of the temperature sensor into a digital value; </claim-text>
<claim-text>wherein said adjusting circuit also uses the output of the temperature sensor in performing the adjustment calculation. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, further including: 
<claim-text>a temperature sensor; and </claim-text>
<claim-text>a digital conversion circuit for converting an output of the temperature sensor into a digital value; </claim-text>
<claim-text>wherein said adjusting circuit also uses the output of the temperature sensor in performing the adjustment calculation. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, further including: 
<claim-text>a temperature sensor; and </claim-text>
<claim-text>a digital conversion circuit for converting an output of the temperature sensor into a digital value; </claim-text>
<claim-text>wherein said adjusting circuit also uses the output of the temperature sensor in performing the adjustment calculation. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, further including: 
<claim-text>a temperature sensor; and </claim-text>
<claim-text>a digital conversion circuit for converting an output of the temperature sensor into a digital value; </claim-text>
<claim-text>wherein said adjusting circuit also uses the output of the temperature sensor in performing the adjustment calculation. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, wherein said adjusting circuit has an input/output characteristic expressed by</claim-text>
<claim-text><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>a</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;a</italic></highlight><highlight><bold>2</bold></highlight>)&middot;<highlight><italic>x&plus;</italic></highlight>(<highlight><italic>b</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;b</italic></highlight><highlight><bold>2</bold></highlight>)</in-line-formula></claim-text>
<claim-text>where x is an output value of the gas flow detection circuit, t is an output value of the temperature sensor, and a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein said adjusting circuit has an input/output characteristic expressed by</claim-text>
<claim-text><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>a</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;a</italic></highlight><highlight><bold>2</bold></highlight>)&middot;<highlight><italic>x&plus;</italic></highlight>(<highlight><italic>b</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;b</italic></highlight><highlight><bold>2</bold></highlight>)</in-line-formula></claim-text>
<claim-text>where x is an output value of the gas flow detection circuit, t is an output value of the temperature sensor, and a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein said adjusting circuit has an input/output characteristic expressed by</claim-text>
<claim-text><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>a</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;a</italic></highlight><highlight><bold>2</bold></highlight>)&middot;<highlight><italic>x&plus;</italic></highlight>(<highlight><italic>b</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;b</italic></highlight><highlight><bold>2</bold></highlight>)</in-line-formula></claim-text>
<claim-text>where x is an output value of the gas flow detection circuit, t is an output value of the temperature sensor, and a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said adjusting circuit has an input/output characteristic expressed by</claim-text>
<claim-text><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>a</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;a</italic></highlight><highlight><bold>2</bold></highlight>)&middot;<highlight><italic>x&plus;</italic></highlight>(<highlight><italic>b</italic></highlight><highlight><bold>1</bold></highlight>&middot;<highlight><italic>t&plus;b</italic></highlight><highlight><bold>2</bold></highlight>)</in-line-formula></claim-text>
<claim-text>where x is an output value of the gas flow detection circuit, t is an output value of the temperature sensor, and a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are adjustment coefficients. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein said adjusting circuit includes a programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference> or <highlight><bold>13</bold></highlight>, wherein the adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, wherein said adjusting circuit includes an erasable and programmable storage device wherein the adjustment coefficients a, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, b, b<highlight><bold>1</bold></highlight> and b<highlight><bold>2</bold></highlight> are written into. </claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. A gas flow meter comprising: 
<claim-text>an adjusting circuit for adjusting a voltage output of a gas flow detection circuit which outputs a voltage signal representing a gas flow passing through a gas passage; </claim-text>
<claim-text>a storage device for storing data for adjustment; and </claim-text>
<claim-text>a data input/output circuit; </claim-text>
<claim-text>wherein said data input/output circuit has two external data communication terminals for writing adjust data from outside into said storage device and for reading data from said storage device to the outside. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00039">
<claim-text><highlight><bold>39</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, further comprising means which, after a predetermined number, two or more, of pulses have been supplied to one of the external data communication terminals of the data input/output circuit, allows the adjust circuit to enter into a data communication mode where it transfers data between the storage device and external circuits. </claim-text>
</claim>
<claim id="CLM-00040">
<claim-text><highlight><bold>40</bold></highlight>. A gas flow meter comprising: 
<claim-text>an adjusting circuit for adjusting a voltage output of a gas flow detection circuit which outputs a voltage signal representing a gas flow passing through a gas passage; and </claim-text>
<claim-text>a storage device for storing data for adjustment; </claim-text>
<claim-text>wherein said adjusting circuit retrieves as the output signal of the detected gas flow a ratiometric analog output, a non-ratiometric analog output and a digital output and selects one of these output signals by an output selection means provided in the adjusting circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00041">
<claim-text><highlight><bold>41</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00044">claim 40</dependent-claim-reference>, wherein said circuits for producing the ratiometric analog output, the non-ratiometric analog output and the digital output are formed on a same integrated circuit. </claim-text>
</claim>
<claim id="CLM-00042">
<claim-text><highlight><bold>42</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, wherein the external data communication terminals serve as a detected flow output terminal. </claim-text>
</claim>
<claim id="CLM-00043">
<claim-text><highlight><bold>43</bold></highlight>. The gas flow meter according to <dependent-claim-reference depends_on="CLM-00044">claim 40</dependent-claim-reference>, wherein the external data communication terminals serve as a detected flow output terminal. </claim-text>
</claim>
<claim id="CLM-00044">
<claim-text><highlight><bold>44</bold></highlight>. A gas flow meter comprising: 
<claim-text>a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a generated voltage and outputting a voltage signal representing a gas flow passing through the gas passage; </claim-text>
<claim-text>a digital conversion circuit for converting the detected gas flow into a digital signal; and </claim-text>
<claim-text>a digital adjusting circuit for digitally adjusting the digital signal and outputting the adjusted digital signal; </claim-text>
<claim-text>wherein a voltage signal based on the digital signal adjusted by said digital adjusting circuit is output, and </claim-text>
<claim-text>the digital conversion circuit has means for selecting either a single-phase input or a differential input. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00045">
<claim-text><highlight><bold>45</bold></highlight>. A gas flow meter comprising: 
<claim-text>a gas flow detection circuit for detecting a current flowing through a resistor installed in a gas passage and a voltage generated across the resistor and outputting a voltage signal representing a gas flow passing through the gas passage; </claim-text>
<claim-text>a digital conversion circuit for converting the detected gas flow into a digital signal; </claim-text>
<claim-text>a digital adjusting circuit for digitally adjusting the digital signal and outputting the adjusted digital signal; and </claim-text>
<claim-text>an analog conversion circuit for receiving the adjusted digital signal and converting it into an analog signal; </claim-text>
<claim-text>wherein said analog conversion circuit is driven by a voltage based on an external reference voltage and a voltage follower circuit is arranged between a reference voltage terminal and a power supply terminal which drives said analog conversion circuit.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004666A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004666A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004666A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004666A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004666A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004666A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004666A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004666A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004666A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004666A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004666A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004666A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004666A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004666A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004666A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030004666A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030004666A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030004666A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030004666A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030004666A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030004666A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
