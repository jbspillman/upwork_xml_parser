<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001586A1-20030102-M00001.NB SYSTEM "US20030001586A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00001.TIF SYSTEM "US20030001586A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00002.NB SYSTEM "US20030001586A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00002.TIF SYSTEM "US20030001586A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00003.NB SYSTEM "US20030001586A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00003.TIF SYSTEM "US20030001586A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00004.NB SYSTEM "US20030001586A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00004.TIF SYSTEM "US20030001586A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00005.NB SYSTEM "US20030001586A1-20030102-M00005.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00005.TIF SYSTEM "US20030001586A1-20030102-M00005.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00006.NB SYSTEM "US20030001586A1-20030102-M00006.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00006.TIF SYSTEM "US20030001586A1-20030102-M00006.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00007.NB SYSTEM "US20030001586A1-20030102-M00007.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00007.TIF SYSTEM "US20030001586A1-20030102-M00007.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00008.NB SYSTEM "US20030001586A1-20030102-M00008.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00008.TIF SYSTEM "US20030001586A1-20030102-M00008.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00009.NB SYSTEM "US20030001586A1-20030102-M00009.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00009.TIF SYSTEM "US20030001586A1-20030102-M00009.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00010.NB SYSTEM "US20030001586A1-20030102-M00010.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00010.TIF SYSTEM "US20030001586A1-20030102-M00010.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00011.NB SYSTEM "US20030001586A1-20030102-M00011.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00011.TIF SYSTEM "US20030001586A1-20030102-M00011.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00012.NB SYSTEM "US20030001586A1-20030102-M00012.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00012.TIF SYSTEM "US20030001586A1-20030102-M00012.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00013.NB SYSTEM "US20030001586A1-20030102-M00013.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00013.TIF SYSTEM "US20030001586A1-20030102-M00013.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00014.NB SYSTEM "US20030001586A1-20030102-M00014.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00014.TIF SYSTEM "US20030001586A1-20030102-M00014.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00015.NB SYSTEM "US20030001586A1-20030102-M00015.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00015.TIF SYSTEM "US20030001586A1-20030102-M00015.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00016.NB SYSTEM "US20030001586A1-20030102-M00016.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00016.TIF SYSTEM "US20030001586A1-20030102-M00016.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00017.NB SYSTEM "US20030001586A1-20030102-M00017.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00017.TIF SYSTEM "US20030001586A1-20030102-M00017.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00018.NB SYSTEM "US20030001586A1-20030102-M00018.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00018.TIF SYSTEM "US20030001586A1-20030102-M00018.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00019.NB SYSTEM "US20030001586A1-20030102-M00019.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00019.TIF SYSTEM "US20030001586A1-20030102-M00019.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00020.NB SYSTEM "US20030001586A1-20030102-M00020.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00020.TIF SYSTEM "US20030001586A1-20030102-M00020.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00021.NB SYSTEM "US20030001586A1-20030102-M00021.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00021.TIF SYSTEM "US20030001586A1-20030102-M00021.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00022.NB SYSTEM "US20030001586A1-20030102-M00022.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00022.TIF SYSTEM "US20030001586A1-20030102-M00022.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00023.NB SYSTEM "US20030001586A1-20030102-M00023.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00023.TIF SYSTEM "US20030001586A1-20030102-M00023.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00024.NB SYSTEM "US20030001586A1-20030102-M00024.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00024.TIF SYSTEM "US20030001586A1-20030102-M00024.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00025.NB SYSTEM "US20030001586A1-20030102-M00025.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00025.TIF SYSTEM "US20030001586A1-20030102-M00025.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00026.NB SYSTEM "US20030001586A1-20030102-M00026.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00026.TIF SYSTEM "US20030001586A1-20030102-M00026.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00027.NB SYSTEM "US20030001586A1-20030102-M00027.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00027.TIF SYSTEM "US20030001586A1-20030102-M00027.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00028.NB SYSTEM "US20030001586A1-20030102-M00028.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00028.TIF SYSTEM "US20030001586A1-20030102-M00028.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00029.NB SYSTEM "US20030001586A1-20030102-M00029.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00029.TIF SYSTEM "US20030001586A1-20030102-M00029.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00030.NB SYSTEM "US20030001586A1-20030102-M00030.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00030.TIF SYSTEM "US20030001586A1-20030102-M00030.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-M00031.NB SYSTEM "US20030001586A1-20030102-M00031.NB" NDATA NB>
<!ENTITY US20030001586A1-20030102-M00031.TIF SYSTEM "US20030001586A1-20030102-M00031.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-D00000.TIF SYSTEM "US20030001586A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-D00001.TIF SYSTEM "US20030001586A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001586A1-20030102-D00002.TIF SYSTEM "US20030001586A1-20030102-D00002.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001586</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09947009</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20010904</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G01R035/00</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G01R031/08</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>324</class>
<subclass>527000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Line diagnostics for wireline modems</title-of-invention>
</technical-information>
<continuity-data>
<non-provisional-of-provisional>
<document-id>
<doc-number>60284659</doc-number>
<document-date>20010417</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Nirmal</given-name>
<family-name>Warke</family-name>
</name>
<residence>
<residence-us>
<city>Dallas</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>TEXAS INSTRUMENTS INCORPORATED</name-1>
<name-2></name-2>
<address>
<address-1>P O BOX 655474, M/S 3999</address-1>
<city>DALLAS</city>
<state>TX</state>
<postalcode>75265</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A modem with built-in transmission line diagnostic capability is presented. Said built-in line diagnostics are capable of determining said transmission line&apos;s length and detecting the presence of any bridge taps. Said built-in diagnostics have an advantage of not requiring any specialized or expensive hardware and can be added to an existing modem without significant redesign work. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application claims priority to the provisional application Serial No. 60/284,659 entitled &ldquo;Line Diagnostics for Wireline Modems&rdquo;, filed Apr. 17, 2001, which provisional application is incorporated herein by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> This invention relates generally to data communications over transmission lines, and particularly to determining transmission line characteristics using transmission line devices attached to the transmission line. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Digital transmission techniques are becoming the preferred transmission method of choice for high-speed data/voice/multimedia communications for both business and consumer applications. Digital transmission techniques have been used to obtain 56 kilobits per second (kbps) over plain old telephone service (POTS) lines and a different digital transmission technique is providing data rates exceeding a megabit per second (Mbps) over the same POTS lines. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> However, not every arbitrary transmission line will be able to support these high data rates and restrictions on transmission line quality and length are required. For example, in Asymmetric Digital Subscriber Line (ADSL) applications, individual transmission lines (twisted-pair in the case of ADSL) generally cannot be greater than 19,000 feet (19 kft) in length and if bridge taps are present on the transmission line this maximum transmission line length reduces further. A bridge tap is a commonly used way for attaching additional circuits to an existing transmission line. In a home application, bridge taps are used to provide multiple telephone extension lines from a single telephone line coming into the home. The presence of a bridge tap can significantly alter the spectral characteristics of the transmission line. While ADSL installations have been successful with transmission lines with lengths at or near 19 kft and in some cases with bridge taps, the performance is typically quite low and sable operation cannot be assured. Even simple adherence to the transmission line restrictions is not sufficient to ensure a successful installation. This may be due to interference from external sources, such as far-end and near-end crosstalk, AM radio, and in-home appliances with electrical motors. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> A typical installation scenario involves an end-user, desiring a high-speed connection to the Internet, placing a telephone call to a local service provider and requesting service. From the end-user&apos;s telephone number and perhaps his address, the local service provider can determine if a high-speed connection is potentially available to the end-user. If the end-user resides in a boundary area (an area where transmission line lengths are approximately equal to the maximum allowed line length) where a definitive YES or NO answer cannot be given, the service provider may perform a simple diagnostic probe of the end-user&apos;s transmission line (for ADSL, the end-user&apos;s telephone line) to determine the end-user&apos;s loop characteristics. Even if the diagnostic probe has determined that a high-speed connection is possible, i.e., the line length is within allowable limits, it does not necessarily mean that a high-speed connection can be established. A system using a transmission line that is at the upper limit of the maximum allowed length is extraordinarily sensitive to external interference and the service provider would not be able to determine functionality until a modem is actually in place at the end-user&apos;s home and a connection attempted. Even an end-user who is using a short transmission line may not be ensured a certain quality of service if his transmission line is of particularly poor quality. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Many techniques have been presented in the past for determining the length and spectral characteristics of a transmission line. One commonly used technique is time domain reflectometry (TDR). In TDR, a test pulse or a test waveform is transmitted down the transmission line and any reflections from an impedance discontinuity or defect in the transmission line along with the time it takes for the pulse to reach the discontinuity and return is recorded. The location of the discontinuity is calculated from the elapsed time and the type and magnitude of the discontinuity is determined from the distortion of the test pulse. TDR is a highly sensitive technique that can reveal not only major defects, such as open or short circuits, but also minute variations, such as impedance variations, frayed shields and bridge taps. TDR however, requires special and usually expensive test equipment and trained operators to properly perform the tests and interpret the results. Additionally, integrating TDR into existing communications devices is very difficult and typically involves a complete device redesign. Hence, time domain reflectometry is usually only performed from the service provider&apos;s end of the connection and not at the end-user&apos;s end. TDR is therefore not a method that the typical end-user can use to self-diagnose problems on his or her high data-rate connection. A need has therefore arisen for a way to diagnose a transmission line without requiring specialized equipment and training. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In one aspect, the present invention provides an apparatus for performing diagnostics on a transmission line, said apparatus comprising a test signal generator coupled to the transmission line for injecting test signals onto the transmission line, a signal calculating circuit with an input coupled to the transmission line for measuring and calculating spectral characteristics of the transmission line, an equivalent line length calculator coupled to the signal measuring circuit for calculating the equivalent line length of the transmission line using the spectral characteristics of the transmission line, a cost function calculator coupled to the signal measuring circuit for calculating a cost function using the spectral characteristics of the transmission line, and a bridge tap detector, coupled to the cost function calculator for determining the presence of a bridge tap by comparing the output of the cost function calculator with a threshold.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The above features of the present invention will be more clearly understood from consideration of the following descriptions in connection with accompanying drawings in which: </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates a data connection between an end-user and a service provider via a transmission line; </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram illustrating a typical transmission line with bridge taps; </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference>.<highlight><italic>a </italic></highlight>is a flow diagram displaying a source diagnostic device&apos;s operation; </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference>.<highlight><italic>b </italic></highlight>is a flow diagram displaying a destination diagnostic device&apos;s operation; </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference>.<highlight><italic>a </italic></highlight>is a block diagram illustrating steps in calculating an equivalent line length using information gathered during a transmission line diagnostic; </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference>.<highlight><italic>b </italic></highlight>is a block diagram illustrating steps in determining the presence of a bridge tap using information gathered during a transmission line diagnostic; and </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a data plot illustrating actual channel responses for transmission lines of varying length and with bridge taps.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> The making and use of the various embodiments are discussed below in detail. However, it should be appreciated that the present invention provides many applicable inventive concepts which can be embodied in a wide variety of specific contexts. The specific embodiments discussed are merely illustrative of specific ways to make and use the invention, and do not limit the scope of the invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> A modem allows a remote user through the use of a computer or a computer network to connect to another computer or computer network via a connection that is normally not part of a computer network, such as a telephone line, a video cable, or a power line. A voice-band modem uses standard telephone lines as a low-speed data transmission line and an ADSL modem also uses the telephone lines as a high-speed data transmission line. The modems permit users to connect to a remote network over a transmission line (the telephone line) that does not usually function as a network connection (a telephone line normally carries voice). As more complex transmission methods are used, a set of technical specifications defining the physical, electrical, and spectral characteristics of the transmission lines used in transmitting the more complex transmission methods becomes more stringent. For example, in the case of ADSL, the telephone line cannot be longer than 19,000 feet (19 kft) in length when measured from the modem to a central office and the presence of any bridge taps can severely reduce the maximum transmission line length or it may even prevent the establishment of a connection. ADSL is a digital data connection and transmission technology and is used in these specifications to facilitate discussion of the present invention. ADSL is not the only technology with which this present invention is applicable and the use of ADSL in the discussion should not be construed to limit this invention&apos;s application to ADSL. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Refer now to <cross-reference target="DRAWINGS">FIG. 1</cross-reference> for a diagram illustrating a typical remote end-user connection to a service provider via a transmission line. A digital device <highlight><bold>100</bold></highlight> is connected to a customer premise equipment (CPE) <highlight><bold>110</bold></highlight> which is connected to a central office (CO) <highlight><bold>120</bold></highlight> via a transmission line <highlight><bold>130</bold></highlight>. The digital device <highlight><bold>100</bold></highlight> may be a personal computer (PC), an Internet appliance, a personal digital assistant (PDA), or any device capable of receiving digital data. The CPE <highlight><bold>110</bold></highlight> can be a voice-band modem, an ADSL modem, a cable modem, or any other type of device that is capable of modulating (demodulating) a data signal and transmits (receives) that modulated signal over the transmission line <highlight><bold>130</bold></highlight> to (from) another device connected at the other end of the transmission line <highlight><bold>130</bold></highlight>. The CO <highlight><bold>120</bold></highlight> has a compatible device connected at its end to receive (transmit) the modulated signal from (to) the CPE <highlight><bold>110</bold></highlight>. The CO <highlight><bold>120</bold></highlight> may contain on its premises a computer or a network of computers that communicates with the CPE <highlight><bold>110</bold></highlight> or it may simply be a connection into a larger network <highlight><bold>140</bold></highlight>, such as a private corporate network or the Internet. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> As previously stated, the higher the speed of the data connection, the greater the restrictions placed on the transmission line <highlight><bold>130</bold></highlight>. Referring now to <cross-reference target="DRAWINGS">FIG. 2</cross-reference> for a diagram illustrating a typical transmission line <highlight><bold>130</bold></highlight> with bridge taps. Two common restrictions placed on transmission lines are the overall length of the transmission line and the prohibition of bridge taps. For ADSL, the overall length is simply the length of the transmission line between the CO <highlight><bold>120</bold></highlight> and the CPE <highlight><bold>110</bold></highlight>. The transmission line <highlight><bold>130</bold></highlight> displayed in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a plain old telephone system (POTS) line with several extension lines (<highlight><bold>210</bold></highlight>, <highlight><bold>215</bold></highlight>, <highlight><bold>220</bold></highlight>, etc.) hanging from the main transmission line <highlight><bold>130</bold></highlight>. Each one of the extension lines is connected to the main transmission line <highlight><bold>130</bold></highlight> with a bridge tap. Bridge taps are not limited to extension lines and may appear in the middle of a transmission line to provide a second transmission line for another application. However, the bridge taps that are closest to the ends of a transmission line have the most effect on the performance of the transmission line <highlight><bold>130</bold></highlight>. Connected to the bridge tap <highlight><bold>210</bold></highlight> is a CPE, in this case, a modem <highlight><bold>230</bold></highlight>. Connected to another bridge tap is a telephone <highlight><bold>240</bold></highlight>. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> Since the present invention has application with both analog (voice band) and digital modems, the modem <highlight><bold>230</bold></highlight> displayed in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> may be either an analog or a digital modem. Should the modem <highlight><bold>230</bold></highlight> be an analog modem, an inline filter (not shown) is needed prior to the modem <highlight><bold>230</bold></highlight> to prevent high frequency signals such as signals from ADSL systems from entering the modem <highlight><bold>230</bold></highlight>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The problem with bridge taps being present on the transmission line <highlight><bold>130</bold></highlight> is that they can dramatically alter the spectral characteristics of the transmission line <highlight><bold>130</bold></highlight>, and the more bridge taps present in general the greater the impact on the transmission line&apos;s spectral characteristics. The impact of bridge taps on modem performance is so unpredictable, with their impact varying significantly depending on the bridge tap&apos;s length and the total number of bridge taps. Normally, if possible one would try to avoid the presence of bridge taps when installing ADSL. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> Historically, performing line diagnostics on transmission lines have required specialized equipment and trained operators. Line diagnostics using techniques such as time domain reflectometry (TDR) are beyond the abilities of the common end-user. This results in the end-user being at the mercy of the service provider when it comes to performing diagnostics on a troublesome transmission line. Refer now to <cross-reference target="DRAWINGS">FIGS. 3</cross-reference>.<highlight><italic>a </italic></highlight>and 3.<highlight><italic>b </italic></highlight>for flow diagrams illustrating the operation of a preferred embodiment of the present invention using a periodic test signal. Non-periodic test signals may be also be used, but the use of periodic test signals reduces the overall amount of processing required. A preferred embodiment of the present invention is a dual-ended line diagnostic, meaning that diagnostic devices are present at both ends of the transmission medium, having a source diagnostic device and a destination diagnostic device. The discussion of a preferred embodiment will assume that a first diagnostic device at the CO <highlight><bold>120</bold></highlight> is the source diagnostic device and a second diagnostic device at the CPE <highlight><bold>110</bold></highlight> is the destination diagnostic device, however, the process is similar if the CPE <highlight><bold>110</bold></highlight> was the source diagnostic device. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> In the preferred embodiment of the present invention, the diagnostic devices are implemented in software that executes on the modem&apos;s digital signal processor. The incremental computational complexity in implementing the present invention on the ADSL modem is minimal due to the fact that the required signal and noise information required by the invention would already be estimated by the modem for determining the channel SNR and the corresponding connect rate it can support. The software may be implemented on various types of processors, from a dedicated application specific IC (ASIC) to a general purpose DSP to a general-purpose microprocessor. However, the preferred embodiment of the present invention may also be implemented in dedicated hardware with its associated firmware. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> In the preferred embodiment of the present invention, a source diagnostic device is contained wholly within the CO <highlight><bold>120</bold></highlight>, typically a modem. The source diagnostic device initiates the diagnostics by sending a test signal (block <highlight><bold>305</bold></highlight>) to the CPE <highlight><bold>110</bold></highlight> via the transmission line <highlight><bold>130</bold></highlight>. In an ADSL system, the test signal must be converted into a transmitted test signal via an inverse Fast Fourier Transform <highlight><bold>300</bold></highlight> prior to being injected into the transmission line <highlight><bold>130</bold></highlight>. The inverse Fast Fourier Transform <highlight><bold>300</bold></highlight> converts the test signal that is in the frequency domain into a time domain signal, making it suitable for transmission. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The test signal transmitted on the transmission line may be a single pulse, a sequence of pulses, or a more complex test signal. In an ADSL system, the preferred test signal is the REVERB signal, which is defined in the ADSL standard (as specified in &ldquo;Asymmetrical digital subscriber line (ADSL) transceivers,&rdquo; ITU-T G.992.1, July 1999) as a periodic, wide-bandwidth, spectrally flat signal with pseudo-random noise characteristics. Another preferred test signal for an ADSL system is the MEDLEY signal, which is defined in the ADSL standard as a wide-bandwidth, spectrally flat pseudo-random signal that has a period spanning several data frames. Any other particular implementation of a pseudo-random signal can be used. The use of a signal such as the REVERB signal has several advantages, including: a wide signal bandwidth that covers the entire frequency band of interest; a pseudo-random noise behavior that enables the accurate estimation of signal and noise power; and periodicity that permits averaging over several periods to eliminate the effects of inter-symbol-interference (ISI) between transmitted data frames. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>.<highlight><italic>b, </italic></highlight>where at the CPE <highlight><bold>110</bold></highlight>, a destination diagnostic device receives the transmitted signal (block <highlight><bold>320</bold></highlight>) and calculates the characteristics of the transmission line, including an estimate of the signal power (block <highlight><bold>330</bold></highlight>), an estimate of the noise power variance (block <highlight><bold>335</bold></highlight>), and the square root of the frequency points (block <highlight><bold>340</bold></highlight>). In the preferred embodiment of the present invention, the calculation of the square root of the frequency points <highlight><bold>340</bold></highlight> occurred prior to the initiation of the line diagnostics and is stored in memory, due to the a priori knowledge of the desired frequency points. The square root of the frequency points is denoted x<highlight><subscript>i</subscript></highlight>. For example, in an ADSL system, there is a frequency point for each one of the 256 subcarriers capable of carrying data. For ADSL implementations, a Fast Fourier Transform <highlight><bold>325</bold></highlight> at the beginning of the receive signal path converts the received test signal back into the frequency domain. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The calculation of the estimated signal power <highlight><bold>330</bold></highlight> is performed by averaging the received test signal over several frames of data <highlight><bold>343</bold></highlight>, producing an average received test signal, and then calculating the square of the average received test signal <highlight><bold>346</bold></highlight> for each frequency point. The estimated signal power is then converted into decibels (dB) by block <highlight><bold>349</bold></highlight>. The estimated signal power in dB is denoted y<highlight><subscript>i</subscript></highlight>. The calculation of the estimated noise power <highlight><bold>335</bold></highlight> is performed by first subtracting (block <highlight><bold>353</bold></highlight>) the average received test signal (the output of block <highlight><bold>343</bold></highlight>) from the received test signal. The subtraction in block <highlight><bold>353</bold></highlight> eliminates the test signal component from the received signal, which really is comprised of the received test signal (transformed by the transmission line) plus noise. After the subtraction in block <highlight><bold>353</bold></highlight>, only the noise component remains. The frames of noise data are then squared <highlight><bold>356</bold></highlight> for each frequency point and then averaged together over several frames <highlight><bold>359</bold></highlight>. The estimated noise power is then converted into dB by block <highlight><bold>362</bold></highlight>. The estimated noise power in dB is denoted &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> In the preferred embodiment of the present invention, the estimated signal power and estimated noise power is calculated at each frequency point. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>.<highlight><italic>a </italic></highlight>for a block diagram illustrating the calculation of an equivalent line length, l. Using the estimated signal power (y<highlight><subscript>i</subscript></highlight>) and estimated noise power (&sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>) and the square root of frequency points (x<highlight><subscript>i</subscript></highlight>), the destination diagnostic device calculates the equivalent line length. It uses a mathematical formula shown below (derivation of the formula will be discussed later):  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mrow>
  <mi>l</mi>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mo>-</mo>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mi>&gamma;</mi>
          <mo>&CenterDot;</mo>
          <msub>
            <mi>K</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mfrac>
    </mrow>
    <mo>&CenterDot;</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>A</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <mo>&it;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>B</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mi>Den</mi>
    </mfrac>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030001586A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="29.9943" file="US20030001586A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0030" lvl="7"><number>&lsqb;0030&rsqb;</number> Where: </paragraph>
<paragraph id="P-0031" lvl="2"><number>&lsqb;0031&rsqb;</number> l&mdash;equivalent line length; </paragraph>
<paragraph id="P-0032" lvl="2"><number>&lsqb;0032&rsqb;</number> &ggr;&mdash;proportionality constant, depending on gauge of wire; </paragraph>
<paragraph id="P-0033" lvl="2"><number>&lsqb;0033&rsqb;</number> K<highlight><subscript>2</subscript></highlight>&mdash;proportionality constant, depending on wire;  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
  <mrow>
    <mrow>
      <mi>A</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mfrac>
          <mn>1</mn>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>;</mo>
  </mrow>
</math>
<math>
  <mrow>
    <mrow>
      <mi>B</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mfrac>
          <msub>
            <mi>x</mi>
            <mi>i</mi>
          </msub>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>;</mo>
    <mi>and</mi>
  </mrow>
</math>
<math>
  <mrow>
    <mi>Den</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mrow>
            <mo>&Sum;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
          </mrow>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mrow>
          <mfrac>
            <msubsup>
              <mi>x</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mn>1</mn>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mo>-</mo>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
    </mrow>
  </mrow>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030001586A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="69.1173" file="US20030001586A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0034" lvl="7"><number>&lsqb;0034&rsqb;</number> The mathematical formula provides an estimate of the length of the transmission line. The proportionality constant, &ggr;, is dependent on the type of the transmission line and for an ADSL system using 26 gauge twisted-pair, a typical value for &ggr; is 7.36&times;10<highlight><superscript>&minus;10</superscript></highlight>, while K<highlight><subscript>2 </subscript></highlight>is 20 log 10(e)&equals;8.6859. In another preferred embodiment of the present invention, the value of &ggr; can be stored in a look-up table with indexing based on transmission line type. The storage of &ggr; for different types of transmission lines provides a way to easily support line diagnostics for a wide variety of transmission line types. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> While shown above as a single equation, in the preferred embodiment of the present invention, the calculation of the equivalent line length is calculated in two steps. The partitioning of the calculation into two steps is to generate an intermediate value that is used in a later calculation. In a first step (block <highlight><bold>400</bold></highlight>), the destination diagnostic device evaluates the equation:  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>m</mi>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mrow>
                <mi>A</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <mo>&it;</mo>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>B</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mfrac>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
            </mrow>
            <mi>Den</mi>
          </mfrac>
        </mrow>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&NewLine;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mrow>
            <mrow>
              <mi>Where</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>A</mi>
            </mrow>
            <mo>=</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mfrac>
                <mn>1</mn>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mi>B</mi>
            <mo>=</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mrow>
                <mfrac>
                  <msub>
                    <mi>x</mi>
                    <mi>i</mi>
                  </msub>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>and</mi>
              </mrow>
            </mrow>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mi>Den</mi>
            <mo>=</mo>
            <mrow>
              <mrow>
                <munder>
                  <mrow>
                    <mo>&Sum;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                  </mrow>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mrow>
                  <mfrac>
                    <msubsup>
                      <mi>x</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                  <mo>&CenterDot;</mo>
                  <mrow>
                    <munder>
                      <mo>&Sum;</mo>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mfrac>
                      <mn>1</mn>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <munder>
                        <mo>&Sum;</mo>
                        <mi>i</mi>
                      </munder>
                      <mo>&it;</mo>
                      <mstyle>
                        <mtext>&emsp;</mtext>
                      </mstyle>
                      <mo>&it;</mo>
                      <mfrac>
                        <msub>
                          <mi>x</mi>
                          <mi>i</mi>
                        </msub>
                        <msubsup>
                          <mi>&sigma;</mi>
                          <mi>i</mi>
                          <mn>2</mn>
                        </msubsup>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mn>2</mn>
                </msup>
                <mo>.</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mi>i</mi>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030001586A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="79.91865" file="US20030001586A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Followed by a second step (block <highlight><bold>410</bold></highlight>), where the destination diagnostic device multiplies the result of the above expression (the output of block <highlight><bold>400</bold></highlight>) with  
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
<mrow>
  <mo>-</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <mi>&gamma;</mi>
        <mo>&CenterDot;</mo>
        <msub>
          <mi>K</mi>
          <mn>2</mn>
        </msub>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030001586A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="18.96615" file="US20030001586A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0037" lvl="7"><number>&lsqb;0037&rsqb;</number> The net result is l, the equivalent line length of the transmission line. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>.<highlight><italic>b </italic></highlight>for a block diagram displaying the determination of whether or not the transmission line has a bridge tap(s) connected to it. This operation is broken up into two stages, an evaluation of a cost function and a comparison of the value of the cost function with a threshold. The evaluation of the cost function involves fitting a curve (in this case, a straight line expressed as y&equals;mx&plus;c) through the estimated signal power data points. After fitting the curve (straight line in this case) through the points, the destination diagnostic device calculates the difference between the actual estimated signal power data points and the curve (straight line in this case). The difference between the estimated signal power data points and the curve (straight line in this case) fitted through the data points weighted inversely by the noise power is used in the evaluation of the cost function. The cost function is used to determine a number that describes the quality of the fit between the estimated signal power data points and the curve (straight line in this case) fitted through the estimated signal power data points. The destination diagnostic device uses a mathematical formula to calculate the cost function (for a straight line fit):  
<math-cwu id="MATH-US-00005">
<number>5</number>
<math>
<mrow>
  <mrow>
    <mi>J</mi>
    <mo>&it;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>c</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munderover>
      <mo>&Sum;</mo>
      <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mrow>
      <mi>N</mi>
    </munderover>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mfrac>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mi>i</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <mi>m</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>-</mo>
            <mi>c</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
      <msubsup>
        <mi>&sigma;</mi>
        <mi>i</mi>
        <mn>2</mn>
      </msubsup>
    </mfrac>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00005" file="US20030001586A1-20030102-M00005.NB"/>
<image id="EMI-M00005" wi="216.027" he="29.9943" file="US20030001586A1-20030102-M00005.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0039" lvl="7"><number>&lsqb;0039&rsqb;</number> Where: </paragraph>
<paragraph id="P-0040" lvl="2"><number>&lsqb;0040&rsqb;</number> y<highlight><subscript>i</subscript></highlight>&mdash;estimated signal power; </paragraph>
<paragraph id="P-0041" lvl="2"><number>&lsqb;0041&rsqb;</number> &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>&mdash;estimated noise power </paragraph>
<paragraph id="P-0042" lvl="2"><number>&lsqb;0042&rsqb;</number> x<highlight><subscript>i</subscript></highlight>&mdash;square root of frequency; </paragraph>
<paragraph id="P-0043" lvl="2"><number>&lsqb;0043&rsqb;</number> m&mdash;slope of fitted straight line, y&equals;mx&plus;c; and </paragraph>
<paragraph id="P-0044" lvl="2"><number>&lsqb;0044&rsqb;</number> c&mdash;the y intercept of fitted straight line, y&equals;mx&plus;c. </paragraph>
<paragraph id="P-0045" lvl="7"><number>&lsqb;0045&rsqb;</number> The cost function used in the preferred embodiment of the present invention, J(m, c), is a least squares minimization for a straight line fit. However, any other cost function can be used. The value of the cost function provides an idea of how tightly the estimated signal power data points fit to the straight line fitted through them. The smaller the value of the cost function, the better the fit. For example, if all of the estimated signal power data points lay on the fitted straight line, then the value of the cost function would be zero because there would be no difference between the estimated signal power data points and the straight line. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In the expression for the cost function, J(m, c), the numerator (y<highlight><subscript>i</subscript></highlight>&minus;m.x<highlight><subscript>i</subscript></highlight>&minus;c)<highlight><superscript>2 </superscript></highlight>is divided by a denominator &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>, the estimated noise power at frequency point x<highlight><subscript>i</subscript></highlight>. The estimated noise power, &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>, is small when the noise power at frequency point x<highlight><subscript>i </subscript></highlight>is small and large when the noise power at frequency point x<highlight><subscript>i </subscript></highlight>is large. By dividing by &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2</superscript></highlight>, the numerator is, in effect, weighed by the estimated noise power. If the estimated noise power at the frequency point is small, then the confidence in the estimated signal power at that frequency point is expected to be good and therefore the value of the cost function at that particular frequency should be weighed heavily. If the estimated noise power at the frequency point is large, then the confidence in the estimated signal power at that frequency is expected to be poor and therefore the value of the cost function at that particular frequency should be weighed lightly. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> Once again, the evaluation of the cost function is performed in multiple stages. In a first stage <highlight><bold>420</bold></highlight>, the value c is calculated using the equation:  
<math-cwu id="MATH-US-00006">
<number>6</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>c</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mfrac>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>-</mo>
                    <mrow>
                      <mi>m</mi>
                      <mo>&CenterDot;</mo>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
            <mrow>
              <munder>
                <mrow>
                  <mo>&Sum;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                </mrow>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mfrac>
                <mn>1</mn>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
          </mfrac>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mi>ii</mi>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00006" file="US20030001586A1-20030102-M00006.NB"/>
<image id="EMI-M00006" wi="216.027" he="42.0147" file="US20030001586A1-20030102-M00006.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0048" lvl="7"><number>&lsqb;0048&rsqb;</number> In a second stage, the actual cost function, J(m, c), is evaluated using the equation:  
<math-cwu id="MATH-US-00007">
<number>7</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>J</mi>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>m</mi>
              <mo>,</mo>
              <mi>c</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mrow>
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&it;</mo>
          <mrow>
            <mfrac>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>-</mo>
                    <mrow>
                      <mi>m</mi>
                      <mo>&CenterDot;</mo>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <mo>-</mo>
                    <mi>c</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mi>iii</mi>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00007" file="US20030001586A1-20030102-M00007.NB"/>
<image id="EMI-M00007" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00007.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The value of the cost function is then used to determine if a bridge tap(s) is present on the transmission line. The destination diagnostic device simply compares the value of the cost function with a threshold, &Ggr; (block <highlight><bold>440</bold></highlight>). If the cost function exceeds &Ggr;, then the transmission line has at least one bridge tap on it. Mathematically, this is expressible as:  
<math-cwu id="MATH-US-00008">
<number>8</number>
<math>
<mrow>
  <mrow>
    <mi>J</mi>
    <mo>&it;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>c</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <munderover>
        <mrow>
          <mo>&Sum;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
        </mrow>
        <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>N</mi>
      </munderover>
      <mo>&it;</mo>
      <mfrac>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <mo>-</mo>
              <mrow>
                <mi>m</mi>
                <mo>&CenterDot;</mo>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <mo>-</mo>
              <mi>c</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mfrac>
    </mrow>
    <mo>&gt;</mo>
    <mrow>
      <mi>&Gamma;</mi>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00008" file="US20030001586A1-20030102-M00008.NB"/>
<image id="EMI-M00008" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00008.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0050" lvl="7"><number>&lsqb;0050&rsqb;</number> The value of &Ggr; is set by the user based on the signal power, noise power, and value of N. Choosing a high value for &Ggr; would imply that the probability of misclassifying a bridge tap loop as a straight loop would be higher than the probability of misclassifying a straight loop as a bridge tap loop and vice versa. Typically, the value of &Ggr; would be 1% of the average SNR over all the frequencies, e.g.,  
<math-cwu id="MATH-US-00009">
<number>9</number>
<math>
<mrow>
  <mrow>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>N</mi>
      </mfrac>
      <mo>&CenterDot;</mo>
      <munderover>
        <mrow>
          <mo>&Sum;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
        </mrow>
        <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>N</mi>
      </munderover>
    </mrow>
    <mo>&it;</mo>
    <mfrac>
      <msup>
        <mrow>
          <mo>(</mo>
          <msub>
            <mi>y</mi>
            <mi>i</mi>
          </msub>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
      <msubsup>
        <mi>&sigma;</mi>
        <mi>i</mi>
        <mn>2</mn>
      </msubsup>
    </mfrac>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mi>N</mi>
    </mfrac>
    <mo>&CenterDot;</mo>
    <mrow>
      <munderover>
        <mo>&Sum;</mo>
        <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>N</mi>
      </munderover>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mrow>
        <msub>
          <mi>SNR</mi>
          <mi>i</mi>
        </msub>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00009" file="US20030001586A1-20030102-M00009.NB"/>
<image id="EMI-M00009" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00009.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0051" lvl="7"><number>&lsqb;0051&rsqb;</number> This essentially allows the straight line fit for the signal power to be off by 1% from the estimated signal power. In the final determination of the presence of bridge taps, if the value of the cost function is small (J(m, c)&lt;&lt;&Ggr;), then there is good confidence that there are no bridge taps on the transmission line. If the value of the cost function is large (J(m, c)&gt;&gt;&Ggr;), then there is good confidence that there are bridge taps on the transmission line. If the value of the cost function is close to the value of &Ggr;, then the presence of a bridge tap is difficult to determine with a high degree of certainty. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Referring now to <cross-reference target="DRAWINGS">FIG. 5</cross-reference> for a data plot displaying measured transmission line channel responses as a function of frequency for bridge tap free transmission lines of various lengths. The transmission lines shown in the data plot range in length from 0 kft to 18 kft. A special ADSL test transmission line with bridge taps, labeled CSA&num;4, was also measured. The measured channel responses were then used to evaluate the performance of the line diagnostic device. A transmission line of length 0 kft <highlight><bold>510</bold></highlight> displays a flat channel response across the entire frequency range, while transmission lines of length 6 kft <highlight><bold>520</bold></highlight>, 12 kft <highlight><bold>540</bold></highlight>, and 18 kft <highlight><bold>550</bold></highlight> display an increasingly noisy channel response and a rapid roll-off with increased frequency. In the case of the 18 kft transmission line <highlight><bold>550</bold></highlight>, the channel response becomes extremely erratic in the upper-half of the frequency range. The channel response for the CSA&num;4 ADSL test transmission line <highlight><bold>530</bold></highlight> was relatively flat and well behaved, lying between the channel responses for the 6 kft and the 12 kft long transmission lines. However, the channel response of the ADSL test transmission line <highlight><bold>530</bold></highlight> displayed large undulations that are characteristic of transmission lines with bridge taps and the large undulations would result in the cost function, J(m, c), evaluating to a large value because the undulations do not fit very well to a straight line equation. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> The channel response of the 18 kft transmission line <highlight><bold>550</bold></highlight> displays an extremely erratic behavior in the upper-half of the frequency range. Such an erratic behavior automatically precludes the use of the data in the equation for equivalent line length and the cost function due to the extraordinarily large noise component. In the preferred embodiment of the present invention, when the data points display such erratic behavior, the data points are manually discarded. The preferred embodiment of the present invention can adaptively adjust the frequency range of interest should the behavior of the data become erratic. For example, in the case of the 18 kft transmission line <highlight><bold>550</bold></highlight>, all data points beyond the 100<highlight><superscript>th </superscript></highlight>tone number were discarded. The data points discarded were all data points to the right of the circle <highlight><bold>555</bold></highlight>. In another preferred embodiment of the present invention, the test signal would be transmitted for an extended amount of time and the received test signal would be averaged over a large number of frames. Performing the transmission line diagnostics for a longer time period would reduce the effect of the noise for long transmission lines. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Prior to use, the spectral characteristics of a transmission line are not known to the modem. This may be due to the fact that the end-user has moved the modem to a different location, a new source of distortion is present or an old source of distortion has been eliminated, or the end-user is connecting to a different destination (potentially resulting in a different circuit being used). Therefore, in the initial stages of a modem connection attempt, the modem must train itself. To perform the training, the modem transmits a training sequence into the transmission line. The training sequence is a series of tones, signals, and data, usually specified in the technical standards for the particular transmission method used, that is transmitted over the transmission lines. The modem at the other end receives the training sequence and analyzes the results and sends information back to the initializing modem. This exchange of information allows the initializing modems to gather information about the transmission line and use the gathered information to configure various components within the modem. The training is required to optimize the modems for maximum performance on the particular transmission line. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> In the preferred embodiment of the present invention, the line diagnostic device takes advantage of the training period and performs a diagnostic on the transmission line during the training period. Preferably, the diagnostic is performed during the early stages of the training period. By performing the diagnostic early in the training period, the diagnostic is ensured of completing even if the modem is not able to establish a connection. The ensured completion of the diagnostic provides valuable information that can be used by the end-user and/or the service provider to diagnose any connection or performance problems that the end-user is experiencing. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> In another preferred embodiment of the present invention, after the destination diagnostic device receives the test signal, it does not immediately calculate the estimated signal power, the estimated noise power, and the equivalent line length and determine the presence of bridge taps. Instead, the destination diagnostic device saves the information to a memory and performs the calculation when the modem (hence the modem&apos;s digital signal processor) is not busy performing some other task. In effect, the destination diagnostic device is using the modem&apos;s digital signal processor when it has some idle time to perform the calculations. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In all modem implementations, during the training period, the modem must calculate the transmission line&apos;s signal-to-noise ratio (SNR). The SNR is used to assist in optimizing the connection between the two modems. In order to perform the calculation, the modem must calculate the signal power and the noise power. In yet another preferred embodiment of the present invention, the destination diagnostic device makes use of the signal power and noise power calculations already performed by the modem in the calculation of the equivalent line length and determining the presence of bridge taps. By using values provided by the modem, the source diagnostic device does not have to inject the test signal into the transmission line and the destination diagnostic device saves on computation time. In fact, by using the values provided by the modem, the CO <highlight><bold>120</bold></highlight> (the source in this example) does not require a diagnostic device, since the test signal does not have to be injected into the transmission line. </paragraph>
<paragraph id="P-0058" lvl="7"><number>&lsqb;0058&rsqb;</number> Derivation of Mathematical Formulae </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The following is a derivation of the mathematical formulae discussed above. The derivation is taken from the provision application &ldquo;Line Diagnostics for Wireline Modems&rdquo;, filed Apr. 17, 2001, which is incorporated herein by reference. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> The first task is to create an equation of a transfer function for the transmission line as a function of frequency (f, Hz) and length (l, ft). A good approximation for the transfer function for twisted-pair copper wire (twisted-pair is the transmission line used in an ADSL application) is:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>H</italic></highlight><highlight><subscript>loop</subscript></highlight><highlight><italic>&equals;K</italic></highlight>(<highlight><italic>l</italic></highlight>)*<highlight><italic>e</italic></highlight><highlight><superscript>&minus;l.&ggr;{square root}{square root over (&fnof;)}</superscript></highlight>&emsp;&emsp;(1)</in-line-formula></paragraph>
<paragraph id="P-0061" lvl="7"><number>&lsqb;0061&rsqb;</number> Where &ggr;&ap;7.36e&minus;10 for 26 gauge (AWG) lines. If the transmitting and receiving modem&apos;s analog front ends have non-flat transfer functions, then the non-flat transfer functions must also be modeled into an equivalent transfer function, H(f), or compensation must be provided in the received signal power. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> The received signal power, S<highlight><subscript>i</subscript></highlight>, is calculated as S<highlight><subscript>i</subscript></highlight>&equals;&verbar;H(&fnof;)&verbar;<highlight><superscript>2</superscript></highlight>*&verbar;X(&fnof;)&verbar;<highlight><superscript>2</superscript></highlight>, where X(f) is the transmitted test signal which is generally spectrally flat. If the transmitted signal is not spectrally flat, then the spectral shape of the transmitted signal must also be taken into account in the equivalent transfer function or compensated for in the received signal power. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> Using equation (1), the received signal power in decibels (dB) can be expressed as</paragraph>
<paragraph lvl="0"><in-line-formula>10*log<highlight><subscript>10</subscript></highlight><highlight><italic>S</italic></highlight><highlight><subscript>i</subscript></highlight><highlight><italic>&equals;K</italic></highlight><highlight><subscript>l</subscript></highlight>(<highlight><italic>l</italic></highlight>)&minus;<highlight><italic>K</italic></highlight><highlight><subscript>2</subscript></highlight><highlight><italic>.&ggr;.l.</italic></highlight>{square root}{square root over (&fnof;)}&emsp;&emsp;(2)</in-line-formula></paragraph>
<paragraph id="P-0064" lvl="7"><number>&lsqb;0064&rsqb;</number> Which is expressible as a straight line equation of the form y&equals;m.x&plus;c </paragraph>
<paragraph id="P-0065" lvl="7"><number>&lsqb;0065&rsqb;</number> where,</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>y&equals;</italic></highlight>10*log<highlight><subscript>10</subscript></highlight><highlight><italic>S</italic></highlight><highlight><subscript>l</subscript></highlight>&emsp;&emsp;(3)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula>x&equals;{square root}{square root over (&fnof;)}&emsp;&emsp;(4)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>m&equals;&minus;K</italic></highlight><highlight><subscript>2</subscript></highlight><highlight><italic>.&ggr;.l</italic></highlight>&emsp;&emsp;(5)</in-line-formula></paragraph>
<paragraph id="P-0066" lvl="7"><number>&lsqb;0066&rsqb;</number> and,</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>c&equals;K</italic></highlight><highlight><subscript>l</subscript></highlight>(<highlight><italic>l</italic></highlight>)</in-line-formula></paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The presence of a bridge tap on the loop will result in a loop transfer function that does not follow equation (1). Hence, the presence of a bridge tap can be detected by determining the &ldquo;goodness of fit&rdquo; of the received signal power data (equation (3)) as a function of the square root of frequency (equation (4)) to the straight-line equation y&equals;m.x&plus;c. Also, the equivalent loop length can be directly determined from an estimate of the slope of the line, m (equation (5)). In the next section, the details of the algorithm used to detect the presence of bridge taps and calculate the equivalent line length is outlined. </paragraph>
<paragraph id="P-0068" lvl="7"><number>&lsqb;0068&rsqb;</number> Algorithm Details </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> The problem is reformulated as a least-squares minimization. Any other cost function can be used, however, the least squares criterion is generally most analytically tractable. The estimated signal power is denoted as y<highlight><subscript>l</subscript></highlight>,i&equals;1, . . . , N at the frequencies &fnof;<highlight><subscript>l</subscript></highlight>,i&equals;1, . . . , N. From equation (4), x<highlight><subscript>l</subscript></highlight>&equals;{square root}{square root over (&fnof;<highlight><subscript>l</subscript></highlight>)},i&equals;1, . . . , N. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> Using the cost function:  
<math-cwu id="MATH-US-00010">
<number>10</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>J</mi>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>m</mi>
              <mo>,</mo>
              <mi>c</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mrow>
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&it;</mo>
          <mfrac>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>y</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>-</mo>
                  <mrow>
                    <mi>m</mi>
                    <mo>&CenterDot;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mi>c</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00010" file="US20030001586A1-20030102-M00010.NB"/>
<image id="EMI-M00010" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00010.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0071" lvl="7"><number>&lsqb;0071&rsqb;</number> Where &sgr;<highlight><subscript>l</subscript></highlight><highlight><superscript>2 </superscript></highlight>is the noise power (or noise variance) measured at frequency &fnof;<highlight><subscript>l</subscript></highlight>. By weighting each term in the above expression by the inverse of the noise power, the terms estimated in a high noise environment are effectively de-emphasized. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> Now, the values of m and c that minimizes the above expression or (m, c)&equals;arg(min(J(m, c))) must be determined. To solve for the optimal slope, m, and intercept, c, the partial differentials of J(m, c) with respect to m and set equal to zero:  
<math-cwu id="MATH-US-00011">
<number>11</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mo>&PartialD;</mo>
            <mrow>
              <mi>J</mi>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>,</mo>
                  <mi>c</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mo>&PartialD;</mo>
            <mi>m</mi>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mrow>
                <mfrac>
                  <mn>2</mn>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
                <mo>&it;</mo>
                <mrow>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                      <mo>-</mo>
                      <mrow>
                        <mi>m</mi>
                        <mo>&CenterDot;</mo>
                        <msub>
                          <mi>x</mi>
                          <mi>i</mi>
                        </msub>
                      </mrow>
                      <mo>-</mo>
                      <mi>c</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>&CenterDot;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>i</mi>
                  </msub>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mo>&PartialD;</mo>
            <mrow>
              <mi>J</mi>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>,</mo>
                  <mi>c</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mo>&PartialD;</mo>
            <mi>c</mi>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mrow>
                <mfrac>
                  <mn>2</mn>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
                <mo>&it;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>-</mo>
                    <mrow>
                      <mi>m</mi>
                      <mo>&CenterDot;</mo>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <mo>-</mo>
                    <mi>c</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00011" file="US20030001586A1-20030102-M00011.NB"/>
<image id="EMI-M00011" wi="216.027" he="45.1332" file="US20030001586A1-20030102-M00011.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0073" lvl="7"><number>&lsqb;0073&rsqb;</number> Solving the above equations for m and c, the following is obtained:  
<math-cwu id="MATH-US-00012">
<number>12</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>m</mi>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mrow>
                <munder>
                  <mrow>
                    <mo>&Sum;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                  </mrow>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mrow>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <mo>&it;</mo>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                  <mo>&CenterDot;</mo>
                  <mrow>
                    <munder>
                      <mo>&Sum;</mo>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mfrac>
                      <mn>1</mn>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <munder>
                  <mrow>
                    <mo>&Sum;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                  </mrow>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mrow>
                  <mfrac>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                  <mo>&CenterDot;</mo>
                  <mrow>
                    <munder>
                      <mo>&Sum;</mo>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mfrac>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <munder>
                  <mrow>
                    <mo>&Sum;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                  </mrow>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mrow>
                  <mfrac>
                    <msubsup>
                      <mi>x</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                  <mo>&CenterDot;</mo>
                  <mrow>
                    <munder>
                      <mrow>
                        <mo>&Sum;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                      </mrow>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mfrac>
                      <mn>1</mn>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                </mrow>
              </mrow>
              <mo>-</mo>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munder>
                      <mrow>
                        <mo>&Sum;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                      </mrow>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mfrac>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&NewLine;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mi>and</mi>
          <mo>,</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>c</mi>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>y</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>-</mo>
                  <mrow>
                    <mi>m</mi>
                    <mo>&CenterDot;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
          <mrow>
            <munder>
              <mrow>
                <mo>&Sum;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
              </mrow>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mfrac>
              <mn>1</mn>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00012" file="US20030001586A1-20030102-M00012.NB"/>
<image id="EMI-M00012" wi="216.027" he="102.9672" file="US20030001586A1-20030102-M00012.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0074" lvl="7"><number>&lsqb;0074&rsqb;</number> Rewriting the above expression for the slope, m, the following is obtained:  
<math-cwu id="MATH-US-00013">
<number>13</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>m</mi>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mrow>
                <mi>A</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <mo>&it;</mo>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>B</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mfrac>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
            </mrow>
            <mi>Den</mi>
          </mfrac>
        </mrow>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&NewLine;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mrow>
            <mi>Where</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>A</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mfrac>
              <mn>1</mn>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mi>B</mi>
          <mo>=</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>and</mi>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mstyle>
          <mtext>&NewLine;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mi>Den</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <munder>
                <mrow>
                  <mo>&Sum;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                </mrow>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mrow>
                <mfrac>
                  <msubsup>
                    <mi>x</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mfrac>
                    <mn>1</mn>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munder>
                      <mo>&Sum;</mo>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <mfrac>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <msubsup>
                        <mi>&sigma;</mi>
                        <mi>i</mi>
                        <mn>2</mn>
                      </msubsup>
                    </mfrac>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <mo>.</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00013" file="US20030001586A1-20030102-M00013.NB"/>
<image id="EMI-M00013" wi="216.027" he="81.1377" file="US20030001586A1-20030102-M00013.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> Hence from equations (5), (8) and (9), the equivalent loop length is expressible as:  
<math-cwu id="MATH-US-00014">
<number>14</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>l</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <mi>&gamma;</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>K</mi>
                <mn>2</mn>
              </msub>
            </mrow>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mfrac>
            <mrow>
              <mrow>
                <mi>A</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                      <mo>&it;</mo>
                      <msub>
                        <mi>y</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>B</mi>
                <mo>&CenterDot;</mo>
                <mrow>
                  <munder>
                    <mo>&Sum;</mo>
                    <mi>i</mi>
                  </munder>
                  <mo>&it;</mo>
                  <mfrac>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <msubsup>
                      <mi>&sigma;</mi>
                      <mi>i</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mfrac>
                </mrow>
              </mrow>
            </mrow>
            <mi>Den</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00014" file="US20030001586A1-20030102-M00014.NB"/>
<image id="EMI-M00014" wi="216.027" he="29.9943" file="US20030001586A1-20030102-M00014.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0076" lvl="7"><number>&lsqb;0076&rsqb;</number> and a bridge tap is present on the transmission line if:  
<math-cwu id="MATH-US-00015">
<number>15</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>J</mi>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>m</mi>
              <mo>,</mo>
              <mi>c</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <munderover>
              <mrow>
                <mo>&Sum;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
              </mrow>
              <mrow>
                <mi>i</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>N</mi>
            </munderover>
            <mo>&it;</mo>
            <mfrac>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>-</mo>
                    <mrow>
                      <mi>m</mi>
                      <mo>&CenterDot;</mo>
                      <msub>
                        <mi>x</mi>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <mo>-</mo>
                    <mi>c</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
          <mo>&gt;</mo>
          <mi>&Gamma;</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00015" file="US20030001586A1-20030102-M00015.NB"/>
<image id="EMI-M00015" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00015.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0077" lvl="7"><number>&lsqb;0077&rsqb;</number> Where &Ggr; is the detection threshold. The value of the detection threshold determines the extent to which straight lines will be mis-detected as bridge tap loops in a high noise environment and vice-versa. </paragraph>
</section>
<section>
<heading lvl="1">IMPLEMENTATION DETAILS </heading>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In order to simplify the implementation of the above equations, an assumption concerning the estimated noise powers is made: The estimated noise power is assumed to be constant across the frequency band of interest, i.e., &sgr;<highlight><subscript>l</subscript></highlight><highlight><superscript>2</superscript></highlight>&equals;const.&equals;&sgr;<highlight><superscript>2</superscript></highlight>&forall;i. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> Equation (10&prime;) for estimating the equivalent line length simplifies into:  
<math-cwu id="MATH-US-00016">
<number>16</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>l</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>K</mi>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mrow>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <mo>&it;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mi>n</mi>
                    <mo>&CenterDot;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>Sum</mi>
                    <mi>x</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00016" file="US20030001586A1-20030102-M00016.NB"/>
<image id="EMI-M00016" wi="216.027" he="22.08465" file="US20030001586A1-20030102-M00016.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0080" lvl="7"><number>&lsqb;0080&rsqb;</number> where K is a constant dependent on the type of wire and the frequencies at which the signal power is estimated and Sum  
<math-cwu id="MATH-US-00017">
<number>17</number>
<math>
<mrow>
  <msub>
    <mi>Sum</mi>
    <mi>x</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <munder>
      <mo>&Sum;</mo>
      <mi>i</mi>
    </munder>
    <mo>&it;</mo>
    <msub>
      <mi>x</mi>
      <mi>i</mi>
    </msub>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00017" file="US20030001586A1-20030102-M00017.NB"/>
<image id="EMI-M00017" wi="216.027" he="19.93005" file="US20030001586A1-20030102-M00017.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0081" lvl="7"><number>&lsqb;0081&rsqb;</number> Note that the quantities K, n.x<highlight><subscript>l </subscript></highlight>and, Sum<highlight><subscript>x </subscript></highlight>can be pre-calculated and stored for use during run time. As mentioned earlier, if there are components either in the transmitting or receiving modem that cause the frequency response over the band of interest &fnof;<highlight><subscript>l</subscript></highlight>,i&equals;1, . . . , N to be non-flat, then the received signal power must be compensated by this frequency response before use in the above equations. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Further, the criterion for detecting the presence of a bridge tap (equation (11)) can be simplified to:  
<math-cwu id="MATH-US-00018">
<number>18</number>
<math>
  <mrow>
    <mrow>
      <mi>D</mi>
      <mo>&CenterDot;</mo>
      <msup>
        <mi>&sigma;</mi>
        <mn>2</mn>
      </msup>
      <mo>&CenterDot;</mo>
      <mrow>
        <mi>J</mi>
        <mo>&af;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>m</mi>
            <mo>,</mo>
            <mi>c</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <mfrac>
            <mi>D</mi>
            <mi>N</mi>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mrow>
            <mo>[</mo>
            <mrow>
              <munder>
                <mrow>
                  <mo>&Sum;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                </mrow>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mi>n</mi>
                    <mo>&CenterDot;</mo>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <munder>
                      <mo>&Sum;</mo>
                      <mi>i</mi>
                    </munder>
                    <mo>&it;</mo>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>]</mo>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>N</mi>
          </mfrac>
          <mo>&CenterDot;</mo>
          <msup>
            <mrow>
              <mo>[</mo>
              <mrow>
                <munder>
                  <mo>&Sum;</mo>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mrow>
                  <msub>
                    <mi>y</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <mi>n</mi>
                        <mo>&CenterDot;</mo>
                        <msub>
                          <mi>x</mi>
                          <mi>i</mi>
                        </msub>
                      </mrow>
                      <mo>-</mo>
                      <msub>
                        <mi>Sum</mi>
                        <mi>x</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>]</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
      <mo>&gt;</mo>
      <mrow>
        <mi>D</mi>
        <mo>&CenterDot;</mo>
        <msup>
          <mi>&sigma;</mi>
          <mn>2</mn>
        </msup>
        <mo>&CenterDot;</mo>
        <mi>&Gamma;</mi>
      </mrow>
    </mrow>
  </mrow>
</math>
<math>
  <mrow>
    <mrow>
      <mi>where</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>D</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mi>N</mi>
        <mo>&CenterDot;</mo>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <msubsup>
            <mi>x</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
<mathematica-file id="MATHEMATICA-00018" file="US20030001586A1-20030102-M00018.NB"/>
<image id="EMI-M00018" wi="216.027" he="55.93455" file="US20030001586A1-20030102-M00018.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Note that the second term in the above equation is exactly the term required for the line length estimate. Further, by choosing N, i.e., the number of frequency points, to be a power of 2 there are no real number divisions required to implement the above expression. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> As will be apparent from the above description, the preferred embodiments provide several advantageous features including the ability to determine the transmission line&apos;s length and detect the presence of any bridge taps without requiring any specialized and expensive hardware. Another advantage of the present invention is that there is no major redesign work needed to implement the present invention in an existing modem. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> While this invention has been described with reference to illustrative embodiments, this description is not intended to be construed in a limiting sense. Various modifications and combinations of the illustrative embodiments, as well as other embodiments of the invention, will be apparent to persons skilled in the art upon reference to the description. It is therefore intended that the appended claims encompass any such modifications or embodiments. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for performing transmission line diagnostics, comprising the steps of: 
<claim-text>injecting a test signal into a first end of the transmission line; </claim-text>
<claim-text>measuring a received signal at a second end of the transmission line; </claim-text>
<claim-text>estimating metrics for the transmission line based on the test and received signals; </claim-text>
<claim-text>calculating an equivalent length for the transmission line; </claim-text>
<claim-text>calculating a cost function value for the transmission line; and </claim-text>
<claim-text>determining the presence of a bridge tap on the transmission line based on the value of the cost function. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising the steps of: 
<claim-text>deriving a transfer function for the transmission line; and </claim-text>
<claim-text>fitting a curve corresponding to the transfer function to the test and received signals. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of estimating the metrics comprises estimating received signal power and received noise power. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the transfer function is a function of the transmission line&apos;s length and a frequency band of interest. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the fitted curve is a straight line of the form y<highlight><subscript>i</subscript></highlight>&equals;mx<highlight><subscript>i</subscript></highlight>&plus;c, wherein the y<highlight><subscript>i</subscript></highlight>&apos;s are the received signal power, the x<highlight><subscript>i</subscript></highlight>&apos;s are the square root of the frequencies within the frequency band of interest, and m and c are constants dependent upon the transmission line and the frequency band of interest. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating an equivalent line length uses the estimated metrics, the transfer function, and the curve. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating a cost function value uses the estimated metrics, the transfer function, and the curve. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating the equivalent line length for the transmission line is performed using equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00019">
<number>19</number>
<math>
  <mrow>
    <mi>l</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <mi>&gamma;</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>K</mi>
                <mn>2</mn>
              </msub>
            </mrow>
          </mfrac>
        </mrow>
        <mo>&CenterDot;</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mi>A</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <munder>
                  <mo>&Sum;</mo>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>&it;</mo>
                    <msub>
                      <mi>y</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>B</mi>
              <mo>&CenterDot;</mo>
              <mrow>
                <munder>
                  <mo>&Sum;</mo>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mfrac>
                  <msub>
                    <mi>y</mi>
                    <mi>i</mi>
                  </msub>
                  <msubsup>
                    <mi>&sigma;</mi>
                    <mi>i</mi>
                    <mn>2</mn>
                  </msubsup>
                </mfrac>
              </mrow>
            </mrow>
          </mrow>
          <mi>Den</mi>
        </mfrac>
      </mrow>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>where</mi>
    </mrow>
  </mrow>
</math>
<math>
  <mrow>
    <mrow>
      <mi>A</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mfrac>
          <mn>1</mn>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <mi>B</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mfrac>
          <msub>
            <mi>x</mi>
            <mi>i</mi>
          </msub>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mstyle>
      <mtext>&NewLine;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mrow>
      <mi>Den</mi>
      <mo>=</mo>
      <mrow>
        <mrow>
          <munder>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <mfrac>
              <msubsup>
                <mi>x</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
            <mo>&CenterDot;</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mfrac>
                <mn>1</mn>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
          </mrow>
        </mrow>
        <mo>-</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mfrac>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
      </mrow>
    </mrow>
    <mo>,</mo>
  </mrow>
</math>
<mathematica-file id="MATHEMATICA-00019" file="US20030001586A1-20030102-M00019.NB"/>
<image id="EMI-M00019" wi="216.027" he="82.1016" file="US20030001586A1-20030102-M00019.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>y<highlight><subscript>i </subscript></highlight>is estimated signal power (in dB), x<highlight><subscript>i </subscript></highlight>is the square root of the frequency, &ggr; and K<highlight><subscript>2 </subscript></highlight>are constants depending on the wire type, &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2 </superscript></highlight>is estimated noise power, and i refers to i-th frequency point considered for the curve fitting. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating the equivalent line length for the transmission line is performed using equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00020">
<number>20</number>
<math>
<mrow>
  <mi>l</mi>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mi>K</mi>
    </mfrac>
    <mo>&CenterDot;</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mrow>
        <msub>
          <mi>y</mi>
          <mi>i</mi>
        </msub>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mi>n</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>-</mo>
            <msub>
              <mi>Sum</mi>
              <mi>x</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00020" file="US20030001586A1-20030102-M00020.NB"/>
<image id="EMI-M00020" wi="216.027" he="22.08465" file="US20030001586A1-20030102-M00020.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>where K is a constant depending on wire type and frequency range and Sum<highlight><subscript>x</subscript></highlight></claim-text>
<claim-text> 
<math-cwu id="MATH-US-00021">
<number>21</number>
<math>
<mrow>
  <msub>
    <mi>Sum</mi>
    <mi>x</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <munder>
      <mo>&Sum;</mo>
      <mi>i</mi>
    </munder>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mrow>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00021" file="US20030001586A1-20030102-M00021.NB"/>
<image id="EMI-M00021" wi="216.027" he="19.93005" file="US20030001586A1-20030102-M00021.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating the cost function value for the transmission line is performed using equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00022">
<number>22</number>
<math>
<mrow>
  <mrow>
    <mi>J</mi>
    <mo>&af;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>c</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munderover>
      <mrow>
        <mo>&Sum;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
      </mrow>
      <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mrow>
      <mi>N</mi>
    </munderover>
    <mo>&it;</mo>
    <mfrac>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mi>i</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <mi>m</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>-</mo>
            <mi>c</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
      <msubsup>
        <mi>&sigma;</mi>
        <mi>i</mi>
        <mn>2</mn>
      </msubsup>
    </mfrac>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00022" file="US20030001586A1-20030102-M00022.NB"/>
<image id="EMI-M00022" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00022.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>where y<highlight><subscript>i </subscript></highlight>is estimated signal power (in dB), x<highlight><subscript>i </subscript></highlight>is the square root of the frequency, &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2 </superscript></highlight>is estimated noise power, m is </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00023">
<number>23</number>
<math>
<mrow>
  <mrow>
    <mi>m</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>A</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <mo>&it;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>B</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mi>Den</mi>
    </mfrac>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00023" file="US20030001586A1-20030102-M00023.NB"/>
<image id="EMI-M00023" wi="216.027" he="28.09485" file="US20030001586A1-20030102-M00023.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text> 
<math-cwu id="MATH-US-00024">
<number>24</number>
<math>
  <mrow>
    <mrow>
      <mi>A</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mfrac>
          <mn>1</mn>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <mi>B</mi>
      <mo>=</mo>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mfrac>
          <msub>
            <mi>x</mi>
            <mi>i</mi>
          </msub>
          <msubsup>
            <mi>&sigma;</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <mrow>
        <mi>Den</mi>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mi>is</mi>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mi>Den</mi>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mrow>
          <munder>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <mfrac>
              <msubsup>
                <mi>x</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
            <mo>&CenterDot;</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mfrac>
                <mn>1</mn>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
          </mrow>
        </mrow>
        <mo>-</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mfrac>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <mi>and</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>c</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>is</mi>
    </mrow>
  </mrow>
</math>
<math>
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
                <mo>-</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>&CenterDot;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>i</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
        </mrow>
        <mrow>
          <munder>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mfrac>
            <mn>1</mn>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
        </mrow>
      </mfrac>
      <mo>.</mo>
    </mrow>
  </mrow>
</math>
<mathematica-file id="MATHEMATICA-00024" file="US20030001586A1-20030102-M00024.NB"/>
<image id="EMI-M00024" wi="216.027" he="94.09365" file="US20030001586A1-20030102-M00024.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of calculating the cost function value for the transmission line is performed using equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00025">
<number>25</number>
<math>
<mrow>
  <mrow>
    <mi>D</mi>
    <mo>&CenterDot;</mo>
    <msup>
      <mi>&sigma;</mi>
      <mn>2</mn>
    </msup>
    <mo>&CenterDot;</mo>
    <mrow>
      <mi>J</mi>
      <mo>&af;</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>m</mi>
          <mo>,</mo>
          <mi>c</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mfrac>
        <mi>D</mi>
        <mi>N</mi>
      </mfrac>
      <mo>&CenterDot;</mo>
      <mrow>
        <mo>[</mo>
        <mrow>
          <munder>
            <mrow>
              <mo>&Sum;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
            </mrow>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mi>i</mi>
            </msub>
            <mo>(</mo>
            <mrow>
              <mrow>
                <mi>N</mi>
                <mo>&CenterDot;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <mo>-</mo>
              <mrow>
                <munder>
                  <mo>&Sum;</mo>
                  <mi>i</mi>
                </munder>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>N</mi>
      </mfrac>
      <mo>&CenterDot;</mo>
      <msup>
        <mrow>
          <mo>[</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mrow>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mi>N</mi>
                    <mo>&CenterDot;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>Sum</mi>
                    <mi>x</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>]</mo>
        </mrow>
        <mn>2</mn>
      </msup>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00025" file="US20030001586A1-20030102-M00025.NB"/>
<image id="EMI-M00025" wi="216.027" he="22.08465" file="US20030001586A1-20030102-M00025.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>where N is the total number of frequency points used for curve fitting, y<highlight><subscript>i </subscript></highlight>is estimated signal power (in dB), x<highlight><subscript>i </subscript></highlight>is the square root of the frequency, </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00026">
<number>26</number>
<math>
<mrow>
  <mrow>
    <msub>
      <mi>Sum</mi>
      <mi>x</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
    </mrow>
  </mrow>
  <mo>,</mo>
  <mrow>
    <mi>D</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mi>N</mi>
        <mo>&CenterDot;</mo>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msubsup>
            <mi>x</mi>
            <mi>i</mi>
            <mn>2</mn>
          </msubsup>
        </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <munder>
                <mo>&Sum;</mo>
                <mi>i</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mi>and</mi>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00026" file="US20030001586A1-20030102-M00026.NB"/>
<image id="EMI-M00026" wi="216.027" he="19.93005" file="US20030001586A1-20030102-M00026.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>the estimated noise power is assumed to be constant for all i. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein N is chosen to be a power of 2. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the presence of a bridge tap is determined if the value of the cost function is greater than a certain threshold. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the threshold value is a small percentage of the average SNR over all frequencies of interest. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the test signal is a periodic (from frame to frame) wide-bandwidth spectrally flat test signal. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. An apparatus for performing transmission line diagnostics, comprising; 
<claim-text>a test signal generator, having an output coupled to a first input of the transmission line, adapted to injecting test signals onto the transmission line; </claim-text>
<claim-text>a measuring circuit, having an input coupled to a second input of the transmission line and having an output coupled to an equivalent line length calculator and a cost function calculator, adapted to measuring metrics of the transmission line from received test signals; </claim-text>
<claim-text>the equivalent line length calculator, having an input coupled to the measuring circuit, adapted to calculating an equivalent line length from the metrics; </claim-text>
<claim-text>the cost function calculator, having an input coupled to the measuring circuit and an output coupled to a bridge tap detector, adapted to calculating a cost function from the metrics; and </claim-text>
<claim-text>the bridge tap detector, having an input coupled to the cost function calculator, adapted to determining the presence of a bridge tap. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the metrics are comprised of estimated signal power and estimated noise power. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the equivalent length calculator uses equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00027">
<number>27</number>
<math>
<mrow>
  <mi>l</mi>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mo>-</mo>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mi>&gamma;</mi>
          <mo>&CenterDot;</mo>
          <msub>
            <mi>K</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mfrac>
    </mrow>
    <mo>&CenterDot;</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>A</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <mo>&it;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>B</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mi>Den</mi>
    </mfrac>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00027" file="US20030001586A1-20030102-M00027.NB"/>
<image id="EMI-M00027" wi="216.027" he="29.9943" file="US20030001586A1-20030102-M00027.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>where </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00028">
<number>28</number>
<math>
<mrow>
  <mrow>
    <mi>A</mi>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mfrac>
        <mn>1</mn>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
  <mo>;</mo>
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mfrac>
        <msub>
          <mi>x</mi>
          <mi>i</mi>
        </msub>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
  <mo>;</mo>
  <mrow>
    <mi>Den</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mrow>
            <mo>&Sum;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
          </mrow>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mrow>
          <mfrac>
            <msubsup>
              <mi>x</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mn>1</mn>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mo>-</mo>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
    </mrow>
  </mrow>
  <mo>;</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00028" file="US20030001586A1-20030102-M00028.NB"/>
<image id="EMI-M00028" wi="216.027" he="24.01245" file="US20030001586A1-20030102-M00028.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>is estimated signal power (in dB); x<highlight><subscript>i </subscript></highlight>is the square root of the frequency; &ggr; and K<highlight><subscript>2 </subscript></highlight>are constants depending on the wire, &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2 </superscript></highlight>is estimated noise power, and index i refers to i-th frequency point considered for the curve fitting. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the cost function calculator uses equation: </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00029">
<number>29</number>
<math>
<mrow>
  <mrow>
    <mi>J</mi>
    <mo>&af;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>c</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munderover>
      <mrow>
        <mo>&Sum;</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
      </mrow>
      <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mrow>
      <mi>N</mi>
    </munderover>
    <mo>&it;</mo>
    <mfrac>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mi>i</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <mi>m</mi>
              <mo>&CenterDot;</mo>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>-</mo>
            <mi>c</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
      <msubsup>
        <mi>&sigma;</mi>
        <mi>i</mi>
        <mn>2</mn>
      </msubsup>
    </mfrac>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00029" file="US20030001586A1-20030102-M00029.NB"/>
<image id="EMI-M00029" wi="216.027" he="24.97635" file="US20030001586A1-20030102-M00029.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text>where y<highlight><subscript>i </subscript></highlight>is estimated signal power (in dB), x<highlight><subscript>i </subscript></highlight>is the square root of the frequency, &sgr;<highlight><subscript>i</subscript></highlight><highlight><superscript>2 </superscript></highlight>is estimated noise power, m is </claim-text>
<claim-text> 
<math-cwu id="MATH-US-00030">
<number>30</number>
<math>
<mrow>
  <mrow>
    <mi>m</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>A</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mi>i</mi>
                </msub>
                <mo>&it;</mo>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>B</mi>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>y</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mi>Den</mi>
    </mfrac>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00030" file="US20030001586A1-20030102-M00030.NB"/>
<image id="EMI-M00030" wi="216.027" he="28.09485" file="US20030001586A1-20030102-M00030.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
<claim-text> 
<math-cwu id="MATH-US-00031">
<number>31</number>
<math>
<mrow>
  <mrow>
    <mi>A</mi>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mfrac>
        <mn>1</mn>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
  <mo>,</mo>
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&Sum;</mo>
        <mi>i</mi>
      </munder>
      <mo>&it;</mo>
      <mfrac>
        <msub>
          <mi>x</mi>
          <mi>i</mi>
        </msub>
        <msubsup>
          <mi>&sigma;</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
  <mo>,</mo>
  <mrow>
    <mrow>
      <mi>Den</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>is</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>Den</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mo>&Sum;</mo>
          <mi>i</mi>
        </munder>
        <mo>&it;</mo>
        <mrow>
          <mfrac>
            <msubsup>
              <mi>x</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
          <mo>&CenterDot;</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mfrac>
              <mn>1</mn>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
      <mo>-</mo>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munder>
              <mo>&Sum;</mo>
              <mi>i</mi>
            </munder>
            <mo>&it;</mo>
            <mfrac>
              <msub>
                <mi>x</mi>
                <mi>i</mi>
              </msub>
              <msubsup>
                <mi>&sigma;</mi>
                <mi>i</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
    </mrow>
  </mrow>
  <mo>,</mo>
  <mstyle>
    <mtext>&emsp;</mtext>
  </mstyle>
  <mo>&it;</mo>
  <mrow>
    <mrow>
      <mi>and</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>c</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>is</mi>
      <mo>&it;</mo>
      <mstyle>
        <mtext>&emsp;</mtext>
      </mstyle>
      <mo>&it;</mo>
      <mi>c</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mi>i</mi>
                </msub>
                <mo>-</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>&CenterDot;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>i</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
        </mrow>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>i</mi>
          </munder>
          <mo>&it;</mo>
          <mfrac>
            <mn>1</mn>
            <msubsup>
              <mi>&sigma;</mi>
              <mi>i</mi>
              <mn>2</mn>
            </msubsup>
          </mfrac>
        </mrow>
      </mfrac>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00031" file="US20030001586A1-20030102-M00031.NB"/>
<image id="EMI-M00031" wi="216.027" he="79.91865" file="US20030001586A1-20030102-M00031.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the presence of a bridge tap is determined if the value of the cost function is greater than a certain threshold. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, wherein the threshold value is a small percentage of the average SNR over all frequencies of interest. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the test signal is a periodic (from frame to frame) wide-bandwidth spectrally flat test signal. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. An apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the cost function calculator calculates the cost function for a subset of all estimated signal power data points if the estimated signal power has an extremely high estimated noise variance over the remaining frequency region. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. A modem with a built-in apparatus for performing transmission line diagnostics, comprising: 
<claim-text>a line interface circuit, coupled to a test signal generator and a processing unit and an apparatus for performing transmission line diagnostics, adapted to adjusting signal voltage levels to proper levels for transmission and processing; </claim-text>
<claim-text>the test signal generator, having an output coupled to the transmission line, adapted to injecting test signals onto the transmission line; </claim-text>
<claim-text>the processing unit, coupled to the transmission line and the apparatus for performing transmission line diagnostics, adapted to controlling the modem and processing data; </claim-text>
<claim-text>the apparatus for performing transmission line diagnostics, coupled to the processing unit and the transmission line, adapted to providing an equivalent line length and detecting bridge taps, further comprising: 
<claim-text>a signal input, coupled to the transmission line, adapted to providing signals received from the transmission line; </claim-text>
<claim-text>an estimation circuit, having an input coupled to the signal input and having a first output coupled to an equivalent line length calculator and a second output coupled to a cost function calculator, adapted to estimating metrics about the transmission line; </claim-text>
<claim-text>the equivalent line length calculator, having an input coupled to the estimation circuit and an output coupled to a data output, adapted to calculating an equivalent line length from the metrics; </claim-text>
<claim-text>the cost function calculator, having an input coupled to the estimation circuit and an output coupled to a bridge tap detector, adapted to calculating a cost function from the metrics; </claim-text>
<claim-text>the bridge tap detector, having an input coupled to the cost function calculator and an output coupled to the data output, adapted to determining the presence of a bridge tap if the cost function exceeds a threshold; and </claim-text>
<claim-text>the data output, coupled to the equivalent line length calculator and the bridge tap detector and the processing unit, adapted to providing the calculated equivalent line length and the presence of bridge tap. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. A system according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the metrics are comprised of estimated signal power and estimated noise power. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. A system according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the apparatus for performing transmission line diagnostics is a software program executing in the processing unit. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. A system according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the apparatus for performing transmission line diagnostics executes during the system&apos;s training period. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. A system according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the apparatus for performing transmission line diagnostics uses the metrics calculated by the system. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. A system according to <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the apparatus for performing transmission line diagnostics does not calculate the equivalent line length and determine presence of bridge taps until the processing unit is idle.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001586A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001586A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001586A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
