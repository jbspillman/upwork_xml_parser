<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002459A1-20030102-D00000.TIF SYSTEM "US20030002459A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00001.TIF SYSTEM "US20030002459A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00002.TIF SYSTEM "US20030002459A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00003.TIF SYSTEM "US20030002459A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00004.TIF SYSTEM "US20030002459A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00005.TIF SYSTEM "US20030002459A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00006.TIF SYSTEM "US20030002459A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00007.TIF SYSTEM "US20030002459A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00008.TIF SYSTEM "US20030002459A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00009.TIF SYSTEM "US20030002459A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00010.TIF SYSTEM "US20030002459A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00011.TIF SYSTEM "US20030002459A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00012.TIF SYSTEM "US20030002459A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00013.TIF SYSTEM "US20030002459A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00014.TIF SYSTEM "US20030002459A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00015.TIF SYSTEM "US20030002459A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00016.TIF SYSTEM "US20030002459A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00017.TIF SYSTEM "US20030002459A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030002459A1-20030102-D00018.TIF SYSTEM "US20030002459A1-20030102-D00018.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002459</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09968448</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20011001</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-194614</doc-number>
</priority-application-number>
<filing-date>20010627</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04J003/06</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>370</class>
<subclass>330000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>370</class>
<subclass>350000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>370</class>
<subclass>508000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Base station transceiver sub-system and frame offset allocation method thereof</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Hironobu</given-name>
<family-name>Igarashi</family-name>
</name>
<residence>
<residence-non-us>
<city>Kawasaki</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Shyota</given-name>
<family-name>Shikano</family-name>
</name>
<residence>
<residence-non-us>
<city>Kawasaki</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>KATTEN MUCHIN ZAVIS ROSENMAN</name-1>
<name-2></name-2>
<address>
<address-1>575 MADISON AVENUE</address-1>
<city>NEW YORK</city>
<state>NY</state>
<postalcode>10022-2585</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">The invention disclosed herein relates to a base station transceiver sub-system, where when data is transmitted/received via radio in predetermined time long frame units, one frame offset of a plurality of frame offsets after dividing the time length is allocated to each traffic channel, and the radio interface <highlight><bold>50 </bold></highlight>and the ATM interface are synchronized using this frame offset. In this base station transceiver sub-system, the fluctuation of cells on an ATM line is tolerated for a predetermined frame offset width, and considering the cell transmission enabled band according to said tolerated fluctuation width, a same frame offset is allocated to a plurality of traffic channels so as to control the generation of fragmentation. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
</section>
<section>
<heading lvl="1">1. Field of the Invention </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a base station transceiver sub-system and a frame offset allocation method thereof, and more particularly to a base station transceiver sub-system and a frame offset allocation method thereof which tolerates a predetermined frame offset width of fluctuation of cells in an ATM line, and allocates a same frame offset to a plurality of traffic channels so as to control the generation of fragments. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> When the base station transceiver sub-system <highlight><bold>1</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 17</cross-reference>) in a mobile radio communication system transmits frames to radio terminals &num;A<highlight><bold>2</bold></highlight><highlight><italic>a</italic></highlight>-&num;C<highlight><bold>2</bold></highlight><highlight><italic>c </italic></highlight>with a 20 ms frame as the transmission unit, one of the 16 levels of offsets with a 1.25 ms interval (hereafter frame offset) is attached to a frame for transmission. <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a diagram depicting transmission timing in a radio interface, where the offset of the frame FA to be transmitted to the radio terminal &num;A is 0 ms, the offset of the frame FB to be transmitted to the radio terminal &num;B is 1.25 ms, and the offset of the frame FC to be transmitted to the radio terminal &num;C is 2.50 ms. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> When a base station controller <highlight><bold>3</bold></highlight>, on the other hand, generates 20 ms frames and transmits them to the base station transceiver sub-system <highlight><bold>1</bold></highlight>, the frames must be transmitted to the radio terminal with a predetermined frame offset without a delay. For this, the radio station transceiver sub-system <highlight><bold>1</bold></highlight> and the base station controller <highlight><bold>3</bold></highlight> synchronize in 20 ms units, and both know the head position of the frame (position at frame offset&equals;0). In order to synchronize the ATM interface and the radio interface, the base station controller <highlight><bold>3</bold></highlight> transmits 20 ms frames on an ATM line with a delay of 1.25 ms offset. In other words, on the ATM line as well, a 1.25 ms unit offset is attached to a frame, just like the radio interface, so as to synchronize with the radio interface. For example, if offsets <highlight><bold>0</bold></highlight>, <highlight><bold>1</bold></highlight> and <highlight><bold>2</bold></highlight> (in terms of time 0, 1.25, 2.50 ms), shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, are added to the frames FA, FB and FC on the radio interface, frames (actually cells) are transmitted at the transmission timing at the same offsets <highlight><bold>0</bold></highlight>, <highlight><bold>1</bold></highlight> and <highlight><bold>2</bold></highlight> (in terms of time 0, 1.25, 2.50 ms) even on the ATM line. <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a diagram depicting transmission timing on the ATM line, where frames are divided into cells and cells CL<highlight><subscript>FA</subscript></highlight>, CL<highlight><subscript>FB </subscript></highlight>and CL<highlight><subscript>FC </subscript></highlight>corresponding to frames FA, FB and FC are transmitted at the transmission timing of the offsets <highlight><bold>0</bold></highlight>, <highlight><bold>1</bold></highlight> and <highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> On the ATM line, the maximum number of bits that can be transmitted during one offset period is limited, but within this range of the maximum value, one frame offset can be allocated to a plurality of traffic channels. <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a diagram depicting transmission timing when one frame offset is allocated to a plurality of traffic channels, and shows the case when two traffic channels are allocated to offsets <highlight><bold>0</bold></highlight> and <highlight><bold>2</bold></highlight> respectively. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> If cells can be transmitted with a smaller gap (unused band) in each offset, transmission efficiency can be increased and the number of users to accommodate can be increased. Therefore band management is necessary to determine how much traffic (traffic channels) is allocated to one offset. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> The mobile radio system comprised of the base station transceiver sub-system <highlight><bold>1</bold></highlight> and the base station controller <highlight><bold>3</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> conventionally handle voice data and low speed fixed-length data. Therefore traffic data of a predetermined traffic channel is merely transmitted mechanically in a predetermined frame offset on an ATM line where no problems occur. In other words, such problems as fluctuation and fragmentation due to the coexistence of such fixed-length data as voice data and variable length data where the data length is different, do not occur. </paragraph>
<paragraph id="P-0007" lvl="7"><number>&lsqb;0007&rsqb;</number> Generation of Fluctuation </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Recently, however, users began handling such fixed-length data as voice and such variable length data as packets. In a mobile communication system using portable phones as well, the demand for such wide band data communication as packet communication is increasing. With a radio interface, high-speed communication has become possible, where the number of bits that can be transmitted in a 20 ms frame is double or, sometimes, more than ten times, compared with voice and conventional low speed data communication. In such a high-speed communication, the number of bits in a 20 ms frame which can be transmitted on an ATM line increases, and in some cases, a full 20 ms frame (transmission data of 1 traffic channel) cannot be transmitted by a 1 frame offset on an ATM line, which causes fluctuation. For example, as <cross-reference target="DRAWINGS">FIG. 21</cross-reference> shows, when wide band communication data D<highlight><subscript>A</subscript></highlight>, which exceeds the 1 frame offset on the ATM line, and narrow band communication data D<highlight><subscript>B</subscript></highlight>, such as voice, are allocated to the frame offset&equals;0, voice delays and fluctuation occurs to voice traffic. Once fluctuation is generated, the radio interface and the ATM interface cannot be synchronized, and frames cannot be transmitted/received correctly. In the above example, if the voice is transmitted at the position of frame offset&equals;0, the wide band data delays. </paragraph>
<paragraph id="P-0009" lvl="7"><number>&lsqb;0009&rsqb;</number> Fragmentation </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Data communication involves various bit rates, from a low rate to a high rate. When data communication and low speed voice communication coexist, communication in the narrow band, such as voice and low speed data, may be distributed to each offset, as shown in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>. If such distribution is generated, fragmentation of bands increases, and a frame offset to allocate may not exist in wide band (high-speed) communication. <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is the case when a frame offset cannot be allocated to traffic channel having a 1.5 frame band because there is no continuous empty band having a 1.5 frame band. However, as shown in <cross-reference target="DRAWINGS">FIG. 23</cross-reference>, if the traffic channels in the narrow band concentrate to the frame offset&equals;0, and fragmentation decreases, then frame offset&equals;1 and 2 have empties, and a traffic channel in the wide band can be allocated to the frame offset&equals;1 for transmission. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> With the foregoing in view, it is an object of the present invention to absorb fluctuation so as to transmit/receive data correctly. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> It is another object of the present invention to control the generation of fragments of bands while absorbing fluctuation. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> It is still another object of the present invention to allocate a traffic channel, which is allocated to each frame offset, while managing bands. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> A first aspect of the present invention is a base station transceiver sub-system which transmits/receives data to/from a mobile station via radio, and transmits/receives data in cells to/from a base station controller via a transmission line, comprising: (1) an offset allocation block which allocates one frame offset of a plurality of frame offsets after dividing a predetermined time length to each traffic channel when data is transmitted/received via radio in the predetermined time long frame units; (2) a radio interface which transmits frames of a predetermined traffic channel at timing according to the frame offset allocated to the traffic channel; (3) a transmission line interface block which divides the frame of each traffic channel into cells and transmits/receives the cells to/from the base station controller via the transmission line at timing according to the frame offset allocated to the traffic channel; and (4) a fluctuation tolerance block which tolerates the fluctuation of the cells on the transmission line for a predetermined frame offset width, wherein the offset allocation block allocates a same frame offset to a plurality of traffic channels considering a data transmission enabled band according to the tolerated fluctuation width. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> The fluctuation tolerance block further comprises: a memory for storing frames for a period according to the fluctuation width, and a fluctuation control block which reads frames from the memory and inputs the frames into a modulation block at a predetermined timing. The offset allocation block sets the band management range considering the tolerated fluctuation width as the data transmission enabled band corresponding to each one of the plurality of frame offsets, and allocates each frame offset to a plurality of traffic channels so as not to exceed the band management range. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> A second aspect of the present invention is a frame offset allocation method for a base station transceiver sub-system, comprising an offset allocation block, a radio interface, and a transmission line interface, comprising steps of: (1) tolerating the fluctuation of frames on the transmission line for a predetermined frame offset width; and (2) allocating a same frame offset to a plurality of traffic channels considering the data transmission enabled band according to the tolerated fluctuation width. When a traffic channel is allocated, a band management range is set according to the tolerated fluctuation width corresponding to each one of the plurality of frame offsets, and each frame offset is allocated to a plurality of traffic channels so as not to exceed the band management range. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> According to the present invention, frame synchronization between the radio interface and the ATM interface can be guaranteed by absorbing fluctuation and the frames can be transmitted/received correctly. Also the fragmentation of a band can be controlled while absorbing fluctuation, traffic channels can be allocated in a wide band, and the band can be used effectively. Also 1 frame offset can be allocated to a plurality of traffic channels while managing the band of a traffic channel to be allocated to each frame offset, and the band can be used effectively. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Other features and advantages of the present invention will be apparent from the following descriptions with reference to the accompanying drawings.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference>A, <cross-reference target="DRAWINGS">FIG. 1</cross-reference>B and <cross-reference target="DRAWINGS">FIG. 1C</cross-reference> are diagrams depicting frame offsets; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram depicting the decision of an offset considering fluctuation; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a diagram depicting frame offset allocation when fluctuation is tolerated on an ATM line; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference>A, <cross-reference target="DRAWINGS">FIG. 4</cross-reference>B, <cross-reference target="DRAWINGS">FIG. 4</cross-reference>C and <cross-reference target="DRAWINGS">FIG. 4D</cross-reference> are diagrams depicting frame offset allocation considering the tolerated fluctuation range; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a diagram depicting traffic channel allocation when available bands in the band management range have decreased; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a diagram depicting the state after traffic channel allocation when available bands in the band management range have decreased; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a block diagram depicting a base station transceiver sub-system and a base station controller; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a diagram depicting the protocol structure between BSC and BTC; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a diagram depicting the format of an AAL-type <highlight><bold>2</bold></highlight> cell; </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a diagram depicting the format of an AAL-type <highlight><bold>2</bold></highlight> cell and a short cell; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a diagram depicting the concept of the transfer system by AAL-type <highlight><bold>2</bold></highlight>; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram depicting a base band processing block; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a diagram depicting a resource management table; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows an allocation processing flow of a traffic channel; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows a processing flow when a channel is disconnected; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows a fluctuation absorption processing flow; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a diagram depicting a mobile communication system; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a diagram depicting transmission timing in a radio interface; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a diagram depicting transmission timing on an ATM line; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a diagram depicting transmission timing when 1 frame offset is allocated to a plurality of channels; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a diagram depicting fluctuation which is generated on an ATM line; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is a diagram depicting the fragmentation of a band on an ATM line; and </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is a diagram depicting the case when the fragmentation of a band is minor.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0042" lvl="7"><number>&lsqb;0042&rsqb;</number> (A) Overview of the Present Invention </paragraph>
<paragraph id="P-0043" lvl="7"><number>&lsqb;0043&rsqb;</number> (a) Frame Offset </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> A mobile radio communication system comprises a base station transceiver sub-system (BTS) <highlight><bold>10</bold></highlight> and a base station controller (BSC) <highlight><bold>20</bold></highlight> which are inter-connected via an ATM line, as shown in <cross-reference target="DRAWINGS">FIG. 1A</cross-reference>. The base station transceiver sub-system <highlight><bold>10</bold></highlight> receives 20 ms frames (actually cells) per channel from the base station controller <highlight><bold>20</bold></highlight> via the ATM line <highlight><bold>40</bold></highlight>, and transmits the 20 ms frames to a mobile station <highlight><bold>30</bold></highlight> via a radio interface <highlight><bold>50</bold></highlight>. Both the base station transceiver sub-system <highlight><bold>10</bold></highlight> and the base station controller <highlight><bold>20</bold></highlight> use a 20 ms frame as the transmission unit, adds one of the 16 levels of offset with a 1.25 ms interval to a frame, and transmits the frame, as shown in <cross-reference target="DRAWINGS">FIG. 1B</cross-reference>. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The base station transceiver sub-system <highlight><bold>10</bold></highlight> and the base station controller <highlight><bold>20</bold></highlight> synchronize in 20 ms units, and both know the head position of the frame (position of frame offset&equals;0). To transmit 20 ms frames (cells) of a predetermined traffic channel, the base station controller <highlight><bold>20</bold></highlight> transmits the frames (cells) at transmission timing according to the frame offset allocated to the traffic channel (frame offset&equals;2 in the case of <cross-reference target="DRAWINGS">FIG. 1B</cross-reference>), and the base station transceiver sub-system <highlight><bold>10</bold></highlight> adds as the frame offset according to the traffic channel (frame offset&equals;2 in this case) to the frames, and transmits it to the mobile terminal <highlight><bold>30</bold></highlight> via the radio interface <highlight><bold>50</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 1C</cross-reference>. Actually, the base station transceiver sub-system <highlight><bold>10</bold></highlight> employs a means (mentioned later) of tolerating delay for the total M frame offset width considering transmission delay on the transmission line, processing delay and fluctuation of phases of cells. Therefore a time delay corresponding to the M frame offset is tolerated between the frame offset n on the ATM line and the frame offset n on the radio interface. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> When frames of a predetermined traffic channel are received from the mobile station <highlight><bold>30</bold></highlight>, the base station transceiver sub-system <highlight><bold>10</bold></highlight> packetizes the frames into cells, and transmits the cells to the base station controller <highlight><bold>20</bold></highlight> via the ATM line <highlight><bold>40</bold></highlight> according to the traffic channel. </paragraph>
<paragraph id="P-0047" lvl="7"><number>&lsqb;0047&rsqb;</number> (b) Absorption of Fluctuation </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram depicting how to decide the offset considering delay (fluctuation). </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> To determine a frame offset position on an ATM line, the transmission delay D<highlight><subscript>TA </subscript></highlight>(&equals;Ta&minus;Tb) on an ATM line and the internal processing delay D<highlight><subscript>TB </subscript></highlight>(&equals;Tb&prime;&minus;Tc) of the base station transceiver sub-system <highlight><bold>10</bold></highlight> from receiving 20 ms frames from the base station controller <highlight><bold>20</bold></highlight> to transmitting the 20 ms frames to the radio interface <highlight><bold>50</bold></highlight>, must be considered. In addition to these delays, the present invention decides the frame offset considering fluctuation. In the example in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the fluctuation tolerance range for the total M (&equals;5) frame offset width is set considering 1 frame offset as the transmission delay D<highlight><subscript>TA </subscript></highlight>of the ATM line, 1 frame offset as the base station internal processing delay D<highlight><subscript>TB</subscript></highlight>, and 3 frame offsets as the fluctuation absorption range D<highlight><subscript>J</subscript></highlight>. This tolerated fluctuation range can be set by storing frames (traffic data) in a memory for the period according to this range, and reading the frames from this memory at a predetermined timing. By setting the tolerated fluctuation range, a margin for the time delay corresponding to the M frame offset is generated between the frame offset n on the ATM line and the frame offset n on the radio interface. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The effect of the tolerated fluctuation range will now be described with reference to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. It is assumed that a traffic channel of wide band data (for a 1.5 frame offset) is allocated to the frame offset&equals;0. By this, fluctuation is generated at the narrow band frame F<highlight><bold>0</bold></highlight> which exists at the frame offset&equals;0, and frame F<highlight><bold>0</bold></highlight> fluctuates to the frame offset&equals;1. However, the tolerated fluctuation range is up to a 5 frame offset, so the base station transceiver sub-system <highlight><bold>10</bold></highlight> can transmit this frame F<highlight><bold>0</bold></highlight> at the radio frame offset&equals;0 without delay. </paragraph>
<paragraph id="P-0051" lvl="7"><number>&lsqb;0051&rsqb;</number> (c) Controlling Fragmentation </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> In the present invention, band management to control the generation of fragmentation is performed based on the fact that fluctuation for up to M frame offsets is tolerated by setting the tolerated fluctuation range. <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(A) is a state where the traffic channel T<highlight><bold>0</bold></highlight> is allocated to the frame offset&equals;n, and <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(B) is a state where the traffic channel T<highlight><bold>1</bold></highlight> is also allocated to the frame offset&equals;n. This is because there is sufficient remaining available band at the frame offset&equals;n with respect to the band of the traffic channel T<highlight><bold>1</bold></highlight>. Then the band for the traffic channel T<highlight><bold>2</bold></highlight> is secured. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(C) is an example of conventional offset allocation where the generation of fluctuation is not tolerated. In the frame offset&equals;n, there is no empty to secure a band required for the traffic channel T<highlight><bold>2</bold></highlight>. Therefore the traffic channel T<highlight><bold>2</bold></highlight> is allocated to the frame offset n&plus;1. With such an allocation, however, some band Bn&prime; of the frame offset&equals;n which is not used remains as a fragment. This fragment is used if a traffic channel whose band is smaller than the band Bm&prime; is generated in the feature, but remains otherwise. If such a status is generated at each frame offset position and many fragments are generated, a continuous empty band required for securing the band of the traffic channel for which connection is requested does not exist, even though a sufficient empty band exists on the total ATM line, and the connection of this traffic channel is impossible. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> So in the present invention, the traffic channel is allocated to a frame offset considering the tolerated fluctuation range. In the example in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(D), the tolerated fluctuation range is the length of the M (&equals;3) offset. By setting the tolerated fluctuation range, the band width of the frame offset n is regarded as 4 offsets, including the tolerated fluctuation. In other words, the band management range of the offset n is 4 offsets, from n to n&plus;3, where a plurality of traffic channels can be allocated to the frame offset n within a range which does not exceed the band width of this band management range. This is because fluctuation is controlled within the tolerated fluctuation range, even if the traffic of a predetermined traffic channel fluctuates up to the n&plus;3 offset by allocating a plurality of traffic channels to the frame offset n, and the frame is delivered by allocating a plurality of traffic channels to the frame offset n, before the frame offset n on the radio interface. The frame offset n on the radio interface is actually delayed 3 offsets from the frame offset n on the ATM interface. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Therefore the traffic channel T<highlight><bold>2</bold></highlight> can be allocated to the offset n, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(D). In this case, the traffic channel T<highlight><bold>2</bold></highlight> uses a band up to n&plus;1, exceeding the offset position n, but is still within the tolerated fluctuation range. So the base station transceiver sub-system <highlight><bold>10</bold></highlight> can receive the traffic data of the traffic channel T<highlight><bold>2</bold></highlight> before the radio frame offset n, performs spread modulation on the traffic data, and transmits the spread data. The emptyband in the offset n does not fragment and remains, and the band can be used efficiently. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a traffic channel allocation example when the remaining available band Bn&prime;, which can be used within the band management range Bn of the offset n, is decreased. Although the traffic channel T<highlight><bold>5</bold></highlight> attempts allocation to the offset n, the empty band Bn&prime; at the n&plus;3 position in the band management range Bn of the offset n is insufficient for allocating the traffic T<highlight><bold>5</bold></highlight>. In this case, the offset is shifted to n&plus;1, and it is checked whether the band management range Bn&plus;1 of the offset (n&plus;1) has sufficient empty. Considering the tolerated fluctuation range (3 offsets in this example), the band Bn&plus;1&prime;, which is the total of what remains of n&plus;3 and n&plus;4, is empty. Therefore the traffic channel T<highlight><bold>5</bold></highlight> can be allocated to the offset n&plus;1. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> shows this state. Since the traffic T<highlight><bold>0</bold></highlight>-T<highlight><bold>4</bold></highlight> allocated to the offset n substantially uses the band of the offset n&plus;3, the transmission of T<highlight><bold>5</bold></highlight> ends at the position n&plus;4, but is still within the tolerated fluctuation range Bn&plus;1 of the frame offset (n&plus;1). Therefore the base station transceiver sub-system <highlight><bold>10</bold></highlight> can receive the frames of the traffic channel T<highlight><bold>5</bold></highlight> from the ATM line before the radio frame offset n&plus;1, and modulates and transmits the frames. </paragraph>
<paragraph id="P-0057" lvl="7"><number>&lsqb;0057&rsqb;</number> (B) Configuration of Base Station Transceiver Sub-system and Base Station Controller </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a block diagram of a base station transceiver sub-system and a base station controller, where <highlight><bold>10</bold></highlight><highlight><italic>a</italic></highlight>-<highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>are the base station transceiver sub-systems (BTS), <highlight><bold>20</bold></highlight> is a base station controller (BSC) which controls a plurality of base stations (BTS), and <highlight><bold>30</bold></highlight><highlight><italic>a</italic></highlight>-<highlight><bold>30</bold></highlight><highlight><italic>c </italic></highlight>are mobile stations which exist in radio zones corresponding to the base stations <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>10</bold></highlight><highlight><italic>b</italic></highlight>, and communicate with the corresponding base stations via radio. The base station transceiver sub-systems (BTS) <highlight><bold>10</bold></highlight><highlight><italic>a</italic></highlight>-<highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>and the base station controller (BSC) <highlight><bold>20</bold></highlight> are connected by the ATM line <highlight><bold>40</bold></highlight>, and the base station transceiver sub-system <highlight><bold>10</bold></highlight><highlight><italic>a</italic></highlight>-<highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>receive 20 ms frames (actually cells) from the base station controller <highlight><bold>20</bold></highlight> via the ATM line, and transmits the 20 ms frames to the mobile station via the radio interface. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The base station transceiver sub-systems <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>have the same configuration, comprising: an AMP block <highlight><bold>11</bold></highlight>, a radio block <highlight><bold>12</bold></highlight>, a base band signal processing block <highlight><bold>13</bold></highlight> which performs base band signal processing, a controller <highlight><bold>14</bold></highlight> in the base station transceiver sub-system which controls channel allocation and power management, and the transmission line interface block <highlight><bold>15</bold></highlight>. The amplifier block <highlight><bold>11</bold></highlight> amplifies the transmission/reception signal, and the radio block <highlight><bold>12</bold></highlight> converts the frequencies of high frequency signals, which are input from the antenna via the amplifier block, to a base band signal, and converts base band signals to high frequency signals and inputs the high frequency signals to the antenna via the amplifier block. The base band signal processing block <highlight><bold>13</bold></highlight> performs such processing as spread and orthogonal modulation on a plurality of channels of communication signals (various control signals, voice signals, data signals, etc.), inputs the modulated signals to the radio block <highlight><bold>12</bold></highlight>, and performs such processing as orthogonal detection, inverse spread and data demodulation on a plurality of channels of communication signals, which are input from the radio block <highlight><bold>12</bold></highlight>, and inputs the demodulated data to the transmission line interface block <highlight><bold>15</bold></highlight> and the control block <highlight><bold>14</bold></highlight>. The transmission line interface block <highlight><bold>15</bold></highlight> performs N channels of signal multiplex and signal demultiplex processing, and performs signal conversion processing between the base station transceiver sub-system (BTS)/base station controller (BSC). The controller <highlight><bold>14</bold></highlight> in the station performs call control and transmission power management control, and performs traffic channel setup control related to the present invention. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> The base station controller <highlight><bold>20</bold></highlight> comprises base station interface blocks <highlight><bold>21</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>21</bold></highlight><highlight><italic>b</italic></highlight>, a clock generation block <highlight><bold>22</bold></highlight>, a control block <highlight><bold>23</bold></highlight>, an ATM switch/processing block <highlight><bold>24</bold></highlight>, a hand off processing block <highlight><bold>25</bold></highlight>, a traffic supervisory control block <highlight><bold>26</bold></highlight>, voice signal processing blocks <highlight><bold>27</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>27</bold></highlight><highlight><italic>b</italic></highlight>, switch interface blocks <highlight><bold>28</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>28</bold></highlight><highlight><italic>b</italic></highlight>, a packet signal processing block <highlight><bold>29</bold></highlight><highlight><italic>a</italic></highlight>, and a PDSN interface block <highlight><bold>29</bold></highlight><highlight><italic>b</italic></highlight>. The base station interface blocks <highlight><bold>21</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>21</bold></highlight><highlight><italic>b </italic></highlight>perform signal format conversion and level conversion between the base station transceiver sub-systems <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>and the switches, and the clock generation block <highlight><bold>22</bold></highlight> generates reference clocks and various timing signals. The control block <highlight><bold>23</bold></highlight> controls the base station controller in general, and the ATM switch/processing block <highlight><bold>24</bold></highlight> transmits signals from each base station transceiver sub-system <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>10</bold></highlight><highlight><italic>b </italic></highlight>to a predetermined port at the switch station side, and transmits signals from the switch station side to a predetermined base station transceiver sub-system. The hand off processing block <highlight><bold>25</bold></highlight> performs hand off control, the traffic supervisory control block <highlight><bold>26</bold></highlight> supervises the traffic channel (traffic) for each base station transceiver sub-system, the voice signal processing blocks <highlight><bold>27</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>27</bold></highlight><highlight><italic>b </italic></highlight>performs conversion between the voice encoding system of radio zones (between a terminal and base station controller) and the voice encoding system (PCM) of a public network, and the switch interface blocks <highlight><bold>28</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>28</bold></highlight><highlight><italic>b </italic></highlight>performs signal conversion processing between the base station controller and the switch station. The packet signal processing block <highlight><bold>29</bold></highlight><highlight><italic>a </italic></highlight>performs packet signal processing. </paragraph>
<paragraph id="P-0061" lvl="7"><number>&lsqb;0061&rsqb;</number> (C) Frame Format </paragraph>
<paragraph id="P-0062" lvl="7"><number>&lsqb;0062&rsqb;</number> (a) Protocol Structure </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a diagram depicting a protocol structure between BSC and BTS where E<highlight><bold>1</bold></highlight> is used for the physical layer, the ATM layer is on the physical layer, the AAL layer is thereon, and the application layer is on top. The AAL layer uses AAL-type <highlight><bold>2</bold></highlight> for transferring traffic information, and uses AAL-type <highlight><bold>5</bold></highlight> for transferring control information, as shown in (1) and (2). </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> In the field of mobile communication, data is converted to a low bit rate data format by compression in order to use the communication band effectively. When such low speed bit rate information is embedded into a payload of a standard ATM cell, it takes time for the payload of one ATM cell to be filled with data. This delays data and tends to drop the quality of communication. So, as a method to transmit low bit rate information with less delay, a multiple transfer system called AAL-type <highlight><bold>2</bold></highlight> is recommended in ITU-T I.363.2. This transfer method, AAL-type <highlight><bold>2</bold></highlight>, is suitable for transferring low bit rate information used for mobile communication networks, and can use a band effectively with few delays. </paragraph>
<paragraph id="P-0065" lvl="7"><number>&lsqb;0065&rsqb;</number> (b) AAL-type <highlight><bold>2</bold></highlight> Format </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> and <cross-reference target="DRAWINGS">FIG. 10</cross-reference> are diagrams depicting the format of AAL-type <highlight><bold>2</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a diagram depicting the concept of a transfer system based on AAL-type <highlight><bold>2</bold></highlight>. As <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows, an ATM cell in AAL-type <highlight><bold>2</bold></highlight> format is comprised of a standard cell header and a standard cell payload, where a 1 byte start field STF and 1 or more short cells are mapped in the standard cell payload. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The start field STF is comprised of (1) an offset field OFS where the pointer to indicate the first position of the first short cell (offset value) is stored, (2) a field SN where a 1 bit sequence number is stored, and (3) a parity field P. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> A short cell is created for each traffic channel, and is comprised of (1) a fixed-length short cell header and (2) a variable length short cell payload. The short cell header includes {circle over (1)} a short cell connection identifier (channel identifier) CID for identifying the short cell connection (traffic channel), {circle over (2)} a length indicator (LI) for indicating the payload length of the short cell, and {circle over (3)} a user user identifier (UUI), and the short cell payload includes low bit rate traffic information. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> In the AAL-type <highlight><bold>2</bold></highlight> cell, a plurality of short cells are stored in a multiplexed state. If a part of the short cells exceed the payload of one AAL-type <highlight><bold>2</bold></highlight> cell, the remaining part of the short cells are mapped to the next AAL-type <highlight><bold>2</bold></highlight> cell, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> (overlap). And the AAL-type <highlight><bold>2</bold></highlight> cell is transmitted on a predetermined ATM connection according to the VPI/VCI stored in the header. </paragraph>
<paragraph id="P-0070" lvl="7"><number>&lsqb;0070&rsqb;</number> (D) Configuration of Base Station Transceiver Sub-system </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram depicting a part of the base station transceiver sub-system. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> In the transmission line interface block <highlight><bold>15</bold></highlight>, the line terminating block <highlight><bold>15</bold></highlight><highlight><italic>a </italic></highlight>perform E<highlight><bold>1</bold></highlight> interface termination processing, and the preprocessing block <highlight><bold>15</bold></highlight><highlight><italic>b </italic></highlight>extracts cells from the received frame at reception, and performs synchronization processing using HEC. The demultiplexing block (DMUX) <highlight><bold>15</bold></highlight><highlight><italic>c </italic></highlight>demultiplexes the traffic information TDT of AAL-type <highlight><bold>2</bold></highlight>, and control information CDT of AAL-type <highlight><bold>5</bold></highlight> and outputs this information. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> The control block <highlight><bold>14</bold></highlight> performs a predetermined control processing based on the control information. For example, the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>performs allocation processing to allocate traffic channels to frame offsets when a traffic channel setup request is received from the base station controller <highlight><bold>20</bold></highlight>, and also performs allocation release processing when a traffic channel release request is received. The allocation result is stored in the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b</italic></highlight>, so that the later mentioned processor <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>can use it. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram of the resource management table, where {circle over (1)} the remaining available band B<highlight><subscript>Rn </subscript></highlight>in the band management range and {circle over (2)} the identifier of the allocated traffic channel and the band thereof are stored corresponding to the frame offset n&equals;0-15. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> The ATM cell demultiplexing block <highlight><bold>15</bold></highlight><highlight><italic>d </italic></highlight>demultiplexes the ATM cell into AAL-type <highlight><bold>2</bold></highlight> cells (short cells) and the short cell demultiplexing block <highlight><bold>15</bold></highlight><highlight><italic>e </italic></highlight>demultiplexes short packets (traffic information) from the short cells, and inputs the packets to the packet reception processing &amp; S/P conversion block <highlight><bold>13</bold></highlight><highlight><italic>a</italic></highlight>. The packet reception processing &amp; S/P conversion block <highlight><bold>13</bold></highlight><highlight><italic>a </italic></highlight>performs a CRC check and an HEC check, performs serial/parallel conversion, and stores parallel data in the memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>. The processor <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>reads the frames (traffic data) of one or more traffic channels allocated to the target frame offset n from the memory <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>at a predetermined timing, considering the tolerated fluctuation range for each frame offset n (n&equals;0-15), inputs the traffic data of each channel which was read to the spread modulation block according to the traffic channel of the digital modulation/demodulation block <highlight><bold>13</bold></highlight><highlight><italic>d</italic></highlight>, and transmits the spread modulated data via the radio block. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> The processor <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>stores data which was demodulated by the inverse spread demodulation block of each channel in the digital modulation/demodulation block <highlight><bold>13</bold></highlight><highlight><italic>d </italic></highlight>in the memory <highlight><bold>13</bold></highlight><highlight><italic>e</italic></highlight>. The packet transmission processing block &amp; P/S conversion block <highlight><bold>13</bold></highlight><highlight><italic>f </italic></highlight>reads the data from the memory <highlight><bold>13</bold></highlight><highlight><italic>e</italic></highlight>, performs HEC insertion and CRC insertion processing and parallel/serial conversion, and inputs the serial data to the short cell assembly block <highlight><bold>15</bold></highlight><highlight><italic>f</italic></highlight>. The short cell assembly block <highlight><bold>15</bold></highlight><highlight><italic>f </italic></highlight>assembles AAL-type <highlight><bold>2</bold></highlight> cells (short cells), and the ATM cell assembly block <highlight><bold>15</bold></highlight><highlight><italic>g </italic></highlight>assembles ATM cells from the short cells, and inputs the ATM cells to the multiplexing block <highlight><bold>15</bold></highlight><highlight><italic>h</italic></highlight>. The multiplexing block <highlight><bold>15</bold></highlight><highlight><italic>h </italic></highlight>multiplexes the traffic information of AAL-type <highlight><bold>2</bold></highlight> and the control information of AAL-type <highlight><bold>5</bold></highlight>, and inputs the multiplexed information to the preprocessing block <highlight><bold>15</bold></highlight><highlight><italic>b</italic></highlight>, and the preprocessing block <highlight><bold>15</bold></highlight><highlight><italic>b </italic></highlight>calculates and inserts HEC into multiplexed information at transmission, and inputs the information to the line terminating block <highlight><bold>15</bold></highlight><highlight><italic>a</italic></highlight>. The line terminating block <highlight><bold>15</bold></highlight><highlight><italic>a </italic></highlight>directly maps the multiplexed ATM cells to the E1 frame. </paragraph>
<paragraph id="P-0076" lvl="7"><number>&lsqb;0076&rsqb;</number> (E) Allocation Processing </paragraph>
<paragraph id="P-0077" lvl="7"><number>&lsqb;0077&rsqb;</number> (a) Traffic Channel Allocation Processing </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> depicts a traffic channel allocation processing flow by the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> When a traffic channel connection request is detected (Step <highlight><bold>101</bold></highlight>), the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>sets n&equals;0 (Step <highlight><bold>102</bold></highlight>), and acquires the remaining available band B<highlight><subscript>Rn </subscript></highlight>in the band management range of offset n from the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b </italic></highlight>(Step <highlight><bold>103</bold></highlight>). </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> Then the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>checks whether the remaining available band B<highlight><subscript>Rn </subscript></highlight>is greater than the traffic transmission band B<highlight><subscript>T </subscript></highlight>of the traffic channel for which connection is requested (Step <highlight><bold>104</bold></highlight>), and if smaller, n is changed (n&plus;1&rarr;n, Step <highlight><bold>105</bold></highlight>), n&gt;16 is checked (Step <highlight><bold>106</bold></highlight>), and if n is smaller than 16, processing after Step <highlight><bold>103</bold></highlight> is repeated. However, if n&gt;16 in Step <highlight><bold>106</bold></highlight>, the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>regards this as allocation disabled, and returns a resource securing disabled response (channel connection disabled) to the channel connection request source (Step <highlight><bold>107</bold></highlight>). </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> If B<highlight><subscript>Rn</subscript></highlight>&gE;B<highlight><subscript>T </subscript></highlight>in Step <highlight><bold>104</bold></highlight>, the requested traffic channel is allocated to the frame offset n (Step <highlight><bold>108</bold></highlight>). Then the remaining available band B<highlight><subscript>Rn </subscript></highlight>in the frame offset n is updated by the following formula.</paragraph>
<paragraph lvl="0"><in-line-formula>B<highlight><subscript>Rn</subscript></highlight>&minus;B<highlight><subscript>T</subscript></highlight>&rarr;B<highlight><subscript>R </subscript></highlight>(Step <highlight><bold>109</bold></highlight>)</in-line-formula></paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Then the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>checks which frame offset and how many bands will be allocated for the band B<highlight><subscript>T </subscript></highlight>of the traffic channel (Step <highlight><bold>110</bold></highlight>). Here the bands B<highlight><subscript>na</subscript></highlight>&tilde;B<highlight><subscript>nb </subscript></highlight>of the frame offsets na&tilde;nb are allocated to the traffic channel respectively. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Then a plurality of frame offsets where at least one of the frame offsets na&tilde;nb is included in the band management range are determined, and the remaining available bands of each frame offset is updated based on the allocated band Bna&tilde;Bnb (Step <highlight><bold>111</bold></highlight>). </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> Then the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>updates the content of the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b </italic></highlight>(Step <highlight><bold>112</bold></highlight>), and notifies the channel connection request source that the channel connection is possible and information on the allocated frame offsets (Step <highlight><bold>113</bold></highlight>). </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> By this, the base station controller <highlight><bold>20</bold></highlight> packs the frames (short cells) of each traffic channel into ATM cells, and transmits the ATM cells at the notified timing of the frame offset. Referring to the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b</italic></highlight>, the processor <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>identifies one or more traffic channels allocated to the target frame offset n, and reads the traffic data of this traffic channel from the memory <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>at a predetermined timing considering the tolerated fluctuation range, and inputs the traffic data to the digital modulation/demodulation block <highlight><bold>13</bold></highlight><highlight><italic>d. </italic></highlight></paragraph>
<paragraph id="P-0086" lvl="7"><number>&lsqb;0086&rsqb;</number> (b) Allocation Processing when Traffic Channel is Disconnected </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> depicts the allocation processing flow by the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>when a traffic channel is disconnected. When a traffic channel disconnection request is detected (Step <highlight><bold>201</bold></highlight>), the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>determines a frame offset m where the traffic channel Ti, for which disconnection is requested, is allocated, referring to the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b </italic></highlight>(Step <highlight><bold>202</bold></highlight>). Then the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>acquires the remaining available band B<highlight><subscript>Rm </subscript></highlight>of the frame offset m and the band B<highlight><subscript>Ti </subscript></highlight>of the traffic channel Ti from the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b </italic></highlight>(Step <highlight><bold>203</bold></highlight>), and updates the remaining available band B<highlight><subscript>Rm </subscript></highlight>of the frame offset m by the following formula.</paragraph>
<paragraph lvl="0"><in-line-formula>B<highlight><subscript>Rm</subscript></highlight>&minus;B<highlight><subscript>Ti</subscript></highlight>&rarr;B<highlight><subscript>Rm </subscript></highlight>(Step <highlight><bold>204</bold></highlight>)</in-line-formula></paragraph>
<paragraph id="P-0088" lvl="7"><number>&lsqb;0088&rsqb;</number> Then the resource management block <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>checks which frame offset and how many bands will be released (Step <highlight><bold>205</bold></highlight>). Here the bands Bra&tilde;Brb of the frame offsets ra&tilde;rb are released respectively. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> Then a plurality of frame offsets where at least one of the frame offsets ra&tilde;rb is included in the band management range are determined, and the remaining available bands of each frame offset are updated based on the bands Bra&tilde;Brb which are released (Step <highlight><bold>206</bold></highlight>). </paragraph>
<paragraph id="P-0090" lvl="7"><number>&lsqb;0090&rsqb;</number> (F) Fluctuation Absorption Processing </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows a flow of fluctuation absorption processing. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> If the tolerated fluctuation range is the M frame offset, then the traffic data (short cell data) for at least the M frame offset is sequentially stored in the memory <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>(<cross-reference target="DRAWINGS">FIG. 12</cross-reference>) (Step <highlight><bold>301</bold></highlight>), and it is monitored whether the transmission timing at the target offset frame n has been reached. When the transmission timing at the target offset frame n has been reached, the traffic channel allocated to this target offset frame is identified referring to the resource management table <highlight><bold>14</bold></highlight><highlight><italic>b </italic></highlight>(Step <highlight><bold>303</bold></highlight>), the traffic data of this identified traffic channel is read from the memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>, and is input to the corresponding CDMA spread modulation block (Step <highlight><bold>304</bold></highlight>). By this, each spread modulation block performs spread modulation, and transmits the transmission data via the radio interface (Step <highlight><bold>305</bold></highlight>). </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> Then the target frame offset n is changed, and the processing after Step <highlight><bold>301</bold></highlight> is repeated. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> In the above description, a case when allocation processing is performed by the control block <highlight><bold>14</bold></highlight> was described, but the allocation processing can also be performed by the processor <highlight><bold>13</bold></highlight><highlight><italic>c. </italic></highlight></paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> According to the present invention, frame synchronization between the radio interface and the ATM interface can be secured by absorbing fluctuation, so frames can be correctly transmitted/received. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> Also according to the present invention, the generation of fragmentation of bands can be controlled while absorbing fluctuation, so that traffic channel allocation in a wide band is possible, and bands can be used effectively. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> Also according to the present invention, a plurality of traffic channels can be allocated to one frame offset while managing the band of traffic channels to be allocated to each frame offset, which allows effective use of a band. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the appended claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A base station transceiver sub-system which transmits/receives data to/from a mobile station via radio, and transmits/receives data in cells to/from a base station controller via a transmission line, comprising: 
<claim-text>an offset allocation block which allocates to each traffic channel one of a plurality of frame offsets generated by dividing a predetermined time length when data is transmitted via radio in said predetermined time length frame units; </claim-text>
<claim-text>a radio interface which transmits frames of a predetermined traffic channel at timing according to the frame offset allocated to said traffic channel; </claim-text>
<claim-text>a transmission line interface which assembles cells using frame of each traffic channel and transmits/receives the cells to/from the base station controller via the transmission line at timing according to the frame offset allocated to said traffic channel; and </claim-text>
<claim-text>a fluctuation tolerance block which tolerates the fluctuation of a cell on the transmission line for a predetermined frame offset width, </claim-text>
<claim-text>wherein said offset allocation block allocates a same frame offset to a plurality of traffic channels considering the data transmission band determined by said tolerated fluctuation width. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said fluctuation tolerance block further comprises: 
<claim-text>a memory for storing frames for a period according to said fluctuation width; and </claim-text>
<claim-text>a fluctuation control block which reads frames from said memory and inputs the frames into a modulation block at a predetermined timing. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said offset allocation block sets a band management range, considering said tolerated fluctuation width, as said data transmission band, corresponding to each one of the plurality of frame offsets, and allocates each frame offset to a plurality of traffic channels so as not to exceed said band management range. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said band management range of a predetermined frame offset is determined by a total width where the period of said frame offset and the tolerated fluctuation width are added. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein it is checked sequentially whether the remaining data transmission band in the band management range of each fame offset is greater than the required band of the traffic channel, and if greater, the frame offset according to said band management range is allocated to said traffic channel. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein when said frame offset is allocated to the traffic channel, the remaining data transmission band of the band management range according to said frame offset is decreased, and the remaining data transmission band of the band management range of another frame offset which will be influenced by the allocation of said traffic channel is decreased. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein when a traffic channel is disconnected, the remaining data transmission band of the band management range according to a frame offset which is allocated to said traffic channel is increased, and the remaining data transmission band of the band management range of another frame offset which will be influenced by disconnection of said traffic channel is increased. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A frame offset allocation method for a base station transceiver sub-system, comprising an offset allocation block which allocates, to each traffic channel, one frame offset of N number of frame offsets generated by dividing a predetermined time length T when data is transmitted/received via radio in said predetermined time length frame unit; a radio interface which transmits traffic data at a timing according to the frame offset allocated to said traffic channel when a frame of a predetermined traffic channel is transmitted via radio; and a transmission line interface block which assembles cells using the traffic data of each traffic channel, and transmits/receives the cells to/from the base station controller via the transmission line at timing according to the frame offset allocated to said traffic channel, 
<claim-text>wherein said frame offset allocation method comprises the steps of: 
<claim-text>tolerating the phase fluctuation of cells on the transmission line for the M frame offset width; and </claim-text>
<claim-text>allocating a same frame offset to a plurality of traffic channels considering the data transmission band determined by said tolerated phase fluctuation width. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The frame offset allocation method for a base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein the band management range according to said tolerated fluctuation width is set as said data transmission band corresponding to each of said plurality of frame offsets, and each frame offset is allocated to the plurality of traffic channels so as not to exceed said band management range. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The frame offset allocation method for a base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein it is checked sequentially whether the remaining data transmission band in the band management range of each frame offset is greater than the required band of the traffic channel, and if greater, the frame offset according to said band management range is allocated to said traffic channel. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The frame offset allocation method for a base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein when said frame offset is allocated to a traffic channel, the remaining data transmission band of the band management range according to said frame offset is decreased, and the remaining data transmission enabled band of the band management range of another frame offset which will be influenced by the allocation of said traffic channel is decreased. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The frame offset allocation method for a base station transceiver sub-system according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein when a traffic channel is disconnected, the remaining data transmission band of the band management range according to a frame offset which is allocated to said traffic channel is increased, and the remaining data transmission band of the band management range of another frame offset which will be influenced by the disconnection of said traffic channel is increased.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002459A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002459A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002459A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002459A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030002459A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030002459A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030002459A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030002459A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030002459A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030002459A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030002459A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030002459A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030002459A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030002459A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030002459A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030002459A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030002459A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030002459A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030002459A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
