<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002471A1-20030102-M00001.NB SYSTEM "US20030002471A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00001.TIF SYSTEM "US20030002471A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00002.NB SYSTEM "US20030002471A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00002.TIF SYSTEM "US20030002471A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00003.NB SYSTEM "US20030002471A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00003.TIF SYSTEM "US20030002471A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00004.NB SYSTEM "US20030002471A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00004.TIF SYSTEM "US20030002471A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00005.NB SYSTEM "US20030002471A1-20030102-M00005.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00005.TIF SYSTEM "US20030002471A1-20030102-M00005.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00006.NB SYSTEM "US20030002471A1-20030102-M00006.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00006.TIF SYSTEM "US20030002471A1-20030102-M00006.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00007.NB SYSTEM "US20030002471A1-20030102-M00007.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00007.TIF SYSTEM "US20030002471A1-20030102-M00007.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00008.NB SYSTEM "US20030002471A1-20030102-M00008.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00008.TIF SYSTEM "US20030002471A1-20030102-M00008.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00009.NB SYSTEM "US20030002471A1-20030102-M00009.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00009.TIF SYSTEM "US20030002471A1-20030102-M00009.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00010.NB SYSTEM "US20030002471A1-20030102-M00010.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00010.TIF SYSTEM "US20030002471A1-20030102-M00010.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00011.NB SYSTEM "US20030002471A1-20030102-M00011.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00011.TIF SYSTEM "US20030002471A1-20030102-M00011.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00012.NB SYSTEM "US20030002471A1-20030102-M00012.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00012.TIF SYSTEM "US20030002471A1-20030102-M00012.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00013.NB SYSTEM "US20030002471A1-20030102-M00013.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00013.TIF SYSTEM "US20030002471A1-20030102-M00013.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00014.NB SYSTEM "US20030002471A1-20030102-M00014.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00014.TIF SYSTEM "US20030002471A1-20030102-M00014.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00015.NB SYSTEM "US20030002471A1-20030102-M00015.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00015.TIF SYSTEM "US20030002471A1-20030102-M00015.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00016.NB SYSTEM "US20030002471A1-20030102-M00016.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00016.TIF SYSTEM "US20030002471A1-20030102-M00016.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-M00017.NB SYSTEM "US20030002471A1-20030102-M00017.NB" NDATA NB>
<!ENTITY US20030002471A1-20030102-M00017.TIF SYSTEM "US20030002471A1-20030102-M00017.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00000.TIF SYSTEM "US20030002471A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00001.TIF SYSTEM "US20030002471A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00002.TIF SYSTEM "US20030002471A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00003.TIF SYSTEM "US20030002471A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00004.TIF SYSTEM "US20030002471A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00005.TIF SYSTEM "US20030002471A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00006.TIF SYSTEM "US20030002471A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00007.TIF SYSTEM "US20030002471A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00008.TIF SYSTEM "US20030002471A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00009.TIF SYSTEM "US20030002471A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00010.TIF SYSTEM "US20030002471A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00011.TIF SYSTEM "US20030002471A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00012.TIF SYSTEM "US20030002471A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00013.TIF SYSTEM "US20030002471A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00014.TIF SYSTEM "US20030002471A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00015.TIF SYSTEM "US20030002471A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00016.TIF SYSTEM "US20030002471A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00017.TIF SYSTEM "US20030002471A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00018.TIF SYSTEM "US20030002471A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030002471A1-20030102-D00019.TIF SYSTEM "US20030002471A1-20030102-D00019.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002471</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>09994519</doc-number>
</application-number>
<application-number-series-code>09</application-number-series-code>
<filing-date>20011126</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04J001/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>370</class>
<subclass>343000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>370</class>
<subclass>480000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Method for estimating carrier-to-noise-plus-interference ratio (CNIR) for OFDM waveforms and the use thereof for diversity antenna branch selection</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-in-part-of>
<parent-child>
<child>
<document-id>
<doc-number>09994519</doc-number>
<kind-code>A1</kind-code>
<document-date>20011126</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09800444</doc-number>
<document-date>20010306</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-in-part-of>
</continuations>
<continuations>
<continuation-in-part-of>
<parent-child>
<child>
<document-id>
<doc-number>09994519</doc-number>
<kind-code>A1</kind-code>
<document-date>20011126</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09800231</doc-number>
<document-date>20010306</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-in-part-of>
</continuations>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>James</given-name>
<middle-name>A.</middle-name>
<family-name>Crawford</family-name>
</name>
<residence>
<residence-us>
<city>San Diego</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Long</given-name>
<middle-name>P.</middle-name>
<family-name>Huynh</family-name>
</name>
<residence>
<residence-us>
<city>San Diego</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>FITCH EVEN TABIN AND FLANNERY</name-1>
<name-2></name-2>
<address>
<address-1>120 SOUTH LA SALLE STREET</address-1>
<address-2>SUITE 1600</address-2>
<city>CHICAGO</city>
<state>IL</state>
<postalcode>60603-3406</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A scheme for estimating the carrier-to-noise-plus-interference ratio (CNIR) for Orthogonal Frequency-Division Multiplexing (OFDM) waveforms makes use of a physical waveform frame structure including a diversity selection portion. The diversity selection portion may be located at the end of a burst as a postamble and includes one or more OFDM symbols each having a frequency bin structure including both non-zero and zero OFDM frequency bin content. A first set of measurements are taken from an antenna branch on the non-zero OFDM frequency bins, and a second set of measurements are taken from the antenna branch on the zero OFDM frequency bins. An estimate for CNIR for at least one of the non-zero OFDM frequency bins and at least one of the zero OFDM frequency bins of the antenna branch is then computed using the first and second set of measurements. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS-REFERENCE TO RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application is a Continuation-In-Part (CIP) application of U.S. patent application Ser. No. 09/800,444, filed Mar. 6, 2001, entitled PROBING SCHEME FOR DIVERSITY ANTENNA BRANCH SELECTION, and U.S. patent application Ser. No. 09/800,231, filed Mar. 6, 2001, entitled METHOD AND APPARATUS FOR DIVERSITY ANTENNA BRANCH SELECTION, the full disclosures of which are hereby both fully incorporated into the present application by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The present invention relates generally to radio frequency (RF) communications, and more specifically to diversity reception in RF communications. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> 2. Discussion of the Related Art </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> The market for home and office networking is developing at a phenomenal rate. A cost-effective, robust, high-performance wireless local-area network (WLAN) technology is needed for distributing multimedia information within the indoor environment. An example of one proposed solution that purports to address the performance requirements of the home market is the IEEE 802.11a standard, which operates in the 5-GHz UNII (unlicensed National Information Infrastructure) band and can achieve data rates as high as 54 Mbits/s, which is a significant improvement over other standards-based wireless technology. The 802.11a standard has some unique and distinct advantages over other wireless standards in that it uses a technology called Orthogonal Frequency-Division Multiplexing (OFDM) as opposed to spread spectrum. OFDM is a technology that is better suited for some of the problems associated with the indoor wireless environment, such as the phenomenon called &ldquo;multipath.&rdquo;</paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> A multipath environment is created when radio frequency (RF) signals propagate over more than one path from the transmitter to the receiver. Alternate paths with different propagation times are created when the RF signal reflects from objects that are displaced from the direct path. In other words, multiple radio signals are received from reflections off walls, ceilings, floors, furniture, people and other objects. The direct and alternate path signals sum at the receiver antenna to cause constructive and destructive interference, which have peaks and nulls across the modulation spectrum. When the receiver antenna is positioned in a null, received signal strength drops and the communication channel is degraded or lost. The reflected signals may experience a change in polarization relative to the direct path signal. This multipath environment is typical of indoor and in-office WLANs. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> An approach to addressing the multipath problem is to employ multiple receiver antenna elements in order to selectively receive a signal from more than one direction or from a slightly different position. This approach, known as &ldquo;diversity&rdquo;, is achieved when receiving signals at different points in space or receiving signals with different polarization. Diversity that is achieved by receiving signals at different points in space is known as spacial diversity, and diversity that is achieved by receiving signals with different polarization is known as polarization diversity. Other types of receive diversity include, but are not limited to, time diversity and frequency diversity. Performance is further enhanced by isolating the separate antennas. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Diversity reception is important for achieving good bit error rate (BER) performance over channels that exhibit substantial multipath like the indoor wireless channel. The objective of diversity reception is to make use of statistically independent signal streams to reduce the impact of severe multipath-related channel fading. Namely, each of L number of receiving antenna branches receives an independent fading version of the same information-bearing signal such that the probability that all the signal components will fade simultaneously is reduced considerably. The benefits of using receive diversity, as compared to no diversity, are dramatic. The complexity, however, of having L number of receivers for full L-branch diversity is rather expensive. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> OFDM is a modulation method that, like all wireless transmission schemes, encodes data onto a radio frequency (RF) signal. Conventional single carrier transmission schemes encode data symbols onto one radio frequency. OFDM encodes data symbols concurrently onto multiple frequencies, or &ldquo;tones.&rdquo; This results in very efficient use of bandwidth and provides robust communications in the presence of noise, intentional or unintentional interference, and reflected signals that degrade radio communications. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> OFDM technology breaks one high-speed data signal into tens or hundreds of lower speed signals, which are all transmitted in parallel. The data is divided across the available spectrum into a set of tones. Each tone is orthogonal (independent or unrelated) to all the other tones. This arrangement includes even the adjacent tones and, therefore, eliminates the need for guard bands between them. OFDM achieves spectral efficiency because guard bands are only required around a set of tones (at the edges of the occupied modulation bandwidth). </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Because OFDM is made up of many narrowband tones, frequency selective fading (as a result of multipath propagation) degrades only a small portion of the signal and has little or no effect on the remainder of the frequency components. This makes the OFDM system highly tolerant to multipath propagation and narrowband interference. Nevertheless, such frequency-selective fading can be severe to the affected portion of the signal and can affect the OFDM sub-channels differently across the RF bandwidth involved. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Thus, there is a need for a method, apparatus and/or system that overcomes these and other disadvantages by providing affordable diversity reception and reducing the effects of frequency-selective fading in OFDM communications. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The present invention advantageously addresses the needs above as well as other needs by providing a method for use in communicating an orthogonal frequency division multiplexing (OFDM) signal. The method includes the steps of: receiving a burst with a system having L antenna branches and n radio frequency (RF) receivers, wherein the burst includes a diversity selection portion comprising one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content; taking a first set of measurements from a first of the L antenna branches on one or more of the non-zero OFDM frequency bins; taking a second set of measurements from the first of the L antenna branches on one or more of the zero OFDM frequency bins; and computing an estimate for carrier-to-noise-plus-interference ratio (CNIR) for at least one OFDM frequency bin of the first of the L antenna branches using the first and second set of measurements. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In another embodiment the invention can be characterized as a method for use in communicating an OFDM signal that includes the steps of: generating a burst having a preamble portion and a data portion; adding a diversity selection portion to the burst, wherein the diversity selection portion includes one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content; and transmitting the burst including the diversity selection portion within a frame structure. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> In another embodiment the invention can be characterized as a communication burst embodied in an OFDM signal and is transmitted according to a frame structure, the burst includes a preamble portion including a plurality of OFDM symbols, the preamble portion including a coarse frequency estimation portion, a data portion following the preamble portion and including a plurality of OFDM data symbols, and a diversity selection portion. The diversity selection portion comprises one or more antenna probing portions. The diversity selection portion occurs after the coarse frequency estimation portion of the preamble portion and each of the one or more antenna probing portions includes one or more OFDM symbols. In another embodiment, the invention can be characterized as a communication burst embodied in an orthogonal frequency division multiplexing (OFDM) signal and transmitted within a frame structure, the burst including a preamble portion including a plurality of OFDM symbols, a data portion following the preamble portion and including a plurality of OFDM data symbols and a diversity selection portion comprising one or more antenna branch probing portions, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols. The diversity selection portion is configured for diversity antenna branch selection at a receiver receiving the communication burst based upon bin-by-bin measurements of the one or more OFDM symbols of the diversity selection portion. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> In another embodiment the invention can be characterized as a medium access control (MAC) frame format embodied in an orthogonal frequency division multiplexing (OFDM) signal, the frame format comprising one or more communication bursts occupying different time portions of the frame format. Each of the one or more communication bursts comprises a preamble portion including a plurality of OFDM symbols, the preamble portion including a coarse frequency estimation portion, a data portion following the preamble portion and including a plurality of OFDM data symbols, and a diversity selection portion comprising one or more antenna branch probing portions. The diversity selection portion occurs after the coarse frequency estimation portion of the preamble portion and each of the one or more antenna branch probing portions includes one or more OFDM symbols. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> In another embodiment the invention can be characterized as a method of performing diversity reception in radio frequency (RF) communications, comprising the steps of: receiving a burst with a system having L antenna branches and n RF receivers, wherein L and n are variables and the burst includes a preamble portion, a data portion and a diversity selection portion, the diversity selection portion including one or more antenna branch probing portions, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols; and taking measurements from n of the L antenna branches during one of the antenna branch probing portions. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> In another embodiment the invention can be characterized as a method, and means for performing the method, of performing diversity antenna selection, the method comprising the steps of: taking measurements from L different antenna branches n antenna branches at a time; and using the measurements to identify a group of n of the L different antenna branches that minimizes an approximate bit error probability of a subsequent signal that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> In another embodiment the invention can be characterized as a An apparatus that includes a diversity antenna selection module, wherein the diversity antenna selection module comprises: a first computation stage configured to compute an approximate bit error probability for each of K sub-carriers of an OFDM signal received for each of L different antenna branches n antenna branches at a time; and a second computation stage configured to process the approximate bit error probabilities to identify a group of n of the L different antenna branches that minimizes an approximate bit error probability of subsequent OFDM signals that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> A better understanding of the features and advantages of the present invention will be obtained by reference to the following detailed description of the invention and accompanying drawings which set forth an illustrative embodiment in which the principles of the invention are utilized.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The above and other aspects, features and advantages of the present invention will be more apparent from the following more particular description thereof, presented in conjunction with the following drawings wherein: </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic diagram illustrating a system made in accordance with an embodiment of the present invention; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a timing diagram illustrating a conventional physical waveform; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a timing diagram illustrating a physical waveform made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a timing diagram illustrating a conventional OFDM communication burst transmitted within a conventional PHY-layer frame structure according to the IEEE 802.11a standard; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a timing diagram illustrating a preamble portion of a burst transmitted within a PHY-layer frame structure made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a timing diagram illustrating a preamble portion of a burst transmitted within a PHY-layer frame structure made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a timing diagram illustrating a burst transmitted within a PHY-layer frame structure made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a timing diagram illustrating a communication burst transmitted within a PHY-layer frame structure made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a timing diagram illustrating a communication burst transmitted within a PHY-layer frame structure made in accordance with another embodiment of the present invention; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a timing diagram illustrating a communication burst transmitted within a PHY-layer frame structure made in accordance with yet another embodiment of the present invention; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> illustrates the OFDM bin content for an OFDM short symbol according to the IEEE 802.11a standard to be used in a diversity selection portion of a PHY-layer frame in accordance with one embodiment of the invention; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> illustrates the OFDM bin content for an OFDM symbol to be used in a diversity selection portion of a PHY-layer frame in accordance with another embodiment of the invention; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a timing diagram illustrating a communication burst transmitted within a PHY-layer frame structure made in accordance with yet another embodiment of the present invention that is useful for estimating carrier-to-noise-plus-interference ratio (CNIR); </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a flow chart illustrating a method of estimating CNIR of one antenna branch in accordance with an embodiment of the present invention; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is an RF frequency spectrum diagram illustrating two different diversity branches; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart illustrating an exemplary antenna branch selection method in accordance with an embodiment of the present invention; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a block diagram illustrating an exemplary diversity antenna branch selection module made in accordance with an embodiment of the present invention; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 18A and 18B</cross-reference> are schematic diagrams illustrating an exemplary sub-carrier selection diversity module and diversity antenna branch selection module, respectively, made in accordance with embodiments of the present invention; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a schematic diagram illustrating in additional detail a portion of the diversity antenna branch selection module shown in <cross-reference target="DRAWINGS">FIG. 18B</cross-reference>; and </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 20 and 21</cross-reference> are timing diagrams illustrating one embodiment of PHY-layer frame structure for a communication system including an access point and a plurality of remote terminals, and illustrating various communication bursts transmitted within the PHY-layer frame structure in accordance with another embodiment of the present invention. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Corresponding reference characters indicate corresponding components throughout the several views of the drawings.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The following description is not to be taken in a limiting sense, but is made merely for the purpose of describing the general principles of the invention. The scope of the invention should be determined with reference to the claims. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, there is illustrated a system <highlight><bold>100</bold></highlight> made in accordance with an embodiment of the present invention. The system <highlight><bold>100</bold></highlight> includes a diversity antenna <highlight><bold>102</bold></highlight>, two radio-frequency (RF) receivers <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight>, and a diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight>. The system <highlight><bold>100</bold></highlight> can be manufactured for very low cost and is extremely well suited for wireless local area network (WLAN) applications operating at high frequencies, including the 5 to 6 GHz frequency band, in multipath environments where RF signals propagate over many different paths <highlight><bold>110</bold></highlight> from transmitter to receiver. Furthermore, the system <highlight><bold>100</bold></highlight> is well suited for use with multi-carrier modulation methods, such as Orthogonal Frequency Division Multiplexing (OFDM). </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> In this embodiment, the diversity antenna <highlight><bold>102</bold></highlight> includes six antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> connecting to six antenna elements A<highlight><bold>1</bold></highlight>, A<highlight><bold>2</bold></highlight>, A<highlight><bold>3</bold></highlight>, A<highlight><bold>4</bold></highlight>, A<highlight><bold>5</bold></highlight>, A<highlight><bold>6</bold></highlight>, respectively. The variable &ldquo;L&rdquo; is defined herein to represent the total number of antenna branches. Thus, L&equals;<highlight><bold>6</bold></highlight> for the illustrated diversity antenna <highlight><bold>102</bold></highlight>. While the illustrated diversity antenna <highlight><bold>102</bold></highlight> includes six antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight>, it should be well understood that fewer or more than six antenna branches may be used in accordance with the present invention. In other words, L may be varied in accordance with the present invention. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> By way of example, the diversity antenna <highlight><bold>102</bold></highlight> may comprise any of the antenna structures or antenna assemblies described in the following United States patent applications, which are hereby fully incorporated into the present application by reference: U.S. patent application Ser. No. 09/693,465, filed Oct. 19, 2000, entitled DIVERSITY ANTENNA STRUCTURE FOR WIRELESS COMMUNICATIONS, by inventor James A. Crawford; U.S. patent application Ser. No. <highlight><bold>09</bold></highlight>/<highlight><bold>735</bold></highlight>,<highlight><bold>977</bold></highlight>, filed Dec. <highlight><bold>13</bold></highlight>, <highlight><bold>2000</bold></highlight>, entitled CARD-BASED DIVERSITY ANTENNA STRUCTURE FOR WIRELESS COMMUNICATIONS, by inventor James A. Crawford; and U.S. patent application Ser. No. 09/799,411, filed Mar. 5, 2001, entitled CONFORMAL BOX ANTENNA, by inventor James A. Crawford. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> The two parallel RF receivers <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight>, along with the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight>, are used for implementing a diversity combining technique in accordance with an embodiment of the present invention. Specifically, it was mentioned above that diversity is an effective technique for achieving good bit error rate (BER) performance over channels that exhibit substantial multipath and frequency selective fading, like the indoor wireless channel. There are several known methods of diversity combining. For coherent modulation with independent branch fading, maximal ratio combining (MRC) is known as an optimal linear combining technique, but the hardware complexity for MRC is directly proportional to the number of available combining paths. In other words, the complexity of full L-fold MRC is fairly high due to the need for L-RF receivers, particularly when more complex QAM signal constellations are considered. The complexity of having L receivers for any type of full L-branch diversity is rather expensive. On the other extreme, selection combining (SC) is a simple combining technique, in which the branch with the largest amplitude (or signal to noise ratio (SNR)) is selected for demodulation. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> A compromise between MRC and SC called second order selection combining (SC2) combines two branch signals that improves the BER performance relative to that achievable with SC and requires less complex hardware than MRC. In accordance with SC2, the system <highlight><bold>100</bold></highlight> preferably performs diversity selection in two stages: first, two antenna branches are selected from among the L antenna braches (the &ldquo;diversity antenna branch selection&rdquo; stage); and second, each final OFDM sub-carrier is selected from the two receiving RF channels which have been coupled to the two selected antenna branches (the &ldquo;sub-carrier selection&rdquo; stage). The two antenna branches selected during the diversity antenna branch selection stage are preferably chosen to be the best branches from the total choice of L&equals;6 branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight>. By using this two stage scheme, only the two parallel RF receivers <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight> are needed as opposed to L-RF receivers for full L-fold MRC or another type of full L-branch diversity. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The use of two parallel RF receivers <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> is an ideal number of receivers in terms of hardware complexity and BER performance. It should be well understood, however, that more than two RF receivers, or only one RF receiver, may be used in accordance with some embodiments of the present invention. The variable &ldquo;n&rdquo; is defined herein to represent the number of available RF receivers. For example, if n&equals;3, then three RF receivers are available and the system <highlight><bold>100</bold></highlight> preferably selects the three best branches from the total choice of L&equals;6 branches during the diversity antenna branch selection stage. If n&equals;1, then only one RF receiver is available and the system 100 preferably selects the one best branch from the total choice of L&equals;6 branches. Note that in the case of n&equals;1, the sub-carrier selection stage is not performed because each final OFDM sub-carrier must be selected from the one receiving RF channel. Thus, it should be well understood that the sub-carrier selection stage is itself an optional feature of the present invention. As an additional example, if L&equals;4, then there are four antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight> available and the system <highlight><bold>100</bold></highlight> can select the n best branches from the four available branches during the diversity antenna branch selection stage. In this example, if n&equals;2, the system <highlight><bold>100</bold></highlight> selects the two best branches from the four available branches. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> In accordance with an optional feature of the present invention, not all n of the available RF receivers must always be used. For example, if signal conditions are really good, software (or some other means) could choose to power-down one or more of the n available RF receivers and rely on less than n of the receivers to save power. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The function of selecting the two best branches (in the illustrated case of n&equals;2) from the L&equals;6 diversity branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> available for examination is performed by the module <highlight><bold>108</bold></highlight>. In general, the signal quality of each of the L different receive antenna elements A<highlight><bold>1</bold></highlight>, A<highlight><bold>2</bold></highlight>, A<highlight><bold>3</bold></highlight>, A<highlight><bold>4</bold></highlight>, A<highlight><bold>5</bold></highlight>, A<highlight><bold>6</bold></highlight> is examined and the best two are selected. Specific methods that may be used for making this selection are described in detail below. The following discussion, however, first focuses on the timing of when antenna branch measurements (that will be used in the diversity antenna branch selection process) are made. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Antenna branch measurements are made during the reception of signals. Referring to <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> conventional physical waveform <highlight><bold>200</bold></highlight> typically includes a series of PHY-layer frames <highlight><bold>202</bold></highlight>, also known as a medium access control (MAC) frames. A communication burst made up of a plurality of transmit symbols (e.g., OFDM symbols) is transmitted within each frame. Each PHY-layer frame structure includes a preamble portion <highlight><bold>204</bold></highlight> and a data portion <highlight><bold>206</bold></highlight>. The preamble portion <highlight><bold>204</bold></highlight> is typically used for signal detection, frequency offset estimation, timing synchronization and channel estimation. The data portion <highlight><bold>206</bold></highlight>, of course, carries the data. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a physical waveform <highlight><bold>210</bold></highlight> having PHY-layer frames <highlight><bold>212</bold></highlight> (or MAC frames <highlight><bold>212</bold></highlight>) in accordance with one embodiment of the present invention. A communication burst made up of a plurality of transmit symbols is transmitted within each frame. Each PHY-layer frame <highlight><bold>212</bold></highlight> includes a preamble portion <highlight><bold>214</bold></highlight> and a data portion <highlight><bold>216</bold></highlight>. With the PHY-layer frames <highlight><bold>212</bold></highlight>, the signal quality of each of L&equals;8 different receive antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight>, B<highlight><bold>7</bold></highlight>, B<highlight><bold>8</bold></highlight> is measured, or probed or scored, during the preamble portion <highlight><bold>214</bold></highlight>. The preamble portion <highlight><bold>214</bold></highlight> takes advantage of the two complete RF receivers <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) in that each probing sequence (or probing portion) is used to evaluate two antenna branches at a time. Specifically, antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>5</bold></highlight> are probed during probing portion <highlight><bold>218</bold></highlight>, antenna branches B<highlight><bold>2</bold></highlight>, B<highlight><bold>6</bold></highlight> are probed during probing portion <highlight><bold>220</bold></highlight>, antenna branches B<highlight><bold>3</bold></highlight>, B<highlight><bold>7</bold></highlight> are probed during probing portion <highlight><bold>222</bold></highlight>, and antenna branches B<highlight><bold>4</bold></highlight>, B<highlight><bold>8</bold></highlight> are probed during probing portion <highlight><bold>224</bold></highlight>. In this way the preamble portion <highlight><bold>214</bold></highlight> is used for probing the available diversity branches. Such antenna probing may also be referred to as antenna scoring. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> The preamble portion <highlight><bold>214</bold></highlight> is preferably long enough, i.e., includes enough symbols, to permit all L antenna branches to be measured with sufficient signal-to-noise ratio for accurate results to be achieved. This may entail using multiple symbols for each antenna branch being so evaluated. Furthermore, one or more switching time intervals <highlight><bold>226</bold></highlight>, <highlight><bold>228</bold></highlight>, <highlight><bold>230</bold></highlight>, <highlight><bold>232</bold></highlight>, <highlight><bold>234</bold></highlight>, or guard times <highlight><bold>226</bold></highlight>, <highlight><bold>228</bold></highlight>, <highlight><bold>230</bold></highlight>, <highlight><bold>232</bold></highlight>, <highlight><bold>234</bold></highlight>, may be included to allow time for antenna branch switching. The switching time intervals <highlight><bold>228</bold></highlight>, <highlight><bold>230</bold></highlight>, <highlight><bold>232</bold></highlight> may be located between the antenna branch probing portions as illustrated. The switching time intervals <highlight><bold>226</bold></highlight>, <highlight><bold>234</bold></highlight> may be located before the first antenna branch probing portion <highlight><bold>218</bold></highlight> and after the last antenna branch probing portion <highlight><bold>224</bold></highlight>, respectively, as illustrated. The actual number of symbols used and the guard time for switching between branches may vary depending upon the specific application. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The antenna branch probing portions <highlight><bold>218</bold></highlight>, <highlight><bold>220</bold></highlight>, <highlight><bold>222</bold></highlight>, <highlight><bold>224</bold></highlight> and the switching time intervals <highlight><bold>226</bold></highlight>, <highlight><bold>228</bold></highlight>, <highlight><bold>230</bold></highlight>, <highlight><bold>232</bold></highlight>, <highlight><bold>234</bold></highlight> form one exemplary version of what is referred to herein as a &ldquo;diversity selection portion.&rdquo; While this exemplary diversity selection portion is illustrated as being located in the preamble portion <highlight><bold>214</bold></highlight>, the below discussion will make clear that the diversity selection portions described herein may be located anywhere in the PHY-layer frame (or MAC frame) in accordance with the present invention. Such diversity selection portions may also be referred to as &ldquo;antenna scoring portions&rdquo; or &ldquo;antenna scoring waveforms&rdquo;. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> It is noted that the illustrated preamble portion <highlight><bold>214</bold></highlight> is designed for use with L&equals;8 antenna branches but could just as easily be used for L&equals;6 antenna branches by eliminating the final probing portion <highlight><bold>224</bold></highlight> used for probing branches B<highlight><bold>4</bold></highlight>, B<highlight><bold>8</bold></highlight>. Similarly, the illustrated preamble portion <highlight><bold>214</bold></highlight> could be used for L&equals;4 antenna branches by eliminating the final two probing portions <highlight><bold>222</bold></highlight>, <highlight><bold>224</bold></highlight>, or for L&equals;2 antenna branches by eliminating the final three probing portions <highlight><bold>220</bold></highlight>, <highlight><bold>222</bold></highlight>, <highlight><bold>224</bold></highlight>. In a further similar manner, the illustrated preamble portion <highlight><bold>214</bold></highlight> could be used for probing more than eight antenna branches (i.e., L&gt;8) by adding additional probing portions to the preamble portion <highlight><bold>214</bold></highlight>. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> It is also contemplated that the illustrated preamble portion <highlight><bold>214</bold></highlight> could be modified to take advantage of more than two available RF receivers, or only one available RF receiver. For example, if three RF receivers are available (n&equals;3), three antenna branches could be simultaneously probed during each probing portion (or probing sequence), and if four RF receivers are available (n&equals;4), four antenna branches could be simultaneously probed during each probing portion, etc. If only one RF receiver is available (n&equals;1), then only one antenna branch would be probed during each probing portion. Thus, the diversity branch probing scheme of the present invention allows the cycling through of all L antenna branches n-branches at a time. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> In accordance with an optional feature of the present invention, the diversity branch probing scheme (or antenna scoring scheme) of the present invention may be enabled or disabled depending upon signal quality. For example, if signal conditions are relatively good, the diversity branch probing scheme may be performed less frequently, and if signal conditions are really good, the diversity branch probing scheme may be disabled. Such enabling and disabling may be performed by software or some other means. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The PHY-layer frame structures for many different standards-based wireless technologies may be modified to include the diversity branch probing scheme of the present invention. For example, OFDM for WLAN applications has been standardized in the IEEE 802.11a standard (in the U.S.) and HiperLAN2 standard (in Europe), both of which are incorporated into the present application by reference. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates the PHY-layer frame structure <highlight><bold>300</bold></highlight> for the IEEE 802.11a standard. A communication burst is transmitted within the frame <highlight><bold>300</bold></highlight>. The frame <highlight><bold>300</bold></highlight> (also known as a PHY-layer frame <highlight><bold>300</bold></highlight> or a MAC frame <highlight><bold>300</bold></highlight>) includes a preamble portion <highlight><bold>302</bold></highlight> and a data portion <highlight><bold>304</bold></highlight>. The preamble portion <highlight><bold>302</bold></highlight> includes a short symbol portion <highlight><bold>306</bold></highlight> including short symbols and a long symbol portion <highlight><bold>308</bold></highlight> including long symbols. As shown in the figure, the short symbol portion <highlight><bold>306</bold></highlight> is used for signal detection, automatic gain control (AGC), diversity selection, coarse frequency offset estimation, and timing synchronization. The long symbol portion <highlight><bold>308</bold></highlight> is used for channel estimation and fine frequency offset estimation. The data portion <highlight><bold>304</bold></highlight> includes multiple symbols <highlight><bold>310</bold></highlight> (also referred to as OFDM symbols <highlight><bold>310</bold></highlight>), each symbol <highlight><bold>310</bold></highlight> having a guard time interval <highlight><bold>312</bold></highlight> preceding it. This figure is the only place in the 802.11a standard that mentions diversity selection. It is believed that the present 802.11a standard provides inadequate time for effective diversity selection, if any at all. This is at least partly due to the difficulty of dealing with all of the data-bearing subcarriers used in the OFDM waveform before there has even been a coarse frequency estimate. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> In modifying the IEEE 802.11a PHY-layer frame structure to include the diversity branch probing scheme of the present invention, the following analysis is taken into account. With respect to frame length, the frame length in 802.11a is variable, whereas the frame length used in HiperLAN2 is a fixed 2 msec frame. Short frames inherently lead to greater overhead loss, whereas long frames pose problems for both receive diversity systems as well as channel estimation methods. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> One preferred maximum allowable frame length for some embodiments of the present invention is based upon the following RF-related analysis. In the indoor environment, it can be assumed that the multipath with be slow-changing with respect to time. At 5.35 GHz, a wavelength in free-space is 2.2 inches. If it is assumed that the maximum linear velocity of any object within the propagation volume is 20 feet per second or less (including doors shutting, venetian blinds vibrating, etc.), this velocity equates to 240 inches/second. If the maximum phase change between channel estimation/diversity operations is restricted to be 30 degrees in this present context, the maximum allowable time between updates is given by the following equation:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mn>2</mn>
          <mo>&it;</mo>
          <mi>&pi;</mi>
          <mo>&it;</mo>
          <mfrac>
            <msub>
              <mi>vT</mi>
              <mi>f</mi>
            </msub>
            <mi>&lambda;</mi>
          </mfrac>
        </mrow>
        <mo>&leq;</mo>
        <msub>
          <mi>&phi;</mi>
          <mi>max</mi>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030002471A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="18.00225" file="US20030002471A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0063" lvl="7"><number>&lsqb;0063&rsqb;</number> where v is the maximum linear velocity, T<highlight><subscript>f </subscript></highlight>is the time between updates, and &lgr; is the signal wavelength in free-space. For the conditions specified, T<highlight><subscript>f</subscript></highlight>&lt;0.76 msec. A frame size less than about 0.8 msec becomes prohibitive in terms of overhead. Therefore, a MAC frame size of 1.0 msec is ideal for supporting diversity and channel estimation processes in the PIIY-layer, in accordance with one embodiment of the present invention, because it can easily be doubled in length to match the HiperLAN2 frame structure. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> In the HiperLAN2 context where the symbol rate is 250 kHz, 0.76 msec corresponds to 190 OFDM symbol intervals, and 1.0 msec corresponds to 250 OFDM symbol intervals. This provides plenty of symbol intervals such that some of them can be allocated to probe the channels in order to determine which 2-of-L antenna branches are the best to choose. As mentioned above, the preamble portion <highlight><bold>214</bold></highlight> should preferably include enough OFDM symbols to permit all L antenna branches to be measured with sufficient signal-to-noise ratio (SNR) for accurate results to be achieved. A MAC frame size of 1.0 msec leaves plenty of symbol intervals for this purpose. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> If a finer degree of coherency is sought, equation (1) can be used to derive many different MAC frame sizes that may be used in alternative embodiments of the present invention. For example, according to equation (1), the maximum RF carrier phase change between algorithm updates will be less than or equal to 10 degrees if the diversity branches are re-examined at least once every 0.25 msec. In the HiperLAN2 context a MAC frame size of 0.25 msec corresponds to about 63 OFDM symbol intervals, which still allows some of the symbol intervals to be allocated for probing the antenna branches. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Turning to the preamble, the conventional 802.11a frame preamble is not sufficient to support the higher order diversity branch probing scheme of the present invention. Referring to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, there is illustrated a diversity branch probing preamble burst <highlight><bold>320</bold></highlight> in accordance with one embodiment of the present invention. The diversity branch probing preamble burst <highlight><bold>320</bold></highlight> is transmitted within a MAC frame structure and includes a plurality of signals or transmit symbols (e.g., OFDM symbols). The diversity branch probing preamble burst <highlight><bold>320</bold></highlight> includes a diversity selection portion <highlight><bold>322</bold></highlight> inserted into the conventional 802.11a preamble frame format so that it supports the diversity branch probing scheme of the present invention. The diversity selection portion <highlight><bold>322</bold></highlight> is a modification or enhancement to the conventional 802.11a preamble frame structure or format. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> While the conventional 802.11a preamble frame structure <highlight><bold>300</bold></highlight> consists of 16 &mgr;sec as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, the diversity branch probing preamble burst <highlight><bold>320</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> includes a total of up to 32 &mgr;sec. The diversity selection portion <highlight><bold>322</bold></highlight>, which supports 6-branch receive diversity, includes five repeated channel probing long OFDM symbols <highlight><bold>324</bold></highlight>, <highlight><bold>326</bold></highlight>, <highlight><bold>328</bold></highlight>, <highlight><bold>330</bold></highlight>, <highlight><bold>332</bold></highlight>. Because each long OFDM symbol is 3.2 &mgr;sec, the diversity selection portion 322 adds (5)(3.2 &mgr;sec)&equals;16 &mgr;sec to the 802.11a preamble. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> This orchestration of channel probing is purposely done to simplify the receiver hardware needed to support 2-of-L receive diversity. Specifically, because there are two complete receiver paths <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>), each probing sequence can be used to evaluate two branches at a time. Sufficient time has been included in the diversity selection portion <highlight><bold>322</bold></highlight> for RF switching. Namely, four switching time intervals <highlight><bold>334</bold></highlight>, <highlight><bold>336</bold></highlight>, <highlight><bold>338</bold></highlight>, <highlight><bold>340</bold></highlight> are included in the frame structure to allow time for antenna branch switching. This way, in order to probe the available diversity branches, antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight> are switched on (i.e., coupled to their respective receivers) during switching time interval <highlight><bold>334</bold></highlight> and then measured during probing portion <highlight><bold>342</bold></highlight>, antenna branches B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight> are switched on during switching time interval <highlight><bold>336</bold></highlight> and then measured during probing portion <highlight><bold>344</bold></highlight>, and antenna branches B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> are switched on during switching time interval <highlight><bold>338</bold></highlight> and then measured during probing portion <highlight><bold>346</bold></highlight>. The selected pair of antennas are switched on during the final switching time interval <highlight><bold>340</bold></highlight>. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Advantageously, the diversity branch probing preamble burst <highlight><bold>320</bold></highlight> does not require accurate symbol time alignment while measuring the different diversity paths, postponing accurate time alignment until the long-symbol intervals. This is because the signals used in the long symbols (T<highlight><bold>1</bold></highlight>-T<highlight><bold>5</bold></highlight>) are time periodic over any 3.2 &mgr;sec interval. Furthermore, the diversity branch probing preamble burst <highlight><bold>320</bold></highlight> should be long enough for supporting high quality channel estimation when it comes to the dense signal constellations like 64-QAM (or higher) and also provide enough latitude to support channel estimation if necessary. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> Although the illustrated OFDM symbols <highlight><bold>324</bold></highlight>, <highlight><bold>326</bold></highlight>, <highlight><bold>328</bold></highlight>, <highlight><bold>330</bold></highlight>, <highlight><bold>332</bold></highlight> comprise long OFDM symbols, it should be well understood that OFDM symbols of a different length may be used in the diversity selection portion <highlight><bold>322</bold></highlight> in alternative embodiments of the present invention. For example, it is noted that OFDM short symbols, such as those in the short-symbol portion <highlight><bold>306</bold></highlight> of the preamble burst <highlight><bold>320</bold></highlight>, only make use of every 4<highlight><superscript>th </superscript></highlight>subcarrier, and therefore cannot be used to probe all of the data-bearing subcarriers used in the OFDM waveform. However, OFDM short symbols could be used in the diversity selection portion <highlight><bold>322</bold></highlight> to measure diversity branches if probing only every 4<highlight><superscript>th </superscript></highlight>subcarrier were found to be satisfactory. In fact, as will be discussed below, another aspect of the present invention involves the use of probing signals having periodic unoccupied OFDM frequency bins (such as for example OFDM short-symbols) for estimating carrier-to-noise-plus-interference ratio (&ldquo;CNIR&rdquo; or &ldquo;C/(N&plus;I)&rdquo;). This aspect may be referred to as a &ldquo;CNIR-based&rdquo; approach to diversity selection, while using OFDM symbols with all frequency bins being occupied is referred to as a &ldquo;power-based&rdquo; approach to diversity selection. Thus, while OFDM long symbols are advantageous for implementing power-based embodiments of the diversity antenna branch probing scheme of the present invention because they can be used to probe all of the data-bearing subcarriers used in the OFDM waveform, OFDM symbols having periodic unoccupied frequency bins (such as for example OFDM short-symbols) are also advantageous in CNIR-based embodiments for implementing both the diversity antenna branch probing scheme of the present invention and the CNIR estimation scheme of the present invention. While the use of OFDM long and short symbols is convenient due to their inclusion in the 802.11a standard, symbols of various other designs may be used, and it should be well understood that the diversity selection portions described herein may comprise short symbols or symbols of any other design, length or type for implementing an antenna probing sequence and/or CNIR estimation scheme in accordance with an embodiment of the present invention. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> For simplicity, in power-based approaches, the signaling used for the OFDM symbol branch measurement probing portions can be the same as that used for the long symbol intervals T1 and T2 shown in the conventional 802.11a preamble <highlight><bold>300</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 4</cross-reference>). It should be well understood, however, that variations in the signaling may be used in accordance with the present invention. Furthermore, in power-based approaches, the noise level of each bin may be measured in order to determine the CNIR of each bin, for example, by transmitting a zero-power OFDM symbol from the transmitter and then measuring the noise received for each bin. However, this would require additional overhead and therefore, the CNIR-based approach is preferred. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> It is noted that the illustrated diversity selection portion <highlight><bold>322</bold></highlight> is designed for use with L&equals;6 antenna branches but could just as easily be used for more or fewer antenna branches by adding or eliminating one or more probing portions. For example, in an alternative embodiment of the present invention, only four repeated channel probing OFDM symbols T<highlight><bold>1</bold></highlight>, T<highlight><bold>2</bold></highlight>, T<highlight><bold>3</bold></highlight>, T<highlight><bold>4</bold></highlight> are included to support four-branch receive diversity (L&equals;4). This would allow enough time for two probing portions and associated switching time intervals. As an optional feature of the present invention, the PHY-layer hardware (discussed below) preferably includes the flexibility to be configured to (a) operate in the standard 802.11a mode, and (b) add a number of OFDM symbols to support L-branch diversity, such as for example, 2 (repeated) OFDM symbol intervals to support 4-branch diversity, 3 (repeated) OFDM symbol intervals to support 6-branch diversity, etc. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Table 1 provides a preamble overhead comparison of the standard 802.11a mode, an embodiment of the present invention supporting four-branch diversity, and an embodiment of the present invention supporting six-branch diversity.  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Preamble Overhead Comparison</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="42PT" align="left"/>
<colspec colname="2" colwidth="56PT" align="center"/>
<colspec colname="3" colwidth="42PT" align="center"/>
<colspec colname="4" colwidth="63PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry></entry>
<entry></entry>
<entry>Time-</entry>
<entry>Time-</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>Preamble</entry>
<entry>Overhead for</entry>
<entry>Overhead for</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>Length,</entry>
<entry>0.80 msec</entry>
<entry>1.0 msec</entry>
</row>
<row>
<entry></entry>
<entry>Standard</entry>
<entry>&mgr;sec</entry>
<entry>Frame</entry>
<entry>Frame</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="4" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="42PT" align="left"/>
<colspec colname="2" colwidth="56PT" align="char" char="."/>
<colspec colname="3" colwidth="42PT" align="center"/>
<colspec colname="4" colwidth="63PT" align="center"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>802.11a</entry>
<entry>16</entry>
<entry>2.0%</entry>
<entry>&ensp;1.6%</entry>
</row>
<row>
<entry></entry>
<entry>Invention-4</entry>
<entry>28.8</entry>
<entry>3.6%</entry>
<entry>2.88%</entry>
</row>
<row>
<entry></entry>
<entry>Branch</entry>
</row>
<row>
<entry></entry>
<entry>Invention-6</entry>
<entry>32</entry>
<entry>4.0%</entry>
<entry>&ensp;3.2%</entry>
</row>
<row>
<entry></entry>
<entry>Branch</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="4" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> It is also contemplated that the illustrated diversity selection portion <highlight><bold>322</bold></highlight> of the preamble burst <highlight><bold>320</bold></highlight> could be used to take advantage of more than two available RF receivers, or only one available RF receiver. For example, if three RF receivers are available (n&equals;3), three antenna branches could be simultaneously probed during each probing portion, and if four RF receivers are available (n&equals;4), four antenna branches could be simultaneously probed during each probing portion, etc. If only one RF receiver is available, then only one antenna branch would be probed during each probing portion. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, there is illustrated a diversity branch probing preamble burst <highlight><bold>360</bold></highlight> in accordance with another embodiment of the present invention. The diversity branch probing preamble burst <highlight><bold>360</bold></highlight> is made up of a plurality of signals or symbols (e.g., OFDM symbols) and is transmitted within a PHY-layer or MAC frame structure. The diversity branch probing preamble burst <highlight><bold>360</bold></highlight> includes a diversity selection portion <highlight><bold>362</bold></highlight> inserted into the conventional 802.11a preamble frame structure so that it supports the diversity branch probing scheme of the present invention. Three 3.6 &mgr;sec OFDM symbols <highlight><bold>364</bold></highlight>, <highlight><bold>366</bold></highlight>, <highlight><bold>368</bold></highlight> are included which correspond to the three probing portions <highlight><bold>370</bold></highlight>, <highlight><bold>372</bold></highlight>, <highlight><bold>374</bold></highlight>, respectively. Four 1.0 &mgr;sec switching time intervals <highlight><bold>376</bold></highlight>, <highlight><bold>378</bold></highlight>, <highlight><bold>380</bold></highlight>, <highlight><bold>382</bold></highlight> are also included to allow time for antenna branch switching. Unlike the diversity branch probing preamble burst <highlight><bold>320</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 5</cross-reference>), however, the diversity branch probing preamble burst <highlight><bold>360</bold></highlight> is most effective when symbol time alignment is performed due to the 1.0 &mgr;sec switching time intervals <highlight><bold>376</bold></highlight>, <highlight><bold>378</bold></highlight>, <highlight><bold>380</bold></highlight>, <highlight><bold>382</bold></highlight> being interleaved with the OFDM symbols <highlight><bold>364</bold></highlight>, <highlight><bold>366</bold></highlight>, <highlight><bold>368</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The diversity selection portions <highlight><bold>322</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 5</cross-reference>), <highlight><bold>362</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 6</cross-reference>) described above are shown as being located in the preamble of a burst transmitted with a MAC frame structure. It should be well understood, however, that the diversity selection portions described herein may be located variously within the preamble burst and transmitted within various locations within a MAC frame structure in accordance with several embodiments of the present invention. The receiver must know the location of the diversity selection portion within a given burst and the location within the MAC frame a priori. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> For example, referring to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, there is illustrated a communication burst <highlight><bold>400</bold></highlight> (also referred to as burst <highlight><bold>400</bold></highlight>) in accordance with another embodiment of the present invention that may be transmitted within a MAC frame structure. The burst <highlight><bold>400</bold></highlight> is comprised of a plurality of OFDM transmit symbols and preferably includes a preamble portion <highlight><bold>402</bold></highlight> and a data portion <highlight><bold>404</bold></highlight>, which may comprise preamble and data portions in accordance with many different standards, such as for example the IEEE 802.11a standard or the HiperLAN2 standard. Following the data portion <highlight><bold>404</bold></highlight> is a diversity selection portion <highlight><bold>406</bold></highlight> used to implement the diversity branch probing scheme of the present invention. In this embodiment the diversity selection portion <highlight><bold>406</bold></highlight> can be referred to as a &ldquo;postamble&rdquo; of the communication burst <highlight><bold>400</bold></highlight>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> The diversity selection portion <highlight><bold>406</bold></highlight> is similar to the diversity selection portion <highlight><bold>322</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 5</cross-reference>), except that four repeated channel probing OFDM long symbols <highlight><bold>408</bold></highlight>, <highlight><bold>410</bold></highlight>, <highlight><bold>412</bold></highlight>, <highlight><bold>414</bold></highlight> are included instead of five. Because each OFDM symbol is 3.2 &mgr;sec, the diversity selection portion <highlight><bold>406</bold></highlight> adds (4)(3.2 &mgr;sec)&equals;12.8 &mgr;sec to the frame structure <highlight><bold>400</bold></highlight>. The four OFDM symbols <highlight><bold>408</bold></highlight>, <highlight><bold>410</bold></highlight>, <highlight><bold>412</bold></highlight>, <highlight><bold>414</bold></highlight> support two probing portions <highlight><bold>416</bold></highlight>, <highlight><bold>418</bold></highlight> and three antenna switching time intervals <highlight><bold>420</bold></highlight>, <highlight><bold>422</bold></highlight>, <highlight><bold>424</bold></highlight> such that if two RF receivers are used (n&equals;2), 4-branch (L&equals;4) receive diversity is supported. Namely, in order to probe the available diversity branches, antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight> are switched on (i.e., coupled to their respective receivers) during switching time interval <highlight><bold>420</bold></highlight> and then measured during probing portion <highlight><bold>416</bold></highlight>, and antenna branches B3, B4 are switched on during switching time interval <highlight><bold>422</bold></highlight> and then measured during probing portion <highlight><bold>418</bold></highlight>. The selected pair of antennas are switched on during the final switching time interval <highlight><bold>424</bold></highlight> in order to receive subsequent bursts, e.g., transmitted in subsequent frames. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> It is noted that in some embodiments, the switching interval <highlight><bold>420</bold></highlight> is not required. For example, in operation according to one embodiment, the signaling in a burst transmitted in a current frame is listened to by the two best antenna as determined by the measurements in the diversity selection portion <highlight><bold>406</bold></highlight> in the previous frame. For example, if antenna branches B<highlight><bold>2</bold></highlight> and B<highlight><bold>3</bold></highlight> were found (from the measurements in the diversity selection portion <highlight><bold>406</bold></highlight> of the previous frame) to be the best antenna pair, then antenna branches B<highlight><bold>2</bold></highlight> and B<highlight><bold>3</bold></highlight> are already switched on and are being used to listen to the data in the data portion <highlight><bold>404</bold></highlight> in the current burst received in the current frame. Thus, during probing portion <highlight><bold>416</bold></highlight>, antenna branches B<highlight><bold>2</bold></highlight> and B<highlight><bold>3</bold></highlight> are measured (i.e., there was no need to switch to them since they were already switched on). Then, during switching time interval <highlight><bold>422</bold></highlight>, antenna branches B<highlight><bold>1</bold></highlight> and B<highlight><bold>4</bold></highlight> are switched on and measured during probing portion <highlight><bold>418</bold></highlight>. Therefore, switching time interval <highlight><bold>420</bold></highlight> is not required and may be omitted from the burst and its frame structure or included in the burst and its frame structure, but there is no switching that actually takes place. In some embodiments, it is noted that although no switching occurs during switching time interval <highlight><bold>420</bold></highlight>, the interval is still present in order to maintain the proper timing for the FFTs. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> Placing the diversity selection portion <highlight><bold>406</bold></highlight> after the data portion <highlight><bold>404</bold></highlight> means that the fine frequency estimation that occurs at the end of the preamble portion <highlight><bold>402</bold></highlight> is completed for the antenna branch probing process. In contrast, for the diversity selection portion <highlight><bold>322</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 5</cross-reference>) the antenna branch probing process is performed before the fine frequency estimation occurs. Since the channel estimate has already been done using the preamble T<highlight><bold>1</bold></highlight>-T<highlight><bold>2</bold></highlight> region, coherent combining or averaging can also be conveniently done if this is postamble location is used. Thus, the positioning of the diversity selection portion <highlight><bold>406</bold></highlight> after the data portion <highlight><bold>404</bold></highlight> provides a very convenient location. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> It is noted that the illustrated diversity selection portion <highlight><bold>406</bold></highlight> is designed for use with L&equals;4 antenna branches but could just as easily be used for more or fewer antenna branches by adding or eliminating one or more probing portions. For example, <cross-reference target="DRAWINGS">FIG. 8</cross-reference> illustrates a communication burst <highlight><bold>430</bold></highlight> in accordance with another embodiment of the present invention. The burst <highlight><bold>430</bold></highlight> includes a plurality of symbols and is transmitted within a MAC frame structure. The burst <highlight><bold>430</bold></highlight> includes a preamble portion <highlight><bold>432</bold></highlight>, a data portion <highlight><bold>434</bold></highlight>, and a diversity selection portion <highlight><bold>436</bold></highlight> (or &ldquo;postamble&rdquo;) designed for use with L&equals;6 antenna branches. Specifically, five repeated channel probing OFDM long symbols <highlight><bold>437</bold></highlight>, <highlight><bold>438</bold></highlight>, <highlight><bold>439</bold></highlight>, <highlight><bold>440</bold></highlight>, <highlight><bold>441</bold></highlight> are included in the diversity selection portion <highlight><bold>436</bold></highlight>, which supports three probing portions <highlight><bold>442</bold></highlight>, <highlight><bold>443</bold></highlight>, <highlight><bold>444</bold></highlight> and four switching time intervals <highlight><bold>445</bold></highlight>, <highlight><bold>446</bold></highlight>, <highlight><bold>447</bold></highlight>, <highlight><bold>448</bold></highlight>, such that if two RF receivers are used (n&equals;2), 6-branch (L&equals;6) receive diversity is supported. It is also contemplated that the illustrated diversity selection portions <highlight><bold>406</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>), <highlight><bold>436</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 8</cross-reference>) could be used to take advantage of more than two available RF receivers, or only one available RF receiver. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Again, it is noted that in some embodiments, the switching time interval <highlight><bold>445</bold></highlight> is not required if the presently selected antenna branch pair that are receiving the data in the data portion <highlight><bold>434</bold></highlight> are measured during the probing portion <highlight><bold>442</bold></highlight>, while probing portions <highlight><bold>443</bold></highlight> and <highlight><bold>444</bold></highlight> are used to measure the other antenna branches n (e.g., here, n&equals;2) at a time. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Referring next to <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, illustrates a frame structure <highlight><bold>570</bold></highlight> for transmitting a communication burst in accordance with another embodiment of the present invention. A communication burst including a plurality of various OFDM symbols is transmitted according to the frame structure <highlight><bold>570</bold></highlight>. It is noted that in some embodiments, the frame structure <highlight><bold>570</bold></highlight> may be part of a larger MAC frame structure. The frame structure <highlight><bold>570</bold></highlight> includes a preamble portion <highlight><bold>574</bold></highlight>, a data portion <highlight><bold>576</bold></highlight>, and a diversity selection portion <highlight><bold>578</bold></highlight> (or &ldquo;postamble&rdquo;) designed for use with L&equals;6 antenna branches. Specifically, after the completion of the data portion <highlight><bold>576</bold></highlight>, three channel probing OFDM symbols <highlight><bold>580</bold></highlight>, <highlight><bold>582</bold></highlight>, <highlight><bold>584</bold></highlight> are included in the diversity selection portion <highlight><bold>578</bold></highlight>. The diversity selection portion <highlight><bold>578</bold></highlight> supports three probing portions <highlight><bold>592</bold></highlight>, <highlight><bold>594</bold></highlight>, <highlight><bold>596</bold></highlight> and three switching time intervals <highlight><bold>586</bold></highlight>, <highlight><bold>588</bold></highlight>, <highlight><bold>590</bold></highlight> such that if two RF receivers are used (n&equals;2), 6-branch (L&equals;6) receive diversity is supported. It is also contemplated that the illustrated diversity selection portions <highlight><bold>406</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>), <highlight><bold>436</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 8</cross-reference>), <highlight><bold>578</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 9</cross-reference>) could be used to take advantage of more than two available RF receivers, or only one available RF receiver. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> In operation, antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight> are switched on (i.e., coupled to their respective receivers) during switching time interval <highlight><bold>586</bold></highlight> and then measured during probing portion <highlight><bold>592</bold></highlight>, antenna branches B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight> are switched on during switching time interval <highlight><bold>588</bold></highlight> and then measured during probing portion <highlight><bold>594</bold></highlight>, and antenna branches B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> are switched on during switching time interval <highlight><bold>590</bold></highlight> and then measured during probing portion <highlight><bold>596</bold></highlight>. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> In this embodiment, each switching time interval and each corresponding probing portion are formatted to replicate the format of the data portion <highlight><bold>576</bold></highlight>. For example, each switching time interval <highlight><bold>586</bold></highlight>, <highlight><bold>588</bold></highlight>, <highlight><bold>590</bold></highlight> are designed to be 0.8 &mgr;s in length and each probing portion is designed to be 3.2 &mgr;s in length; thus, mirroring the 4.0 &mgr;s length of the guard time interval (0.8 &mgr;s) and data symbol length (3.2 &mgr;s) for each symbol in the data portion of the IEEE 802.11a standard. Advantageously, this allows the same timing within the hardware to be used for the diversity selection portion <highlight><bold>578</bold></highlight> as used in the data portion <highlight><bold>576</bold></highlight>. Furthermore, the frame structure appears similar to the standard IEEE 802.11a standard; however, the last portion is used for antenna diversity selection. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> Furthermore, since the diversity selection portion <highlight><bold>578</bold></highlight> occurs after the completion of the data portion <highlight><bold>576</bold></highlight>, the same advantages described with reference to <cross-reference target="DRAWINGS">FIGS. 7 and 8</cross-reference> are enjoyed. It is noted that the preamble portion <highlight><bold>574</bold></highlight> and the data portion <highlight><bold>576</bold></highlight> many be formatted according to many different standards, e.g., the IEEE 802.11a standard or the HiperLAN2 standard. In one embodiment, the preamble portion <highlight><bold>574</bold></highlight> and the data portion <highlight><bold>576</bold></highlight> represent the standard IEEE 802.11a frame structure <highlight><bold>572</bold></highlight>. It is also understood that the diversity selection portion <highlight><bold>578</bold></highlight> may also be located at other positions within the frame structure <highlight><bold>570</bold></highlight>, e.g., within the preamble portion <highlight><bold>574</bold></highlight>, between the preamble portion <highlight><bold>574</bold></highlight> and the data portion <highlight><bold>576</bold></highlight>, or within the data portion <highlight><bold>576</bold></highlight>. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> Again, switching time interval <highlight><bold>586</bold></highlight> is not required if the antenna pair measured (i.e., n&equals;2) in probing portion <highlight><bold>592</bold></highlight> are the two (i.e., n) antenna branches already being used to receive the data in data portion <highlight><bold>576</bold></highlight>. In this embodiment, to ensure the proper timing, the switching time interval <highlight><bold>586</bold></highlight> is included within the diversity selection portion, but no switching is necessary during the switching time interval. Thus, the appropriate switching occurs during switching time intervals <highlight><bold>588</bold></highlight> and <highlight><bold>590</bold></highlight> to ensure that the remaining antenna branches are measured during probing portions <highlight><bold>582</bold></highlight> and <highlight><bold>584</bold></highlight> n at a time, e.g., where n&equals;2. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, there is illustrated a communication burst <highlight><bold>450</bold></highlight> to be transmitted within a MAC frame structure in accordance with yet another embodiment of the present invention. The burst <highlight><bold>450</bold></highlight> is made up of a plurality of various OFDM symbols segmented into a preamble portion <highlight><bold>452</bold></highlight> and a data portion <highlight><bold>454</bold></highlight>, which again may comprise preamble and data portions in accordance with many different standards, such as for example the IEEE 802.11a standard or the HiperLAN2 standard. In this embodiment, however, a diversity selection portion <highlight><bold>456</bold></highlight> used to implement the diversity branch probing scheme of the present invention is inserted in the data portion <highlight><bold>454</bold></highlight>. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> Similar to the diversity selection portion <highlight><bold>406</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>), four repeated channel probing OFDM long symbols <highlight><bold>458</bold></highlight>, <highlight><bold>460</bold></highlight>, <highlight><bold>462</bold></highlight>, <highlight><bold>464</bold></highlight> are included which support two probing portions <highlight><bold>466</bold></highlight>, <highlight><bold>468</bold></highlight> and three switching time intervals <highlight><bold>470</bold></highlight>, <highlight><bold>472</bold></highlight>, <highlight><bold>474</bold></highlight>. If two RF receivers are used (n&equals;2), 4-branch (L&equals;4) receive diversity is supported. But again, however, more or fewer antenna branches could be supported by adding or eliminating one or more probing portions. It is also noted that the diversity selection portion <highlight><bold>456</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 10</cross-reference> may be replaced by the diversity selection portion <highlight><bold>578</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. Again, as described above, no switching is required to occur during switching interval <highlight><bold>470</bold></highlight> and/or switching interval <highlight><bold>470</bold></highlight> may be removed from the frame structure. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> Thus, the diversity branch probing scheme of the present invention is an exemplary way to accommodate the selection diversity methodology that is discussed below. Given the hardware capability to process a predetermined number of complete RF channels in parallel (such as two RF channels as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>), the diversity branch probing scheme of the present invention provides an efficient means for considering a large number of antenna branches from which the predetermined number of branches (e.g., two) are retained for actual processing. In other words, the diversity branch probing scheme of the present invention allows the cycling through of all L antenna branches n-branches at a time. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> As mentioned above, OFDM symbols of a different design, length or type may be used in the diversity selection portions <highlight><bold>322</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 5</cross-reference>), <highlight><bold>362</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 6</cross-reference>), <highlight><bold>406</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 7</cross-reference>), <highlight><bold>436</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 8</cross-reference>), <highlight><bold>578</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 9</cross-reference>), and <highlight><bold>456</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 10</cross-reference>) for communication bursts transmitted and received in the communication system. In fact, in accordance with another embodiment of the present invention, it has been found that use of a probing signal that has periodic unoccupied OFDM frequency bins is advantageous for estimating carrier-to-noise-plus-interference ratio (&ldquo;CNIR&rdquo; or &ldquo;C/(N&plus;I)&rdquo;) at each OFDM frequency bin across the modulation bandwidth. CNIR<highlight><subscript>k,l </subscript></highlight>is defined as the ratio of the received carrier power to the noise plus interference power for the k<highlight><superscript>th </superscript></highlight>frequency bin using the l<highlight><superscript>th </superscript></highlight>antenna and is an indicator of how well an antenna branch will perform. According to some embodiments, the determination of CNIR<highlight><subscript>k,l </subscript></highlight>for every OFDM frequency bin is important in the context of diversity antenna operations as well as for use with erasure declaration pertaining to forward error correction (FEC) methods and other carrier-to-noise ratio (&ldquo;CNR&rdquo; or &ldquo;C/N&rdquo;) sensitive processes. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> Determination of CNIR<highlight><subscript>k,l </subscript></highlight>for the OFDM waveform instance can be difficult using conventional methods because the signal time samples obey an almost perfect Gaussian probability distribution function, thereby being very difficult to distinguish from normal additive Gaussian channel noise. Most conventional signal-to-noise ratio (SNR) estimation methods employ techniques that measure the similarity between a received signal&apos;s statistics and the Gaussian statistics expected for a noise-only signal. Such conventional methods are therefore very ineffective for use with OFDM waveforms given their Gaussian-like characteristics. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> The present invention uses some of the antenna probing techniques described above for overcoming the difficulties of estimating CNIRs for the frequency bins of an OFDM waveform. As was described above, additional &ldquo;antenna probing&rdquo; signals can be conveniently added to a signaling waveform to permit accurate &ldquo;antenna scoring,&rdquo; thereby permitting the best n-of-L antenna branches to be chosen dynamically based upon a metric indicative of the underlying bit error rate (BER) or symbol error rate (SER). </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> In the embodiments of the antenna probing/scoring technique that are illustrated in <cross-reference target="DRAWINGS">FIGS. 7, 8</cross-reference> and <highlight><bold>9</bold></highlight>, the additional waveform attributes are added at the end of the burst, i.e., in a &ldquo;postamble&rdquo; of the burst that is transmitted within a MAC frame, for example. In other words, the additional waveform attributes may be added at the end of the downlink burst in the case of the Access Point (AP) terminal, or at the end of a user&apos;s uplink burst in the case of a Remote Terminal (RT). This is further illustrated with reference to <cross-reference target="DRAWINGS">FIGS. 20 and 21</cross-reference> below. There are several advantages to locating the diversity selection portion in the postamble rather than the preamble or elsewhere. One advantage is that the reception of the data portion is unaffected by the switching of antenna pairs since such switching occurs after reception of the data. Also, the preamble and data portion specified by the appropriate standard (e.g., IEEE 802.11a or HiperLAN2) may be left unaltered. Another advantage is that the processing hardware can read the beacon information (immediately following the IEEE 802.11a preamble or HiperLAN2 preamble) and determine if a postamble is present in the received burst. Furthermore, since such a postamble comes after the long symbols (T1/T2), coherent combining can be performed on the measurements of the postambles since the carrier phase and frequency are known after listening and tracking the previous portions of the signal frame. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> As described above, the channel probing OFDM symbols appearing at the end of the transmission burst in <cross-reference target="DRAWINGS">FIGS. 7 and 8</cross-reference> may be standard &ldquo;long symbols&rdquo; as are used for the T1 and T2 portions of the standard IEEE 802.11a/HiperLAN2 preamble. Several advantages of using long symbols include that (a) the waveform will already be available, (b) it permits easy &ldquo;scoring&rdquo; of each OFDM bin, and (c) long symbols were purposely designed to have low peak-to-average power ratio (PAPR). Since the long symbols have signal energy in every data-bearing subcarrier however, the average noise level must be determined using any known technique to estimate the carrier to noise ratio for each frequency bin. Therefore, standard long symbols are preferably not used for the CNIR estimation aspect of the present invention. One technique to measure the average or bin-by-bin noise level if long symbols were to be used for the CNIR-based approach would be to intentionally send no signaling for a short period of time and measure the noise received on each frequency bin. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> The CNIR estimation aspect of one embodiment of the present invention utilizes postamble OFDM symbols of a burst in a PHY-layer or MAC frame to (1) perform the previously described antenna scoring and also (2) provide an easy means to measure the prevailing frequency bin CNIRs. Namely, in some embodiments, the present invention estimates the CNIRs for each frequency bin by making use of a postamble diversity selection portion (e.g. diversity selection portions <highlight><bold>406</bold></highlight>, <highlight><bold>436</bold></highlight>, <highlight><bold>578</bold></highlight>) comprising OFDM symbols that have a frequency bin structure that includes both non-zero as well as zero frequency bin content. This permits the carrier&plus;noise&plus;interference power to be measured in all of the (a priori known) non-zero frequency bins, and the noise&plus;interference power to be measured in all of the zero bin locations. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> Because only a fraction of the frequency bins are transmitted with non-zero power levels, more signal power could optionally be channeled to the non-zero frequency bins thereby delivering a lower variance estimate for the carrier&plus;noise&plus;interference quantity. This assumes that the transmitter output power level is kept constant relative to the mean power level of the adjacent data burst. Furthermore, this is not a necessary requirement for the CNIR estimation method of the present invention to work. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> In one embodiment of the present invention, the already available &ldquo;short-symbols&rdquo; from the IEEE 802.11a/HiperLAN2 preamble are used for the postamble diversity selection portions <highlight><bold>406</bold></highlight>, <highlight><bold>436</bold></highlight> of the waveforms shown in <cross-reference target="DRAWINGS">FIGS. 7 and 8</cross-reference>. It is advantageous to use the short-symbols because they are already available and because they already contain an OFDM frequency bin structure that has some non-zero entries (every 4<highlight><superscript>th </superscript></highlight>frequency bin is non-zero) as well as zero-entries (all other bins). Furthermore, the short-symbol waveform has a very low PAPR by design. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> The contents of the short-symbol is immediately available from the IEEE 802.11a specification (slightly different for the HiperLAN2 specification). <cross-reference target="DRAWINGS">FIG. 11</cross-reference> illustrates the bin content versus OFDM bin number for an OFDM short symbol according to the IEEE 802.11a preamble. As illustrated, other than bin &ldquo;0&rdquo;, every fourth bin has non-zero contents (i.e., bins &minus;24, &minus;20, &minus;16, &minus;12, &minus;8, &minus;4, &plus;4, &plus;12, &plus;16, &plus;20 and &plus;24), with all other bins transmitted with zero contents. Thus, there are twelve bins with non-zero content. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> illustrates another embodiment of the OFDM bin content versus OFDM bin number for an OFDM symbol to be used in a probing portions of the diversity selection portion of a PHY-layer frame in accordance with the CNIR estimation aspect of the present invention. In this embodiment, the OFDM symbol includes alternating non-zero bin content and zero bin content. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> illustrates a communication burst <highlight><bold>480</bold></highlight> transmitted within a MAC frame structure in accordance with an embodiment of the present invention. The burst <highlight><bold>480</bold></highlight> is made up of a plurality of various OFDM symbols segmented into a preamble portion <highlight><bold>481</bold></highlight>, a data portion <highlight><bold>482</bold></highlight>, and a diversity selection portion <highlight><bold>483</bold></highlight> (or &ldquo;postamble&rdquo;) comprising five repeated channel probing OFDM short-symbols <highlight><bold>484</bold></highlight>, <highlight><bold>485</bold></highlight>, <highlight><bold>486</bold></highlight>, <highlight><bold>487</bold></highlight>, <highlight><bold>488</bold></highlight>. While use of the already available short-symbols from the IEEE 802.11a/HiperLAN2 preamble is convenient, it should be well understood that OFDM symbols of many different designs, lengths and types that have both non-zero and zero frequency bin content structure may be used in the present invention, one example of which is illustrated in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> As described above with respect to <cross-reference target="DRAWINGS">FIGS. 7, 8</cross-reference> and <highlight><bold>9</bold></highlight>, all of the available diversity antenna elements are cycled through at the end of the received signaling (e.g., received burst transmitted within a MAC frame structure) and &ldquo;scored&rdquo;. In accordance with an embodiment of the present invention, the CNIR estimates are computed by using OFDM symbols that have both non-zero and zero frequency bin content. The non-zero OFDM bin locations are denoted by the bin index values: </paragraph>
<paragraph lvl="0"><in-line-formula>s&egr;&lcub;Non-zero OFDM Bin Indices&rcub;&emsp;&emsp;(2) </in-line-formula></paragraph>
<paragraph id="P-0103" lvl="7"><number>&lsqb;0103&rsqb;</number> The zero OFDM bin locations are denoted by the bin index values: </paragraph>
<paragraph lvl="0"><in-line-formula>t&egr;&lcub;ZeroPower OFDM Bin Indices&rcub;&emsp;&emsp;(3) </in-line-formula></paragraph>
<paragraph id="P-0104" lvl="7"><number>&lsqb;0104&rsqb;</number> As such, the estimate for the CNIR for the k<highlight><superscript>th </superscript></highlight>frequency bin using antenna I after one observation frame, i.e., CN&Icirc;R<highlight><subscript>k,l</subscript></highlight>, are given by:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>C</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mover>
            <mi>N</mi>
            <mo>^</mo>
          </mover>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>I</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msub>
            <mi>R</mi>
            <mrow>
              <mi>k</mi>
              <mo>,</mo>
              <mi>l</mi>
            </mrow>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mo>&Sum;</mo>
                  <mi>signal</mi>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mrow>
                    <mi>noise</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>bins</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>within</mi>
                  </mrow>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&PlusMinus;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mrow>
                    <mi>w</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>bins</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>of</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>bin</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>k</mi>
                  </mrow>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mo>&Sum;</mo>
                  <mrow>
                    <mi>noise</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>only</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>bins</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>within</mi>
                  </mrow>
                </mrow>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&PlusMinus;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mi>w</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>bins</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>of</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>bin</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>k</mi>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mfrac>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030002471A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="23.04855" file="US20030002471A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0105" lvl="7"><number>&lsqb;0105&rsqb;</number> where w is an integer and defines a window of bins centered at bin k that are effectively averaged to determine the estimate of the CNIR for the k<highlight><superscript>th </superscript></highlight>bin. The signal&plus;noise bins and the noise only bins are measured in power, e.g., the power of the k<highlight><superscript>th </superscript></highlight>bin (whether signal&plus;noise or noise only) of the l<highlight><superscript>th </superscript></highlight>antenna branch may be determined using the I<highlight><subscript>k </subscript></highlight>and Q<highlight><subscript>k </subscript></highlight>outputs of the FFTs according to I<highlight><superscript>2</superscript></highlight><highlight><subscript>k,l</subscript></highlight>&plus;Q<highlight><superscript>2</superscript></highlight><highlight><subscript>k,l</subscript></highlight>. Equation (4) provides for the interpolation of the CNIR for each bin since only the signal&plus;noise or only the noise is known for a given frequency bin. According to the approach of equation (4), the estimate of the CNIR is determined for all K bins of the OFDM signal, the estimate for each bin specified in equation (4). </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> In some embodiments, the values of C{circumflex over (N)}IR<highlight><subscript>k,l </subscript></highlight>can be averaged or smoothed over several communication bursts in order to achieve a lower variance estimate for the C{circumflex over (N)}IR<highlight><subscript>k,l </subscript></highlight>quantities. In some embodiments, the values of C{circumflex over (N)}IR<highlight><subscript>k,l </subscript></highlight>are averaged or smoothed over several MAC frames to provide the lower variance estimate. One such simple recursion that provides a smoothed CNIR for the k<highlight><superscript>th </superscript></highlight>frequency bin using antenna l, i.e., SC{circumflex over (N)}IR<highlight><subscript>k,l</subscript></highlight>, is given by: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>SC{circumflex over (N)}IR</italic></highlight><highlight><subscript>k,l</subscript></highlight><highlight><italic>&equals;&bgr;C{circumflex over (N)}IR</italic></highlight><highlight><subscript>k,l</subscript></highlight>&plus;(1&minus;&bgr;)<highlight><italic>SC{circumflex over (N)}IR</italic></highlight><highlight><subscript>k,l</subscript></highlight>&emsp;&emsp;(5) </in-line-formula></paragraph>
<paragraph id="P-0107" lvl="7"><number>&lsqb;0107&rsqb;</number> where &bgr; is a smoothing parameter having an absolute value less than unity. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> illustrates a method in accordance with one embodiment of the present invention that is useful for communicating OFDM signals in that it provides a convenient method for estimating the CNIRs of one or more frequency bins of the OFDM signal for a given antenna branch using the above described concepts. In step <highlight><bold>491</bold></highlight>, a communication burst (e.g., transmitted within a PHY-layer or MAC frame structure) is received by a system having L antenna branches and n RF receivers, such as for example the system <highlight><bold>100</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) described above. The burst includes a diversity selection portion comprising one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content, such as for example the diversity selection portion <highlight><bold>483</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 13</cross-reference>) or the diversity selection portion <highlight><bold>578</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 9</cross-reference>). For example, in one embodiment, the OFDM symbols have a zero and non-zero frequency bin content as illustrated in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> or <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. In step <highlight><bold>492</bold></highlight> the system takes a first set of measurements from a first of the L antenna branches during the non-zero OFDM frequency bins. This first set of measurements correspond to the carrier&plus;noise&plus;interference power because the OFDM frequency bins are non-zero. In step <highlight><bold>493</bold></highlight>, the system takes a second set of measurements from the first of the L antenna branches for the zero OFDM frequency bins. This second set of measurements corresponds to the noise&plus;interference power because the OFDM frequency bins are zero. In step <highlight><bold>494</bold></highlight> an estimate for the CNIR for at least one frequency bin of the first of the L antenna branches is computed using the first and second set of measurements. In preferred embodiments, an estimate of the CNIR for every frequency bin (e.g., including all of the non-zero and zero frequency bins) is computed using the first and second set of measurements. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> It should be well understood that the first and second sets of measurements do not have to be taken in any particular order. In a typical scenario, as the system cycles through all of the OFDM sub-carriers, the measurements taken on the non-zero bins will be placed in the &ldquo;first set of measurements&rdquo;, and the measurements taken on the zero bins will be placed in the &ldquo;second set of measurements&rdquo;. Thus, the taking of the first set of measurements and the taking of the second set of measurements may be interleaved. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> The first and second set of measurements typically comprise power measurements, such as the complex receiver fast Fourier transform (FFT) output values. In order to compute the estimate for CNIR of each bin, equation (4) may be used. For example, the power measurements of the signal&plus;noise bins within a window of bins surrounding bin k are summed and divided by the summation of the power measurements of the noise only bins within a window of bins surrounding bin k, then 1 is subtracted from the resulting quotient. The approach of equation (4) is used since for a given bin, either the signal&plus;noise measurement is known or the noise only measurements is known. Thus, equation (4) averages the measurements of the surrounding bins to interpolate the CNIR for a particular bin. A smoothed value for the CNIR of each bin over multiple MAC frames may then be computed using equation (5). </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> Estimated values for the CNIRs of the frequency bins for the remainder of the L antenna branches may then be computed in a similar manner. Specifically, estimates for the CNIRs for the additional antenna branches may be made by measuring n antenna branches at a time during different antenna branch probing portions. For each antenna branch, the system takes a first set of measurements on the non-zero OFDM frequency bins and a second set of measurements on the zero OFDM frequency bins. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> A transmitter of a communication terminal that transmits OFDM signals to the receiving system (such as the system <highlight><bold>100</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>)) will typically generate the communication burst including the appropriate OFDM signals and transmit them according to the timing provided in the specified MAC frame structure or format. In one embodiment of the present invention, the burst will include a preamble portion, a data portion following the preamble portion, and a diversity selection portion following the data portion. The diversity selection portion, as described above, includes one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content. The transmitter transmits the communication burst with the diversity selection portion to the receiving system. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> This technique for estimating the bin level CNIRs is very beneficial because not only does it accurately permit determination of a quality estimate for the bin-by-bin and aggregate CNIR of a received OFDM signal, but it also does so without imposing any additional overhead on the system communication throughput beyond that already needed to support diversity antenna scoring. The resultant estimates can be used to influence the selection of SNR-sensitive parameter choices such as for tracking loops, as well as be used for declaring erasures related to forward error correction techniques. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> Tracking loops normally exhibit a dependency on the received signal SNR. Loop parameters like the effective noise bandwidth are advantageously reduced if the SNR becomes small and advantageously increased if the SNR is large enough to afford removal of close-in phase noise of the receiver&apos;s local oscillators. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> In the case of forward error correction coding, FEC techniques typically exhibit thresholds below which the bit error rate performance is actually better without using any FEC. In addition, FEC codes are generally capable of detecting more errors than they are capable of correcting. An accurate bin-by-bin knowledge of the CNIRs provided by the present invention permits OFDM frequency bins that exhibit inadequate CNIR to be declared as erasures, thereby improving the error correction capability of the FEC. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> It was mentioned above that the function of selecting the two best branches from the L&equals;6 diversity branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> is performed by the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). Such selection diversity is somewhat complex with wideband OFDM in which many sub-carriers are involved along with frequency-selective fading. For example, the received signal spectrum for two different diversity branches may appear as shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. By way of example, the two signal spectrum <highlight><bold>500</bold></highlight> and <highlight><bold>504</bold></highlight> represent the spectrum of the two best antenna branches as selected by the diversity antenna selection process. Illustrating frequency selective fading, one signal spectrum <highlight><bold>500</bold></highlight> includes a deep fade <highlight><bold>502</bold></highlight> at one RF frequency, and the other signal spectrum <highlight><bold>504</bold></highlight> includes a deep fade <highlight><bold>506</bold></highlight> at a different RF frequency. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> also illustrates sub-carrier selection (also referred to as bin selection) that is also performed by the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The dots represent the antenna branch selected for each bin on a bin-by-bin basis between the two best antenna branches. As can be seen, the antenna receiving the highest spectral density is selected for each bin out of the two best antenna branches. For example, the antenna branch receiving signal spectrum <highlight><bold>500</bold></highlight> is selected for most bins across the modulation bandwidth, with the other antenna branch receiving signal spectrum <highlight><bold>504</bold></highlight> being selected for bins when signal spectrum <highlight><bold>500</bold></highlight> experiences the deep fade <highlight><bold>502</bold></highlight>. It is noted that it has been assumed that the noise&plus;interference level is constant and equal to the floor level <highlight><bold>508</bold></highlight> illustrated in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> Since the channel fading is frequency selective, choosing which branch to select preferably weighs the benefit to all of the OFDM subchannels. In general, it is much less desirable to simply compute the total power in the available branches and base the selection process on this kind of metric because this approach will clearly be susceptible to deep fades. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> The following discussion sets forth an antenna branch selection method in accordance with an embodiment of the present invention. Preferably, the antenna branch selection method computations are performed during reception of one or more bursts transmitted within each MAC frame and the computed results are made use of in subsequent bursts within the same MAC frame or in an immediately following frame. In preferred embodiments, making use of the results for bursts received in the following MAC frame alleviates the potential computational bottleneck of computing and using the computed results for subsequent bursts received during the same MAC frame. Such potential computational bottleneck can result from the extremely high peak computational load placed on the signal processing involved due to the receive branch selection processing having to be completed before the channel data begins arriving. It should be well understood, however, that performing the antenna branch selection method computations during each MAC frame and using the computed results in the immediately following frame is not a requirement of the present invention. In other embodiments, the overall antenna scoring result may also be averaged over multiple postambles of multiple bursts in multiple MAC frames in order to improve the reliability of the antenna selection process. For example, in some embodiments, the antenna scoring results are averaged over multiple postambles such that the best antenna pair from the multiple postambles is determined and selected every m MAC frames. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> With respect to the exemplary antenna branch selection method described herein, if two out of L-branches are selected for the case of n&equals;2, the bit error probability for the complete OFDM symbol assuming bin-level selection diversity, i.e., Pb<highlight><subscript>i,j</subscript></highlight>, is given by:  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msub>
            <mi>b</mi>
            <mrow>
              <mi>i</mi>
              <mo>,</mo>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>K</mi>
          </mfrac>
          <mo>&it;</mo>
          <mrow>
            <munderover>
              <mo>&Sum;</mo>
              <mrow>
                <mi>k</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>K</mi>
            </munderover>
            <mo>&it;</mo>
            <mrow>
              <mi>min</mi>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mi>P</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>b</mi>
                      <mrow>
                        <mi>i</mi>
                        <mo>,</mo>
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>,</mo>
                  <mrow>
                    <mi>P</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>b</mi>
                      <mrow>
                        <mi>j</mi>
                        <mo>,</mo>
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030002471A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="25.9119" file="US20030002471A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0121" lvl="7"><number>&lsqb;0121&rsqb;</number> where k is the frequency bin index (or subcarrier index), K is the total number of OFDM data-bearing sub-carriers (or bins) and i and j represent the indices of the two antenna branches selected among L possible diversity branches. Therefore, in accordance with an embodiment of the present invention, the diversity antenna branch selection decision will be the antenna pair with indices i<highlight><subscript>0 </subscript></highlight>and j<highlight><subscript>0 </subscript></highlight>such that Pb<highlight><subscript>i</subscript></highlight><highlight><subscript><highlight><subscript>0,</subscript></highlight></subscript></highlight><highlight><superscript>j</superscript></highlight><highlight><subscript><highlight><subscript>o </subscript></highlight></subscript></highlight>is minimized. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> For binary phase-shift keying (BPSK) modulation, the bit error probability is:  
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msub>
            <mi>b</mi>
            <mrow>
              <mi>B</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>P</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>S</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>K</mi>
            </mrow>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mi>Q</mi>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <msqrt>
              <mfrac>
                <mrow>
                  <mn>2</mn>
                  <mo>&it;</mo>
                  <msub>
                    <mi>E</mi>
                    <mi>b</mi>
                  </msub>
                </mrow>
                <msub>
                  <mi>N</mi>
                  <mn>0</mn>
                </msub>
              </mfrac>
            </msqrt>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030002471A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="24.97635" file="US20030002471A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0123" lvl="7"><number>&lsqb;0123&rsqb;</number> And for M-ary quadrature amplitude modulation (QAM), M&egr;&lcub;<highlight><bold>4</bold></highlight>,<highlight><bold>16</bold></highlight>,<highlight><bold>64</bold></highlight>&rcub;, the symbol error probability is:  
<math-cwu id="MATH-US-00005">
<number>5</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msub>
            <mi>s</mi>
            <mrow>
              <mi>M</mi>
              <mo>-</mo>
              <mrow>
                <mi>Q</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>A</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
            </mrow>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <mrow>
                  <mn>2</mn>
                  <mo>&it;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mn>1</mn>
                      <mo>-</mo>
                      <mfrac>
                        <mn>1</mn>
                        <msqrt>
                          <mi>M</mi>
                        </msqrt>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>&it;</mo>
                  <mrow>
                    <mi>Q</mi>
                    <mo>&af;</mo>
                    <mrow>
                      <mo>(</mo>
                      <msqrt>
                        <mrow>
                          <mfrac>
                            <mn>3</mn>
                            <mrow>
                              <mi>M</mi>
                              <mo>-</mo>
                              <mn>1</mn>
                            </mrow>
                          </mfrac>
                          <mo>&it;</mo>
                          <mfrac>
                            <msub>
                              <mi>E</mi>
                              <mi>ave</mi>
                            </msub>
                            <msub>
                              <mi>N</mi>
                              <mn>0</mn>
                            </msub>
                          </mfrac>
                        </mrow>
                      </msqrt>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00005" file="US20030002471A1-20030102-M00005.NB"/>
<image id="EMI-M00005" wi="216.027" he="25.9119" file="US20030002471A1-20030102-M00005.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0124" lvl="7"><number>&lsqb;0124&rsqb;</number> where  
<math-cwu id="MATH-US-00006">
<number>6</number>
<math>
<mfrac>
  <msub>
    <mi>E</mi>
    <mi>ave</mi>
  </msub>
  <msub>
    <mi>N</mi>
    <mn>0</mn>
  </msub>
</mfrac>
</math>
<mathematica-file id="MATHEMATICA-00006" file="US20030002471A1-20030102-M00006.NB"/>
<image id="EMI-M00006" wi="216.027" he="18.00225" file="US20030002471A1-20030102-M00006.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0125" lvl="7"><number>&lsqb;0125&rsqb;</number> is the average SNR per symbol, and  
<math-cwu id="MATH-US-00007">
<number>7</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>P</mi>
          <msqrt>
            <mi>M</mi>
          </msqrt>
        </msub>
        <mo>=</mo>
        <mrow>
          <mn>2</mn>
          <mo>&it;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mfrac>
                <mn>1</mn>
                <msqrt>
                  <mi>M</mi>
                </msqrt>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>&it;</mo>
          <mrow>
            <mi>Q</mi>
            <mo>&af;</mo>
            <mrow>
              <mo>(</mo>
              <msqrt>
                <mrow>
                  <mfrac>
                    <mn>3</mn>
                    <mrow>
                      <mi>M</mi>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                  </mfrac>
                  <mo>&it;</mo>
                  <mfrac>
                    <msub>
                      <mi>E</mi>
                      <mi>ave</mi>
                    </msub>
                    <msub>
                      <mi>N</mi>
                      <mn>0</mn>
                    </msub>
                  </mfrac>
                </mrow>
              </msqrt>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00007" file="US20030002471A1-20030102-M00007.NB"/>
<image id="EMI-M00007" wi="216.027" he="24.97635" file="US20030002471A1-20030102-M00007.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0126" lvl="7"><number>&lsqb;0126&rsqb;</number> is the probability of error of a &cent;M -ary pulse-amplitude modulation (PAM) with one-half the average power in each quadrature signal of the equivalent QAM system. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> For simplicity, without considering gray encoding, any small bit error probability (&lE;3%) can be approximated with:  
<math-cwu id="MATH-US-00008">
<number>8</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <mi>P</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <msub>
              <mi>b</mi>
              <mrow>
                <mi>M</mi>
                <mo>-</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>A</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>M</mi>
                </mrow>
              </mrow>
            </msub>
          </mrow>
          <mo>&TildeTilde;</mo>
          <mfrac>
            <mrow>
              <mi>P</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>s</mi>
            </mrow>
            <mi>B</mi>
          </mfrac>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mrow>
            <mi>where</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>B</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>log</mi>
              <mn>2</mn>
            </msub>
            <mo>&it;</mo>
            <mrow>
              <mi>M</mi>
              <mo>.</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00008" file="US20030002471A1-20030102-M00008.NB"/>
<image id="EMI-M00008" wi="216.027" he="18.00225" file="US20030002471A1-20030102-M00008.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0128" lvl="7"><number>&lsqb;0128&rsqb;</number> where B is the number of bits/symbol. For fixed point application-specific integrated circuit (ASIC) implementation, Q(x) can be approximated with the following equations: </paragraph>
<paragraph id="P-0129" lvl="7"><number>&lsqb;0129&rsqb;</number>  
<math-cwu id="MATH-US-00009">
<number>9</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Q</mi>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <mi>x</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&TildeTilde;</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mn>0.50</mn>
                <mo>-</mo>
                <mrow>
                  <mn>0.1</mn>
                  <mo>&it;</mo>
                  <mrow>
                    <mi>x</mi>
                    <mo>&af;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mn>4.4</mn>
                        <mo>-</mo>
                        <mi>x</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
            <mtd>
              <mrow>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mn>0</mn>
                  <mo>&leq;</mo>
                  <mi>x</mi>
                  <mo>&leq;</mo>
                  <mn>2.2</mn>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0.01</mn>
            </mtd>
            <mtd>
              <mrow>
                <mn>2.2</mn>
                <mo>&lt;</mo>
                <mi>x</mi>
                <mo>&lt;</mo>
                <mn>2.6</mn>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0.0</mn>
            </mtd>
            <mtd>
              <mrow>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>&GreaterEqual;</mo>
                  <mn>2.6</mn>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00009" file="US20030002471A1-20030102-M00009.NB"/>
<image id="EMI-M00009" wi="216.027" he="31.9221" file="US20030002471A1-20030102-M00009.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0130" lvl="7"><number>&lsqb;0130&rsqb;</number> This Q-function approximation results in a worst case absolute error of <highlight><bold>0</bold></highlight>.<highlight><bold>0533</bold></highlight>. An alternative approach is to use a table lookup that covers the dynamic range for all modulation schemes (BPSK and M-QAM). </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> In power-based approaches (as described above), because of the finite dynamic range in approximating Q(x) and the SNR E<highlight><subscript>ave</subscript></highlight>/N<highlight><subscript>0 </subscript></highlight>is approximated with I<highlight><superscript>2</superscript></highlight>&plus;Q<highlight><superscript>2 </superscript></highlight>by using the fast Fourier transforms (FFTs) in the receivers <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>), which is not actual SNR but signal plus noise, and with the assumption that channel fading patterns are changing slowly between consecutive bursts (e.g., transmitted within the same or consecutive MAC frames) and remain flat (static) within each sub-carrier bandwidth, when selecting the best pair of antenna for reception, it suffices to select i and j such that the following quantity is minimized:  
<math-cwu id="MATH-US-00010">
<number>10</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&chi;</mi>
          <mrow>
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&Sum;</mo>
            <mrow>
              <mi>k</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>K</mi>
          </munderover>
          <mo>&it;</mo>
          <mrow>
            <mi>min</mi>
            <mo>&it;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msub>
                        <msqrt>
                          <mrow>
                            <mo>[</mo>
                            <mfrac>
                              <msub>
                                <mi>E</mi>
                                <mrow>
                                  <mi>s</mi>
                                  <mo>-</mo>
                                  <mi>ave</mi>
                                </mrow>
                              </msub>
                              <msub>
                                <mi>N</mi>
                                <mn>0</mn>
                              </msub>
                            </mfrac>
                            <mo>]</mo>
                          </mrow>
                        </msqrt>
                        <mrow>
                          <mi>k</mi>
                          <mo>,</mo>
                          <mi>i</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>,</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msqrt>
                        <msub>
                          <mrow>
                            <mo>[</mo>
                            <mfrac>
                              <msub>
                                <mi>E</mi>
                                <mrow>
                                  <mi>s</mi>
                                  <mo>-</mo>
                                  <mi>ave</mi>
                                </mrow>
                              </msub>
                              <msub>
                                <mi>N</mi>
                                <mn>0</mn>
                              </msub>
                            </mfrac>
                            <mo>]</mo>
                          </mrow>
                          <mrow>
                            <mi>k</mi>
                            <mo>,</mo>
                            <mi>j</mi>
                          </mrow>
                        </msub>
                      </msqrt>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00010" file="US20030002471A1-20030102-M00010.NB"/>
<image id="EMI-M00010" wi="216.027" he="30.9582" file="US20030002471A1-20030102-M00010.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0132" lvl="7"><number>&lsqb;0132&rsqb;</number> where  
<math-cwu id="MATH-US-00011">
<number>11</number>
<math>
<mfrac>
  <msub>
    <mi>E</mi>
    <mrow>
      <mi>s</mi>
      <mo>-</mo>
      <mi>ave</mi>
    </mrow>
  </msub>
  <msub>
    <mi>N</mi>
    <mn>0</mn>
  </msub>
</mfrac>
</math>
<mathematica-file id="MATHEMATICA-00011" file="US20030002471A1-20030102-M00011.NB"/>
<image id="EMI-M00011" wi="216.027" he="18.00225" file="US20030002471A1-20030102-M00011.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0133" lvl="7"><number>&lsqb;0133&rsqb;</number> is the estimated SNR for the k<highlight><superscript>th </superscript></highlight>bin using the specified antenna (i.e., either antenna i or j), k is the frequency bin index, K is the total number of data-bearing subcarriers, i and j are the selected antenna pair, and &agr; is a parameter used to accommodate different QAM signals, where  
<math-cwu id="MATH-US-00012">
<number>12</number>
<math>
<mrow>
  <mrow>
    <mi>&alpha;</mi>
    <mo>=</mo>
    <msqrt>
      <mfrac>
        <mn>3</mn>
        <mrow>
          <mi>M</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mfrac>
    </msqrt>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00012" file="US20030002471A1-20030102-M00012.NB"/>
<image id="EMI-M00012" wi="216.027" he="23.04855" file="US20030002471A1-20030102-M00012.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0134" lvl="7"><number>&lsqb;0134&rsqb;</number> where M is the constellation size of an M-QAM signal. Therefore, i&equals;i<highlight><subscript>o </subscript></highlight>and j&equals;j<highlight><subscript>o </subscript></highlight>are chosen such that &lgr;<highlight><subscript>io</subscript></highlight>,<highlight><subscript>jo </subscript></highlight>is minimized, with the antenna branches corresponding to i<highlight><subscript>o </subscript></highlight>and j<highlight><subscript>o </subscript></highlight>being the two selected branches. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> It is noted that equation (12) provides a relationship to be used in the power-based approach of several embodiments of the invention. The above described CNIR-based approach of several embodiments of the invention uses a similar relationship as defined in equation (12); however, the quantity within the Q function is determined differently and will be described below with reference to <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> An exemplary implementation of the antenna branch selection method of the present invention is based upon the evaluation of equation (12) to measure the probability of bit error metrics for all possible combinations or groupings of antenna branch pairs during a diversity selection portion of a communication burst transmitted within a MAC frame as described above. The calculated metrics are preferably used in the selection decision of the best antenna pair choice for the reception in a subsequent burst received in the same or a subsequent MAC frame (preferably, transmitted in the next MAC frame). As mentioned above, without this allowed delay, the computations required in a very short period of time are excessive. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> In accordance with an embodiment of an antenna branch selection method of the present invention, measurements are taken from L different antenna branches n antenna branches at a time. The measurements are processed and are used to identify a group or combination of n of the L different antenna branches that are the best antenna branches in terms of the channel bit error rate or symbol error rate. The identified group or combination of n antenna branches are then selected for the sub-carrier selection stage. In the illustrated case of n&equals;2, a group of two antenna branches are identified and selected for use with the two RF receivers <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). It should be understood that a group may include one or more antenna branches, which provides for n&gE;1. </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> In general, the best group or combination of n antenna branches are identified by identifying a group of n antenna branches that minimizes an approximated bit error probability of the subsequent OFDM signal (e.g., a subsequent burst) that will eventually be constructed during the sub-carrier selection stage. As will be discussed below, during the sub-carrier selection stage, each final OFDM sub-carrier is selected from the two receiving RF channels (for n&equals;2) which have been coupled to the two selected antenna branches. To minimize the overall bit error rate, the sub-carrier selection stage makes decisions on a bin-by-bin basis, selecting the best sub-carriers from each receiving RF channel. But because the diversity antenna branch selection stage normally selects the best antenna branches prior to the sub-carrier selection stage, the selection is made by minimizing an approximated bit error probability of the final OFDM signal that will eventually be constructed from the OFDM sub-carriers that are each received by either one of the two identified best antenna branches. More generally, the best n antenna branches are selected by identifying a group of n of the L different antenna branches that minimizes an approximated bit error probability of a subsequent signal (e.g., subsequent burst) that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> Accordingly, <cross-reference target="DRAWINGS">FIG. 16</cross-reference> illustrates an exemplary antenna branch selection method <highlight><bold>510</bold></highlight> in accordance with an embodiment of the present invention. Specifically, in step <highlight><bold>512</bold></highlight> the L different diversity antenna branches are measured n antenna branches at a time during the diversity selection portion of the received burst transmitted within a MAC frame structure. For example, these measurements are obtained from signaling received during the probing portions of the communication bursts as variously described herein. The measurements are provided to the module <highlight><bold>108</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) as the FFT outputs for each branch. The (I<highlight><subscript>k</subscript></highlight>, Q<highlight><subscript>k</subscript></highlight>) measurements for the k<highlight><superscript>th </superscript></highlight>FFT bin of the l<highlight><superscript>th </superscript></highlight>receive branch are represented herein by (I<highlight><subscript>k</subscript></highlight>, Q<highlight><subscript>k</subscript></highlight>)<highlight><subscript>l</subscript></highlight>. The measurements comprise power measurements of each of the K sub-carriers, i.e., FFT bin outputs. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> In step <highlight><bold>514</bold></highlight> a detection statistic corresponding to each FFT bin output is computed. This may be done differently depending on the embodiment of the invention and depending on the type of OFDM symbol that is being received for diversity selection purposes. One approach is a power-based approach and another is a CNIR-based approach. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> According to the power-based approach, the OFDM probing symbol is an OFDM symbol in which all of the frequency bins have signal content, e.g., the OFDM long symbols described above. As such, the detection statistic &Lgr;<highlight><subscript>k,l </subscript></highlight>for each FFT bin, i.e., each k<highlight><superscript>th </superscript></highlight>frequency bin of the OFDM symbol from the l<highlight><superscript>th </superscript></highlight>antenna is taken according to the following equation: </paragraph>
<paragraph lvl="0"><in-line-formula>&Lgr;<highlight><subscript>k,l</subscript></highlight><highlight><italic>&equals;&agr;&cent;I</italic></highlight><highlight><superscript>2</superscript></highlight><highlight><subscript>k,l</subscript></highlight><highlight><italic>Q</italic></highlight><highlight><superscript>2</superscript></highlight><highlight><subscript>k,l</subscript></highlight>&emsp;&emsp;(13) </in-line-formula></paragraph>
<paragraph id="P-0142" lvl="7"><number>&lsqb;0142&rsqb;</number> where is &agr; is the parameter used to accommodate different QAM signals as described above. In the power-based embodiment, all of the FFT bin values (signal strength for each bin) are preferably made using the same radio automatic gain control (AGC) setting. Thus, in this embodiment, gain differences between the two physical receive chains must be addressed and is discussed further below. Furthermore, in the power-based approach, a measure of noise (N<highlight><subscript>0</subscript></highlight>) may be needed to determine the Q functions and may be determined a number of ways as are known in the art. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> In the CNIR-based approach, the detection statistic A<highlight><subscript>k,l </subscript></highlight>corresponding to each bin is expressed according to the following equation: </paragraph>
<paragraph lvl="0"><in-line-formula>&Lgr;<highlight><subscript>k,l</subscript></highlight><highlight><italic>&equals;&agr;&cent;C{circumflex over (N)}IR</italic></highlight><highlight><subscript>k,l</subscript></highlight>&emsp;&emsp;(14) </in-line-formula></paragraph>
<paragraph id="P-0144" lvl="7"><number>&lsqb;0144&rsqb;</number> where C{circumflex over (N)}IR<highlight><subscript>k,l </subscript></highlight>is the estimated CNIR as described above (e.g., in equations (4) and (5)) and a is the above described parameter depending on the modulation. Advantageously, this approach is preferred since there is no need to worry about gain differences between the two receivers, the real bit error rate depends on the CNIRs and since this approach is not adversely affected by the presence of interference. </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> In step <highlight><bold>516</bold></highlight> approximate bit error probability values Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) are computed for each receive branch. The Q-function may be approximated as described above, using the appropriate detection statistic as the argument. The approximate bit error probabilities, as well as the detection statistics computed in step <highlight><bold>514</bold></highlight>, are preferably computed for each of the K sub-carriers for each of the L antenna branches, n antenna branches at a time. Furthermore, the Q-function is determined differently depending on whether the power-based or the CNIR-based approach is used. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> In step <highlight><bold>518</bold></highlight> the chi values &lgr;<highlight><subscript>i,j </subscript></highlight>for all of the possible receive antenna branch pairings (i,j) are computed as follows:  
<math-cwu id="MATH-US-00013">
<number>13</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mi>&chi;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
          </mrow>
          <mrow>
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>k</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <mi>min</mi>
            <mo>&it;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <msub>
                      <mi>&Lambda;</mi>
                      <mrow>
                        <mi>k</mi>
                        <mo>,</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>,</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <msub>
                      <mi>&Lambda;</mi>
                      <mrow>
                        <mi>k</mi>
                        <mo>,</mo>
                        <mi>j</mi>
                      </mrow>
                    </msub>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>15</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00013" file="US20030002471A1-20030102-M00013.NB"/>
<image id="EMI-M00013" wi="216.027" he="19.93005" file="US20030002471A1-20030102-M00013.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0147" lvl="7"><number>&lsqb;0147&rsqb;</number> Equation (15) basically selects a minimum one of the approximate bit error probabilities for each k<highlight><superscript>th </superscript></highlight>of the K sub-carriers for each different grouping or combination of two antenna branches (n&equals;2). The minimum ones of the approximated bit error probabilities are then summed for each different grouping or combination of two antenna branches. By way of example, for the n&equals;2, L&equals;4-branch case, the possible chi values that can be considered are &lgr;<highlight><subscript>1,2</subscript></highlight>, &lgr;<highlight><subscript>1,3</subscript></highlight>, &lgr;<highlight><subscript>1,4</subscript></highlight>, &lgr;<highlight><subscript>2,3</subscript></highlight>, &lgr;<highlight><subscript>2,4 </subscript></highlight>and X<highlight><subscript>3,4</subscript></highlight>. In general, there are L(L-1)/2 different cases (chi values) to consider for an L-branch system having n&equals;2. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> In the power-based approach, equation (15) is written as:  
<math-cwu id="MATH-US-00014">
<number>14</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&chi;</mi>
          <mrow>
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>k</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <mi>min</mi>
            <mo>&it;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msqrt>
                        <mrow>
                          <msubsup>
                            <mi>I</mi>
                            <mrow>
                              <mi>k</mi>
                              <mo>,</mo>
                              <mi>i</mi>
                            </mrow>
                            <mn>2</mn>
                          </msubsup>
                          <mo>+</mo>
                          <msubsup>
                            <mi>Q</mi>
                            <mrow>
                              <mi>k</mi>
                              <mo>,</mo>
                              <mi>i</mi>
                            </mrow>
                            <mn>2</mn>
                          </msubsup>
                        </mrow>
                      </msqrt>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>,</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msqrt>
                        <mrow>
                          <msubsup>
                            <mi>I</mi>
                            <mrow>
                              <mi>k</mi>
                              <mo>,</mo>
                              <mi>j</mi>
                            </mrow>
                            <mn>2</mn>
                          </msubsup>
                          <mo>+</mo>
                          <msubsup>
                            <mi>Q</mi>
                            <mrow>
                              <mo>,</mo>
                              <mi>j</mi>
                            </mrow>
                            <mn>2</mn>
                          </msubsup>
                        </mrow>
                      </msqrt>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>16</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00014" file="US20030002471A1-20030102-M00014.NB"/>
<image id="EMI-M00014" wi="216.027" he="21.12075" file="US20030002471A1-20030102-M00014.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> Note that equation (16) is closely related to equation (12), the term  
<math-cwu id="MATH-US-00015">
<number>15</number>
<math>
<mfrac>
  <msub>
    <mi>E</mi>
    <mrow>
      <mi>s</mi>
      <mo>-</mo>
      <mi>ave</mi>
    </mrow>
  </msub>
  <msub>
    <mi>N</mi>
    <mn>0</mn>
  </msub>
</mfrac>
</math>
<mathematica-file id="MATHEMATICA-00015" file="US20030002471A1-20030102-M00015.NB"/>
<image id="EMI-M00015" wi="216.027" he="18.00225" file="US20030002471A1-20030102-M00015.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0150" lvl="7"><number>&lsqb;0150&rsqb;</number> of equation (12) being approximated as I<highlight><superscript>2</superscript></highlight>&plus;Q<highlight><superscript>2 </superscript></highlight>as described above. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> In the CNIR-based approach, equation (15) is written as:  
<math-cwu id="MATH-US-00016">
<number>16</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&chi;</mi>
          <mrow>
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&Sum;</mo>
            <mi>k</mi>
          </munder>
          <mo>&it;</mo>
          <mrow>
            <mi>min</mi>
            <mo>&it;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msqrt>
                        <mrow>
                          <mi>C</mi>
                          <mo>&it;</mo>
                          <mover>
                            <mi>N</mi>
                            <mo>^</mo>
                          </mover>
                          <mo>&it;</mo>
                          <msub>
                            <mi>IR</mi>
                            <mrow>
                              <mi>k</mi>
                              <mo>,</mo>
                              <mi>i</mi>
                            </mrow>
                          </msub>
                        </mrow>
                      </msqrt>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>,</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&alpha;</mi>
                      <mo>&it;</mo>
                      <msqrt>
                        <mrow>
                          <mi>C</mi>
                          <mo>&it;</mo>
                          <mover>
                            <mi>N</mi>
                            <mo>^</mo>
                          </mover>
                          <mo>&it;</mo>
                          <msub>
                            <mi>IR</mi>
                            <mrow>
                              <mi>k</mi>
                              <mo>,</mo>
                              <mi>j</mi>
                            </mrow>
                          </msub>
                        </mrow>
                      </msqrt>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>17</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00016" file="US20030002471A1-20030102-M00016.NB"/>
<image id="EMI-M00016" wi="216.027" he="22.08465" file="US20030002471A1-20030102-M00016.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> It is noted that the parameter a may be different in equation (16) compared to the parameter a used in equation (17) due to AGC issues relating to the power-based approach. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> Given the chi terms computed for a given evaluation interval, in step <highlight><bold>520</bold></highlight> the chi value &lgr;<highlight><subscript>i,j </subscript></highlight>having the smallest value is determined and the i, j indices saved. In other words, the sum of the minimum approximate bit error probabilities having the smallest value is determined. The i, j indices correspond to the receive branches that should be retained for best reception of the multipath-corrupted OFDM signal. In step <highlight><bold>522</bold></highlight> the receive branches corresponding to indices i and j of the chi value &lgr;<highlight><subscript>i, j </subscript></highlight>having the smallest value is retained for the duration of the next one or more bursts, e.g., of the same MAC frame or the next MAC frame. In this way, the grouping of n antenna branches that produced the sum of the minimum approximated bit error probabilities having the smallest value is selected. </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> For L&gt;4, the number of terms and calculations becomes excessive, and it is preferable to only examine a subset of the different chi terms available. An approach in accordance with an embodiment of the present invention is to compute at most 6 chi-values, taking the worst 2 chi-values measured in each received burst and replacing them with measurements of 2 new possible receive branch pairings during reception of subsequent bursts (either later in the same MAC frame or in the next MAC frame). In this manner, the routine automatically throws away the worst 2 branch pairings in its unending search to find 2 better branch pairings. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> As an example, assume that L&equals;5 receive branches are available. This means that there are a total of 5*4/2&equals;10 possible chi values that need to be considered. Assume further that the best 6 chi terms are (in descending order of quality): &lgr;1,2, &lgr;2,3, &lgr;1,4, &lgr;2,5, &lgr;4,5 and &lgr;1,5. During the next opportunity to evaluate the receiver branch selection metrics, the last two chi terms (&lgr;4,5, and &lgr;1,5) are dropped and two of the remaining pair possibilities are examined instead: &lgr;1,3, &lgr;2,4, &lgr;3,4 and &lgr;3,5. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> Thus, if there are L&equals;6 antennas available, the diversity antenna selection can be based on 4 antennas&apos; measurements (i.e., 6 chi terms) and then the remaining pairs are swapped with the other 2 worst antennas for the next diversity antenna selection performed using subsequent received bursts, again, either later in the same frame or in the next MAC frame. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> The above-described computations may be executed for every different user stream being received by the system <highlight><bold>100</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). Because many different user streams can be involved, the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) may be configured to keep track of the best indices pairs (i,j)<highlight><subscript>m </subscript></highlight>for the m<highlight><superscript>th </superscript></highlight>user stream. This is a very desirable capability in an access point or base station which purposely receives traffic from multiple concurrent user streams. Such configuration, however, is not a requirement of the present invention. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> As mentioned above, for embodiments using the power-based approach in step <highlight><bold>514</bold></highlight>, rather than the CNIR-based approach, if the signal gain through the (in the case of n&equals;2) two receive chains is different for the same AGC setting, computation of the chi values &lgr;<highlight><subscript>i,j </subscript></highlight>in step <highlight><bold>518</bold></highlight> will be biased in favor of the receiver chain having the larger gain. In order to prevent this problem, the gain between the two receive chains involved may be accurately calibrated. One exemplary way to perform such a calibration is as follows. With the system <highlight><bold>100</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, it is possible to switch any one of the L antenna branch inputs B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight> to either of the two receive chains <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight>. Specifically, an antenna selection stage <highlight><bold>101</bold></highlight> is configured to allow each of the two RF receivers <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> to be coupled to any one of the L different antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight>, B<highlight><bold>5</bold></highlight>, B<highlight><bold>6</bold></highlight>. The calibration between the two receive chains <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight> can then be done by measuring the signal power using one of the L branches connected to the first receive chain <highlight><bold>104</bold></highlight>, and then quickly switching the same antenna branch to the second receive chain <highlight><bold>106</bold></highlight> and measuring the receive power a second time. This data can be used to compute an appropriate scale factor. Gain differences or AGC setting differences between the two physical receive chains <highlight><bold>104</bold></highlight>,<highlight><bold>106</bold></highlight> can be compensated by multiplying &Lgr;<highlight><subscript>k,l </subscript></highlight>with the appropriate scale factor. In this way different receive chain signal gains can be dealt with so that all of the FFT bin signal strength measurements can be made using the same radio AGC setting. Again, using the CNIR-based approach for step <highlight><bold>514</bold></highlight>, this AGC issue is avoided. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, there is illustrated a high-level block diagram of an exemplary diversity antenna branch selection module <highlight><bold>550</bold></highlight> made in accordance with an embodiment of the present invention. The module <highlight><bold>550</bold></highlight>, which may be used in the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>), is capable of operating in accordance with the antenna branch selection method <highlight><bold>510</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. Specifically, when the L available receive diversity branches are measured during the diversity selection portion of a received communication burst (transmitted within a MAC frame) pursuant to step <highlight><bold>512</bold></highlight> of the method <highlight><bold>510</bold></highlight>, the channel estimates are provided to the Symbol Error Rate (SER) metric computation blocks <highlight><bold>552</bold></highlight>, <highlight><bold>554</bold></highlight> as the FFT outputs from each of the RF receivers 104, 106 (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). As mentioned above, the (l<highlight><subscript>k</subscript></highlight>, Q<highlight><subscript>k</subscript></highlight>) measurements for the k<highlight><superscript>th </superscript></highlight>FFT bin of the l<highlight><superscript>th </superscript></highlight>receive branch are represented by (I<highlight><subscript>k</subscript></highlight>, Q<highlight><subscript>k</subscript></highlight>)l. These FFT estimates are made two at a time since in this case there are two complete RF receivers but L-branches (i.e., antennas) to consider. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> The SER metric computation blocks <highlight><bold>552</bold></highlight>, <highlight><bold>554</bold></highlight> perform steps <highlight><bold>514</bold></highlight> and <highlight><bold>516</bold></highlight> of the method <highlight><bold>510</bold></highlight> by computing the detection statistic corresponding to each frequency bin &Lgr;<highlight><subscript>k,l </subscript></highlight>and then the approximate bit error probability Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>). The Q(&Lgr;<highlight><subscript>k,a</subscript></highlight>) values for antenna branch &ldquo;a&rdquo; are stored in branch a metrics <highlight><bold>556</bold></highlight>, the Q(&Lgr;<highlight><subscript>k,b</subscript></highlight>) values for antenna branch &ldquo;b&rdquo; are stored in branch b metrics <highlight><bold>558</bold></highlight>, the Q(&Lgr;<highlight><subscript>k,d</subscript></highlight>) values for antenna branch &ldquo;c&rdquo; are stored in branch c metrics <highlight><bold>560</bold></highlight>, and the Q(&Lgr;<highlight><subscript>k,d</subscript></highlight>) values for antenna branch &ldquo;d&rdquo; are stored in branch d metrics <highlight><bold>562</bold></highlight>. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> A multiplexer <highlight><bold>564</bold></highlight> is used to form the possible receive antenna branch pairings or groupings from among the L different antenna branches for the execution of step <highlight><bold>518</bold></highlight>. For example, in order to compute the chi value &lgr;<highlight><subscript>a,d, </subscript></highlight>the multiplexer <highlight><bold>564</bold></highlight> makes available the Q(&Lgr;<highlight><subscript>k,a</subscript></highlight>) values stored in branch a metrics <highlight><bold>556</bold></highlight> and the Q(&Lgr;<highlight><subscript>kd</subscript></highlight>) values stored in branch d metrics <highlight><bold>562</bold></highlight> for calculation in the equation  
<math-cwu id="MATH-US-00017">
<number>17</number>
<math>
<mrow>
  <msub>
    <mi>&chi;</mi>
    <mrow>
      <mi>a</mi>
      <mo>,</mo>
      <mi>d</mi>
    </mrow>
  </msub>
  <mo>=</mo>
  <mrow>
    <mo>&Sum;</mo>
    <mrow>
      <mi>min</mi>
      <mo>&it;</mo>
      <mrow>
        <mrow>
          <mo>{</mo>
          <mrow>
            <mrow>
              <mi>Q</mi>
              <mo>&it;</mo>
              <mrow>
                <mo>(</mo>
                <msub>
                  <mi>&Lambda;</mi>
                  <mrow>
                    <mi>k</mi>
                    <mo>,</mo>
                    <mi>a</mi>
                  </mrow>
                </msub>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mi>Q</mi>
              <mo>&it;</mo>
              <mrow>
                <mo>(</mo>
                <msub>
                  <mi>&Lambda;</mi>
                  <mrow>
                    <mi>k</mi>
                    <mo>,</mo>
                    <mi>d</mi>
                  </mrow>
                </msub>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>}</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00017" file="US20030002471A1-20030102-M00017.NB"/>
<image id="EMI-M00017" wi="216.027" he="13.91985" file="US20030002471A1-20030102-M00017.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> A receive branch control block <highlight><bold>566</bold></highlight> performs step <highlight><bold>520</bold></highlight> by determining the &lgr;<highlight><subscript>i,j </subscript></highlight>having the smallest value. The receive branch control block <highlight><bold>566</bold></highlight> then generates an output signal to control the RF receive branches to retain the braches corresponding to indices i and j of the &lgr;<highlight><subscript>i,j </subscript></highlight>having the smallest value for the execution of step <highlight><bold>522</bold></highlight>. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> The diversity antenna branch selection module <highlight><bold>550</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is configured to examine L&equals;4 different receive antenna branches at a time due to its capacity to calculate six different chi values &lgr;<highlight><subscript>i,j</subscript></highlight>. As described above, if more receive branches are available, the poorest 2 branches measured for bursts received during the previous MAC interval can be replaced by using those measurement slots to examine 2 new branches, with the process continuing in this manner. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIGS. 18A and 18B</cross-reference>, there is illustrated exemplary implementations of and a sub-carrier (or bin) selection diversity module <highlight><bold>602</bold></highlight> and a diversity antenna selection module <highlight><bold>600</bold></highlight>, respectively, made in accordance with several embodiments of the present invention. The modules <highlight><bold>600</bold></highlight> and <highlight><bold>602</bold></highlight> may be used to form the diversity antenna selection and sub-carrier selection diversity module <highlight><bold>108</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>). The RF receivers <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight>, channel estimate modules <highlight><bold>604</bold></highlight>, and a channel equalization module <highlight><bold>606</bold></highlight> are also included in the figure for an overview of the system interfaces and interactions between these modules. The RF receivers <highlight><bold>104</bold></highlight>, <highlight><bold>106</bold></highlight> include blocks <highlight><bold>608</bold></highlight>, <highlight><bold>610</bold></highlight>, respectively, illustrating the K sub-carriers of the OFDM signals. Each of the K sub-carriers may be coupled to the diversity antenna selection module <highlight><bold>600</bold></highlight>, the channel estimate modules <highlight><bold>604</bold></highlight>, or the sub-carrier selection diversity module <highlight><bold>602</bold></highlight> by means of nodes M<highlight><bold>1</bold></highlight>, M<highlight><bold>2</bold></highlight>, M<highlight><bold>3</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> The diversity antenna branch selection module <highlight><bold>600</bold></highlight> operates in a manner similar to the diversity antenna branch selection module <highlight><bold>550</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 17</cross-reference>). The module <highlight><bold>600</bold></highlight> is configured to examine L&equals;4 different receive antenna branches at a time, but it should be well-understood that the module <highlight><bold>600</bold></highlight> can be used to examine L&gt;4 different receive antenna branches by dropping one or more of the poorest branches measured for bursts received during the previous MAC interval and using those measurement slots to examine new branches as described above. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> The antenna diversity processing can be sub-divided into two phases: the real time Phase1 (to the left of dotted line <highlight><bold>624</bold></highlight>) and the non-real time Phase2 (to the right of dotted line <highlight><bold>624</bold></highlight>). Phase1 may also be referred to as a first computation stage, and Phase2 may also be referred to as a second computation stage. Phase1 preferably runs during the reception of the diversity selection portion of a received burst. The L available receive diversity branches are measured during the diversity selection portion of the burst pursuant to step <highlight><bold>512</bold></highlight> of the method <highlight><bold>510</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 16</cross-reference>) by coupling the K sub-carriers of the OFDM signals to the diversity antenna selection module <highlight><bold>600</bold></highlight> by means of nodes M<highlight><bold>1</bold></highlight>, M<highlight><bold>1</bold></highlight>&prime;. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> The channel estimates (I<highlight><subscript>k</subscript></highlight>, Q<highlight><subscript>k</subscript></highlight>)<highlight><subscript>l </subscript></highlight>are provided to the detection statistic blocks <highlight><bold>612</bold></highlight>, <highlight><bold>614</bold></highlight>, which perform step <highlight><bold>514</bold></highlight> of the method <highlight><bold>510</bold></highlight> by computing &Lgr;<highlight><subscript>k,l</subscript></highlight>, either using the power-based approach of equation (13) or the CNIR-based approach of equation (14), depending on the type of OFDM probing symbol used in the diversity selection portion of the burst. The computation blocks <highlight><bold>616</bold></highlight>, <highlight><bold>618</bold></highlight> perform step <highlight><bold>516</bold></highlight> of the method <highlight><bold>510</bold></highlight> by computing Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>). Thus, the detection statistic blocks <highlight><bold>612</bold></highlight>, <highlight><bold>614</bold></highlight> are configured to compute a detection statistic for each of the K sub-carriers (as a raw power level or a CNIR), and the computation blocks <highlight><bold>616</bold></highlight>, <highlight><bold>618</bold></highlight> are configured to process the detection statistics by approximating the Q-function. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> The antenna switch multiplexer <highlight><bold>620</bold></highlight> multiplexes the Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) data between memory <highlight><bold>626</bold></highlight> and memory <highlight><bold>628</bold></highlight>, and the antenna switch multiplexer <highlight><bold>622</bold></highlight> multiplexes the Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) data between memory <highlight><bold>630</bold></highlight> and memory <highlight><bold>632</bold></highlight>. The memories <highlight><bold>626</bold></highlight>, <highlight><bold>628</bold></highlight>, <highlight><bold>630</bold></highlight>, <highlight><bold>632</bold></highlight>, which may comprise random access memories (RAMs), are used to store intermediate metric values for non-real time processing. By way of example, the memories <highlight><bold>626</bold></highlight>, <highlight><bold>628</bold></highlight>, <highlight><bold>630</bold></highlight>, <highlight><bold>632</bold></highlight> may each be capable of storing K measurements, where K is the number of sub-carriers (e.g., K&equals;52, 68, 84,or 100). This way, each of the four memories <highlight><bold>626</bold></highlight>, <highlight><bold>628</bold></highlight>, <highlight><bold>630</bold></highlight>, <highlight><bold>632</bold></highlight> can be used to store the approximate probability bit error metrics Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) for one of the L&equals;4 antenna branches. Namely, memory <highlight><bold>626</bold></highlight> stores the Q(&Lgr;<highlight><subscript>k,1</subscript></highlight>) data for antenna branch B<highlight><bold>1</bold></highlight>, memory <highlight><bold>628</bold></highlight> stores the Q(&Lgr;<highlight><subscript>k,2</subscript></highlight>) data for antenna branch B<highlight><bold>2</bold></highlight>, memory <highlight><bold>630</bold></highlight> stores the Q(&Lgr;<highlight><subscript>k,3</subscript></highlight>) data for antenna branch B<highlight><bold>3</bold></highlight>, and memory <highlight><bold>632</bold></highlight> stores the Q(&Lgr;<highlight><subscript>k,4</subscript></highlight>) data for antenna branch B<highlight><bold>4</bold></highlight>. When the last metric value is stored in memory <highlight><bold>632</bold></highlight>, all of the blocks in Phase<highlight><bold>1</bold></highlight> become inactive. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> In Phase<highlight><bold>2</bold></highlight>, the multiplexer <highlight><bold>634</bold></highlight> sequentially multiplexes different combinations or groupings of the Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) data stored in the memories <highlight><bold>626</bold></highlight>, <highlight><bold>628</bold></highlight>, <highlight><bold>630</bold></highlight>, <highlight><bold>632</bold></highlight> to begin the calculation of the chi values &lgr;<highlight><subscript>i,j </subscript></highlight>pursuant to step <highlight><bold>518</bold></highlight> of the method <highlight><bold>510</bold></highlight>. In this way the multiplexer <highlight><bold>634</bold></highlight> forms different groupings of n antenna branches from among the L different antenna branches. The minimum value of each combination of the Q(&Lgr;<highlight><subscript>k,l</subscript></highlight>) data is determined in the minimum function computation block <highlight><bold>636</bold></highlight>, which selects a minimum one of the approximate bit error probabilities for each one of the K sub-carriers for each different grouping of n antenna branches. The summation operation is performed in summation computation block <highlight><bold>638</bold></highlight>, which sums the minimum ones of the approximate bit error probabilities that were selected for each one of the K sub-carriers for each different grouping of n antenna branches. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The chi value &lgr;<highlight><subscript>i,j </subscript></highlight>having the smallest value is determined by a minimum metric selection module <highlight><bold>640</bold></highlight> pursuant to step <highlight><bold>520</bold></highlight> of the method <highlight><bold>510</bold></highlight>. A diversity antenna selection decision module <highlight><bold>642</bold></highlight> generates an output signal to indicate the selected antenna pair decision for subsequent OFDM bursts received (e.g., later in the current MAC frame or in the next MAC frame) pursuant to step <highlight><bold>522</bold></highlight> of the method <highlight><bold>510</bold></highlight>. This output signal controls the RF receive branches to retain the branches corresponding to indices i and j of the &lgr;<highlight><subscript>i,j </subscript></highlight>having the smallest value. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> An average SNR block <highlight><bold>644</bold></highlight> may be used to store intermediate SNR/power values for non-real time processing. By way of example, the average SNR block <highlight><bold>644</bold></highlight> may include four memory locations for holding the average SNR across all FFT bins for the four antenna branches B<highlight><bold>1</bold></highlight>, B<highlight><bold>2</bold></highlight>, B<highlight><bold>3</bold></highlight>, B<highlight><bold>4</bold></highlight> (with one measurement per antenna branch). In the case of when there is one dominant branch, the metrics of all the possible combination antenna pairs may all be dominated by the same antenna and result in the same value. The average SNR metrics are then used in the selection decision process to ensure that the selected antenna pair corresponds to the best antenna choice for the second receiver. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the minimum metric selection module <highlight><bold>640</bold></highlight> reports the i &amp; j indices that correspond to the smallest metric. By way of example, the i &amp; j indices that correspond to the smallest metric may be encoded with 3 bits. The output is packed into an 18-bit word for the worst case of three antenna pairs with equal metrics for the L&equals;6 case. A &ldquo;000&rdquo; index may be used as a filler when there are only one or two antenna pairs selected. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> A programmable register may be used for initialization in the diversity antenna selection decision module <highlight><bold>642</bold></highlight> for the first received burst after the unit is powered up. The antenna branches with indices Sel<highlight><subscript>1 </subscript></highlight>and Sel<highlight><subscript>2 </subscript></highlight>are used in the reception of the data portion, and the antenna branches with indices Sel<highlight><subscript>1</subscript></highlight>, Sel<highlight><subscript>2</subscript></highlight>, Sel<highlight><subscript>1d</subscript></highlight>, Sel<highlight><subscript>2d </subscript></highlight>are used in the diversity antenna selection in subsequent received communication bursts. </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> After the two antenna branches have been selected (in the n&equals;2 scenario) from among the L antenna branches in the diversity antenna branch selection stage, the sub-carrier selection stage starts processing. As mentioned above, <cross-reference target="DRAWINGS">FIG. 18A</cross-reference> illustrates an exemplary implementation of a sub-carrier selection diversity module <highlight><bold>602</bold></highlight> made in accordance with an embodiment of the present invention. The received OFDM symbols consist of many sub-carriers which experience different frequency selective channel fading patterns. The OFDM symbols used for bin-level diversity selection may be OFDM short symbols, OFDM long symbols, or other OFDM symbols, e.g., symbols having zero frequency bins and non-zero frequency bins. In the sub-carrier selection stage, each final OFDM sub-carrier is selected from the two receiving RF channels which have been coupled to the two selected antenna branches. To minimize the overall bit error rate, the sub-carrier selection stage makes decisions on a bin-by-bin basis among all the available receiving paths. </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> In embodiments using OFDM long symbols, upon the availability of the FFT of the long training symbols, the sub-carrier selection stage starts processing. In this embodiment, the sub-carrier selection decision is preferably based on the power measurements of the long training symbols. In other words, decisions are preferably made on a bin-by-bin basis by selecting winning bins with larger &Lgr;<highlight><subscript>k,l </subscript></highlight>between the two available branches, where &Lgr;<highlight><subscript>k,l </subscript></highlight>are measured on the FFT bins of the long training symbols. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> In one embodiment, these selections are made as follows. During the reception of the long training symbols, the FFT output switch is in the M2 position. The power of each sub-carrier, i.e., the magnitude of each FFT bin, is computed by either the channel estimate blocks <highlight><bold>604</bold></highlight> or the detection statistic blocks <highlight><bold>650</bold></highlight>, <highlight><bold>652</bold></highlight> (i.e., the power-based approach in step <highlight><bold>514</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 16</cross-reference>). The detection statistic block <highlight><bold>650</bold></highlight> computes the detection statistics of the sub-carriers from the first receiver <highlight><bold>104</bold></highlight> (i.e., &Lgr;<highlight><subscript>k,i</subscript></highlight>), and the detection statistic block <highlight><bold>652</bold></highlight> computes the detection statistics of the sub-carriers from the second receiver <highlight><bold>106</bold></highlight> (i.e., &Lgr;<highlight><subscript>k,j</subscript></highlight>). The values of &Lgr;<highlight><subscript>k,l </subscript></highlight>computed by the detection statistic blocks <highlight><bold>650</bold></highlight>, <highlight><bold>652</bold></highlight> are compared with each other in a comparator <highlight><bold>654</bold></highlight>. A decision of &ldquo;0&rdquo; is output from the comparator <highlight><bold>654</bold></highlight> if the &Lgr;<highlight><subscript>k </subscript></highlight>value of a sub-carrier from the first receiver <highlight><bold>104</bold></highlight> is greater; otherwise, a &ldquo;1&rdquo; is output. While these comparisons are being made the switch <highlight><bold>656</bold></highlight> is closed and the results, i.e., the &ldquo;0&rdquo; and &ldquo;1&rdquo; outputs from the comparator <highlight><bold>654</bold></highlight>, are stored in a memory <highlight><bold>658</bold></highlight>. It is noted that in embodiments using OFDM long symbols, the channel estimate blocks <highlight><bold>604</bold></highlight> are used to determine the detection statistics. </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> While the FFT output switch is still in the M<highlight><bold>2</bold></highlight> position and the sub-carrier selection decisions are being made by the comparator <highlight><bold>654</bold></highlight>, the output of the comparator <highlight><bold>654</bold></highlight> may be provided to a multiplexer <highlight><bold>660</bold></highlight> so that the sub-carrier selection decisions can be used to multiplex the channel estimates from the channel estimate modules <highlight><bold>604</bold></highlight>. The output of the comparator <highlight><bold>654</bold></highlight> may also be provided to a multiplexer <highlight><bold>662</bold></highlight> so that erasures for a signal constellation demapping function can be declared in the case of very poor SNR on individual bins. The power of the winning bins may be compared by a comparator <highlight><bold>664</bold></highlight> with an erasure threshold in assigning the erasure declarations. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> During the reception of the data portion, the FFT output switch is moved to position M<highlight><bold>3</bold></highlight> and the switch <highlight><bold>656</bold></highlight> at the output of the comparator <highlight><bold>654</bold></highlight> is opened. The sequence of 0&apos;s and 1&apos;s that were recorded in the memory <highlight><bold>658</bold></highlight> for each frame are preferably used as a switch for a multiplexer <highlight><bold>666</bold></highlight> to multiplex the incoming channel estimates and I&apos;s and Q&apos;s samples output from the FFT. In other words, the sub-carrier selection decisions stored in the memory <highlight><bold>658</bold></highlight> are preferably used to control the multiplexer <highlight><bold>666</bold></highlight> to multiplex the subsequent OFDM sub-carrier data into the channel equalization module <highlight><bold>606</bold></highlight>. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> Thus, the final OFDM signal is constructed from the OFDM sub-carriers that are each received by either one of the two selected best antenna branches. The sequence of 0&apos;s and 1&apos;s that are stored in the memory <highlight><bold>658</bold></highlight> for each frame are used to identify which of the two antenna branches is receiving the better quality sub-carrier for each different value of K. The better one of the two sub-carriers for each value of K is multiplexed into the final OFDM signal by the multiplexer <highlight><bold>666</bold></highlight>. By constructing the final OFDM signal with sub-carriers received by the two best antenna branches selected by the diversity antenna selection module <highlight><bold>600</bold></highlight>, the final OFDM signal should have an approximate bit error probability that is smaller than it would have been if a different pairing of antenna branches were used. In this way the diversity antenna selection module <highlight><bold>600</bold></highlight> and the sub-carrier selection diversity module <highlight><bold>602</bold></highlight> help to reduce the effects of frequency-selective fading in OFDM communications. This makes the system <highlight><bold>100</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) highly tolerant to multipath propagation and narrowband interference. </paragraph>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> It is noted that in embodiments employing the CNIR-based approach to step <highlight><bold>514</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 16</cross-reference>, the detection statistic blocks <highlight><bold>650</bold></highlight>, <highlight><bold>652</bold></highlight> determine the values of &Lgr;<highlight><subscript>k,l </subscript></highlight>for the antenna pair (e.g., as described in equation (4)) in use for subcarrier selection and erasure purposes. It is also noted that in preferred embodiments, the diversity selection portion of the received communication burst is positioned as a postamble, such that when performing subcarrier selection, the switch M<highlight><bold>2</bold></highlight> is coupled to blocks <highlight><bold>608</bold></highlight> and <highlight><bold>610</bold></highlight> at the same time as the switch is coupled to M<highlight><bold>1</bold></highlight>. Thus, in one embodiment, frequency bin selection for a current burst (e.g., transmitted within a current frame) is based upon the &Lgr;<highlight><subscript>k,l</subscript></highlight>, measurements of the previous burst (e.g., transmitted previously within the same frame or transmitted in a previous frame) (which, in many embodiments, is also when the best antenna pair i and j for the current frame is determined). Thus, frequency bin selection operates similarly to that described above; however, the patterns of 1s and 0s for subcarrier selection and erasures are determined during the postamble of the previous burst (e.g., of the previous frame). As such, the FFT output switch is not moved to position M<highlight><bold>2</bold></highlight> during the preamble portion of the current frame. However, the FFT output switch is moved to position M<highlight><bold>3</bold></highlight> at during the reception of the data in the data portion of the burst, as described above so that the best antenna i or j may be selected for each frequency bin or subcarrier. In other words, the subcarrier selection decisions stored in the memory <highlight><bold>658</bold></highlight> are preferably used to control the multiplexer <highlight><bold>666</bold></highlight> to multiplex the OFDM subcarrier data into the channel equalization module <highlight><bold>606</bold></highlight>. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> It is further understood that the timing and positioning of the FFT output switch may be easily adjusted to accommodate differently formatted communication bursts transmitted within differently formatted MAC frames in which the diversity selection portion is located in different locations within the burst. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> Referring next to <cross-reference target="DRAWINGS">FIGS. 20 and 21</cross-reference>, timing diagrams are shown illustrating one embodiment of PHY-layer frame structure for a communication system including an access point (AP) and a plurality of remote terminals (e.g., RT<highlight><bold>1</bold></highlight>, RT<highlight><bold>2</bold></highlight>, RT<highlight><bold>3</bold></highlight>, etc.), and illustrating various communication bursts transmitted within the PHY-layer frame structure in accordance with another embodiment of the present invention.As is common in wireless indoor/outdoor LAN applications an access point communicates with multiple remote terminals. <cross-reference target="DRAWINGS">FIG. 20</cross-reference> illustrates a MAC frame structure <highlight><bold>700</bold></highlight> (also referred to as a MAC frame or frame) that may be used in such a system and in which employs diversity antenna selection and diversity subcarrier selection as described herein. The MAC frame structure <highlight><bold>700</bold></highlight> includes a beacon portion <highlight><bold>702</bold></highlight>, a downlink portion <highlight><bold>704</bold></highlight> and an uplink portion <highlight><bold>706</bold></highlight>. The beacon portion <highlight><bold>702</bold></highlight> contains a communication burst including a plurality of OFDM symbols that is broadcast from the access point (AP) to all remote terminals within range of the AP. As is illustrated, the beacon portion <highlight><bold>702</bold></highlight> is formatted into a preamble portion <highlight><bold>708</bold></highlight>, a data portion <highlight><bold>710</bold></highlight> and a diversity selection portion <highlight><bold>712</bold></highlight>. These portions may be as described herein with reference to FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>10</bold></highlight> and <highlight><bold>13</bold></highlight>. The diversity selection portion <highlight><bold>712</bold></highlight> includes probing portions that contain OFDM symbols as described herein for the purpose of performing diversity antenna selection of n antenna branches out of L available antenna branches and sub-carrier selection to select the best antenna branch for each subcarrier or bin out of the best n antenna branches. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> After the beacon portion <highlight><bold>702</bold></highlight> is the downlink portion <highlight><bold>704</bold></highlight> during which one or more bursts are transmitted. The downlink portion <highlight><bold>704</bold></highlight> is segmented into downlink data portions <highlight><bold>714</bold></highlight>, <highlight><bold>716</bold></highlight>, <highlight><bold>718</bold></highlight>. For example, data is transmitted from the AP to remote terminal &num;1 (RT1) during downlink data portion <highlight><bold>714</bold></highlight>, data is transmitted from the AP to RT2 during downlink data portion <highlight><bold>716</bold></highlight>, and data is transmitted from the AP to RT3 during downlink data portion <highlight><bold>718</bold></highlight>. It is noted that the beacon portion <highlight><bold>702</bold></highlight> and the downlink portion <highlight><bold>704</bold></highlight> are configured to contain OFDM signals transmitted as &ldquo;downlink bursts&rdquo;. It is also notes that signals transmitted during the beacon portion <highlight><bold>702</bold></highlight> and the downlink portion <highlight><bold>704</bold></highlight> may comprise a single communication burst or may comprise several bursts. </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> After the downlink portion <highlight><bold>704</bold></highlight> is the uplink portion <highlight><bold>706</bold></highlight> including remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight>. Each of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight> is preceded by a time gap <highlight><bold>732</bold></highlight>. Each remote uplink portion includes a preamble portion <highlight><bold>726</bold></highlight>, a data portion <highlight><bold>728</bold></highlight> and a diversity selection portion <highlight><bold>730</bold></highlight>. It is noted that each of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight> are configured to contain OFDM signals transmitted as &ldquo;uplink bursts&rdquo; from the respective one of the RTs. Thus, a respective communication burst made up of the appropriate OFDM signals (e.g., OFDM (symbols) is transmitted during each of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight>. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> In operation, the time gaps <highlight><bold>732</bold></highlight> are required to handle different propagation times for communications from each RT to the AP and so that the RT uplink sessions do not inadvertently overlap. A short preamble portion <highlight><bold>726</bold></highlight> is also required for each uplink session (i.e., each uplink burst) since the channel is always changing and so that the AP can acquire the proper timing, etc. to receive the contents of uplink transmission. Data from RT1 is transmitted to AP in the data portion <highlight><bold>728</bold></highlight> of remote uplink portion <highlight><bold>720</bold></highlight>, data from RT2 is transmitted to AP in the data portion <highlight><bold>728</bold></highlight> of remote uplink portion <highlight><bold>722</bold></highlight>, and data from RT3 is transmitted to AP in the data portion <highlight><bold>728</bold></highlight> of remote uplink portion <highlight><bold>724</bold></highlight>. It is noted that diversity selection portions are not included within each downlink data portion <highlight><bold>714</bold></highlight>, <highlight><bold>716</bold></highlight>, <highlight><bold>718</bold></highlight> since this would be redundant to the diversity selection portion <highlight><bold>712</bold></highlight> of the burst transmitted during the beacon portion <highlight><bold>702</bold></highlight>. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> Also, a diversity antenna selection portion <highlight><bold>730</bold></highlight> is included within each of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight>, illustrated as postambles of the bursts transmitted in the respective remote uplink portions. The inclusion of the diversity selection portions <highlight><bold>730</bold></highlight> is optional depending on the volatility of the uplink channel. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> Each of the communicating devices may be configured to include a receiver similar to the receiver of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. Thus, advantageously, the diversity antenna selection processes and sub-carrier selection processes described herein may be employed for signaling (e.g., communication bursts) received in the downlink and/or signaling received in the uplink. </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> Furthermore, when referring to PHY-layer or MAC frame structures herein, it is intended that term MAC frame is meant to include an entire MAC frame structure (such as MAC frame structure <highlight><bold>700</bold></highlight>), or a MAC frame structure within another MAC frame structure (such as, the MAC frame structure of the beacon portion <highlight><bold>702</bold></highlight> or the MAC frame structure of each of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight>. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> Furthermore, it is noted that the use of the term communication burst or burst refers to the signal including a plurality of symbols transmitted within a given MAC frame structure or portion of a MAC frame structure. In preferred embodiments, the burst is modulated on a carrier waveform as an OFDM burst containing the appropriate OFDM symbols. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> Thus, as can be seen, the MAC frame structure <highlight><bold>700</bold></highlight> includes multiple communication bursts, each including a preamble portion, a data portion and a diversity selection portion. It is noted that in other embodiments, a MAC frame structure may be formatted to transmit at least one burst, each burst including a preamble portion, a data portion and a diversity selection portion. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> illustrates an alternate burst structure to be used for a remote uplink portion <highlight><bold>742</bold></highlight> (e.g., one or more of the remote uplink portions <highlight><bold>720</bold></highlight>, <highlight><bold>722</bold></highlight>, <highlight><bold>724</bold></highlight>) in which a diversity selection portion <highlight><bold>740</bold></highlight> is located in between the preamble portion <highlight><bold>726</bold></highlight> and the data portion <highlight><bold>728</bold></highlight>, rather than as a postamble as illustrated in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>. Thus, as described herein the diversity selection portions of the various bursts of the MAC frame <highlight><bold>700</bold></highlight> may be located in different locations within each burst, e.g., within the preamble portion, between the preamble portion and the data portion, within the data portion, or as a postamble. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> It is noted that the timing diagrams of <cross-reference target="DRAWINGS">FIGS. 20 and 21</cross-reference> are not necessarily drawn to scale such that the duration in time of the various portions may be varied according to the design and requirements of the system. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> While the invention herein disclosed has been described by means of specific embodiments and applications thereof, numerous modifications and variations could be made thereto by those skilled in the art without departing from the scope of the invention set forth in the claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for use in communicating an orthogonal frequency division multiplexing (OFDM) signal, comprising the steps of: 
<claim-text>receiving a burst with a system having L antenna branches and n radio frequency (RF) receivers, wherein the burst includes a diversity selection portion comprising one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content; </claim-text>
<claim-text>taking a first set of measurements from a first of the L antenna branches on one or more of the non-zero OFDM frequency bins; </claim-text>
<claim-text>taking a second set of measurements from the first of the L antenna branches on one or more of the zero OFDM frequency bins; and </claim-text>
<claim-text>computing an estimate for carrier-to-noise-plus-interference ratio (CNIR) for at least one OFDM frequency bin of the first of the L antenna branches using the first and second set of measurements. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the first and second set of measurements comprise power measurements. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the first and second set of measurements comprise complex receiver fast Fourier transform (FFT) output values. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the step of computing the estimate for the CNIR comprises the steps of: 
<claim-text>estimating the CNIR for a respective OFDM frequency bin by: 
<claim-text>summing respective ones of the first set of measurements within a window centered about the respective OFDM frequency bin to form a first sum; </claim-text>
<claim-text>summing respective ones of the second set of measurements within a window centered about the respective OFDM frequency bin to form a second sum; </claim-text>
<claim-text>dividing the first sum by the second sum to form a first quotient; and </claim-text>
<claim-text>subtracting <highlight><bold>1</bold></highlight> from the first quotient. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the computing step comprises computing an estimate for carrier-to-noise-plus-interference ratio (CNIR) for each of the non-zero OFDM frequency bins and each of the zero OFDM frequency bins of the first of the L antenna branches using the first and second set of measurements. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising the step of: 
<claim-text>computing an average value over multiple bursts for the CNIR for the at least one OFDM frequency bin. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the burst comprises a preamble portion and a data portion and the diversity selection portion follows the data portion. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the one or more OFDM symbols comprise one or more OFDM symbols selected from a group consisting of: OFDM short symbols as defined in the IEEE 802.11a standard and OFDM short symbols as defined in the HiperLAN2 standard. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the one or more OFDM symbols comprise OFDM symbols having alternating zero and non-zero frequency bin content throughout all subcarriers. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising the steps of: 
<claim-text>taking a third set of measurements from a second of the L antenna branches during one or more non-zero OFDM frequency bins; </claim-text>
<claim-text>taking a fourth set of measurements from the second of the L antenna branches during one or more zero OFDM frequency bins; and </claim-text>
<claim-text>computing an estimate for CNIR for at least one OFDM frequency bin of the second of the L antenna branches using the third and fourth set of measurements. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein the diversity selection portion further comprises one or more antenna branch probing portions, and the first and second set of measurements are taken by a first of the n RF receivers during a first antenna branch probing portion and the third and fourth set of measurements are taken by a second of the n RF receivers during the first antenna branch probing portion. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein: 
<claim-text>the diversity selection portion further comprises one or more antenna branch probing portions; </claim-text>
<claim-text>and further comprising the step of, </claim-text>
<claim-text>computing estimates for CNIR for at least one OFDM frequency bin of additional ones of the L antenna branches by taking measurements from the additional ones of the L antenna branches n antenna branches at a time during different antenna branch probing portions. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A method for use in communicating an orthogonal frequency division multiplexing (OFDM) signal, comprising the steps of: 
<claim-text>generating a burst having a preamble portion and a data portion; </claim-text>
<claim-text>adding a diversity selection portion to the burst, wherein the diversity selection portion includes one or more OFDM symbols that each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content; and </claim-text>
<claim-text>transmitting the burst including the diversity selection portion within a frame structure. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the one or more OFDM symbols comprise one or more OFDM symbols selected from a group consisting of: OFDM short symbols as defined in the IEEE 802.11a standard and OFDM short symbols as defined in the HiperLAN2 standard. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the one or more OFDM symbols comprise OFDM symbols having alternating zero and non-zero frequency bin content throughout all subcarriers. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the diversity selection portion further comprises one or more antenna branch probing portions. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein the diversity selection portion further comprises one or more switching time intervals with one of the switching time intervals being located between two antenna branch probing portions. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the preamble portion and the data portion are defined in accordance with the IEEE 802.11a standard. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the preamble portion and the data portion are defined in accordance with the HiperLAN2 standard. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the adding step comprises adding the diversity selection portion to the burst following the data portion. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the adding step comprises adding the diversity selection portion to the burst positioned within the data portion. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the adding step comprises adding the diversity selection portion to the burst following the preamble portion. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein the adding step comprises adding the diversity selection portion to the burst positioned within the preamble portion. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. A communication burst embodied in an orthogonal frequency division multiplexing (OFDM) signal and transmitted within a frame structure, comprising: 
<claim-text>a preamble portion including a plurality of OFDM symbols, the preamble portion including a coarse frequency estimation portion; </claim-text>
<claim-text>a data portion following the preamble portion and including a plurality of OFDM data symbols; and </claim-text>
<claim-text>a diversity selection portion comprising one or more antenna branch probing portions, the diversity selection portion occuring after the coarse frequency estimation portion of the preamble portion, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna branch probing portions each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna branch probing portions OFDM symbols selected from a group consisting of: OFDM short symbols as defined in the IEEE 802.11a standard and OFDM short symbols as defined in the HiperLAN2 standard. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna branch probing portions comprise OFDM symbols having alternating zero and non-zero frequency bin content throughout all subcarriers. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion further comprises one or more switching time intervals with one of the switching time intervals being located between two antenna branch probing portions. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the preamble portion and the data portion are defined in accordance with a standard selected from a group consisting of: the IEEE 802.11a standard and the HiperLAN2 standard. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion follows the data portion. </claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion follows the preamble portion. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion is positioned within the data portion. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion is positioned within the preamble portion. </claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference>, wherein the diversity selection portion is configured for diversity antenna branch selection at a receiver receiving the communication burst based upon bin-by-bin measurements of the one or more OFDM symbols of the diversity selection portion. </claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. A communication burst embodied in an orthogonal frequency division multiplexing (OFDM) signal and transmitted within a frame structure, comprising: 
<claim-text>a preamble portion including a plurality of OFDM symbols; </claim-text>
<claim-text>a data portion following the preamble portion and including a plurality of OFDM data symbols; and </claim-text>
<claim-text>a diversity selection portion comprising one or more antenna branch probing portions, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols, </claim-text>
<claim-text>wherein the diversity selection portion is configured for diversity antenna branch selection at a receiver receiving the communication burst based upon bin-by-bin measurements of the one or more OFDM symbols of the diversity selection portion. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00033">claim 35</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna branch probing portions each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content. </claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. A burst in accordance with <dependent-claim-reference depends_on="CLM-00033">claim 39</dependent-claim-reference>, wherein the diversity selection portion is located in a position within the communication burst selected from a group of positions consisting of: following the data portion, following the preamble portion, following a coarse frequency estimation portion of the preamble portion, within the data portion and within the preamble portion. </claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. A medium access control (MAC) frame format embodied in an orthogonal frequency division multiplexing (OFDM) signal, comprising: 
<claim-text>one or more communication bursts occupying different time portions of the frame format, each of the one or more communication bursts comprising: 
<claim-text>a preamble portion including a plurality of OFDM symbols, the preamble portion including a coarse frequency estimation portion; </claim-text>
<claim-text>a data portion following the preamble portion and including a plurality of OFDM data symbols; and </claim-text>
<claim-text>a diversity selection portion comprising one or more antenna branch probing portions, the diversity selection portion occuring after the coarse frequency estimation portion of the preamble portion, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00039">
<claim-text><highlight><bold>39</bold></highlight>. A frame format in accordance with <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna branch probing portions of each of the one or more communication bursts each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content. </claim-text>
</claim>
<claim id="CLM-00040">
<claim-text><highlight><bold>40</bold></highlight>. A frame format in accordance with <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, wherein the diversity selection portion of each of the one or more communication bursts is located in a position within the one or more communication bursts selected from a group of positions consisting of: following the data portion, following the preamble portion, within the data portion and within the preamble portion. </claim-text>
</claim>
<claim id="CLM-00041">
<claim-text><highlight><bold>41</bold></highlight>. A method of performing diversity reception in radio frequency (RF) communications, comprising the steps of: 
<claim-text>receiving a burst with a system having L antenna branches and n RF receivers, wherein L and n are variables and the burst includes a preamble portion, a data portion and a diversity selection portion, the diversity selection portion including one or more antenna branch probing portions, wherein each of the one or more antenna branch probing portions includes one or more OFDM symbols; and </claim-text>
<claim-text>taking measurements from n of the L antenna branches during one of the antenna branch probing portions. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00042">
<claim-text><highlight><bold>42</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein each of the one or more OFDM symbols within each of the one or more antenna probing portions each have a frequency bin structure that includes both non-zero and zero OFDM frequency bin content. </claim-text>
</claim>
<claim id="CLM-00043">
<claim-text><highlight><bold>43</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, further comprising the step of: 
<claim-text>taking measurements from a remainder of the L antenna branches by taking measurements from n antenna branches at a time during different antenna branch probing portions. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00044">
<claim-text><highlight><bold>44</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein the diversity selection portion further comprises one or more switching time intervals with one of the switching time intervals being located between two antenna branch probing portions, the method further comprising the step of: 
<claim-text>switching to a different set of n of the L antenna branches during the one of the switching time intervals. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00045">
<claim-text><highlight><bold>45</bold></highlight>. A method of performing diversity antenna selection, comprising the steps of: 
<claim-text>taking measurements from L different antenna branches n antenna branches at a time; and </claim-text>
<claim-text>using the measurements to identify a group of n of the L different antenna branches that minimizes an approximate bit error probability of a subsequent signal that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00046">
<claim-text><highlight><bold>46</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 45</dependent-claim-reference>, wherein the measurements comprise power measurements corresponding to each of K sub-carriers. </claim-text>
</claim>
<claim id="CLM-00047">
<claim-text><highlight><bold>47</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein the K sub-carriers form an orthogonal frequency division multiplexing (OFDM) signal. </claim-text>
</claim>
<claim id="CLM-00048">
<claim-text><highlight><bold>48</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 46</dependent-claim-reference>, wherein the step of using the measurements to identify a group of n of the L different antenna branches further comprises the step of: 
<claim-text>computing an approximate bit error probability for each of the K sub-carriers for each of the L antenna branches n antenna branches at a time. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00049">
<claim-text><highlight><bold>49</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 48</dependent-claim-reference>, wherein the step of using the measurements to identify a group of n of the L different antenna branches further comprises the steps of: 
<claim-text>forming different groupings of n antenna branches from among the L different antenna branches; and </claim-text>
<claim-text>for each different grouping of n antenna branches, selecting a minimum one of the approximate bit error probabilities for each one of the K sub-carriers. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00050">
<claim-text><highlight><bold>50</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 49</dependent-claim-reference>, wherein the step of using the measurements to identify a group of n of the L different antenna branches further comprises the step of: 
<claim-text>for each different grouping of n antenna branches, summing the minimum ones of the approximate bit error probabilities that were selected for each one of the K sub-carriers. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00051">
<claim-text><highlight><bold>51</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 50</dependent-claim-reference>, wherein the step of using the measurements to identify a group of n of the L different antenna branches further comprises the steps of: 
<claim-text>determining which sum of the minimum ones of the approximate bit error probabilities has a smallest value; and </claim-text>
<claim-text>selecting the grouping of n antenna branches that produced the sum of the minimum ones of the approximate bit error probabilities having the smallest value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00052">
<claim-text><highlight><bold>52</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 48</dependent-claim-reference>, wherein the step of computing an approximate bit error probability for each of the K sub-carriers for each of the L antenna branches n antenna branches at a time further comprises the step of: 
<claim-text>computing a detection statistic &Lgr;<highlight><subscript>k,l </subscript></highlight>for each of the K sub-carriers for each of the L antenna branches n antenna branches at a time based on the power measurements. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00053">
<claim-text><highlight><bold>53</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 52</dependent-claim-reference>, wherein the step of computing an approximate bit error probability for each of the K sub-carriers for each of the L antenna branches n antenna branches at a time further comprises the step of: 
<claim-text>approximating a Q-function for each of the K sub-carriers for each of the L antenna branches n antenna branches at a time with a corresponding detection statistic comprising an argument thereof. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00054">
<claim-text><highlight><bold>54</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 45</dependent-claim-reference>, wherein the step of taking measurements from L different antenna branches n antenna branches at a time comprises the steps of: 
<claim-text>receiving a burst that includes a diversity selection portion comprising one or more antenna branch probing portions; and </claim-text>
<claim-text>taking measurements from n antenna branches during one of the antenna branch probing portions. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00055">
<claim-text><highlight><bold>55</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 54</dependent-claim-reference>, wherein the step taking measurements from n antenna branches during one of the antenna branch probing portions comprises the step of: 
<claim-text>taking measurements from each one of the n antenna branches with a separate one of n radio frequency receivers. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00056">
<claim-text><highlight><bold>56</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 52</dependent-claim-reference>, wherein the detection statistic is based upon a carrier-to-noise&plus;interference ratio (CNIR) corresponding to each of the K sub-carriers. </claim-text>
</claim>
<claim id="CLM-00057">
<claim-text><highlight><bold>57</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 45</dependent-claim-reference>, further comprising the step of: 
<claim-text>constructing an output signal from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00058">
<claim-text><highlight><bold>58</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 57</dependent-claim-reference>, wherein the step of constructing an output signal from sub-carriers comprises the steps of: 
<claim-text>computing a detection statistic &Lgr;<highlight><subscript>k,l </subscript></highlight>for each of K sub-carriers for each of the n antenna branches in the identified group of n antenna branches; and </claim-text>
<claim-text>comparing the detection statistics for each of the K sub-carriers for each of the n antenna branches in the identified group of n antenna branches with the detection statistics for each of the respective K sub-carriers for each of the other n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00059">
<claim-text><highlight><bold>59</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00055">claim 58</dependent-claim-reference>, wherein the step of constructing an output signal from sub-carriers further comprises the step of: 
<claim-text>based on results of the comparing step, selecting sub-carriers from one or more of the n antenna branches in the identified group of n antenna branches to form the output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00060">
<claim-text><highlight><bold>60</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00044">claim 45</dependent-claim-reference>, further comprising the step of: 
<claim-text>using the measurements to determine an estimate of the carrier-to-noise&plus;interference ratio (CNIR) for at least one frequency bin of one of the L antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00061">
<claim-text><highlight><bold>61</bold></highlight>. A diversity antenna selection module, comprising: 
<claim-text>means for taking measurements from L different antenna branches n antenna branches at a time; and </claim-text>
<claim-text>means for using the measurements to identify a group of n of the L different antenna branches that minimizes an approximate bit error probability of a subsequent signal that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00062">
<claim-text><highlight><bold>62</bold></highlight>. An apparatus that includes a diversity antenna selection module, wherein the diversity antenna selection module comprises: 
<claim-text>a first computation stage configured to compute an approximate bit error probability for each of K sub-carriers of an OFDM signal received for each of L different antenna branches n antenna branches at a time; and </claim-text>
<claim-text>a second computation stage configured to process the approximate bit error probabilities to identify a group of n of the L different antenna branches that minimizes an approximate bit error probability of subsequent OFDM signals that will eventually be constructed from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00063">
<claim-text><highlight><bold>63</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 62</dependent-claim-reference>, wherein the second computation stage further comprises: 
<claim-text>a multiplexer configured to form different groupings of n antenna branches from among the L different antenna branches; and </claim-text>
<claim-text>a minimum function stage configured to select a minimum one of the approximate bit error probabilities for each one of the K sub-carriers of the OFDM signal received for each different grouping of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00064">
<claim-text><highlight><bold>64</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 63</dependent-claim-reference>, wherein the second computation stage further comprises: 
<claim-text>a summation stage configured to sum the minimum ones of the approximate bit error probabilities that were selected for each one of the K sub-carriers of the OFDM signal received for each different grouping of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00065">
<claim-text><highlight><bold>65</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 64</dependent-claim-reference>, wherein the second computation stage further comprises: 
<claim-text>a minimum metric selection stage configured to determine which sum of the minimum ones of the approximate bit error probabilities has a smallest value; and </claim-text>
<claim-text>a diversity antenna decision stage configured to select the grouping of n antenna branches that produced the sum of the minimum ones of the approximate bit error probabilities having the smallest value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00066">
<claim-text><highlight><bold>66</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 62</dependent-claim-reference>, wherein the first computation stage further comprises: 
<claim-text>n detection statistic stages each configured to compute a detection statistic &Lgr;<highlight><subscript>k,l </subscript></highlight>for each of K sub-carriers. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00067">
<claim-text><highlight><bold>67</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 66</dependent-claim-reference>, wherein the detection statistic is based upon a carrier-to-noise&plus;interference ratio (CNIR) corresponding to each of the K sub-carriers of the OFDM signal received for each of L different antenna branches n antenna branches at a time. </claim-text>
</claim>
<claim id="CLM-00068">
<claim-text><highlight><bold>68</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 66</dependent-claim-reference>, wherein the detection statistic stages determine an estimate of the carrier-to-noise&plus;interference ratio (CNIR) corresponding to at least one of the K sub-carriers of the OFDM signal received for each of L different antenna branches n antenna branches at a time. </claim-text>
</claim>
<claim id="CLM-00069">
<claim-text><highlight><bold>69</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 66</dependent-claim-reference>, wherein the first computation stage further comprises: 
<claim-text>n Q-function stages each configured to process detection statistics. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00070">
<claim-text><highlight><bold>70</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, further comprising: 
<claim-text>n radio frequency receivers coupled to the diversity antenna selection module. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00071">
<claim-text><highlight><bold>71</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 61</dependent-claim-reference>, further comprising: 
<claim-text>an antenna selection stage configured to allow each of n different radio frequency receivers to be coupled to any one of the L different antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00072">
<claim-text><highlight><bold>72</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 62</dependent-claim-reference>, further comprising: 
<claim-text>a diversity antenna structure having L different antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00073">
<claim-text><highlight><bold>73</bold></highlight>. An apparatus in accordance with <dependent-claim-reference depends_on="CLM-00066">claim 62</dependent-claim-reference>, further comprising: 
<claim-text>a sub-carrier selection diversity module configured to construct an output signal from sub-carriers that are each received by any one of the n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00074">
<claim-text><highlight><bold>74</bold></highlight>. An apparatus in accordance with claim <highlight><bold>73</bold></highlight>, wherein the sub-carrier selection diversity module comprises: 
<claim-text>n detection statistic stages each configured to compute a detection statistic &Lgr;<highlight><subscript>k,l </subscript></highlight>for each of K sub-carriers of the other OFDM signal received for one of the n antenna branches in the identified group of n antenna branches; and </claim-text>
<claim-text>a comparator configured to compare the detection statistics for each of the K sub-carriers of the subsequent OFDM signals received for each of the n antenna branches in the identified group of n antenna branches with the detection statistics for each of the respective K sub-carriers of the subsequent OFDM signals received for each of the other n antenna branches in the identified group of n antenna branches. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00075">
<claim-text><highlight><bold>75</bold></highlight>. An apparatus in accordance with claim <highlight><bold>74</bold></highlight>, wherein the sub-carrier selection diversity module further comprises: 
<claim-text>a multiplexer configured to select sub-carriers from one or more of the n antenna branches in the identified group of n antenna branches based on data generated by the comparator to form the output signal.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002471A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002471A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002471A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002471A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030002471A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030002471A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030002471A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030002471A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030002471A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030002471A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030002471A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030002471A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030002471A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030002471A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030002471A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030002471A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030002471A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030002471A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030002471A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030002471A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
