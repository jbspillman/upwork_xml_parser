<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002599A1-20030102-D00000.TIF SYSTEM "US20030002599A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002599A1-20030102-D00001.TIF SYSTEM "US20030002599A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002599A1-20030102-D00002.TIF SYSTEM "US20030002599A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002599A1-20030102-D00003.TIF SYSTEM "US20030002599A1-20030102-D00003.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002599</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10024720</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20011221</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>01115809.4-1237</doc-number>
</priority-application-number>
<filing-date>20010628</filing-date>
<country-code>EP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04L025/06</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>H04L025/10</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>375</class>
<subclass>319000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>375</class>
<subclass>286000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>375</class>
<subclass>287000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Signal DC offset correction method and device</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Markus</given-name>
<family-name>Schetelig</family-name>
</name>
<residence>
<residence-non-us>
<city>Waltrop</city>
<country-code>DE</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Paul</given-name>
<family-name>Burgess</family-name>
</name>
<residence>
<residence-non-us>
<city>Bochum</city>
<country-code>DE</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>ANTONELLI TERRY STOUT AND KRAUS</name-1>
<name-2></name-2>
<address>
<address-1>SUITE 1800</address-1>
<address-2>1300 NORTH SEVENTEENTH STREET</address-2>
<city>ARLINGTON</city>
<state>VA</state>
<postalcode>22209</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">The invention relates to a method and a device for estimating the DC offset portion of a signal, especially of a signal containing parts with sinusoidal shaping, for example a signal which results from demodulation of a frequency modulated receive signal. </paragraph>
<paragraph id="A-0002" lvl="0">According to the invention a method is presented for correcting the direct current offset portion (DC offset) of a first signal (Signal <highlight><bold>1</bold></highlight>) which comprises the following steps:&mdash;phase shifting the first signal (Signal <highlight><bold>1</bold></highlight>) for obtaining a second signal (Signal <highlight><bold>2</bold></highlight>); comparing the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) with an estimated DC offset. The estimated DC offset is adjusted if the result of the comparison is, that the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) are on different sides of said estimated DC offset and the estimated DC offset is kept constant as long as the result of the comparison is, that the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) are on the same side of the estimated DC offset. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The invention relates to a method and a device for estimating the DC offset portion of a signal, especially of a signal containing parts with sinusoidal shaping, for example a signal which results from demodulation of a frequency modulated receive signal. After demodulation of a frequency modulated signal the problem of carrier frequency estimation transforms into Direct Current (DC) estimation of the received signal. For simplicity only the term DC estimation will be used in the present document. The term tracking is used, if the DC value is continuously estimated not only during the beginning of a packet but also for the whole rest of a packet. In particular the present invention relates to a device for correcting the DC offset of a signal, for example a received radio frequency signal after demodulation. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention is especially designed for systems where fast and reliable DC estimation is difficult due to the nature of the received signal, especially for received data packets in TDMA (Time division Multiple Access) and CDMA (Code Division Multiple Access) systems. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> In some known systems of this kind (e.g. DECT, Digital European Cordless Telephone Standard) the DC estimation is not a problem due to a long sequence of equally distributed bits (1010101 . . . series) at the start of each data packet. The preamble is DC free and can be used for DC estimation. After the start of the packet is indicated by some control logic the estimated DC is usually frozen and used for the rest of the packet. In the mentioned DECT standard the preamble is long enough to apply linear methods of DC estimation, e.g. simple low pass filtering of the incoming signal by means of a R-C combination can be applied. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> For systems having a shorter preamble the DC estimation has to be faster which usually results in a lower accuracy of the estimated DC. One possibility to overcome the problem of the low accuracy of an initial estimate is not to freeze the rough DC estimate but to perform continuous tracking during the whole data packet. One difficulty with those DC tracking algorithms are sequences of equal bits that result in a signal that is basically constant. In this case the estimated DC must not slowly drift to this constant signal. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> One example of a system with a short preamble is the Bluetooth&trade; system described in the specification of the Bluetooth&trade; standard. Those skilled in the art will appreciate that other wireless systems also exist, and reference herein to Bluetooth&trade; is not intended to be limited thereto. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Bluetooth&trade; wireless technology allows users to make effortless, wireless and almost instant connections between various communication devices, such as mobile phones, computers, printers etc. Bluetooth&trade; provides short-range wireless connectivity and supports both point to point and point to multipoint access. The Bluetooth&trade; standard provides a preamble of data packets with a preamble of four bits which can be used for DC-estimation. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Bluetooth&trade; operates in the 2.4 GHz ISM band using a band of 83.5 MHz which locates 79 RF channels spaced 1 MHz apart. The channel is represented by a pseudo-random hopping sequence through available channels. The channel is divided into time slots where each slot corresponds to an RF hop frequency. Consecutive hops correspond to different RF hopping frequencies. The nominal hop rate is 1600 hops per second. All Bluetooth&trade; devices of a given piconet are time and frequency hop synchronized to the channel. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The foregoing description makes it apparent to those skilled in the art that fast and reliable DC estimation methods are necessary for operating a communication device which operates in accordance with the Bluetooth&trade; standard. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> According to a first aspect of the invention a method for correcting the direct current offset portion (DC offset) of a first signal (Signal <highlight><bold>1</bold></highlight>) is provided which comprises the following steps: </paragraph>
<paragraph id="P-0010" lvl="2"><number>&lsqb;0010&rsqb;</number> phase shifting the first signal (Signal <highlight><bold>1</bold></highlight>) for obtaining a second signal (Signal <highlight><bold>2</bold></highlight>) </paragraph>
<paragraph id="P-0011" lvl="2"><number>&lsqb;0011&rsqb;</number> comparing the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) with an estimated DC offset. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The estimated DC offset is adjusted if the result of the comparison is, that the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) are on different sides of said estimated DC offset and the estimated DC offset is kept constant as long as the result of the comparison is, that the first signal (Signal <highlight><bold>1</bold></highlight>) and the second signal (Signal <highlight><bold>2</bold></highlight>) are on the same side of the estimated DC offset. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In a refinement according to the first aspect to the invention the phase shifted second signal (Signal <highlight><bold>2</bold></highlight>) is obtained by low pass filtering said first signal (Signal <highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The invention is furthermore very useful for DC estimation for signals originating from demodulation of a frequency modulated receive signals, e.g. GFSK (Gaussian Frequency Shift Keying). </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> According to a second aspect of the invention there is provided a device for correcting the direct current offset portion (DC offset) of a signal (Signal <highlight><bold>1</bold></highlight>), comprising: an input for connecting to a signal line for the signal (Signal <highlight><bold>1</bold></highlight>); a phase shifting element (LPF <highlight><bold>1</bold></highlight>) for producing a phase shifted signal (Signal <highlight><bold>2</bold></highlight>); means (LPF<highlight><bold>2</bold></highlight>) for adjusting the estimated DC offset when Signal <highlight><bold>2</bold></highlight> is connected to its input and holding its output signal (&equals;estimated DC offset) when Signal <highlight><bold>2</bold></highlight> is disconnected from its input; an output signal line connected to the output of said means for adjusting the estimated DC offset (LPF <highlight><bold>2</bold></highlight>); a decision circuit (DEC) for deciding whether Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different or on the same sides of said estimated DC offset; a switch for connecting the phase shifted signal (Signal <highlight><bold>2</bold></highlight>) to the means for adjusting the estimated DC offset (LPF <highlight><bold>2</bold></highlight>) if the decision circuit decides that Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC offset and disconnecting the phase shifted signal (Signal <highlight><bold>2</bold></highlight>) from the means for adjusting said estimated DC offset if the decision circuit decides that Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on the same side of the estimated DC offset. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> Signal <highlight><bold>1</bold></highlight> and signal <highlight><bold>2</bold></highlight> being on the same side of the DC offset means, that both signals are higher or lower than the estimated DC level at a time. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> This way the DC estimation is performed by possibly alternating two different modes of operation. During one period, when Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are both on the same side of the estimated DC level, the estimated DC offset value is kept on a constant value. During another period, when Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC level, the estimated DC offset value is increased or decreased until Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on the same side of the estimated DC offset value. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> If the decision circuit decides that when Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC level, the estimated DC offset is increased as long as Signal <highlight><bold>2</bold></highlight> is higher than Signal <highlight><bold>1</bold></highlight> and the estimated DC offset is decreased as long as Signal <highlight><bold>2</bold></highlight> is lower than Signal <highlight><bold>1</bold></highlight>. This means that the estimated DC offset slowly adapts towards Signal <highlight><bold>2</bold></highlight> as long as Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC offset. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> In one possible refinement the device according to the second aspect of the invention further comprises one XOR (exclusive-OR) gate and a first and a second comparator circuit with input signal lines X and input signal lines Y for comparing the input signals X and Y, whereby the input signal line X of the first comparator circuit is connected to the output of the first low pass filter LPF<highlight><bold>1</bold></highlight> (Signal <highlight><bold>2</bold></highlight>) and the input signal line X of the second comparator circuit is connected to the input signal (Signal <highlight><bold>1</bold></highlight>) and both input signal lines Y of the first and second comparator circuits are connected to the output signal line of the second low pass filter. The output signal line of the second low pass filter corresponds to the estimated DC offset. The output line of an Exclusive-OR gate (XOR), that comprises two input signal lines, controls the switch, whereby the outputs of the first and second comparator circuits are connected to the input lines of said XOR gate. If the output line of the XOR gate is positive, the input line of the 2nd lowpass filter (LPF<highlight><bold>2</bold></highlight>) is connected to signal <highlight><bold>2</bold></highlight>, otherwise the input line of the second low pass filter (LPF<highlight><bold>2</bold></highlight>) is disconnected. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> This decision circuit provides a cheap and reliable circuit for deciding when the two stages according to the present invention are reached and switches between these stages correspondingly. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> In one possible refinement according to the second aspect of the invention the phase shifting element is implemented by a low pass filter. Also the means for adjusting the estimated DC offset portion can be implemented by a low pass filter advantageously. The speed of adaptation hereby is determined by the time constant of this second low pass filter. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> If the estimated DC offset is incorrect, i.e. it does not represent the correct DC offset value, the amount of charging and discharging is different and the estimated DC offset is adjusted automatically to the correct DC offset and is reached, when the amount of charging and discharging is the same. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The invention might be implemented as an analog circuit or as hardwired digital logic. It might be implemented for example in the analog part of an RF receiver or implemented as hardwired digital logic in a baseband part following the RF receiver or in a digital part of the RF-receiver itself. </paragraph>
</summary-of-invention>
<brief-description-of-drawings>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a receiving/transmitting circuit (transceiver) of a communication device with a DC offset estimation circuit according to the invention. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows a DC offset estimation circuit according to the invention at a first operational stage </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows a DC offset estimation circuit according to the invention at a second operational stage </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a timing diagram in which the DC offset is under adaptation to a desired value </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows a timing diagram in which the estimated DC offset is tracked according to the invention.</paragraph>
</brief-description-of-drawings>
<detailed-description>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a transceiver of a communication device <highlight><bold>10</bold></highlight> with a DC correction circuit <highlight><bold>106</bold></highlight> according to the invention. The communication device <highlight><bold>10</bold></highlight> might be a transceiver module working in accordance with the Bluetooth standard. The transceiver has an antenna <highlight><bold>101</bold></highlight> for transmitting and receiving radio frequency signals. The antenna is connected to an antenna switch <highlight><bold>102</bold></highlight> which alternately connects the receiver path <highlight><bold>103</bold></highlight> or a transmitter path <highlight><bold>108</bold></highlight> of the transceiver to the antenna. The antenna switch <highlight><bold>102</bold></highlight> might be also implemented by duplex filters. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The transmitter path is only represented by block <highlight><bold>108</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> because it can be built in any way a person skilled in the art might wish to implement it without taking care for the invention as described in this document. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> The receiver path <highlight><bold>103</bold></highlight> of the device <highlight><bold>10</bold></highlight> comprises for example low noise amplification, downconversion, filtering at different stages of the receive path, mixing and demodulation. A person skilled in the art is aware that there are many ways for the implementation, therefor the receiver circuitry is not shown in detail here. The assumption for the described embodiment of this invention is the provision of the demodulated receive signal at the output of some processing stage which can be an RF frontend of many types. It is of major importance that the DC level of the demodulated signal is set to the correct level by the DC offset correction circuit <highlight><bold>106</bold></highlight>. If the DC level for instance was unprecisely estimated, the subsequent data detection circuitry might work erroneously. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> For the correction of the DC-Offset a DC offset-estimation circuit <highlight><bold>106</bold></highlight> according to the invention is shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. In the following description the DC-offset estimation circuit is described in a way, as it would be implemented in analog form. A person skilled in the art will appreciate that this kind of circuit can be implemented in digital way by implementing the same functionality with hardwired digital logic. It might also be useful to implement the Low-Pass filters, as described later in analog form and implement the XOR gate and comparators in digital way of the communication device. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 2 and 3</cross-reference> present a circuit for the estimation of the DC offset value <highlight><bold>106</bold></highlight> according to the invention in detail. The received and demodulated signal is represented by Signal <highlight><bold>1</bold></highlight>. Signal <highlight><bold>1</bold></highlight> is splitted and fed to the X-input terminal of comparator DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight> on one side and low pass filtered by filter LPF <highlight><bold>1</bold></highlight> on the other side. The output of low pass filter LPF <highlight><bold>1</bold></highlight>, Signal <highlight><bold>2</bold></highlight>, is a low pass filtered Signal <highlight><bold>1</bold></highlight>. Basically this means for the understanding of the invention that Signal <highlight><bold>2</bold></highlight> is a phase shifted, attenuated version of Signal <highlight><bold>1</bold></highlight>. In the prefered embodiment the phase of signal <highlight><bold>1</bold></highlight> might be shifted between 45 to 60 degrees, but depending on the desired behaviour of the DC estimation circuit <highlight><bold>106</bold></highlight> the phase shift of the low pass filter LPF <highlight><bold>1</bold></highlight> might be chosen higher or lower. It can be desirable, depending on the implementation of the invention, to keep the attenuation of input Signal <highlight><bold>1</bold></highlight> as low as possible. On the other hand, also depending on the implementation of the invention and the desired behaviour of the DC offset correction circuit, an attenuation or amplification of signal <highlight><bold>2</bold></highlight> (during, after or before the phase shift) can result in a faster or slower adaptation of the DC offset correction. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Signal <highlight><bold>2</bold></highlight> is also splitted and fed to the X-input terminal of comparator DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight> on one side and to switch SW on the other side. The switch SW directs Signal <highlight><bold>2</bold></highlight> to the input of the low pass filter LPF <highlight><bold>2</bold></highlight> when the switch is in position A (<cross-reference target="DRAWINGS">FIG. 2</cross-reference>). When the switch is in position B (<cross-reference target="DRAWINGS">FIG. 3</cross-reference>) the input signal line of low pass filter LPF <highlight><bold>2</bold></highlight> is open. This means that the output signal OUT of the low pass filter is a further filtered variant of signal <highlight><bold>2</bold></highlight> when switch SW is in position A. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> The signal OUT represents the estimated DC offset signal DCest in this circuit. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> When the switch is in position B the output of the low pass filter LPF <highlight><bold>2</bold></highlight> is generally kept constant by means of capacitiy C which holds the voltage at the output terminal when the switch is changed from position A to position B. The output signal OUT, this means the estimated DC-offset, is supplied to the Y-input terminals of the comparator circuits DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight>. and DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight>. This way the comparator circuit DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight>. compares the input signal Signal <highlight><bold>1</bold></highlight> with the estimated DC-offset and comparator circuit DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight> compares the low pass filtered input signal Signal <highlight><bold>2</bold></highlight> with the estimated DC-offset. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The output terminals of the comparator circuits DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight> and DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight> are connected to the input terminals of an XOR gate. The XOR gate controls the switch SW. The comparator circuits DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight> and DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight> together with the XOR gate built the decision circuit DEC, which decides if Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on the same side of the estimated DC offset or on different sides of the estimated DC offset. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> As long as Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on the same side of the estimated DC offset the switch SW is in position B and the estimated DC offset OUT is kept constant. As long as Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC offset, the DC offset signal is adjusted. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4 and 5</cross-reference> show timing diagrams for a demodulated GFSK input signal (Signal <highlight><bold>1</bold></highlight>, dashed line), the phase shifted input signal (Signal <highlight><bold>2</bold></highlight>; dotted line), the estimated DC offset (solid line) and the correct DC offset (long dashed line). They demonstrate how the adjustment of the estimated DC offset works in practice. The amplitude of Signal <highlight><bold>2</bold></highlight> is slightly lower than the amplitude of Signal <highlight><bold>1</bold></highlight> because it is attenuated during phase shifting. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 4</cross-reference> the estimated DC offset (solid line; DCest) is under adjustment to the correct DC offset value. As long as the values of Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are both above or below the estimated DC offset the estimated DC offset is kept constant. As long as Signal <highlight><bold>1</bold></highlight> is higher then the estimated DC offset and Signal <highlight><bold>2</bold></highlight> is lower then the estimated offset the estimated DC offset is discharged (decreased, D). As long as Signal <highlight><bold>1</bold></highlight> is lower than the estimated DC offset and Signal <highlight><bold>2</bold></highlight> is higher than the estimated DC offset the estimated offset is charged (increased, C). </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 4</cross-reference> the estimated DC offset is higher than the correct DC offset and the amount of discharging (D) is higher than the amount of charging (C). This way the estimated DC offset is adjusted to the correct DC-offset step by step. If the estimated offset would be lower than the correct DC offset the estimated offset would be adjusted to the correct DC offset in analog way by longer periods of charging and shorter periods of discharging. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows the status, when the estimated DC offset has reached the correct value. The signals Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are still compared to the estimated DC offset and when they are both on the same side of the estimated DC offset the estimated DC offset is kept constant As long as the signals Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of the estimated DC offset charging (C) or discharging (D) takes place. The estimated DC offset oscillates very near to the correct DC offset this way. The differences between the estimated and correct offset can be neglected and the estimated DC offset value can be used for correct symbol decision. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The present invention is a very effective way for quickly adjusting the estimated DC offset to a correct value and furthermore for tracking the estimated DC offset when the correct level is reached. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The approach presented by this invention is furthermore insensitive towards sequences of equal symbols which cause the estimated DC offset to enter the hold status, i.e. no adaptation takes place for a sequence of equal bits that results in a constant estimated DC offset signal. The adjustment does not take place for sequences of equal symbols because Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> remain on the same side of the estimated DC offset and the estimated offset remains in the hold status for this period of time. Furthermore the proposed solution is independent of the size of the signal swing that can considerably vary with practical implementations of FM demodulators. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> A prerequisite of the applicability of this DC offset estimation is just a rough priori setting of the estimated DC offset in a way that the estimated DC offset is already set between the maximum values that are reached by Signal <highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The present invention includes any novel feature or combination of features disclosed herein either explicitly or any generalization thereof irrespective of whether or not it relates to the claimed invention or mitigates any or all of the problems addressed. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> In view of the foregoing description it will be evident to a person skilled in the art that various modifications may be made within the scope of the invention. </paragraph>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for correcting the direct current offset portion (DC offset) of a first signal (Signal <highlight><bold>1</bold></highlight>) comprising the steps of: 
<claim-text>phase shifting said first signal (Signal <highlight><bold>1</bold></highlight>) for obtaining a second signal (Signal <highlight><bold>2</bold></highlight>) </claim-text>
<claim-text>comparing said first signal (Signal <highlight><bold>1</bold></highlight>) and said second signal (Signal <highlight><bold>2</bold></highlight>) with an estimated DC offset. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> characterised in that said estimated DC offset is adjusted if the result of the comparison is, that said first signal (Signal <highlight><bold>1</bold></highlight>) and said second signal (Signal <highlight><bold>2</bold></highlight>) are on different sides of said estimated DC offset. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> characterized in that said estimated DC offset is kept constant if the result of the comparison is, that said first signal (Signal <highlight><bold>1</bold></highlight>) and said second signal (Signal <highlight><bold>2</bold></highlight>) are on the same side of said estimated DC offset. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A method according to any of <dependent-claim-reference depends_on="CLM-00001">claims 1</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00003">3</dependent-claim-reference> characterised in that said phase shifted second signal (Signal <highlight><bold>2</bold></highlight>) is obtained by low pass filtering said first signal (Signal <highlight><bold>1</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A method according to any of <dependent-claim-reference depends_on="CLM-00001">claims 1</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00004">4</dependent-claim-reference> characterised in that it is used for correcting the DC offset portion of a received and demodulated radio frequency signal. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A method according to any of <dependent-claim-reference depends_on="CLM-00001">claims 1</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00005">5</dependent-claim-reference> characterised in that said demodulation is a demodulation for GFSK modulated signals. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A device for adjusting the direct current offset portion (DC offset) of a signal (Signal <highlight><bold>1</bold></highlight>) comprising: 
<claim-text>an input for connecting to a signal line for receiving said signal (Signal <highlight><bold>1</bold></highlight>) </claim-text>
<claim-text>a phase shifting element (LPF <highlight><bold>1</bold></highlight>) connected to the input for producing a phase shiftedsignal (Signal <highlight><bold>2</bold></highlight>) </claim-text>
<claim-text>means (LPF<highlight><bold>2</bold></highlight>) for adjusting said estimated DC offset if Signal <highlight><bold>2</bold></highlight> is connected to its input and holding said estimated DC offset if Signal <highlight><bold>2</bold></highlight> is disconnected from its input. </claim-text>
<claim-text>an output signal line (OUT) connected to the output of said said means for adjusting said estimated DC offset (LPF <highlight><bold>2</bold></highlight>) </claim-text>
<claim-text>a decision circuit (DEC) for deciding if Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different or same sides of said estimated DC offset, </claim-text>
<claim-text>a switch (SW) for connecting said phase shifted signal (Signal <highlight><bold>2</bold></highlight>) to said means for adjusting said estimated DC offset (LPF<highlight><bold>2</bold></highlight>) if said decision circuit decides that Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on different sides of said estimated DC offset (switch position A) and disconnecting said phase shifted input signal (Signal <highlight><bold>2</bold></highlight>) from said means for adjusting said estimated DC offset (LPF<highlight><bold>2</bold></highlight>) if the decision circuit decides that Signal <highlight><bold>1</bold></highlight> and Signal <highlight><bold>2</bold></highlight> are on the same side of said estimated DC offset (switch position B). </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A device according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference> characterised in that said means for phase shifting said signal (Signal <highlight><bold>1</bold></highlight>) is a low pass filter (LPF <highlight><bold>1</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A device according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference> or <highlight><bold>8</bold></highlight> characteristed in that said means for adjusting said estimated DC-offset is a low pass filter (LPF <highlight><bold>2</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A device according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00009">9</dependent-claim-reference> characterised in that said decision circuit (DEC) comprises: 
<claim-text>a first and a second comparator circuit (DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight>; DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight>) with input signal lines X and input signal lines Y comparing input signals X and Y, whereby the input signal line X of the first comparator circuit (DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight>) is connected to the output of said means for phase shifting signal <highlight><bold>1</bold></highlight> and the input signal line X of the second comparator circuit (DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight>) is connected to the input signal (Signal <highlight><bold>1</bold></highlight>) and the input signal lines Y of the first and second comparator circuits are connected to the output signal line (OUT); </claim-text>
<claim-text>an Exclusive-OR (XOR) gate comprising two input signal lines and the output of said XOR gate controlling the switch (SW), whereby the outputs of the first and second comparator circuit (DEC <highlight><bold>1</bold></highlight>.<highlight><bold>1</bold></highlight>; DEC <highlight><bold>1</bold></highlight>.<highlight><bold>2</bold></highlight>) are connected to the input lines of said XOR gate. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A radio frequency receiver comprising a device for correcting the DC offset according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00010">10</dependent-claim-reference> implemented as an analog circuit as part of said receiver. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. An electronic device comprising a device for correcting the DC offset according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00010">10</dependent-claim-reference> implemented as a digital hardwired logic. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A device according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00012">12</dependent-claim-reference> for correcting the DC offset of a received and demodulated radio frequency signal. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A transceiver comprising a device for correcting the DC offset according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00013">13</dependent-claim-reference>. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A communication device comprising a device for correcting the DC offset according to one of <dependent-claim-reference depends_on="CLM-00007">claims 7</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00013">13</dependent-claim-reference>.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002599A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002599A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002599A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002599A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
