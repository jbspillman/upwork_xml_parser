<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030003867A1-20030102-D00000.TIF SYSTEM "US20030003867A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00001.TIF SYSTEM "US20030003867A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00002.TIF SYSTEM "US20030003867A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00003.TIF SYSTEM "US20030003867A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00004.TIF SYSTEM "US20030003867A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00005.TIF SYSTEM "US20030003867A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00006.TIF SYSTEM "US20030003867A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00007.TIF SYSTEM "US20030003867A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00008.TIF SYSTEM "US20030003867A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00009.TIF SYSTEM "US20030003867A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00010.TIF SYSTEM "US20030003867A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00011.TIF SYSTEM "US20030003867A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00012.TIF SYSTEM "US20030003867A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00013.TIF SYSTEM "US20030003867A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00014.TIF SYSTEM "US20030003867A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00015.TIF SYSTEM "US20030003867A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00016.TIF SYSTEM "US20030003867A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00017.TIF SYSTEM "US20030003867A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00018.TIF SYSTEM "US20030003867A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00019.TIF SYSTEM "US20030003867A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00020.TIF SYSTEM "US20030003867A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00021.TIF SYSTEM "US20030003867A1-20030102-D00021.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00022.TIF SYSTEM "US20030003867A1-20030102-D00022.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00023.TIF SYSTEM "US20030003867A1-20030102-D00023.TIF" NDATA TIF>
<!ENTITY US20030003867A1-20030102-D00024.TIF SYSTEM "US20030003867A1-20030102-D00024.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030003867</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10031737</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020509</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2000-150546</doc-number>
</priority-application-number>
<filing-date>20000522</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04H001/00</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>H04B005/00</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G06F015/16</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>455</class>
<subclass>041000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>709</class>
<subclass>208000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>455</class>
<subclass>003030</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Data transmission method, data transmission system, and data transmission device</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Harumi</given-name>
<family-name>Kawamura</family-name>
</name>
<residence>
<residence-non-us>
<city>Tokyo</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>LERNER, DAVID, LITTENBERG,</name-1>
<name-2>KRUMHOLZ &amp; MENTLIK</name-2>
<address>
<address-1>600 SOUTH AVENUE WEST</address-1>
<city>WESTFIELD</city>
<state>NJ</state>
<postalcode>07090</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
<international-conventions>
<pct-application>
<document-id>
<doc-number>PCT/JP01/04285</doc-number>
<document-date>20010522</document-date>
<country-code>WO</country-code>
</document-id>
</pct-application>
</international-conventions>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">In order to be able to carry out remote control of another appliance easily and favorably using a transmission network such as Bluetooth. In case of transmitting a command of a predetermined format between one appliance and another appliance capable of transmitting data bidirectionally over a predetermined radio transmission network, when the one appliance transmits a first command for instructing a function block which is an object for control to the other appliance, a function block which is an object for control by the second command transmitted from the one appliance is determined to be a function block specified by the first command. Further, if setting of the function block which is the object for control by the first command exists on the other appliance, the one appliance can be recognized by a response to a predetermined command from the one appliance. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a data transmission system preferable for application to, for example, a short-distance wireless communication system, a data transmission system employing this data transmission method and a data transmitting apparatus used in this system, and more particularly to technology preferable for processing for carrying out wireless communication between audio devices, video devices or devices controlling these audio or video devices. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND ART </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> In recent years, wireless communication system based on a standard called Bluetooth (Bluetooth: trade mark) has been proposed and prevailing in actual fields. According to this wireless communication system, telephone communication audio data, facsimile image data, computer data and the like are transmitted among plural devices using a frequency band of 2.4 GHz. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> This is a short-distance wireless communication system in which a relatively short-distance network is assumed while its wireless communication distance among devices is from some m to about 100 m max. This short-distance wireless communication system accommodates profiles which specify how the data transmission is carried out for each data type to be transmitted. The detail of the communication system will be described in the best mode for carrying out the invention and has been already publicized in Bluetooth SIG, which is a standardization organization. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> If the remote control of an audio device or a video device in the wireless network based on the standard of the Bluetooth already proposed is assumed, a control state is often confused due to the existence of a plurality of control paths for some device. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Specifically, if a plurality of disc reproducing sections are included in an audio device, for example, and a command to instruct a reproducing operation is simply transmitted from a remote controller, a receiving end cannot determine which of the disc reproducing sections starts reproducing. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Conventionally, therefore, if a command to instruct a certain operation is to be transmitted, it is necessary to always instruct to which functional block in a device the command corresponds, disadvantageously complicating command structure. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Although an example of bluetooth has been described here, the same problem exists in case of constructing a similar wireless communication network. </paragraph>
</section>
<section>
<heading lvl="1">DISCLOSURE OF THE INVENTION </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> An object of the present invention is to conduct good remote control of the other device or the like using various types of communication networks. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> According to a first aspect, there is provided a data transmission method for transmitting a command of a specified type between one device and the other device capable of bidirectionally transmitting data in a specified transmission network wherein if the one device transmits a first command to instruct a control target functional block to the other device, a control target functional block of a second command transmitted from the one device is determined as the functional block instructed by the first command. Consequently, by designating the control target functional block by the transmission of the first command, it is not necessary to designate the control target functional block when the second command is transmitted later, making it possible to simplify command structure and to conduct good control of the other device by the one device with simple structure. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> According to a second aspect, there is provided a data transmission method according to the first aspect wherein the first command is instructed by putting up a specified flag. Consequently, the control target functional block can be easily designated. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> According to a third aspect, there is provided a data transmission method according to the first aspect wherein the communication network is a wireless communication network and the command is transmitted using a first channel secured in the wireless transmission network. Consequently, a control target can be easily designated by wireless communication. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> According to a fourth aspect, there is provided a data transmission method according to the third aspect, if the second command instructs the transmission of stream data, the stream data is transmitted using a second channel secured in the wireless communication network. Consequently, the good transmission of the stream data can be achieved using a channel different from the channel of the command. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> According to a fifth aspect, there is provided a data transmission method according to the first aspect wherein the communication network is a network which connects devices by a specified bus line; and the command is transmitted by asynchronous communication on the bus line. Consequently, a control target can be easily designated by the data transmission using the bus line. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> According to a sixth aspect, there is provided a data transmission method according to the fifth aspect wherein if the transmission of the stream data is instructed by the second command, the stream data is transmitted over isochronous communication on the bus line. Consequently, the good transmission of the stream data over isochronous communication can be achieved. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> According to a seventh aspect, there is provided a data transmission method for transmitting a command and a response each of a specified type between one device and the other device capable of bidirectionally transmitting data in a specified transmission network wherein if the one device transmits a first command to check a control target functional block to the other device in the transmission network, the other device transmits a corresponding functional block in a response to the first command. Consequently, the control target functional block of a to-be-controlled device can be easily checked from the other device, simplifying checking to be conducted if the control target functional block is specified in advance and controlled. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> According to an eighth aspect, there is provided a data transmission method according to the seventh aspect wherein the first command is instructted by putting up a specified flag. Consequently, command structure can be simplified. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> According to a ninth aspect, there is provided a data transmission system for transmitting a command of a specified type between a first device and a second device capable of bidirectionally transmitting data in a specified transmission network wherein the data transmission system comprises, as the first device, a first communication means for communicating with the second device through the network; and a first control means for generating a first command to instruct a control target functional block in the second device and a second command to instruct the execution of a specified function to the functional block instructed by the first command, and comprises, as the second device, a second communication means for communicating with the first device through the network; and a second control means for storing the functional block instructed by the first command when the second communication means receives the first command, and for executing the function instructed by the second command to the stored functional block when the second communication means receives the second command. Consequently, by designating the control target functional block by the transmission of the first command from the first device, it is not necessary to designate the control target functional block when the second command is transmitted later, making it possible to simplify command structure accordingly and to conduct good control of the second device from the first device with simple structure. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> According to a tenth aspect, there is provided a data transmission system according to the ninth aspect wherein the first control means generates the first command by putting up a predetermined bit in the command. Consequently, the control target functional block can be easily designated. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> According to an eleventh aspect, there is provided a data transmission system for transmitting a command and a response each of a specified type between a first device and a second device capable of bidirectionally transmitting data in a specified transmission network wherein the data transmission system comprises, as the first device, a first communication means for communicating with the second device through the network; and a first control means for generating a first command to check a control target functional block in the second device, and comprises, as the second device, a second communication means for communicating with the first device through the network; and a second control means for transmitting, as a response, the control target functional block from the second communication means when the second communication means receives the first command. Consequently, the functional block which is the control target of the second device can be easily checked from the first device and checking can be easily conducted if the control target functional block is specified in advance and controlled. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> According to a twelfth aspect, there is provided a data transmitting apparatus connected to a specified network, comprising: a communication means for bidirectionally communicating with the other device connected to the data transmitting apparatus through the network; and a control means for generating a first command to instruct a control target function block in a specified device connected through the network and a second command to instruct execution of a specified function to the functional block instructed by the first command. Consequently, by designating the control target functional block by the transmission of the first command, it is not necessary to designate the control target functional block when the second command is transmitted later, making it possible to simplify command structure accordingly and to control the other device with simple structure. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> According to a thirteenth aspect, there is provided a data transmitting apparatus according to the twelfth aspect wherein the first control means generates the first command by putting up a predetermined bit in the command. Consequently, the control target functional block can be easily designated. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> According to a fourteenth aspect, there is provided a data transmitting apparatus connected to a specified network, comprising: a communication means for bidirectionally communicating with the other device connected to the data transmitting apparatus through the network; and a control means for generating a first command to check a control target functional block in a specified device connected through the network and transmitting the first command from the communication means. Consequently, the functional block which is a control target of a to-be-controlled device can be easily checked and checking can be easily conducted if the control target functional block is specified in advance and controlled. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> According to a fifteenth aspect, there is provided a data transmitting apparatus according to the fourteenth aspect wherein the control means generates the first command by putting up a predetermined bit in the command. Consequently, command structure can be simplified. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> According to a sixteenth aspect, there is provided a data transmitting apparatus connected to a specified network, comprising: a communication means for bidirectionally communicating with the other device connected to the data transmitting apparatus through the network; and a control means for storing a functional block instructed by a first command when the communication means receives the first command, and for executing a function instructed by a second command to the stored functional block when the communication means receives the second command. Consequently, if the control target functional block is designated by the transmission of the first command, the control target functional block is specified when the second command is received later and surely controlled by the other device with the command of simple structure. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> According to a seventeenth aspect, there is provided a data transmitting apparatus according to the sixteenth aspect wherein the control means discriminates the first command by discriminating a specified bit in the command. Consequently, the control target functional block can be easily designated. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> According to an eighteenth aspect, there is provided a data transmitting apparatus connected to a specified network, comprising: a communication means for bidirectionally communicating with the other device connected to the data transmitting apparatus through the network; and a control means for transmitting a response, to which information instructing a set control target functional block is added, from the communication means to a sender of the command if discriminating that the communication means receives the command to examine the control target functional block of the data transmitting apparatus. Consequently, the control target functional block of the apparatus can be easily checked from the other device and checking can be easily conducted if the control target functional block is specified in advance and controlled. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> According to a nineteenth aspect, there is provided a data transmitting apparatus according to the eighteenth aspect wherein the control means determines that the command is a command to check the functional block by discriminating a predetermined bit in the command. Consequently, it is possible to easily discriminate that the command is to check the functional block simply by discriminating the predetermined bit.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION FO THE DRAWINGS </heading>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing an example of the structure of a wireless transmitting portion according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram showing an example of an audio recording and reproducing apparatus according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram showing an example of a remote controller according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is an explanatory diagram showing an example of protocol stack; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is an explanatory diagram showing an example of the hierarchical structure of wireless communication; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is an explanatory diagram showing an example of the setting of communication frequency; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is an explanatory diagram showing a frequency hopping condition; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is an explanatory diagram showing an example of single-slot packet arrangement according to the time axis; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is an explanatory diagram showing an example in which single-slot packets and multi-slot packets are mixed according to the time axis; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is an explanatory diagram showing an example of the transmission state between a master and a slave; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is an explanatory diagram showing an example of network structure; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a timing diagram showing an example of communication with SCO link; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a timing diagram showing an example of communication based on asynchronous communication method; </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a timing diagram showing an example of communication based on isochronous communication method; </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a timing diagram showing an example of communication based on broadcast communication method; </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a timing diagram showing an example of communication in case where SCO link and ALC link are used together; </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is an explanatory diagram showing an example of the structure of clock data; </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is an explanatory diagram showing an example of the structure of address; </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a structure diagram showing an example of generation processing of frequency hopping pattern; </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is an explanatory diagram showing an example of packet format; </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is an explanatory diagram showing an example of the structure of access code; </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is an explanatory diagram showing an example of the structure of a packet header; </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is an explanatory diagram showing an example of the structure of payload; </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is an explanatory diagram showing an example of the structure of a payload header in a single-slot packet; </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> is an explanatory diagram showing an example of the structure of a payload header in a multi-slot packet; </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> is an explanatory diagram showing an example of the structure of the payload of FHS packet; </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is an explanatory diagram showing an example of condition transition of devices; </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is an explanatory diagram showing an example of communication for inquiry; </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is a timing diagram showing an example of inquiry processing; </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 30</cross-reference> is an explanatory diagram showing an example of call communication; </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 31</cross-reference> is a timing diagram showing an example of call processing; </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 32</cross-reference> is an explanatory diagram showing an example of hierarchical structure based on the AV/C protocol; </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 33</cross-reference> is an explanatory diagram showing an example of packet structure based on the AV/C protocol; </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 34</cross-reference> is an explanatory diagram showing an example of the building of connection based on the AV/C protocol and the transmission of a command and a response; </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 35</cross-reference> is an explanatory diagram showing an example of release connection based on the AV/C protocol; </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 36</cross-reference> is an explanatory diagram showing an example of data structure based on the AV/C protocol; </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 37</cross-reference> is an explanatory diagram showing an example of commands; </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 38</cross-reference> is an explanatory diagram showing an example of a command and a response; </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 39</cross-reference> is an explanatory diagram showing an example of transmission among devices according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 40</cross-reference> is an explanatory diagram showing an example of command structure according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 41</cross-reference> is an explanatory diagram showing an example of a control command transmission state; </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 42</cross-reference> is an explanatory diagram showing an example of command and response data in the example of <cross-reference target="DRAWINGS">FIG. 41</cross-reference>; </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 43</cross-reference> is an explanatory diagram showing an example of a status command transmission state according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 44</cross-reference> is an explanatory diagram showing an example of command and response data in the example of <cross-reference target="DRAWINGS">FIG. 43</cross-reference>; </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 45</cross-reference> is an explanatory diagram showing an example of the format of a pass-through command; and </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 46</cross-reference> is an explanatory diagram showing examples of operation id&apos;s of the pass-through command.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">BEST MODE FOR CARRYING OUT THE INVENTION </heading>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> Hereinafter, an embodiment of the present invention will be described with reference to FIGS. <highlight><bold>1</bold></highlight> to <highlight><bold>46</bold></highlight>. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> According to the present invention, a short-distance wireless transmission method standardized based on the Bluetooth norm is applied to a system in which a wireless network is built among plural devices. Here, the system is constituted mainly with electronic devices such as video devices and audio devices. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing an example of the structure of a wireless transmitting portion according to an embodiment of the present invention. A transmission/reception processing portion <highlight><bold>2</bold></highlight> connected to an antenna <highlight><bold>1</bold></highlight> executes high-frequency signal processing so as to carry out radio transmission processing and radio reception processing. A signal to be transmitted by the transmission/reception processing portion <highlight><bold>2</bold></highlight> is transmitted at a channel set up at an interval of 1 MHz in 2.4 GHz band. A signal of each channel is subjected to a processing called frequency hopping for changing transmission frequency at a slot interval which will be described later. Assuming that the frequency hopping is carried out for each slot, because a slot takes 625 &mgr;seconds, the frequency is switched 1,600 times per second thereby preventing an interference with another radio communication. As modulation method for radio transmission signal, modulation method called GFSK (Gaussian filtered FSK) is employed. This modulation method is a frequency shift modulation method in which the band is limited by a low-pass filter having a frequency transmission characteristic having Gaussian distribution. A signal received by the transmission/reception processing portion <highlight><bold>2</bold></highlight> and a signal to be transmitted by the transmission/reception processing portion <highlight><bold>2</bold></highlight> are subjected to base band processing by a data processing portion <highlight><bold>3</bold></highlight>. The Bluetooth standard employs TDD (Time Division Duplex) in which basically transmission and reception are carried out alternately and the data processing portion <highlight><bold>3</bold></highlight> carries out a processing of the transmission slot and a processing of reception slot alternately. A function processing block <highlight><bold>20</bold></highlight> is connected to the data processing portion <highlight><bold>3</bold></highlight> through an interface portion <highlight><bold>4</bold></highlight> so that received data is supplied to the function processing block <highlight><bold>20</bold></highlight> and data transmitted from the function processing block <highlight><bold>20</bold></highlight> is converted to transmission slots by the data processing portion <highlight><bold>3</bold></highlight>. A processing for transmission in the transmission/reception processing portion <highlight><bold>2</bold></highlight>, the data processing portion <highlight><bold>3</bold></highlight> and the interface portion <highlight><bold>4</bold></highlight> is carried out under control of the controller <highlight><bold>5</bold></highlight>. In stead of the controller <highlight><bold>5</bold></highlight> a central control unit incorporated in, for example, respective devices can be used. Aside from the central control unit, a dedicated controller prepared for short distance wireless communication may be used. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> The transmission/reception processing portion <highlight><bold>2</bold></highlight>, the data processing portion <highlight><bold>3</bold></highlight>, the interface portion <highlight><bold>4</bold></highlight> and the controller <highlight><bold>5</bold></highlight> correspond to the short distance wireless communication portion <highlight><bold>100</bold></highlight> for carrying out the Bluetooth communication. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> The function processing block <highlight><bold>20</bold></highlight> connected to the short distance wireless communication portion <highlight><bold>10</bold></highlight> serves for a portion for carrying out actually the function of the apparatus. For example, in case of a video camera and a video recording/reproducing apparatus, it corresponds to a portion for processing for recording and reproduction of video data and audio data. In case of an audio recording/reproducing apparatus, it corresponds to a portion for processing for recording and reproducing audio data. In case of a computer unit, it corresponds to a portion for carrying out data processing based on a prepared program. By incorporating or externally connecting the transmission processing unit having such a structure in/to various appliances, data transmission among various appliances is enabled. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> In addition, the short distance wireless communication portion <highlight><bold>10</bold></highlight>, other than the case of being incorporated in the electronic equipment main body, may be constructed by an apparatus separate from the apparatus main body so as to be externally connected thereto. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram showing an example of the configuration in which the block of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> is employed as the function processing block <highlight><bold>20</bold></highlight>. The audio recording/reproducing unit <highlight><bold>100</bold></highlight> of this example comprises a function block which by using magneto-optic disc or optical disc incorporated in a resin package called mini disc (MD) as a recording medium, records/reproduces voice signal or the like as digital data, a function block in which by using an optical disc called compact disc (CD) as a recording medium, reproduces voice signal or the like as digital data and a function block for receiving radio broadcasting. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> In the structure of the recording system of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight>, analog voice signal of two channels inputted from outside are converted to digital voice data by an analog/digital converter <highlight><bold>101</bold></highlight>. The converted digital voice data is supplied to an ATRAC encoder <highlight><bold>102</bold></highlight> and encoded to voice data according to ATRAC (Adaptive Transform Acoustic Coding) method. If the digital voice data is inputted directly from outside, that inputted voice data is supplied directly to the ATRAC encoder <highlight><bold>102</bold></highlight> not through the analog/digital converter <highlight><bold>101</bold></highlight>. Data encoded by the encoder <highlight><bold>102</bold></highlight> is supplied to the recording/reproducing portion <highlight><bold>103</bold></highlight> and subjected to a processing for recording. An optical pickup <highlight><bold>104</bold></highlight> is driven based on the processed data so as to record data into a disc (magneto-optic disc) <highlight><bold>105</bold></highlight>. Meanwhile, magnetic field modulation is carried out by a magnetic head (not shown) at the time of recording. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> In the meantime, the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> of this example has a tuner portion <highlight><bold>172</bold></highlight>, which is capable of supplying two-channel audio signal of radio broadcasting received through an antenna <highlight><bold>171</bold></highlight> to an input stage of the analog/digital converter <highlight><bold>101</bold></highlight> through change-over switches <highlight><bold>161</bold></highlight>, <highlight><bold>162</bold></highlight>. Therefore, audio signal received by the tuner portion <highlight><bold>172</bold></highlight> can be recorded in the disc <highlight><bold>105</bold></highlight>. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> As for the configuration of the reproducing system of the disc recording/reproducing portion, data recorded in the disc (magneto-optic disc or optical disc) <highlight><bold>105</bold></highlight> is read out by the optical pickup <highlight><bold>104</bold></highlight> and subjected to reproduction processing by the recording/reproducing portion <highlight><bold>103</bold></highlight> so as to obtain voice data compressed according to the ATRAC method. This reproduced voice data is supplied to an ATRAC decoder <highlight><bold>106</bold></highlight> so as to decode to digital voice data of a predetermined style and then, the decoded voice data is supplied to a digital/analog converter <highlight><bold>107</bold></highlight>, converted to two-channel analog voice signal and outputted. If digital voice data is intended to be outputted directly to outside, voice data decoded by the ATRAC decoder <highlight><bold>106</bold></highlight> is outputted directly not through the digital/analog converter <highlight><bold>107</bold></highlight>. An example shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> has such a structure that the outputted voice signal converted to analog is supplied to an amplifier unit <highlight><bold>51</bold></highlight>, and subjected to voice output processing such as amplification so as to output two-channel voice (audio) from connected speakers <highlight><bold>52</bold></highlight>, <highlight><bold>53</bold></highlight>. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> As the configuration of another disc reproducing portion than the recording/reproducing portion described up to here, data recorded in a disc (optical disc) <highlight><bold>152</bold></highlight> is read out by an optical pickup <highlight><bold>151</bold></highlight> and subjected to reproduction processing by a reproducing portion <highlight><bold>153</bold></highlight> so as to obtain digital voice data of two-channel or the like. This reproduced voice data is supplied to a digital/analog converter <highlight><bold>154</bold></highlight>, converted to two-channel analog voice signal and outputted. If it is intended to output digital voice data directly to outside, it is outputted directly not through the digital/analog converter <highlight><bold>154</bold></highlight>. In the example of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, as the output system for analog voice signal, reproduced output from a disc recording/reproducing portion using MD and reproduced output from a disc reproducing portion using CD are selectively supplied to an amplifier <highlight><bold>51</bold></highlight> by means of change-over switches <highlight><bold>163</bold></highlight>, <highlight><bold>164</bold></highlight>. Further, the output system for digital voice signal is changed over by the change-over switch <highlight><bold>165</bold></highlight> in the same manner. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> The audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> of this embodiment has the radio processing block <highlight><bold>10</bold></highlight> for carrying out radio communication according to the aforementioned Bluetooth method to carry out two-way radio communication with a mating radio processing block through the connected antenna <highlight><bold>1</bold></highlight>. For example, voice data received by this radio processing block <highlight><bold>10</bold></highlight> is supplied to the recording/reproducing portion <highlight><bold>102</bold></highlight> through the ATRAC encoder <highlight><bold>102</bold></highlight> and recorded in the disc <highlight><bold>105</bold></highlight>. Further, voice data reproduced from the disc <highlight><bold>105</bold></highlight> is supplied to the radio processing block <highlight><bold>10</bold></highlight> from the recording/reproducing portion <highlight><bold>102</bold></highlight> through the ATRAC decoder <highlight><bold>106</bold></highlight> so as to enable radio communication to the mating unit. Further, voice data reproduced from the disc <highlight><bold>152</bold></highlight> can be supplied from the reproducing portion <highlight><bold>153</bold></highlight> to the radio processing block <highlight><bold>10</bold></highlight> and transmitted to a mating appliance by radio. Voice data received by the tuner <highlight><bold>172</bold></highlight> can be supplied to the radio processing block <highlight><bold>10</bold></highlight> and transmitted to the mating appliance by radio. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> Recording processing, reproduction processing and radio broadcasting reception processing by the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> and transmission and reception by the radio processing block <highlight><bold>10</bold></highlight> are carried out under a control by the central control unit (CPU) <highlight><bold>110</bold></highlight>. A memory <highlight><bold>111</bold></highlight>, which is a work RAM, is connected to the CPU <highlight><bold>110</bold></highlight>. Further, -operation information from a control panel <highlight><bold>112</bold></highlight> is supplied to the CPU <highlight><bold>110</bold></highlight> to carry out action control corresponding to the operation information. If control data such as control command and response which will be described later is received by the radio processing block <highlight><bold>10</bold></highlight>, that data is supplied to the CPU <highlight><bold>110</bold></highlight> so that the CPU <highlight><bold>110</bold></highlight> can carry out action control and processing correspondingly. If it is intended to transmit the control data such as control command and response from this unit <highlight><bold>100</bold></highlight> by radio, control data to be transmitted is generated within the CPU <highlight><bold>110</bold></highlight> and transmitted from the radio processing block <highlight><bold>10</bold></highlight> by radio. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a diagram showing an example of the structure of a remote control unit <highlight><bold>200</bold></highlight> for controlling the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> from a remote place. The remote control unit <highlight><bold>200</bold></highlight> transmits radio signal based on the Bluetooth standard to the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> so as to control an operation of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> In the remote control unit <highlight><bold>200</bold></highlight>, an operation key <highlight><bold>201</bold></highlight> for instructing various actions is prepared and an operation of the operation key <highlight><bold>201</bold></highlight> is recognized by the central control unit (CPU) <highlight><bold>202</bold></highlight>, which is a control means. Further, it has a display panel <highlight><bold>203</bold></highlight> for displaying an operating condition and an action of a controlled unit, so that an appropriate display is carried out with characters, numerals and graphics under control of the CPU <highlight><bold>202</bold></highlight>. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> A control code generating portion <highlight><bold>204</bold></highlight> is connected to the CPU <highlight><bold>202</bold></highlight>, so that for example when the operation key <highlight><bold>201</bold></highlight> is operated, a control code corresponding to that controlled action is generated in the control code generating portion <highlight><bold>204</bold></highlight> and that generated control code is transmitted to the radio processing block <highlight><bold>10</bold></highlight> by radio. Further, the control code received by the radio processing block <highlight><bold>10</bold></highlight> is supplied to a reception code determining portion <highlight><bold>205</bold></highlight> and the reception code determined by this reception code determining portion <highlight><bold>205</bold></highlight> is supplied to the CPU <highlight><bold>202</bold></highlight>. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> The remote control unit <highlight><bold>200</bold></highlight> of this has a function for receiving audio data transmitted by radio from the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight>, so that the received audio is outputted to the remote control unit <highlight><bold>200</bold></highlight> from the described head phone <highlight><bold>208</bold></highlight>. That is, when audio data is received by the radio processing block <highlight><bold>10</bold></highlight>, that audio data is supplied to the reproduction processing portion <highlight><bold>206</bold></highlight> to carry out audio reproduction processing such as demodulation, analog conversion and amplification and then the processing audio signal is supplied to the head phone <highlight><bold>208</bold></highlight> connected to a head phone terminal <highlight><bold>207</bold></highlight> and outputted. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> Remote control of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> can be carried out from the remote control unit <highlight><bold>200</bold></highlight> by transmitting radio signal based on the Bluetooth standard between the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> having such a structure and the remote control unit <highlight><bold>200</bold></highlight>. Further, an operating condition of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> can be displayed through the display panel <highlight><bold>203</bold></highlight> possessed by the remote control unit <highlight><bold>200</bold></highlight>. Audio reproduced from a disc by the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> can be outputted through the head phone <highlight><bold>208</bold></highlight> connected to the remote control unit <highlight><bold>200</bold></highlight>. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> Next, a processing for executing wireless communication with other devices based on the bluetooth method using the short-distance wireless communication portion mounted on each device will be described later. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a diagram showing a protocol stack necessary for carrying out wireless communication based on the bluetooth. The protocol for the entire system of the bluetooth is divided to a core protocol, which is a major portion of the protocol of the bluetooth, application software which executes application service and an adaptive protocol group for matching communication protocols between the core protocol and application. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> The protocol of the bluetooth core is composed of five protocols or comprised of a physical layer, a base band layer, an actual data processing layer and a logical link control layer, successively provided on top of another from the bottom layer. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> The adaptive protocol group adapts the core protocol to application software so that various kinds of existing applications can be applied. This adaptive protocol group includes, for example, TCP/IP protocol, RFCOMM protocol for emulating serial port, a driver of an device (HID: Human Interface Device) which user operates and the like. For transmission of the AV/C data, which will be described later, a protocol which adapts a profile corresponding to this adaptive protocol group is prepared. The structure of a protocol necessary for transmitting the AV/C data will be described later. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> As physical layer, frequency hopping type spectrum diffusion method using a frequency band of 2.4 GHz is employed. Transmission power is restricted to about 100 mW maxium, assuming a wireless communication over a short-distance of about 100 m. Further, this physical layer allows transmission power to be reduced up to &minus;30 dBm minimum by control from the link layer. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> The base band layer is defined as a protocol for interfacing actual transmission/reception data with the physical layer. This layer provides with a communication link for transmitting/receiving data sent from a higher layer. At this time, control of the frequency hopping and control of the time axis slot are carried out. Further, processings for resending a packet, error correction and error detection are controlled by this base band layer. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> The link control layer is a protocol for interfacing the transmission/reception packet on communication link is a protocol, which specifies setting of communication link to the base band layer or setting of various communication parameters relating to that link. Those are defined in the link control layer as control packet and communicate with a link control layer of an opposing terminal as required. This layer receives a direct control from a higher level application as required. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> In the audio layer, audio data is exchanged after a communication link allowing the link control layer to transmit or receive data is set up. The audio data mentioned here refers to mainly audio data for communication through telephone and includes a dedicated processing layer at a relatively lower level layer in order to suppress data transmission delay to a minimum limit. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> The logical link control layer is a protocol for interfacing with the link control layer and the base band layer so as to control the logical channel. Other transmission data than audio data which the audio layer handles is provided from a high level application to ethical link layer and actual data which is exchanged there is exchanged without making conscious of the size and timing of the data packet. For the reason, the logical link control layer controls data of the high level application as logical channel so as to carry out data division and data reconstruction. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows a processing at each layer when wireless communication is carried out between two devices. A physical wireless communication line link is set up in the physical layer and transmission/reception of the packet is carried out through a link set up in the base band layer. Transmission and reception of control packet is carried out through a communication link control channel. Transmission and reception of user data packet is carried out through logical channel. This user data corresponds to stream data or command which is required to be transmitted. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> Next, physical communication frequency set-up processing upon wireless communication based on this method will be described. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a diagram showing the frequency for use based on this method and as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, there are 79 communication frequencies at an interval of 1 MHz from 2402 MHz to 2480 MHz. Each packet to be transmitted occupies a single transmission spectrum in these 79 transmission frequencies. Then, the transmission spectrum for use changes (hopping) every 625 &mgr;seconds. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows an example of this communication frequency hopping, in which the communication frequency changes at random every 625 &mgr;seconds from a specific timing to. If the communication frequency changes every 625 &mgr;seconds, the hopping occurs about 1600 times for a second, so that it is diffused within a band shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> and transmitted, indicating that the spectrum diffusion is being caused. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> In case of bluetooth, a unit of the packet is 625 &mgr;seconds. This single unit of the packet may be used continuously to carry out transmission. For example, when bi-directional transmission is carried out between two devices, communications of both directions do not use the same quantity of the packets and in some case, plural packets may be used for communication in one direction. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> If all packets to be transmitted are packets of 625 &mgr;seconds as shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, frequency hopping occurs every 625 &mgr;seconds as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. Contrary to this, in case where as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, three packets are used continuously or five packets are used continuously, transmission frequency is fixed while that slot continues. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows communication status between two devices. When one device for carrying out wireless communication is assumed to be master while the other one is assumed to be slave, data of slot configuration is sent from the master to the slave in the period of a slot (625 &mgr;seconds) (<cross-reference target="DRAWINGS">FIG. 10A</cross-reference>) and in a next slot period, data of slot configuration is sent from the slave to the master (<cross-reference target="DRAWINGS">FIG. 10B</cross-reference>). Hereinafter, the alternate transmission is repeated as long as the transmission continues. The frequency for wireless communication is changed such that the frequency is f(k), f(k&plus;1), f(k&plus;2), . . . at every slot as described above. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a diagram showing an example of the network structure composed of plural devices. In a communication system standardized according to the bluetooth, its network may be constructed with not only one-to-one wireless communication, but also with plural devices. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> That is, in case where wireless communication is carried out between two devices, one device serves as the master while the other device serves as the slave as shown on the left end of <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, so that bi-directional wireless communication is executed between master MA<highlight><bold>11</bold></highlight> and slave SL<highlight><bold>11</bold></highlight> under a control of the master MA<highlight><bold>11</bold></highlight>. As shown in the center of <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, it is permissible to prepare three slaves SL<highlight><bold>21</bold></highlight>, SL<highlight><bold>22</bold></highlight>, SL<highlight><bold>23</bold></highlight> controlled by, for example, a single master MA <highlight><bold>21</bold></highlight> so that the network is constructed so as to carry out wireless communication among these four devices. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> Further, as shown on the right end of <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, it is permissible to prepare three masters MA<highlight><bold>31</bold></highlight>, MA<highlight><bold>32</bold></highlight>, MA<highlight><bold>33</bold></highlight> and slaves SL<highlight><bold>31</bold></highlight>, SL<highlight><bold>32</bold></highlight>, SL<highlight><bold>33</bold></highlight>, SL<highlight><bold>34</bold></highlight>, SL<highlight><bold>35</bold></highlight>, SL <highlight><bold>36</bold></highlight> controlled independently by each master, construct three networks and then connect these three networks so as to expand the network configuration. In any case, direct communication cannot be executed between the slaves but communication is always executed through the master. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> Meanwhile, a network comprised of a master and a slave directly communicating with that master is called pico-net. A network group having plural masters (that is, a network group comprised of plural pico-nets) is called caster net. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> Next, the kinds of links for carrying out communication between devices based on bluetooth will be described. The bluetooth includes two kinds of the links, SCO (Synchronous Connection-Oriented) link and ACL (Asynchronous Connection-Less) link, which can be used separately depending on the purpose of application. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> The SCO link is connection type which executes one-to-one communication between the master and a specific slave and so-called call switching type link. This link is used for an application in which real-time performance is required about mainly audio performance. In this SCO link, a communication slot is assured preliminarily at a specified interval on communication link within the pico-net and even if other data transmission occurs halfway, data transmission by the SCO link is taken as precedence. That is, as shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, for example, SCO communication slot is transmitted alternately at a specified interval between the master and the slave. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> This SCO link can support three SCO links maximum corresponding to a single master at the same time. In this case, three SCO links may be supported by a slave or a SCO link may be supported for each of different three slaves. Meanwhile, the SCO link has no resending function and no error correction code is attached to a packet to be transmitted through the SCO link. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> The ACL link is so-called packet switching type connection type, which enables 1-to-multiple communication between the master and plural slaves. Although it is capable of communicating with any slave in the pico-net, effective communication speed of each slave may be changed depending on data quantity or the number of the slaves. The SCO link and the ACL lank may be used mixedly. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> The ACL link allows a single master to communicate with up to seven slaves at the same time. However, the ACL link which can be set up to each slave within a pico-net is only one and a slave cannot set up plural ACL links at the same time. To activate plural applications with a single slave, it is necessary to protocol-multiplex a higher level application. Unless specified specially, ACL packet of single slot is used for communication between the master and the slave. For the slave to transmit the ACL packet of multi-slot, a permission from the master is needed. Although the master can reject a request for transmission of the ACL packet of the multi-slot from the slave, the slave always must receive a request for transmission from the master. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> The master notifies the slave of only a upper limit value of the multi-slot and whether or not the ACL packet of the multi-slot should be transmitted depends upon determination of the slave. On the other hand, because which the ACL packet is single slot or multi-slot depends on the determination of the master, the slave needs to always prepare for receiving the multi-slot packet. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> The ACL packet is provided with the following three packet communication methods irrespective of definitions of the single slot and multi-slot. The first one is asynchronous communication method (Asynchronous transfer), the second one is Isochronous communication method (Isochronous transfer) and the third one is broadcast communication method (Broadcast transfer). </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> The asynchronous communication method is a communication method for transmitting/receiving an ordinary packet. Data transmission speed is changed depending on traffic amount of slaves existing in the pico-net and packet resending due to deterioration of communication line quality. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows a case where three slaves (slaves <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>, <highlight><bold>3</bold></highlight>) in the same pico-net communicates according to asynchronous communication method. The ACL packet is transmitted from the master to the respective slaves <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>, <highlight><bold>3</bold></highlight> in succession and each slave receiving the ACL packet resends a packet for confirming the reception to the master. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> Meanwhile, stream data such as audio data and video data may be sometimes transmitted according to the asynchronous communication method. In case for transmitting stream data according to the asynchronous communication method, a time stamp is attached to each ACL packet so as to secure continuity of stream data on the reception side. </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> According to the Isochronous communication method, a packet is always transmitted from the master to the slave within the period of a predetermined time slot. This method allows to secure a minimum delay of data to be transmitted. In case of isochronous communication, the slot interval needs to be agreed as maximum polling time, between the master and the slave before communication based on isochronous communication method is started. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> The master can specify the maximum polling interval to the slave forcibly and reject a request for setting isochronous communication method from the slave. However, the slave cannot specify the maximum polling interval to the master or make a request for setting isochronous communication. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows a case for carrying out communication between the master and the slave according to the isochronous communication method. As shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the ACL packet is transmitted from the master to a slave and just after receiving the ACL packet, the slave resends a packet for reception confirmation to the mater. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> The broadcast communication method is set up by setting a slave identifier in the packet header to zero. Consequently, the broadcast communication packet can be sent from the master to all the slaves. A slave receiving the same packet does not transmit a packet for reception confirmation corresponding thereto. Although the slave does not confirm the reception, the master transmits broadcast communication packet continuously several times. The master needs to notify all the slaves of the frequency of the transmissions of plural times prior to broadcast communication. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows an example of communication to all the slaves in the pico-net according to the broadcast communication method. A point marked with X in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> indicates an example in which the slave cannot receive a packet and by transmitting NBC times repeatedly, broadcast communication can be carried out to all the slaves securely. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a diagram showing an example of communication using both the SCO link and ACL link. In this example, the SCO packet is transmitted through the SCO link between the master and the slave <highlight><bold>1</bold></highlight> at a predetermined cycle. The ACL packet is transmitted to three slaves <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>, <highlight><bold>3</bold></highlight> as required. Further, the broadcast communication packet is also transmitted repeatedly predetermined times. When a timing for sending the SCO packet arrives while this broadcast communication packet is being transmitted repeatedly, the SCO packet is transmitted.  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 1</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Parameters for setting isochronous communication</entry>
</row>
<row>
<entry>and broadcast communication</entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="98PT" align="left"/>
<colspec colname="2" colwidth="105PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>ACL communication link</entry>
<entry>Parameter for setting</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>communication system</entry>
</row>
<row>
<entry></entry>
<entry>Isochronous communication</entry>
<entry>Maximum polling interval</entry>
</row>
<row>
<entry></entry>
<entry>system</entry>
</row>
<row>
<entry></entry>
<entry>Broadcast communication</entry>
<entry>Repeated packet transmission</entry>
</row>
<row>
<entry></entry>
<entry>system</entry>
<entry>frequency (N<highlight><subscript>BC</subscript></highlight>)</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="2" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> Next, the internal clock possessed by the master and the slave will be described. According to this communication system, respective devices use an internal clock so as to set up a frequency hopping pattern and the like. The clock possessed by the master and the slave is set up with a count value of, for example, a 28-bit counter of 0 to 27 as shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. A single clock of this counter is 312.5 &mgr;seconds. This 312.5 &mgr;seconds is a minimum time unit for call processing and inquiry processing. In the 28-bit counter in which the value is counted up by one every 312.5 &mgr;seconds, a period is about 23 hours, thereby raising random characteristic of frequency hopping pattern. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> The period of 312.5 &mgr;seconds set up with a clock value of 0 bit is a time period of transmission packet when the mater carries out call and inquiry. The period of 625 &mgr;seconds set up with a clock value of the first bit is a time period of a slot whose communication frequency is changed. The period of 1.25 m seconds set up with a clock value of the second bit is a transmission/reception time frequency of the master or slave. The period of 1.28 seconds set up with a clock value of the 12th bit is a clock timing in a time period for changing the reception frequency upon inquiry and call. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> Each slave adds a specified offset value to its own clock so that it coincides with a clock of the master by referring to the master clock and then, uses the summed clock for communication. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> When calculating a frequency hopping pattern in the master and slave, a 48-bit address added to each terminal as well as this clock is used as parameter. The 48-bit address is an absolute address which is defined according to an address system based on IEEE802 specification and allocated to each terminal of the bluetooth independently. <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a diagram showing the structure of a 48-bit address, in which its lower 24 bits is composed of LAP (Lower Address Part), next 8 bits is composed of UAP (Upper Address Part) and remaining 16 bits are composed of NAP (Non-significant Address Part). </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> For generation of the frequency hopping pattern synchronous in the pico-net, 24 bits of the entire LAP and lower 4 bits of the UAP in the master address, totaling 28 bits are used. Consequently, a frequency hopping pattern based on the master address is given to each pico-net. Because the master address is notified to the slave when communication status is gained, each slave can calculate the same frequency hopping pattern as the master independently. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a diagram showing an example of the structure for calculating a communication frequency. According to this structure, the low level 28 bits of the master address and low level 27 bits of the 28-bit clock are supplied to a communication frequency selecting portion <highlight><bold>8</bold></highlight> and a communication frequency which is a channel frequency hopping pattern is automatically determined. The call frequency hopping pattern and the inquiry frequency hopping pattern are different from the channel frequency hopping pattern. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> Next, the structure of data to be transmitted between the master and the slave will be described. <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a diagram showing a packet format. The packet is composed of three portions, access code, packet header and payload. The payload is set to a variable length depending on the amount of data to be transmitted at that time. </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a diagram showing the structure of access code. The access code is composed of 68-bit or 72-bit data, indicating a destination of transmission packet and added to all packets to be transmitted/received. Depending on the kind of the packet, only this access code is attached. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> Its preamble is composed of a fixed 4-bit length in which a pattern of 1, 0 is repeated depending on the LSB of a sync word. A trailer is composed of 4 bits in which a pattern of 1, 0 is repeated depending on the MSB of the sync word. Any one functions to remove the signal DC components of the entire access code. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> The 48-bit synch word is 64-bit data generated with 24-bit LAP in the 48-bit address. This synch word is used to identify the pico-net. In case of transmission in which no master address or clock can be obtained, a different synch word may be used in a packet for use in inquiry and call. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> Next Table 2 summarizes access code types.  
<table-cwu id="TABLE-US-00002">
<number>2</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="63PT" align="left"/>
<colspec colname="2" colwidth="49PT" align="left"/>
<colspec colname="3" colwidth="56PT" align="left"/>
<colspec colname="4" colwidth="49PT" align="left"/>
<thead>
<row>
<entry namest="1" nameend="4" align="center">TABLE 2</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="4" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>Type</entry>
<entry>Access code</entry>
<entry>Pico-net</entry>
<entry>Corresponding</entry>
</row>
<row>
<entry></entry>
<entry>generation LAP</entry>
<entry>status</entry>
<entry>frequency</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry></entry>
<entry>hopping pattern</entry>
</row>
<row>
<entry>Channel access code</entry>
<entry>LAP of master</entry>
<entry>Communication</entry>
<entry>Channel</entry>
</row>
<row>
<entry></entry>
<entry>in pico-net</entry>
<entry>status</entry>
<entry>frequency</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry></entry>
<entry>hopping pattern</entry>
</row>
<row>
<entry>Call access code</entry>
<entry>LAL of slave</entry>
<entry>Call status</entry>
<entry>Call frequency</entry>
</row>
<row>
<entry></entry>
<entry>called by</entry>
<entry></entry>
<entry>hopping pattern</entry>
</row>
<row>
<entry></entry>
<entry>master</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="28PT" align="left"/>
<colspec colname="2" colwidth="35PT" align="left"/>
<colspec colname="3" colwidth="49PT" align="left"/>
<colspec colname="4" colwidth="56PT" align="left"/>
<colspec colname="5" colwidth="49PT" align="left"/>
<tbody valign="top">
<row>
<entry>Inquiry</entry>
<entry>General</entry>
<entry>Reserved LAP</entry>
<entry>Inquiry</entry>
<entry>Inquiry</entry>
</row>
<row>
<entry>access</entry>
<entry>inquiry</entry>
<entry></entry>
<entry>status</entry>
<entry>frequency</entry>
</row>
<row>
<entry>code</entry>
<entry>access</entry>
<entry></entry>
<entry></entry>
<entry>hopping pattern</entry>
</row>
<row>
<entry></entry>
<entry>code</entry>
</row>
<row>
<entry></entry>
<entry>Special</entry>
<entry>Reserved LAP</entry>
</row>
<row>
<entry></entry>
<entry>inquiry</entry>
</row>
<row>
<entry></entry>
<entry>access</entry>
</row>
<row>
<entry></entry>
<entry>code</entry>
</row>
<row><entry namest="1" nameend="5" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is a diagram showing the structure of a packet header. The packet header is a portion including a parameter necessary for controlling the communication link in the base band layer. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> The 3-bit AM ADDR is an identification field for specifying a slave on communication in the pico-net and a value to be allocated by the mater to each slave. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> The 4-bit TYPE is a packet type field for specifying what packet the entire packet is. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> The 1-bit FLOW is a field for use in control of flow control of a packet which communicates through the ACL link. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> The 1-bit ARQN is a 1-bit field for use in notifying a packet transmission side of whether or not there is any error in a received packet. According to the bluetooth norm, any response packet for reception confirmation is not prepared and a packet reception confirmation is sent to a packet transmitter using this ARQN field. Depending on which this field value is 1 or 0, whether or not there is any error in the received packet or that there is an error is notified to the mating. Whether or not there is any error in the received packet is determined according to a header error detection code attached to a packet header of the received packet and an error detection code attached to the payload. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> The 1-bit SENQ is a field for use for controlling so that the resent packet does not overlap on the reception side. When resending the same packet, the value is inverted between 1 and 0 alternately each time when a packet is transmitted. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> The 8-bit HEC is a field in which the packet header error correction code is disposed. This error correction code is generated using a generating polynomial of g(D)&equals;D<highlight><superscript>8</superscript></highlight>&plus;D<highlight><superscript>7</superscript></highlight>&plus;D<highlight><superscript>5</superscript></highlight>&plus;D<highlight><superscript>2</superscript></highlight>&plus;D&plus;1. An initial value set up in an 8-bit shift register for generating error correction code sets up 8 bits of the UAP in an address for bluetooth described above. The address used here coincides with an address used for generating the access code. The following Table 3 summarizes the initial values upon generating this error correction code.  
<table-cwu id="TABLE-US-00003">
<number>3</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="OFFSET" colwidth="14PT" align="left"/>
<colspec colname="1" colwidth="49PT" align="left"/>
<colspec colname="2" colwidth="63PT" align="left"/>
<colspec colname="3" colwidth="91PT" align="left"/>
<thead>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center">TABLE 3</entry>
</row>
<row>
<entry></entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>8-bit shift register</entry>
<entry></entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>initial value for</entry>
</row>
<row>
<entry></entry>
<entry>Access code</entry>
<entry>HEC generation</entry>
<entry>Description</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
<entry>Channel</entry>
<entry>UAP of master in</entry>
<entry>HEC is always attached to</entry>
</row>
<row>
<entry></entry>
<entry>access code</entry>
<entry>pico-net</entry>
<entry>a packet on communication</entry>
</row>
<row>
<entry></entry>
<entry>Call access</entry>
<entry>UAP of slave to be</entry>
<entry>Not related because the</entry>
</row>
<row>
<entry></entry>
<entry>code</entry>
<entry>called by master</entry>
<entry>ID packet has no header</entry>
</row>
<row>
<entry></entry>
<entry>Inquiry</entry>
<entry>Default initial</entry>
<entry>Not related because the</entry>
</row>
<row>
<entry></entry>
<entry>access code</entry>
<entry>value (00:</entry>
<entry>IQ packet applicable for</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>hexadecimal value)</entry>
<entry>both GIC and DIAC has no</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry></entry>
<entry>packet header</entry>
</row>
<row>
<entry></entry>
<entry namest="OFFSET" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> In order to identify a pico-net on communication, a channel access code (CAC) generated according to 24 bits of the LAP of the master address is used. In order to attain synchronism in transmission within the pico-net, it is necessary to synchronize the frequency hopping pattern with the time slot. At this time, even if other master having the same LAP exists nearby and further, the synchronism between the frequency and the time slot happens to coincide, it is possible to remove this by using the HEC which is a packet header error correction code. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> The payload accommodates user data to be transmitted or received actually between terminals or control data. The user data includes data to be transmitted or received through the SCO link and data to be transmitted or received through the packet switching type ACL link. </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is a diagram showing the structure of payload of the ACL link. The payload is comprised of three components, payload header, payload body and error detection code and the length of the entire payload is variable. On the other hand, because the payload of the SCO link secures a communication slot cyclically, it does not resend data packet and is composed of only a payload body, while no payload header or error detection code is added. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> The payload header is a portion including a parameter necessary for controlling data of a higher layer than the base band layer and is data which is included in only the ACL link. <cross-reference target="DRAWINGS">FIG. 24</cross-reference> shows the structure of payload header of a single slot packet and <cross-reference target="DRAWINGS">FIG. 25</cross-reference> shows the structure of a payload header of a multi-slot packet. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> The 2-bit L_CH data included in the payload header is a field for identifying a logical channel for specifying what is data of a higher layer than the base band layer. The SCO link and the ACL link are links in the base band layer and the control thereof is carried out according to information set up by the packet header. The L_CH identifies a logical channel which is defined by a higher level layer than the base band layer and is defined as shown in Table 4 to the three user logical channels.  
<table-cwu id="TABLE-US-00004">
<number>4</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="112PT" align="left"/>
<colspec colname="2" colwidth="56PT" align="left"/>
<colspec colname="3" colwidth="49PT" align="left"/>
<thead>
<row>
<entry namest="1" nameend="3" align="center">TABLE 4</entry>
</row>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry></entry>
<entry>Communication</entry>
<entry>L_CH code</entry>
</row>
<row>
<entry>Logical channel</entry>
<entry>link</entry>
<entry>(2 bits)</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>Communication link control</entry>
<entry>ACL link</entry>
<entry>L_CH &equals; 11:</entry>
</row>
<row>
<entry>channel</entry>
<entry>SCO link</entry>
</row>
<row>
<entry>Asynchronous user logical</entry>
<entry>ACL link</entry>
<entry>L_CH &equals; 01:</entry>
</row>
<row>
<entry>channel</entry>
</row>
<row>
<entry>Isochronous user logical channel</entry>
</row>
<row>
<entry>Synchronous user logical channel</entry>
<entry>SCO link</entry>
<entry>out of</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>application</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> The 1-bit FLOW is a 1-bit data for use for flow control of data transmitted or received on user logical channel. The FLOW is controlled in each user logical channel, so that by setting FLOW&equals;0 and returning data, a mating is made to interrupt transmission of data temporarily. Further, by setting FLOW&equals;1 and then returning data when the reception buffer is empty, the mating is made to restart transmission of data. Although the setting of this FLOW field is executed by the link control layer, real-time data flow control is not guaranteed. The real-time data flow control is all carried out by the base band layer using the FLOW field in the packet header. Because data in the control packet is all processed by the link control layer, it is not transferred to the logical link control layer. Therefore, the control packet is not affected by the flow control by this FLOW and its value is always set to 1. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> 5-bit or 9-bit LENGTH is a field indicating the data length of a payload body in the unit of byte. This is 5-bit field in case of a single slot packet and 9-bit field in case of a multi-slot packet. </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> UNDEFINED exists in only the payload header of the multi-slot packet and is currently an undefined field, which is always set to 0. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> Data of a length specified by LENGTH of the payload header is accommodated in the payload body. Because the payload of data packet is constructed of only a payload body in SCO link communication, there is no specification of the data length by LENGTH. If the DV packet is used, the data length of that data portion is indicated. </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> The CRC is a 16-bit field indicating an error detection code and a detection code for detecting whether or not there is any error in the payload header and payload. This error detection code is generated using a generating polynomial of g(D)&equals;D<highlight><superscript>16</superscript></highlight>&plus;D<highlight><superscript>12</superscript></highlight>&plus;D<highlight><superscript>5</superscript></highlight>&plus;1. An initial value to be set in a 16-bit shift register upon its generation is set up to a 16-bit value obtained by adding 8-bit zeroes to 8 bits of the UAP in an address, which has been already described. The address for use here is the same as the address for use in generating the access code like the HEC. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> Next, the packet type will be described. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> The TYPE field specifies a packet type as described about the packet header. If speaking about this packet type to be set up here, there are a common packet used in the SCO link and ACL link in common and an inherent packet of the SCO link or ACL link. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> First, the common packet will be described. The common packet includes NULL packet, POLL packet, FHS packet, DM1 packet, IQ packet and ID packet. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> The NULL packet is a packet comprised of an access code and a packet header, having no payload. The length of the packet is fixed to 126 bits. This packet is a packet for transmitting/receiving the status of a communication link and controls packet reception confirmation (ARQN) and flow control (FLOW). A confirmative response of a packet corresponding to the reception of this NULL packet is not required. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> The POLL packet is a packet comprised of an access code and a packet header like the NULL packet and fixed to 126 bits so as to control the status of communication link. In case of this POLL packet, when the POLL packet is received, it is necessary to transmit a response about confirmation of the packet even if there is no data to be transmitted, different from the NULL packet. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> The FHS packet is an important control packet for achieving synchronism in the pico-net and transmitted when a clock and an address which are independent parameters for establishing synchronism between the mater and the slave are exchanged. <cross-reference target="DRAWINGS">FIG. 26</cross-reference> is a diagram showing an example of the structure of the payload of the FHS packet. The payload of the FHS packet is comprised of 11 fields and composed of 160 bits by adding a 16-bit error detection code to 144 bits of this 11 fields. The 11 fields composing the FHS packet will be described. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> The 34-bit parity bit is a field including a parity to a sync word in an access code set up by the FHS packet. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> The 24-bit LAP is low level 24 bits of an address of a terminal for transmitting the FHS packet. 2 bits following the LAP is an undefined field and set to 0. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> The 2-bit SR is a 2-bit field, which upon call, specifies the frequency of repetition for the master to transmit an ID packet string and the period of scanning for the slave to scan the ID packet string from the master. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> The 2-bit SP is a field, which upon inquiry, specifies a time for the slave to execute independent call scanning after the slave receives an IQ packet from the master and transmit the FHS packet to the master. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> The 8-bit UAP is high-level 8 bits of an address of a terminal for transmitting the FHS packet. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> The 16-bit NAP is 16 bits except LAP and UAP within an address of a terminal for transmitting the FHS packet. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> The class of a 24-bit device is a field indicating the kind of the terminal. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> The 3-bit AM ADDR is a 3-bit field for the master to identify the slave. In the call processing, the master specifies a slave identifier for use in the pico-net through the FHS packet which the master transmits to the slave. In the FHS packet which the slave transmits as a response of IQ packet from the master, AM ADDR is meaningless and needs to be set to 0. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> 26-bit CLK 27-2 is a field indicating high level 26 bits in a clock possessed by the terminal. This clock has a clock accuracy of 1.25 &mgr;seconds and when transmitting the FHS packet, the clock value at that time needs to be set. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> 3-bit page scan mode is a field for specifying a mode of call scan of default supported by a terminal which transmits the FHS packet. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> Next, the DM1 packet will be described. If the DM1 packet is being transmitted or received through the SCO link, it always functions as a control packet. On the other hand, if it is transmitted or received through the ACL link, it not only functions as a control packet but also is used for transmission/reception of data packet. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> If it is transmitted as a common packet through the SCO link or ACL link, it is defined as a control packet of the link control layer. When the DM1 packet is transmitted or received through the ACL link, which it is user packet or control packet cannot be distinguished only if a field (TYPE) for specifying a packet type is seen. Thus, by setting logical channel type field of the payload header to L_CH&equals;11, it is specified that the DM1 packet is a control packet for the link control layer. In case of data packet, L_CH&equals;01 or L_CH&equals;10 is set up by fragmentation of original user data. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> The IQ packet is a packet which the master broadcasts corresponding to inquiry and composed of only inquiry access codes. </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> The ID packet is a packet which upon call, the master transmits by specifying a specific slave and composed of only call access codes. The IQ packet and ID packet are packets not defined on the type field of the packet header. </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> Next, SCO packet, which is data packet transmitted or received on the SCO link, will be described. The SCO packet is comprised of four kinds, HVI packet, HV2 packet, HV3 packet and DV packet. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> The payload of the HV1 packet is composed of only a payload body, which accommodates user data of 10 bytes. Because basically the SCO packet is not resent, this 10 bytes do not contain any error detection code. Then, the data is subjected to error correction coding at &frac13; rate, so that finally it has a payload length of 240 bits. </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> The payload of the HV2 packet is composed of only a payload body and accommodates 20-byte data. This 20 bytes do not include any error detection code. Then, the data is subjected to error correction coding at &frac23; rate, so that finally, it has a payload length of 240 bits. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> The payload of the HV3 packet is composed of only a payload body and accommodates 30-byte data. This 30 bytes do not contain any error detection code. This 30 bytes is not subjected to error correction coding. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> The DV packet is comprised of an audio part of a fixed length of 10 bytes and a variable length data part of up to 9 bytes. Although any error correction code is not contained in 10 bytes of the audio part, a 2-byte error detection code for a part of 10 bytes max. expanded from 1-byte payload header is attached to the data part. </paragraph>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> The ACL packet transmitted/received on the ACL link includes DM1 packet, DH1 packet, DM3 packet, DH3 packet, DH5 packet, DH5 packet and AUX1 packet. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> The payload of the DM1 packet is comprised of 1-byte payload header, a variable length payload body of 17 bytes max. and an error detection code. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> The configuration of the DH1 packet is the same as the DH1. However, the payload is not subjected to error correction coding. Therefore, it is capable of transmitting or receiving a variable length data of up to 27 bytes. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> The payload of the DM3 packet is comprised of a 2-byte payload header, a variable length payload body of up to 121 bytes and an error correction code. The payload of the DM3 packet is subjected to error correction coding at 2/3 rate. </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> The configuration of the DH3 packet is the same as that of the DM3 packet. However, the payload is not subjected to error correction coding. Therefore, it is capable of transmitting or receiving a variable length data of up to 183 bytes. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> The payload of the DM5 packet is comprised of 2-byte payload header, a variable length payload body of up to 224 bytes and a 2-byte error correction code. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> The configuration of the DH5 packet is the same as that of the DM5 packet. However, the payload is not subjected to error correction coding. Therefore, it is capable of transmitting or receiving a variable length data of up to 339 bytes. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> The AUX packet is the same as the DH1 packet in case where no 2-byte error detection code is contained. That is, the AUX1 packet is not resent. The payload body is increased by 2 bytes, so that it is capable of transmitting or receiving a variable length data of up to 29 bytes. </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> Next, transition status based on bluetooth will be described. The transition status of this method is composed of three phases relating to transmission and low consumption power mode relating to power consumption at a terminal. The three phases relating to transmission is divided to waiting phase, synchronism establishing phase and transmission phase. Further, the low consumption power mode is divided to three types, park mode, hold mode and sniff mode. <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is a diagram showing a status transition and there are transitions indicated with arrows. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> The waiting phase (S<highlight><bold>11</bold></highlight>) is composed of a processing condition and a phase in which any packet is not transmitted or received. Just after a terminal is powered on or when communication link is cut out, the terminal is kept in the waiting phase. In this waiting phase, the roles of the master and the slave are not different. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> The synchronism establishing phase is composed of two kinds, inquiry (S<highlight><bold>12</bold></highlight>) and call (S<highlight><bold>13</bold></highlight>). </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> The inquiry is a first stage processing condition for establishing synchronism in the pico-net. A terminal intending to transmit for the first time is always transferred to inquiry after the waiting phase. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> The call is a second stage processing condition for establishing synchronism in the pico-net. Although basically, that condition is attained from the inquiry, if the first stage processing for establishing synchronism in the pico-net with the inquiry condition is already completed, the call may be attained directly from the waiting phase. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> In this inquiry, the roles of the master and the slave are clearly different. The master in this processing condition broadcasts IQ packets continuously irrespective of whether or not a slave exists nearby. If a slave in the inquiry condition exists nearby, the slave transmits the FHS packet to the master in order to notify its attribution each time when it receives the IQ packet. Through this FHS packet, the master is capable of knowing an address and a clock of the slave. </paragraph>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is a diagram showing a processing which the master and slave in this inquiry condition carry out. If as shown on the left of <cross-reference target="DRAWINGS">FIG. 28</cross-reference>, the master in the center transmits the IQ packet, a surrounding slave transmits the FHS packet to the master as shown on the right of <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. The master in the inquiry condition receives the FHS packet from unspecified plural slaves. </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> Here, a fact that plural slaves transmits the FHS packet to a specific IQ packet at the same time is a problem. If plural FHS packets are transmitted at the same time, a collision of the packets occurs so that the master cannot distinguish the transmitted FHS packets. According to the bluetooth, the random time is backed off when transmitting the FHS packet in order to avoid such a collision. That is, the slave does not transmit the FHS packet to the master with respect to the IQ packet received for the first time and after that, interrupts reception of the IQ packet while the random time is backed off. After that, the slave restarts reception of the IQ packet and next, just after the IQ packet is received, transmits the FHS packet to the master. If the slave receives the FHS packet, it interrupts the reception of the IQ packet again while the random time is backed off. After that, this action is repeated. </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is a diagram showing an outline of processing in the master and slave upon the inquiry. Because the master does not notify the slave that it can receives the FHS packet without any error, the slave in the inquiry condition remains in a state just after the FHS packet is transmitted. However, because the same IQ packet is broadcast repeatedly in a specified interval of time, the master receives plural FHS packets for each slave in the inquiry condition. That is, by continuing the inquiry in a specified interval of time, certainty of transmission/reception of the FHS packet is intensified. </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> In case of the call, the roles of the master and slave are different. With this processing condition, the master selects a slave scheduled to communicate with based on information of the FHS packet transmitted/received in the inquiry and transmits the ID packet to that slave. If the master confirms the reception of the ID packet, it transmits the FHS packet to that slave. Consequently, the slave can know the address and clock of the master. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> As an access code to the ID packet and FHS packet to be transmitted/received here, the call access code is used. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 30</cross-reference> shows an outline of processing operation carried out by the master and slave in the call condition. If the master located in the center transmits the ID packet to the slave as shown on the left of <cross-reference target="DRAWINGS">FIG. 30</cross-reference>, the slave notifies of reception confirmation. Further, if the master transmits the FHS packet to the slave as shown on the right of <cross-reference target="DRAWINGS">FIG. 30</cross-reference>, the slave notifies of reception confirmation. </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> Different from a processing to unspecified plural slaves upon inquiry, processing is exchanged between a specified slave and master upon inquiry. Because transmission and reception of the packet can be carried out one to one, the master and slave can execute processing while confirming the transmission and reception. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> After receiving the ID packet from the master, the slave transmits the same ID to the master so as to notify of reception confirmation. Next, the master transmits the FHS packet to the slave so as to notify the slave of its own address and clock. If the slave receives this FHS packet without any error, it transmits the ID packet to the master so as to confirm the reception. At this time, information about the address and clock necessary for synchronism in the pico-net is exchanged between the master and the slave together with the inquiry processing. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 31</cross-reference> is a diagram showing an example of processing between the master and the slave upon call. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> The communication connection phase shown in the status transition diagram of <cross-reference target="DRAWINGS">FIG. 28</cross-reference> includes connection (S<highlight><bold>14</bold></highlight>) and data transfer (S<highlight><bold>15</bold></highlight>). Because in this communication connection phase, the master is synchronous with the slave in the pico-net after synchronism establishing phase, this allows actual communication to be executed. In the connection status, transmission/reception of data packet is not carried out. Those transmitted/received at this time are restricted to control packet for setting communication link, control packet relating to security and control packet relating to low consumption power mode. </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> On the other hand, in data transfer status, transmission/reception of data packet is permitted. If the status is changed to connection for the first time after the synchronism establishing phase, basically it cannot be changed to data transmission unless processings for connection certification and coding between the master and slave are completed. The roles of the master and slave on connection are different depending on the content of control package to be controlled there. </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> Transmission and reception of data packet on data transfer are carried out according to rules of the master, slave and time slot. If a terminal relating to data transmission cuts out communication or a controller in a terminal is reset in terms of hardware, the terminal is turned from data transmission state to waiting state. </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> The low consumption power mode refers to a mode for providing low consumption power status of a terminal which is turned from connection state. This low consumption power mode is divided to three types, park mode (S<highlight><bold>16</bold></highlight>), hold mode (S<highlight><bold>17</bold></highlight>) and sniff mode (S<highlight><bold>18</bold></highlight>). </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> The park mode is a mode particular to the slave and a low consumption power mode which maintains synchronism in the pico-net established by connection. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> The hold mode is a low consumption power mode which both the master and the slave can turn to and is a mode which maintains synchronism in the pico-net established by connection and in case of the slave, holds a slave identifier given by the master. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> The sniff mode is a low consumption power mode particular to the slave and is a mode in which the slave maintains synchronism in the pico-net established by connection like in case of the hold mode and holds a slave identifier given by the master. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> Under the bluetooth, it is possible to switch between a master and a specified slave in the pico-net. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> Processing about security to be carried out with the communication connection phase being connected is largely divided to certification and coding. Certification processing refers to determining whether or not connection between itself and a specified mating is permitted. Coding processing refers to protecting data which is being transmitted from being tapped by a third party. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> The security of the bluetooth is controlled under a concept of link key. The link key refers to a parameter for controlling one-to-one security between specified two terminals. This link key must not be disclosed to the third party. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> As this link key, an initialization key for use between terminal which try to connect each other for the first time is used. If a link key is set up in the data base as parameter by connecting previously, that set up link key is used. The initialization key is generated using a PIN code from a higher level application and internally generated data. </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> General processing based on the bluetooth norm has been described up to here. In the short-distance wireless communication of this example, a command for controlling such an electronic device as audio device and video device (these devices are generally called AV devices) and a response are transmitted. </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 32</cross-reference> is a diagram showing configuration of transmission for transmitting this command and response with a hierarchical structure. A terminal on command transmission side is called controller while a terminal which receives that command and sends back a response to the command transmitter is called target. The relation between this controller and target is other concept than the master and slave relation described above, necessary for carrying out communication connection control and basically, either may function as a terminal of the master or slave. </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> A layer for processing L2CAP packet for transmitting protocol data for control exists on the base band layer and AVCTP (Audio/Video Control Transport Protocol) protocol is prepared further thereon. A protocol called AV/C command is prepared on that protocol in order to control the AV device. </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 33</cross-reference> is an example of the data structure of the L2CAP packet for transmitting data of that protocol. A header is attached to a heading portion of a payload section of this packet (portion marked with L2CAP Header), indicating data length (length) and channel ID. A subsequent section is actual information (information). </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> AVCTP header and AVCTV message are disposed in the information section. The AVCTP message data comprises &ldquo;0000&rdquo; data (4 bits) indicating AV/C data, command/response data (4 bits) indicating a command and a response, data (5 bits) indicating subunit type, data (3 bits) indicating subunit ID, opcode (opcode) data (8 bits) specifying a function and operands which are data attached to the functions (operand: 8 bits), operand &lsqb;0&rsqb;, operand &lsqb;1&rsqb;, . . . operand &lsqb;n&rsqb; (n is an arbitrary integer). The data structure of the AVCTP shown in <cross-reference target="DRAWINGS">FIG. 34</cross-reference> applies a data structure specified as AV/C command set which is a standard for transmitting device control data on a network connected through a cable-based bus line. </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 34</cross-reference> is a diagram showing a condition in which a command and a response are transmitted by wireless between the controller and the target. If there is any user at the terminal of the controller side so that the necessity of transmitting a command to a target device occurs, the controller establishes a connection with the target (step S<highlight><bold>31</bold></highlight>) and transmits the AV/C command from the controller to the target through the established connection (step S<highlight><bold>32</bold></highlight>). The target receiving this command transmits a response to that command to the controller (step S<highlight><bold>33</bold></highlight>). Then, a processing corresponding to the command is executed as required. In case of a command for confirming the status of the target, a required data is sent back to the controller as a response. </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> If a processing for removing the connection is executed by user operation on the controller side or user operation on the target side as shown in <cross-reference target="DRAWINGS">FIG. 35</cross-reference>, release connection processing for removing the connection set up to transmit the command or response is executed (step S<highlight><bold>34</bold></highlight>). </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> Next, the structure of the AV/C command set (that is, AVCTP data) for use in the system of this example will be described with reference to FIGS. <highlight><bold>36</bold></highlight>-<highlight><bold>46</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 36</cross-reference> indicates the data structure of a section to be transmitted as the AV/C command (that is, AVCTP data in case of this example) in the unit of 8 bits. The AV/C command set is a command set to control an AV device and CTS (command set ID) is &ldquo;0000&rdquo;. The AV/C command frame and response frame are exchanged. A response to a command is sent for example, within a specified period. However, in some case, a temporary response is sent within the specified period and then a formal response is sent after some extent of interval. </paragraph>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> The CTS indicates an ID of the command set and under the AV/C command set, CTS&equals;&ldquo;0000&rdquo;. When the packet is a command, the field of c type/response (ctype/response) indicates a function class of the command, and when the packet is response, it indicates a command processing result. The command is largely defined in four types, namely, (1) command (CONTROL) for controlling the function from outside, (2) command (STATUS) for inquiring about the state from outside, (3) command (GENERAL INQUIRY (presence or absence of support of opcode)) for inquiring about presence or absence of support of control command from outside, (4) command (NOTIFY) for requesting to notify outside of a change of the state. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> The response is sent back depending on the kind of the command. The responses to the control command are NOT IMPLEMENTED (not implemented), ACCEPTED (accepted), REJECTED (rejected) and (INTERIM)(interim). The responses to the STATUS command are NOT IMPLEMENTED, REJECTED, IN TRANSITION (in transition), and STABLE (stable). The responses to commands (GENERAL INQUIRY and SPECIFIC INQUIRY) asking from the outside wheter or not there is any support for a command are IMPLEMENTED (implemented) and NOT IMPLEMENTED. The responses to a command demanding that a change of state be known to the outside (NOTIFY) are NOT IMPLEMENTED, REJECTED, INTERIM and CHANGED (changed). </paragraph>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> The subunit type (subunit type) is installed to specify the function of the unit, for example, tape recorder/player, tuner and the like are allocated. The subunit is allocated with BBS (bulletin board subunit), a subunit for publicizing information to other devices in addition to the function for corresponding with devices. In order to determine if plural subunits of the same kind exist, a subunit ID (subunit id) is employed as a determination number for addressing. Opcode which is a operation code indicates a command and operand indicates a parameter of command. There are prepared fields (additional operands) which are added depencing on necessity. 0 data and the like are added depending on necessity. </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 37</cross-reference> shows a concrete example of the AV/C command. The left side of <cross-reference target="DRAWINGS">FIG. 37</cross-reference> indicates a concrete example of command type/response. An upper portion in the table indicates commands and a lower portion indicate responses. CONTROL is allocated to &ldquo;0000&rdquo;, STATUS is allocated to &ldquo;0001&rdquo;, SPECIFIC INQUIRY is allocated to &ldquo;0010&rdquo;, NOTIFY is allocated to &ldquo;0011&rdquo;, and GENERAL INQUIRY is allocated to &ldquo;0100&rdquo;. &ldquo;0101-0111&rdquo; is reserved for future specification. NOT INPLEMENTED is allocated to &ldquo;1000&rdquo;, ACCEPTED is allocated to &ldquo;1001&rdquo;, REJECTED is allocated to &ldquo;1010&rdquo;, IN TRANSITION is allocated to &ldquo;1011&rdquo;, IMPLEMENTED/STABLE is allocated to &ldquo;1100&rdquo; and CHNGED is allocated to &ldquo;1101&rdquo; and INTERIM is allocated to &ldquo;1111&rdquo;. &ldquo;1110&rdquo; is reserved for future specification. </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> The middle of <cross-reference target="DRAWINGS">FIG. 37</cross-reference> shows a concrete example of the subunit type. Video Monitor is allocated to &ldquo;00000&rdquo;, Disk recorder/Player is allocated to &ldquo;00011&rdquo;, Tape recorder/Player is allocated to &ldquo;00100&rdquo;, Tuner is allocated to &ldquo;00101&rdquo;, Video Camera is allocated to &ldquo;00111&rdquo;, Subunit to be used as a bulletin board called BBS (Bulletin Board Subunit) is allocated to &ldquo;01010&rdquo;, Subunit type uniqe to a manufacturer (Vendor unique) is allocated to &ldquo;11100&rdquo; and specified Subunit type extended to next byte is allocated to &ldquo;11110&rdquo;. Although unit is allocated to &ldquo;11111&rdquo;, this is used for case for sending to just a unit, for example, power ON/OFF. </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> The right side of <cross-reference target="DRAWINGS">FIG. 37</cross-reference> shows a concrete example of opcode. opcode table exists for each subunit type and here, the subunit type indicates opcode in case where the subunit type is Tape recorder/Player. Operand is defined for each opcode. Here, a value unique to a manufacturer (VENDOR-DEPENDENT) is allocated to &ldquo;00h&rdquo;, SEACH MODE is allocated to &ldquo;50h&rdquo;, TIMECODE is allocated to &ldquo;51h&rdquo;, ATN is allocated to &ldquo;52h&rdquo;, MEMORY OPEN is allocated to &ldquo;60h&rdquo;, READ MEMORY is allocated to &ldquo;61h&rdquo;, WRITE MEMORY is allocated to &ldquo;62h&rdquo;, LOAD is allocated to &ldquo;C1h&rdquo;, RECORD is allocated to &ldquo;C2h&rdquo;, PLAY is allocated to &ldquo;C3h&rdquo; and WIND is allocated to &ldquo;C4h&rdquo;. </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 38</cross-reference> shows a concrete example of the AV/C command and response. For example, if a reproduction instruction is dispatched to a reproducing appliance which serves for a target (consumer), the controller sends a command shown in <cross-reference target="DRAWINGS">FIG. 38</cross-reference>(A) to the target. Because this command uses the AV/C command set, it comes that CTS&equals;&ldquo;0000&rdquo;. Because ctype uses a command (CONTROL) for controlling the unit from outside, it comes that ctype&equals;&ldquo;0000&rdquo; (see <cross-reference target="DRAWINGS">FIG. 37</cross-reference>). Because the subunit type is Tape recorder/Player, it comes that subunit type&equals;&ldquo;00100&rdquo; (see <cross-reference target="DRAWINGS">FIG. 37</cross-reference>). Because id indicates case of ID0, it comes that id&equals;000. opcode is &ldquo;C3h&rdquo; meaning reproduction (see <cross-reference target="DRAWINGS">FIG. 37</cross-reference>). operand is &ldquo;75h&rdquo; meaning FORWARD. Then, if reproduction is carried out, the target sends back a response shown in <cross-reference target="DRAWINGS">FIG. 38B</cross-reference> to the controller. Because accepted meaning reception enters into response, response&equals;&ldquo;1001&rdquo; (see <cross-reference target="DRAWINGS">FIG. 38</cross-reference>). Because others are the same as <cross-reference target="DRAWINGS">FIG. 38A</cross-reference> excluding response, a description thereof is omitted. </paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> By transmitting such specified AVDCP protocol data with the configuration shown in <cross-reference target="DRAWINGS">FIG. 33</cross-reference> according to Bluetooth method by radio, control of a mating unit and the like are enabled. </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> In this example, a case where a panel subunit is provided as a unit controlled with the AVDCP protocol data will be described. As described above, in the unit controlled according to the AVDCP protocol, each function portion is called subunit. As one of the subunits, there is a panel subunit. This panel subunit displays a panel for GUI (graphic user interface) about actions which can be carried out on the controlled unit by means of the control unit such as a remote control unit and if a key operation corresponding to a display on that panel occurs, the function displayed on the panel instructed by the key is executed. If the control is carried out using this panel unit, that control is executed using, for example, pass-through command. This pass-through command will be described later. </paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> An example of the audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> will be described with reference to <cross-reference target="DRAWINGS">FIG. 39</cross-reference>. As subunits, this audio recording/reproducing apparatus <highlight><bold>100</bold></highlight> comprises a disc subunit <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>which is a recording/reproducing portion for MD (mini disc) which executes recording and reproduction of audio data into/from a disc, a CD (compact disc) reproducing portion <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>for executing reproduction of audio data from the disc, a tuner subunit <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>for receiving radio broadcasting and a panel subunit <highlight><bold>100</bold></highlight><highlight><italic>d </italic></highlight>for executing operations of the respective subunits <highlight><bold>100</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>c</italic></highlight>. The disc subunits <highlight><bold>100</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>are provided with ID0, ID1 as subunit ID so that they can be identified. The panel subunit <highlight><bold>100</bold></highlight><highlight><italic>d </italic></highlight>is so constructed employing the CPU <highlight><bold>110</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and part of peripheral memory. </paragraph>
<paragraph id="P-0232" lvl="0"><number>&lsqb;0232&rsqb;</number> In the meantime, the CPU <highlight><bold>110</bold></highlight> is used as control means for the subunits <highlight><bold>100</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>c. </italic></highlight></paragraph>
<paragraph id="P-0233" lvl="0"><number>&lsqb;0233&rsqb;</number> With such a structure, the remote control unit <highlight><bold>200</bold></highlight> sends control command C<highlight><bold>1</bold></highlight> to the panel subunit <highlight><bold>100</bold></highlight><highlight><italic>d </italic></highlight>so as to remote control the audio appliance <highlight><bold>100</bold></highlight>. When outputting stream data (audio data or the like) to outside from the respective subunits <highlight><bold>100</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>by radio, it is transmitted directly from a stream plug <highlight><bold>100</bold></highlight><highlight><italic>e </italic></highlight>as data D<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0234" lvl="0"><number>&lsqb;0234&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 45</cross-reference> is a diagram showing the configuration of pass through (PASSTHROUGH) command to be transmitted to the panel subunit. The section of opcode is provided with a code (7C<highlight><subscript>16</subscript></highlight>) indicating pass through command. Function type data is disposed in the section of operand&lsqb;0&rsqb;. In the section of operand&lsqb;1&rsqb;, state bit is disposed at a head bit and operation ID is disposed in remaining 7 bits. When this state flag is posted (when a data exists), it is indicated that it is a command indicating a function block to be controlled and 7-bit operation ID is neglected. When no state flag is posted (when 0 data exists), it is indicated that the operation ID is valid for the remaining 7 bits. Subunit type data is disposed in a section following the operand&lsqb;2&rsqb;. In the meantime, numerals expressed by attaching (16) are hexadecimal numbers (indicated by 0, 1, . . . 9, A, B, . . . F) indicated with 4-bit data. </paragraph>
<paragraph id="P-0235" lvl="0"><number>&lsqb;0235&rsqb;</number> As an operation ID disposed in the section of operand&lsqb;1&rsqb;, various operations are allocated to respective code values as shown in <cross-reference target="DRAWINGS">FIG. 46</cross-reference>, for example. For example, codes for instructing directions of up and down on the GUI screen and selection thereof, codes for instructing for selection of a menu screen, and codes for directly instructing an operation of audio appliance or video appliance such as reproduction, stop, recording, rapid feed, rewind are allocated. </paragraph>
<paragraph id="P-0236" lvl="0"><number>&lsqb;0236&rsqb;</number> In this example, by transmitting the remote control unit <highlight><bold>200</bold></highlight> a specified command to the audio appliance <highlight><bold>100</bold></highlight>, it is possible to preliminarily carry out instruction to the subunit provided in this audio appliance <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0237" lvl="0"><number>&lsqb;0237&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 40</cross-reference> shows an example of the configuration of command to be sent from the remote control unit <highlight><bold>200</bold></highlight> for this purpose. Upper data shown in <cross-reference target="DRAWINGS">FIG. 40</cross-reference> is disposed in each of the data sections shown in <cross-reference target="DRAWINGS">FIG. 33</cross-reference>. Its command type is &lsqb;CONTROL&rsqb; for controlling the state or &lsqb;STATUS&rsqb; for inquiry thereof. A destination of this command is for all sections of an appropriate unit and therefore, this command is sent to the unit. In the section of opcode, vendor dependent value indicating that it is a code particular to manufacturer is provided. In the section of operand&lsqb;0&rsqb;, a company ID for identifying a manufacturer is disposed. In a section following operand &lsqb;1&rsqb;, data for investigating which command is capable of making control is disposed. </paragraph>
<paragraph id="P-0238" lvl="0"><number>&lsqb;0238&rsqb;</number> As for data in the section following operand&lsqb;1&rsqb;, as shown at the lower step of <cross-reference target="DRAWINGS">FIG. 40</cross-reference>, it is indicated that the first category code is AVDCP protocol code and next, data about function type to be inquired is disposed. Here, data for specifying the subunit is disposed. Next, the operation ID is disposed. Finally, data such as the subunit ID is disposed. </paragraph>
<paragraph id="P-0239" lvl="0"><number>&lsqb;0239&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 41</cross-reference> shows a processing for registering a subunit for which a command to be transmitted to a mating appliance is to be executed as &lsqb;CONTROL&rsqb; for controlling the state as a command type of this command. First of all, the remote control unit <highlight><bold>200</bold></highlight> sends a subunit specification command to the audio appliance <highlight><bold>100</bold></highlight>. At this time, as the subunit type, data for specifying disc subunit of the ID0 is attached (step S<highlight><bold>11</bold></highlight>). At this time, a state flag (see <cross-reference target="DRAWINGS">FIG. 45</cross-reference>) is posted. The audio appliance <highlight><bold>100</bold></highlight> sends back a response to this command to the remote control unit <highlight><bold>200</bold></highlight> (step S<highlight><bold>12</bold></highlight>). Then, a subunit specified at this time is stored (registered) in a panel subunit within the audio appliance <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0240" lvl="0"><number>&lsqb;0240&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 42</cross-reference> is a diagram showing an example of data structure about operation IDs of the command and response at this time and subunit ID. Under the control command, the operation ID is invalid and its maximum value is FF. Then, as a subunit ID, ID for specifying disc subunit 0 is attached. As a response, operation ID and subunit ID are sent back as they are. </paragraph>
<paragraph id="P-0241" lvl="0"><number>&lsqb;0241&rsqb;</number> When a command for instructing reproduction is sent from the remote control unit <highlight><bold>200</bold></highlight> with pass through command (step S<highlight><bold>13</bold></highlight>), the panel subunit sends reproduction command to a disc subunit (disc subunit of ID0) specified by a command of step S<highlight><bold>11</bold></highlight> so as to start reproduction in an appropriate disc subunit and send back a response to that command (step S<highlight><bold>14</bold></highlight>). </paragraph>
<paragraph id="P-0242" lvl="0"><number>&lsqb;0242&rsqb;</number> Further, when a command for instructing stop of reproduction from the remote control unit <highlight><bold>200</bold></highlight> with pass through command is sent (step S<highlight><bold>15</bold></highlight>), the panel subunit sends stop command to a disc subunit (disc subunit of ID0) specified by a command of step S<highlight><bold>11</bold></highlight> so as to stop reproduction in an appropriate disc subunit and send back a response to that command (step S<highlight><bold>16</bold></highlight>). </paragraph>
<paragraph id="P-0243" lvl="0"><number>&lsqb;0243&rsqb;</number> If a subunit for control is specified once, it is not necessary to instruct a subunit each time for commands to be transmitted after that. Meanwhile, a column in which the subunit in data is to be specified only has to be a maximum value (FF) which is invalid data. The specification of this subunit may be released by sending data for releasing the specification of the subunit or updated if another subunit specification exists. </paragraph>
<paragraph id="P-0244" lvl="0"><number>&lsqb;0244&rsqb;</number> Additionally, the registration condition of the subunit of that appliance can be inquired by sending a command from the remote control unit to the audio appliance as not the control command, but as an inquiry &lsqb;STATUS&rsqb; command. <cross-reference target="DRAWINGS">FIG. 43</cross-reference> shows an example of this case, in which the remote control unit <highlight><bold>200</bold></highlight> sends a command of &lsqb;STATUS&rsqb; to the audio appliance <highlight><bold>100</bold></highlight> in order to verify the specification condition of the subunit (step S<highlight><bold>21</bold></highlight>). At this time, the status flag (see <cross-reference target="DRAWINGS">FIG. 45</cross-reference>) is set to 1. With a response to this command, data about the subunit ID registered to be controlled by the audio appliance <highlight><bold>100</bold></highlight> is attached (step S<highlight><bold>22</bold></highlight>). </paragraph>
<paragraph id="P-0245" lvl="0"><number>&lsqb;0245&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 44</cross-reference> is a diagram showing an example of data configuration about operation ID of a command and response at this time and subunit ID. Under the status command, a code about the function to be inquired with the operation ID is attached. Because in this example, a subunit which executes an instruction for reproduction is inquired, a code (<highlight><bold>44</bold></highlight>) corresponding to reproduction is attached. Then, the subunit ID is set to a maximum value (FF). </paragraph>
<paragraph id="P-0246" lvl="0"><number>&lsqb;0246&rsqb;</number> In a response to this command, the operation ID is kept as it is and the registered subunit ID is attached to the subunit ID so that reproducing action is carried out when an instruction for reproduction is given. In this example, the subunit ID is sent back with the ID of disc subunit 0. </paragraph>
<paragraph id="P-0247" lvl="0"><number>&lsqb;0247&rsqb;</number> In case where a subunit is registered such that it can be controlled without specifying the subunit, the registration condition can be recognized simply by sending a response in this way. </paragraph>
<paragraph id="P-0248" lvl="0"><number>&lsqb;0248&rsqb;</number> In the embodiments described up to here, a case of transmitting by radio according to the so-called Bluetooth standard has been described. In case for transmitting control data or the like through another radio transmission network also, of course, the processing by the present invention may be applied. </paragraph>
<paragraph id="P-0249" lvl="0"><number>&lsqb;0249&rsqb;</number> Although an example of the audio appliance has been described about the subunit provided on the appliance, the present invention may be applied to another appliance such as a video appliance. </paragraph>
<paragraph id="P-0250" lvl="0"><number>&lsqb;0250&rsqb;</number> Further, the present invention may be applied to a transmission network in which respective appliances are connected in series through wire bus line. For example, the present invention may be applied to bus line called IEEE (The Institute of Electrical and Electronics Engineers) 1394 type. In this case, the above described respective commands are executed in asynchronous transmission and if transmission of stream data with that command is instructed, they can be executed in isochronous transmission. </paragraph>
<paragraph id="P-0251" lvl="0"><number>&lsqb;0251&rsqb;</number> As explained above, according to the present invention, by specifying a function block which is an object for control by transmission of a first command, it is not necessary to specify any function block which is the object for control when transmitting a second command after that. Thus, the command configuration can be simplified, so that it is possible to control one appliance from the other appliance favorably with such a simple structure. </paragraph>
<paragraph id="P-0252" lvl="0"><number>&lsqb;0252&rsqb;</number> In this case, because the first command is instructed by posting a predetermined flag, a function block which is an object for control can be specified. </paragraph>
<paragraph id="P-0253" lvl="0"><number>&lsqb;0253&rsqb;</number> Further, because radio transmission network is employed as transmission network and the command is transmitted through a first channel secured within that radio transmission network, the object for control can be specified easily by radio transmission. </paragraph>
<paragraph id="P-0254" lvl="0"><number>&lsqb;0254&rsqb;</number> Further, because the transmission network is a network in which appliances are connected through a predetermined bus line and the command is executed in asynchronous communication on the bus line, the object for control can be specified easily by data transmission through the bus line. </paragraph>
<paragraph id="P-0255" lvl="0"><number>&lsqb;0255&rsqb;</number> According to the present invention, the function block which is the object for control on the side of controlled appliances can be recognized easily from another appliance, the function block which is the object for control can be specified and recognized easily so as to carry out control. </paragraph>
<paragraph id="P-0256" lvl="7"><number>&lsqb;0256&rsqb;</number> Industrial Applicability </paragraph>
<paragraph id="P-0257" lvl="0"><number>&lsqb;0257&rsqb;</number> As described so far, according to the data transmission method, the data transmission system and the data transmitting apparatus of the present invention, if a wireless transmission network for carrying out wireless transmission among, for example, audio devices or video devices is constructed and the other device is remotely controlled from a specified device in this network, a control target functional block is designated by the transmission of the first command to make it unnecessary to designate the control target functional block when a later command is transmitted, thereby making it possible to simplify structure and to control the other device from one device with simple structure. In addition, it is possible to easily check the control target function block of the to-be-controlled device from the other device and to easily conduct checking if the control target functional block is specified in advance and controlled. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A data transmission method for transmitting a command of a predetermined format between one appliance and another appliance, which are capable of transmitting data bidirectionally over a predetermined transmission network, characterized in that 
<claim-text>when said one appliance sends a first command for instructing a function block which is an object for control to said other appliance in said transmission network, the function block which is an object for control by a second command transmitted from said one appliance is determined to be a function block instructed by said first command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> characterized in that said first command is instructed by posting a predetermined flag. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> characterized in that 
<claim-text>said transmission network is a radio transmission network and said command is transmitted over the first channel secured within the radio transmission network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> characterized in that 
<claim-text>when transmission of stream data by said second command is instructed, transmission of the stream data is carried out through a second channel secured within said radio transmission network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> characterized in that said transmission network is a network in which appliances are connected through a predetermined bus line and said command is executed by asynchronous communication on said bus line. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> characterized in that 
<claim-text>when transmission of stream data is instructed by said second command, transmission of the stream data is carried out by isochronous communication on said bus line. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A data transmission method for transmitting a command of a predetermined format and a response thereto between one appliance and another appliance, capable of transmitting data bidirectionally over a predetermined radio transmission network, characterized in that 
<claim-text>when said one appliance transmits a first command for recognizing a function block which is an object for control to said other appliance in said transmission network, a function block corresponding to said other appliance is sent back as a response to the first command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The data transmission method according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference> characterized in that said first command is instructed by posting a predetermined flag. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A data transmission system for transmitting a command of a predetermined format between a first appliance and a second appliance capable of transmitting data bidirectionally over a predetermined transmission network, characterized in that 
<claim-text>said first appliance comprises </claim-text>
<claim-text>a first communication means for communicating with said second appliance over said network and </claim-text>
<claim-text>a first control means for generating a first command for instructing a function block which is an object for control within said second appliance and a second command for instructing execution of a predetermined function for the function block instructed by the first command, and </claim-text>
<claim-text>said second appliance comprises 
<claim-text>a second communication means for communicating with said first appliance over said network and </claim-text>
<claim-text>a second control means for when said first command is received by said second communication means, memorizing a function block instructed with the command and when said second command is received, executing a function instructed by the second command for the memorized function block. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The data transmission system according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference> characterized in that 
<claim-text>said first control means creates the first command by posting a predetermined bit within the command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A data transmission system for transmitting a command of a predetermined format and a response between a first appliance and a second appliance capable of transmitting data bidirectionally over a predetermined transmission network, characterized in that 
<claim-text>said first appliance comprises </claim-text>
<claim-text>a first communication means for communicating with said second appliance through said network and </claim-text>
<claim-text>a first control means for generating a first command for recognizing a function block which is an object for control within said second appliance, and </claim-text>
<claim-text>said second appliance comprises 
<claim-text>a second communication means for communicating with said first appliance through said network and </claim-text>
<claim-text>a second control means for when said first command is received by said second communication means, transmitting a function block which is an object for control from said second communication means as a response. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A data transmission apparatus connected to a predetermined network, comprising 
<claim-text>a communication means for communicating with another appliance bidirectionally through said network and </claim-text>
<claim-text>a control means for generating a first command for instructing a function block which is an object for control within a predetermined appliance connected over said network and a second command for executing a predetermined function for a function block instructed by the first command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The data transmission apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference> characterized in that said control means creates the first command by posting a predetermined bit within the command. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A data transmission apparatus connected to a predetermined network, comprising 
<claim-text>a communication means for communicating with another appliance bidirectionally through said network and </claim-text>
<claim-text>a control means for generating a first command for recognizing a function block which is an object for control within a predetermined appliance connected through said network and transmitting from said communication means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The data transmission apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> characterized in that 
<claim-text>said control means creates the first command by posting a predetermined bit within the command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A data transmission apparatus connected to a predetermined network, characterized by comprising 
<claim-text>a communication means for communicating with another appliance bidirectionally over the network and </claim-text>
<claim-text>a control means for, when said communication means receives a first command, memorizing a function block instructed by the command and when it receives a second command, executing a function instructed by the second command for the memorized function block. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The data transmission apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference> characterized in that 
<claim-text>said control means determines the first command by determining a predetermined bit within the command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A data transmission apparatus connected to a predetermined network, characterized by comprising 
<claim-text>a communication means for communicating with another appliance connected over said network bidirectionally and </claim-text>
<claim-text>a control means for, when it is determined that said communication means receives a command for recognizing a function block which is an object for control within a self appliance, transmitting a response having information indicating the set function block which is the object for control to a transmitting source of said command from said communication means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The data transmission apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference> characterized in that 
<claim-text>said control means determines that it is a command for recognizing said function block by determining a predetermined bit within the command. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. (Added) The data transmission method as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the first command is indicated in a pharmaceutical company dedicated data region.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030003867A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030003867A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030003867A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030003867A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030003867A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030003867A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030003867A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030003867A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030003867A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030003867A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030003867A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030003867A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030003867A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030003867A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030003867A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030003867A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030003867A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030003867A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030003867A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030003867A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030003867A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030003867A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00022">
<image id="EMI-D00022" file="US20030003867A1-20030102-D00022.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00023">
<image id="EMI-D00023" file="US20030003867A1-20030102-D00023.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00024">
<image id="EMI-D00024" file="US20030003867A1-20030102-D00024.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
