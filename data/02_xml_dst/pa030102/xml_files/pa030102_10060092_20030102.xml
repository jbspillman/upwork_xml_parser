<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001755A1-20030102-D00000.TIF SYSTEM "US20030001755A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00001.TIF SYSTEM "US20030001755A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00002.TIF SYSTEM "US20030001755A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00003.TIF SYSTEM "US20030001755A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00004.TIF SYSTEM "US20030001755A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00005.TIF SYSTEM "US20030001755A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001755A1-20030102-D00006.TIF SYSTEM "US20030001755A1-20030102-D00006.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001755</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10060092</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020131</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G08G001/065</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>340</class>
<subclass>928000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>340</class>
<subclass>005420</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>705</class>
<subclass>013000</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>340</class>
<subclass>572100</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Method and means for RF tool collection</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>10060092</doc-number>
<kind-code>A1</kind-code>
<document-date>20020131</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09371863</doc-number>
<document-date>19990811</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>ABANDONED</parent-status>
</parent-child>
</continuation-of>
</continuations>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Robert</given-name>
<middle-name>Walter</middle-name>
<family-name>Tiernay</family-name>
</name>
<residence>
<residence-non-us>
<city>Mississauga</city>
<country-code>CA</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Thua</given-name>
<middle-name>Van</middle-name>
<family-name>Ho</family-name>
</name>
<residence>
<residence-non-us>
<city>Mississauga</city>
<country-code>CA</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Weimin</given-name>
<family-name>He</family-name>
</name>
<residence>
<residence-non-us>
<city>Mississauga</city>
<country-code>CA</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>James</given-name>
<middle-name>Kenneth</middle-name>
<family-name>Cook</family-name>
</name>
<residence>
<residence-non-us>
<city>Mississauga</city>
<country-code>CA</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Mohammed</given-name>
<family-name>Benvidi</family-name>
</name>
<residence>
<residence-non-us>
<city>Mississauga</city>
<country-code>CA</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>DOWELL &amp; DOWELL PC</name-1>
<name-2></name-2>
<address>
<address-1>SUITE 309</address-1>
<address-2>1215 JEFFERSON DAVIS HIGHWAY</address-2>
<city>ARLINGTON</city>
<state>VA</state>
<postalcode>22202</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">An RF roadway toll collection system uses an upstream reader to communicate with a vehicle borne transponder carrying a Smart Card to calculate the toll and debit the Smart Card balance in the amount of the toll payment required. A transaction manager is notified of the toll payment from the upstream reader and notifies a downstream reader of the vehicle identification and payment status. The downstream reader confirms the vehicle identification and payment status and signals if the toll has been paid. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This is a continuation application of U.S. Ser. No. 09/371,863 filed Aug. 11, 1999.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The invention relates to the field of RF toll collection wherein, in a roadway environment, vehicle borne transponders communicate with a stationary reader or readers to establish the toll for the vehicle carrying the transponder. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE ART </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Patents relating to such field include: </paragraph>
<paragraph id="P-0004" lvl="2"><number>&lsqb;0004&rsqb;</number> U.S. Pat. No. 4,104,630 August 1978 Chasek </paragraph>
<paragraph id="P-0005" lvl="2"><number>&lsqb;0005&rsqb;</number> U.S. Pat. No. 4,303,904 Dec. 1, 1981 Chasek </paragraph>
<paragraph id="P-0006" lvl="2"><number>&lsqb;0006&rsqb;</number> U.S. Pat. No. 15 4,870,419 Sep. 26, 1989Baldwin et al </paragraph>
<paragraph id="P-0007" lvl="2"><number>&lsqb;0007&rsqb;</number> U.S. Pat. No. 4,937,581 Jun. 26, 1990 Baldwin et al </paragraph>
<paragraph id="P-0008" lvl="2"><number>&lsqb;0008&rsqb;</number> U.S. Pat. No. 5,132,687 Jul. 21, 1992 Baldwin et al </paragraph>
<paragraph id="P-0009" lvl="2"><number>&lsqb;0009&rsqb;</number> U.S. Pat. No. 5,164,732 Nov. 17, 1992 Brockelsby et al </paragraph>
<paragraph id="P-0010" lvl="2"><number>&lsqb;0010&rsqb;</number> U.S. Pat. No. 5,192,846 Mar. 9, 1993 Brockelsby et al </paragraph>
<paragraph id="P-0011" lvl="2"><number>&lsqb;0011&rsqb;</number> U.S. Pat. No. 5,196,846 Mar. 23, 1993 Brockelsby et al </paragraph>
<paragraph id="P-0012" lvl="2"><number>&lsqb;0012&rsqb;</number> U.S. Pat. No. 5,289,183 Feb. 22, 1994 Hassett et al </paragraph>
</section>
<section>
<heading lvl="1">DISCLOSURE OF THE INVENTION </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> For conventions herein, the traffic flow eastbound and from let to right in the drawings may be thought of as representative of all directions. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Toll Plaza is the name for the toll collection point. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Electronic Toll Collection may be shortened to &lsquo;ETC&rsquo;. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> By &lsquo;transaction manager&rsquo; is meant a device for coordinating an upstream and a downstream reader, toll processing calculator, and locator. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> &lsquo;Point of Entry&rsquo; data or ETC data; includes sufficient information to calculate the toll charge and usually includes: point of entry, toll plaza ID, vehicle class and transponder ID. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> A wide area is an area materially wider than the width required by a lane for a roadway vehicle hence a wide area roadway is materially wider than a single lane highway. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> A wide area reader is typically used for a wide area RF communication system incidental to toll collection. The wide area capture zone is typically 16.8 meters (55 feet) wide by 36.6 meters (120 feet) long. The wide area reader typically uses a protocol known as Time Division Multiple Access (TDMA). </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> A lane based reader controls reader channels, each one of which corresponds to an individual vehicle lane which will communicate with a vehicle in an individual lane. A lane communication capture zone is typically 1.2 to 2.4 meters (4-8 feet) long and 3 meters (10 feet) wide. A vehicle in a lane capture zone may be uniquely identified. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Time Division Multiple Access (TDMA) is the preferred communications protocol in the upstream capture zone. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> A conventional TDMA frame consists of a header known as a Frame Control Message (FCM), four data slots and sixteen activation slots of the type known as slotted Aloha. The FCM directs up to four transponders individually to transmit or receive in the four data slots. The activation slots are shared by all transponders on a random access basis to allow the transponder to notify the reader of its presence. A TDMA frame is approximately 10 ms long. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> In this development it is preferred to extend the conventional TDMA protocol, to include optional new added fields desirable for communicating with a Smart Card toll system and at the same time maintain compatibility with the conventional TDMA system. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The preferred added fields may include: </paragraph>
<paragraph id="P-0025" lvl="2"><number>&lsqb;0025&rsqb;</number> Application Identifier Field&mdash;This field is used to inform the transponder which application is running in the reader, so that upon wake up, the transponder can initialize the on board device accordingly. Under the development, as described herein, the reader will only operate in accord with the first or wide area protocol. However, other applications, not part of the toll collection system described, may be added at another time. </paragraph>
<paragraph id="P-0026" lvl="2"><number>&lsqb;0026&rsqb;</number> Frame Number Field&mdash;This field is used by the transponder for antenna tracking and switching. </paragraph>
<paragraph id="P-0027" lvl="2"><number>&lsqb;0027&rsqb;</number> Antenna Number Field&mdash;This field is used by the transponder for antenna tracking. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> Antenna Tracking and Switching Control&mdash;This field is used by the transponder to select the antenna tracking and antenna switching so that it can be dynamically controlled by the reader. </paragraph>
<paragraph id="P-0029" lvl="2"><number>&lsqb;0029&rsqb;</number> Media Request Activation Control Field (MRA)&mdash;This field is used by the reader to command the transponder whether to transmit an MRA after the required process is completed. </paragraph>
<paragraph id="P-0030" lvl="2"><number>&lsqb;0030&rsqb;</number> Protocol Control Field&mdash;This field is used by the reader to command the transponder to go to sleep mode or to switch to lane based protocol after the first protocol is complete. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> The added fields maybe arranged in any order in their position at the start of the FCM frame. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> The TDMA system with the added fields is referred to herein as &lsquo;extended TDMA&rsquo;. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> &lsquo;Superframe&rsquo;; In the system preferred herein there are four TDMA (preferably extended) RF channels. A superframe is a complete cycle of the four channels by the TDMA Reader with one frame being cyclically transmitted on each antenna. A superframe for four channels is approximately 40 ms in duration. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> &lsquo;ID&rsquo;; means &lsquo;Identification&rsquo;. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> &lsquo;Tag&rsquo;; is sometime used herein as a synonym for transponder. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> &lsquo;Upstream&rsquo; and &lsquo;Downstream&rsquo;; herein relate to position relative to traffic flow. Vehicles move from an upstream position to a downstream position. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> A reader is a stationary transmitter receiver which enters into RF communications protocol with a vehicle borne transponder. The preferred embodiment uses a wide area reader which, upstream, enters into a first communication protocol with a vehicle borne transponder and a second or lane based reader which downstream, provides a plurality of channels each for an individual lane, one of which enters into a second protocol with the same transponder. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> A principal variant of the invention uses, for RF communication, a transponder equipped with a Smart Card which may be electronically and mechanically coupled thereto, usually being optionally detachable. This variant as well as the description as a whole relates to the methods of using the Smart Card. The Smart Card equipped transponder is used in a roadway environment having a first reader defining an upstream RF communication or &lsquo;capture&rsquo; zone designed to communicate with vehicle borne transponders over a roadway area wider than a single lane, to obtain from the transponder information for a transaction manager allowing the calculations as to toll amount and payment status. The data thus obtained is associated with the transponder ID and a second lane based downstream reader is connected to receive by downstream RF communication the status of payment and transponder ID. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> The lane based readers are designed to define downstream communications zones designed to associate the transponder ID and payment status uniquely with vehicle travelling in an individual lane. Preferably the lane based reader is connected to a lane controller which directs the vehicle carrying the subject transponder to stop or go in accord with the payment status. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> In a preferred variant of the invention the transponder provides the first reader with the information from the transponder and its Smart Card including the balance from which the toll may be deducted. This information is provided to calculating and coordinating means, here called a transaction manager, which calculates the toll and directs the Smart Card via the first reader and transponder to debit the toll amount and deduct it from the account balance. Then the Smart Card provides a completion message which includes: a payment status report, which may be &lsquo;paid&rsquo;; &lsquo;insufficient balance&rsquo; or another condition; a certificate of payment to the transaction manager; and a signature for the financial institution. The transaction manager is equipped to report the payment status independent of the transponder and Smart Card to the second reader which is adapted to deal individually with the vehicles and which will physically associate the status and vehicle ID with a vehicle then in an individual lane and customarily direct the vehicle with the subject transponder usually by means of light signals typically attached to a lane controller. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> The process as described provides the required security of financial information and account balances unlike the prior art use of a single reader. The use of a transaction manager provides a communication path from the wide area reader communication zones to the lane based reader which parallels that of the vehicle borne transponder. The transaction manager also provides a highly fraud proof method of securely confirming a successful operation. In a preferred mode of ensuring the security of the transaction, described in detail hereafter, the Smart Card, on the successful completion of a toll transaction, after debiting the account balance, calculates a two part message (called a certificate of payment). </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The transaction manager independently calculates the two part message. One part of the Smart Card originating version of the certificate of payment is sent to the transaction manager for comparison. The second part of the Smart Card version of the certificate of payment is sent to the downstream reader for comparison with the second part of the transaction manager originating message. If the two comparisons coincide the debit transaction has been complete. This is discussed in more detail hereafter. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> A transponder may be equipped with visual aids such as red, green, blue and/or yellow light emitting diodes (LEDs) which may be ON or OFF or intermittent. A transponder may be equipped with a buzzer which maybe ON or OFF or intermittent. Such light or sound means are customarily actuable by a reader, to sensibly signal the vehicle operator. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In a preferred aspect of the invention, an extended version of the TDMA protocol is used at the wide area reader. A TDMA reader can communicate with up to four different transponders per frame, by placing up to four different transponders IDs in the Frame Control Message transmitted at the beginning of every frame. Interference is avoided by having the transponder examine the Frame Control Message, and only if it observes an ID matching its own, can a transponder receive or transmit data. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> A channel is the path for a signal, including signals between a transponder and a reader. In this application, the first or wide area reader, preferably supports four channels each of which may have a number of antennas each of which communicates with a number of transponders in time separation mode. In this application, second or lane based readers preferably support a channel for each lane at the toll plaza. There are typically 10-20 lanes and up to 8 channels (and antennas) per lane based reader. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In a preferred arrangement, a number of first reader fixed antennas may be provided and these are synchronized so that no meaningful interference may occur between fixed antenna radiation. If a channel is transmitted by more than one antenna, the channel system is provided by an RF splitter with antennas carrying the same channel space as far apart as possible to provide a geographical separation between antennas broadcasting on the same channel. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> In a preferred variant of the invention, the channels of the second readers, each typically providing a channel for each lane up to seven lanes, are synchronized with each other and with the first readers. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In a preferred embodiment of the invention all fixed readers transmit at a different frequency than the transponders so that transponder transmissions which tend to be much weaker than those from fixed transmitters are not interfered with. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> In a preferred variant of the invention a frame based transmission is used at the first reader so that this provides contention resolution between transponders communicating with the same antenna. Preferably the frame based system used is the Time Division Multiple Access (TDMA) system known as the &lsquo;Slotted Aloha&rsquo; and described in U.S. Pat. Nos. 5,425,032 and 5,307,349, both to Shloss et al. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> In a preferred variant of the invention, multiple (here four) channels of the first reader are provided preferably broadcasting in cyclical sequence the TDMA or extended TDMA frames (such sequence defines a superframe). Thus the upstream first reader antennas may be spaced from each other so that, in the event that a channel is being broadcast from two antennas simultaneously, the antennas are geographically separated to avoid interference at a transponder. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Where multiple upstream antennas are used, these are preferably sought intermittently by a transponder. The transponder is preferably time synchronized to receive a selected antenna for communication while sampling a number of antennas, say four, for comparative quality of service, i.e. transmission and reception. An algorithm preferably provides control of a switch for changing antennas and to call for switching at any time from one antenna to an antenna whose quality of service is consistently highest. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> The algorithm for antenna selection and switching shown hereafter contains, as shown, several features. The number of superframes whose frame reception numbers are to be compared is chosen. A threshold number limits the comparison to antennas whose frame are received above a selected frame minimum in the N superframes. A number is subtracted from an antenna&apos;s count for heavily loaded antennas. A hysteresis factor requires an unconnected candidate antenna to have a selected higher frame count than the connected antenna before being connected, to avoid too frequent switching. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> In a preferred form of the invention a locator antenna system is provided. This may operate in accord with the system described in U.S. Pat. No. 6,025,799 issued to Ho et al., or U.S. Pat. No. 5,227,503 issued to O&apos;Connor et al. Whatever the approach taken, the locator antenna system is used to determine, by triangulation and in terms of probability, whether the subject transponder (identified by its ID and coordinated by the transaction manager) is located inside the first (wide area or upstream) communications zone as opposed to being located outside the roadway associated with the subject capture zone or travelling the reverse direction. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> In a preferred form of the invention, the locator provides probability thresholds; two of which are used for probability assessment. At a lower level (preferably 95% certain), it allows communication of the transponder information from the upstream reader to the transaction manager, and at a relatively higher certainty level (preferably 99.995%) it allows the debit transaction to be completed and acknowledged between the upstream reader and the transponder and Smart Card.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> In drawings which illustrate a preferred embodiment of the invention: </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic plan view indicating relative locations of the upstream (wide area) and downstream (lane based) capture zones, and of the wide area (first reader), lane based (second reader) and locator antennas; </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a composite schematic showing on the left, the side view (top) and &lsquo;footprint&rsquo; (bottom) of a typical multilane or open road communications zone; and, on the right, the side view (top) and &lsquo;footprint&rsquo; (bottom) of a typical individual lane or lane based communications zone; </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a schematic view showing the relationship of the major system components; </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a schematic view of a locator system; </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a chart of the preferred frame based RF TDMA communication protocol extended as previously discussed; </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5A</cross-reference> shows the protocol of <cross-reference target="DRAWINGS">FIG. 5</cross-reference> combined in a superframe; and </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a schematic of a transponder component arrangement.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">MODE FOR CARRYING OUT THE INVENTION </heading>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> In the drawings, and as shown in <cross-reference target="DRAWINGS">FIG. 1, a</cross-reference> multilane roadway <highlight><bold>11</bold></highlight> contains a toll plaza <highlight><bold>10</bold></highlight>. This application only discussed one direction of traffic flow, here eastbound, since other directions may be easily deduced. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the eastbound section of a multilane roadway comprises two upstream lanes <highlight><bold>11</bold></highlight>A and <highlight><bold>11</bold></highlight>B, widening downstream to a number of individual lanes, as desired, it being understood that there must be enough of individual lanes to avoid a back up of traffic approaching from the multilane section. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Wide area communications or capture zones MZ<highlight><bold>1</bold></highlight>, MZ<highlight><bold>2</bold></highlight> . . . MZ<highlight><bold>4</bold></highlight> represent the individual lane areas where the antennas MR<highlight><bold>1</bold></highlight>, MR<highlight><bold>2</bold></highlight> . . . MR<highlight><bold>4</bold></highlight> communicate with vehicle transponders <highlight><bold>23</bold></highlight> in the wide area which includes lanes <highlight><bold>11</bold></highlight>A and <highlight><bold>11</bold></highlight>B. Downstream from the multilane capture zones MZ<highlight><bold>1</bold></highlight>, MZ<highlight><bold>2</bold></highlight> . . . MZ<highlight><bold>4</bold></highlight>, are individual or lane based communication or capture zones IZ<highlight><bold>1</bold></highlight>-IZ<highlight><bold>9</bold></highlight> for the lane based antennas IR<highlight><bold>1</bold></highlight>-IR<highlight><bold>9</bold></highlight>. Lane based antennas IR<highlight><bold>1</bold></highlight>-IR<highlight><bold>9</bold></highlight> (each of which may be a separate channel of one of the downstream lane based readers) are provided for each individual lane. As seen best in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, exemplary dimensions of a wide area or TDMA capture zone or &lsquo;footprint&rsquo; for areas MZ<highlight><bold>1</bold></highlight>-MZ<highlight><bold>4</bold></highlight> preferably includes an area about 16.8 meters (55 feet) wide and 36.6 meters (120 feet) long. The wide area capture zones must of course overlap to intercept all vehicles in the wide zone. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Locator antennas <highlight><bold>30</bold></highlight> in pairs: LO<highlight><bold>1</bold></highlight> and LO<highlight><bold>2</bold></highlight>; LO<highlight><bold>3</bold></highlight> and LO<highlight><bold>4</bold></highlight>; and LO<highlight><bold>5</bold></highlight> and LO<highlight><bold>6</bold></highlight> operate to locate (by triangulation) and allow the locating and tracking of a vehicle. Locator antennas north of LO<highlight><bold>1</bold></highlight> and south of LO<highlight><bold>6</bold></highlight> (not shown) may be provided if the upstream area requires further locator antenna pairs. The locator system may preferably operate in accord with the technique described in commonly owned U.S. Pat. No. 6,025,799 to Ho et al., or in accord with other systems such as that shown in U.S. Pat. No. 5,227,503 to O&apos;Connor et al. Techniques such as that shown in U.S. Pat. No. 6,025,799 may be used to track the vehicle and use a technique whose probability of accuracy will steadily increase. Thus the locator may be used to ensure that the vehicle containing the transponder is on the multilane roadway and not in a vehicle, for example, going in the opposite direction or outside the multilane roadway. The locator may also be used to determine by probability of location in a capture zone when accurate communication may take place between the readers and vehicle transponder. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> Most transponders encountered in the system being described will be equipped with Smart Cards. In the preferred system, the transponders without a Smart Card will be ignored by the wide area reader and communicate only with an antenna of the lane based reader. A Smart Card equipped transponder enters into a first protocol communication with the open road reader in the multilane section and later into a second protocol communication with an individual lane channel of a lane based reader. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> The transponder <highlight><bold>23</bold></highlight> preferably carries its basic ETC information, comprising transponder ID, point of entry, toll plaza ID, time of entry, vehicle class, with or without a Smart Card. When a Smart Card is attached to the transponder there becomes available the Smart Card data necessary to complete a toll transaction or electronic payment, principally at the first reader, and to be verified at the second lane based reader as described hereafter. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> The transponder at the first reader is designed, in the absence of a Smart Card, to have the transponder ignored by the wide area reader and so that the transponder communicates only the ETC information to a channel of the lane based reader in the individual lane used by the vehicle carrying the transponder. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> Preferred transponder components are shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. Such a transponder has antenna <highlight><bold>12</bold></highlight> connected to the application specific integrated circuitry(ASIC) <highlight><bold>14</bold></highlight>. The ASIC is also connected to the communications processor <highlight><bold>16</bold></highlight>, and through it to application processor <highlight><bold>18</bold></highlight>. The applications processor connects to the Smart Card interface <highlight><bold>22</bold></highlight> and to user interface <highlight><bold>20</bold></highlight>. The user interface usually comprises three colours of LED and a buzzer (not shown). Each of the LED radiation or sounds may be OFF, ON or ON intermittently or flashing. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> Typical information on a Smart Card includes: </paragraph>
<paragraph id="P-0072" lvl="2"><number>&lsqb;0072&rsqb;</number> Transaction state </paragraph>
<paragraph id="P-0073" lvl="2"><number>&lsqb;0073&rsqb;</number> Balance </paragraph>
<paragraph id="P-0074" lvl="2"><number>&lsqb;0074&rsqb;</number> Card Type </paragraph>
<paragraph id="P-0075" lvl="2"><number>&lsqb;0075&rsqb;</number> Card Command Status </paragraph>
<paragraph id="P-0076" lvl="2"><number>&lsqb;0076&rsqb;</number> Card Transaction Counter </paragraph>
<paragraph id="P-0077" lvl="2"><number>&lsqb;0077&rsqb;</number> Payment System ID </paragraph>
<paragraph id="P-0078" lvl="2"><number>&lsqb;0078&rsqb;</number> Key Version </paragraph>
<paragraph id="P-0079" lvl="2"><number>&lsqb;0079&rsqb;</number> Class Card </paragraph>
<paragraph id="P-0080" lvl="2"><number>&lsqb;0080&rsqb;</number> Card Serial Number </paragraph>
<paragraph id="P-0081" lvl="2"><number>&lsqb;0081&rsqb;</number> Purse ID </paragraph>
<paragraph id="P-0082" lvl="2"><number>&lsqb;0082&rsqb;</number> Card Version External Authorized Key ID </paragraph>
<paragraph id="P-0083" lvl="2"><number>&lsqb;0083&rsqb;</number> External Authorized Key ID </paragraph>
<paragraph id="P-0084" lvl="7"><number>&lsqb;0084&rsqb;</number> where the Balance is the amount available to pay tolls and where the &lsquo;Purse ID&rsquo; relates to the protocol (not here discussed) for the financial institution which receives credit for the debits from the card and the financial institutions which supply the funds to replenish the balance. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> When a Smart Card is attached to a transponder they act collectively to communicate in accord with the first protocol with a TDMA reader <highlight><bold>29</bold></highlight> and thereafter in accord with the second protocol with one of the channels of a lane based reader. Without a Smart Card, with preferred first and second protocols the upstream reader <highlight><bold>29</bold></highlight> and the transponder will ignore each other. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> The transponder will typically transmit at 915 MHz and receive at 918 MHz so that the transmissions of the transponders will not be confused or rendered incomprehensible by stronger reader transmissions. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> The TDMA system at the wide area reader gives time diversity as is well known to those ordinarily skilled in the art. As shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the preferred protocol is that the frame based transmission frame <highlight><bold>18</bold></highlight> is comprised of: a frame control message FCM (which may include added fields as discussed); a DATA TRANSFER section with four slots for slot data messages to and from transponders; and an ACTIVATION section of sixteen activations slots. Each reader antenna is programmed to transmit the extended TDMA frame continually (interleaved with other channels as described). </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> With reference particularly to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, &lsquo;read&rsquo; and &lsquo;write&rsquo; are used from the aspect of the wide area reader so the &lsquo;read&rsquo; means that the wide area reader is receiving data from the transponder, whereas &lsquo;write&rsquo; means that the wide area reader is sending data to a transponder. Typically, although it does not fundamentally affect the operation, the protocol uses data transfer slots starting from the left for &lsquo;read&rsquo; and starting from the right for &lsquo;write&rsquo;. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> It is preferred to use four RF channels, R/W<highlight><bold>1</bold></highlight>-R/W<highlight><bold>4</bold></highlight>. If there are more than four channels required to cover the span of the roadway at a wide toll plaza, every fourth antenna is connected to an RF splitter from the same channel, so that the antennas which are on the same channel are at maximum spacing. The same logic may be used if a different number of channels is used. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> Thus the transmissions of the four channels are time separated within a superframe <highlight><bold>20</bold></highlight>, see <cross-reference target="DRAWINGS">FIG. 5A</cross-reference>. The transmission is preferably cyclical with the cycle continuous, identified by its place in the timed cycle. The transponder is programmed to contain an algorithm to select the antenna with the most consistent reception quality, and switch the antenna subject to parameters, as discussed further below. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> The transponder is programmed to be activated at intervals, in one of which it may detect an FCM. On detection, the transponder may make a request for access to the system. In doing so the transponder picks one of the sixteen activation slots, at random, to avoid the likelihood that two transponders will transmit in the same slot. If two transponders choose the same activation slot, the effect of their superimposed signals causes them to be ignored (as a valid message) by the reader, so that each transponder must (again at random) act to gain entry to the first protocol communication. Three of the usual signals sent by a transponder in the activation slot(accompanied by its ID) are: </paragraph>
<paragraph id="P-0092" lvl="2"><number>&lsqb;0092&rsqb;</number> NEA-Net Entry Activation Request&mdash;used by the tag as the normal way to indicate that it is ready to transmit its memory contents. </paragraph>
<paragraph id="P-0093" lvl="2"><number>&lsqb;0093&rsqb;</number> MRA-Media Request Activation Request&mdash;used by the tag to request Data Transfer Slot. </paragraph>
<paragraph id="P-0094" lvl="2"><number>&lsqb;0094&rsqb;</number> ASA-Antenna Switch Activation Request&mdash;used by the tag to indicate that it wishes to communicate through a different antenna MR<highlight><bold>1</bold></highlight>-MR<highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> Acceding to this request will cause the reader to assign a data transfer slot in a different frame of the superframe. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> As a vehicle, such as CV<highlight><bold>1</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, enters capture zone MZ<highlight><bold>1</bold></highlight>, the upstream reader, say on channel MR<highlight><bold>1</bold></highlight>, signals the transponder in CV<highlight><bold>1</bold></highlight> in response to its NEA request (which in the first protocol as preferred, will only be received if the transponder has a Smart Card inserted), by assigning a data transfer slot say R/W<highlight><bold>1</bold></highlight> via which the Smart Card transponder <highlight><bold>23</bold></highlight> may send on MR<highlight><bold>1</bold></highlight> the initial Smart Card data. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> The initial Smart Card data includes; the balance on the Smart Card, transponder ID, Point of Entry and Vehicle Class. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> The data from the Smart Card transponder <highlight><bold>23</bold></highlight> (which has a Smart Card inserted) is sent to the wide area reader <highlight><bold>29</bold></highlight> in the assigned data slot R/W<highlight><bold>1</bold></highlight>. The reader <highlight><bold>29</bold></highlight> (which is in communication with the locator <highlight><bold>30</bold></highlight>) temporarily holds data received by the Smart Card until the locator <highlight><bold>30</bold></highlight> indicates a (say 95%) certainty that the transponder is in one of the wide area zones, indicated by MZ<highlight><bold>1</bold></highlight>-MZ<highlight><bold>4</bold></highlight>, rather than outside or on a reverse course. When this 95% threshold is reached, the Smart Card data is transmitted from the reader <highlight><bold>29</bold></highlight> to the transaction manager <highlight><bold>24</bold></highlight> so that the transaction manager <highlight><bold>24</bold></highlight> may begin its portion of the secure transaction process. The transaction manager uses the data received, to calculate the debit for the toll and determine whether or not it is covered by the balance currently on the card. The transaction manager <highlight><bold>24</bold></highlight> returns to reader <highlight><bold>29</bold></highlight> a set of instructions destined for the Smart Card in the Smart Card transponder <highlight><bold>23</bold></highlight>. This data is to be delivered to the transponder <highlight><bold>23</bold></highlight> by the reader <highlight><bold>29</bold></highlight> when the reader receives assurance from the locator <highlight><bold>30</bold></highlight> that a second threshold of certainty, (say 99.995%) is indicated that the transponder <highlight><bold>23</bold></highlight> is within one of the zones. When this is the case, the reader assigns a data slot to the transponder <highlight><bold>23</bold></highlight> and initiates transmission of the sequence of instructions encoded therein. These instructions, which are executed by the transponder, indicate that a debit is to be performed, or, if the balance is insufficient that the Smart Card should be turned off. Upon completion of the transaction with the Smart Card, if a debit were performed, the Smart Card transponder <highlight><bold>23</bold></highlight> initiates a sequence to signal the reader <highlight><bold>29</bold></highlight>: (1) that the return information required by the transaction manager <highlight><bold>24</bold></highlight> to complete the secure transaction (a certificate of payment and a signature) is available; or (2) that the toll was not paid due to low balance or an incomplete transaction. The transponder <highlight><bold>23</bold></highlight> requests, via a MRA, a data slot via which it may return the data. The reader <highlight><bold>29</bold></highlight>, in recognition of this signal, assigns a data slot to perform the read. Upon receipt of the data (certificate of payment and the signature, on the one hand, or the toll unpaid status, on the other hand), the reader <highlight><bold>29</bold></highlight> passes the data directly to the transaction manager <highlight><bold>24</bold></highlight> to complete the debit transaction. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> When the wide area (first protocol) transaction has been complete between the transaction manager <highlight><bold>24</bold></highlight> and a Smart Card transponder <highlight><bold>23</bold></highlight>, the transaction manager will inform all lane based readers <highlight><bold>34</bold></highlight> of the payment status of the subject transponder Smart Card and of its ID. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> Thus when the vehicle borne Smart Card transponder <highlight><bold>23</bold></highlight> arrives at one of the lane based capture zones IZ<highlight><bold>1</bold></highlight> to IZ<highlight><bold>9</bold></highlight> and enters into communication under the second protocol with one of the lane based readers, and on receipt of the transponder ID, it is determined whether the toll transaction was successful or not. The lane based reader <highlight><bold>34</bold></highlight> then signals the associated lane controller <highlight><bold>36</bold></highlight> to appropriately direct the vehicle, i.e., for a successful transaction to give a green light, have the associate lane controller lift barriers or otherwise to process the vehicle out to the toll plaza or (for an unsuccessful transaction) to show a red light or put a barrier in place or indicate an appropriate lane, and in either event, to purge the transponder from the list now that its status is identified with a particular vehicle. Further status alternatives, &lsquo;card withdrawn&rsquo;, &lsquo;bad card&rsquo;, and &lsquo;transponder not in toll plaza&rsquo; may be provided. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows schematically the overall system. Before describing the operation it will be noted that the plaza host <highlight><bold>38</bold></highlight> has numerous duties including keeping records for the processing system <highlight><bold>40</bold></highlight> which operates as a calculator for the transaction manager <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> In operation, referring to <cross-reference target="DRAWINGS">FIGS. 3 and 6</cross-reference>, the Smart Card Transponder <highlight><bold>23</bold></highlight> is in wide area mode to communicate under a first protocol with the wide area reader <highlight><bold>29</bold></highlight> or in lane based mode, to communicate under a second protocol with one of the channels of a lane based reader <highlight><bold>34</bold></highlight>. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> The current Smart Card balance is read and stored on the Smart Card transponder upon insertion of the Smart Card or after each transaction. The tag is designed to self energize at intervals to sample for RF data streams. When the tag detects such a data stream, the communication processor <highlight><bold>16</bold></highlight> is energized and thereafter the application processor <highlight><bold>18</bold></highlight> is energized. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> The wide area reader <highlight><bold>29</bold></highlight> is energized continually. When the frame control message from one of the frames of the superframe is received, the Smart Card transponder activates on the best antenna(i.e. provider of the best frame MZ<highlight><bold>1</bold></highlight>-MZ<highlight><bold>4</bold></highlight> after N superframes). The transponder requests by a NEA message in a random activations lot of the best frame that there is data to be read. The wide area reader then, in a data transfer slot, reads the transponder (ETC) information which will include: Tag ID, Plaza ID, Point of Entry and vehicle class. The wide area reader <highlight><bold>29</bold></highlight> in respect of location MR<highlight><bold>1</bold></highlight> then reads the Smart Card information including Smart Card balance and Smart Card ID. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> The wide area reader <highlight><bold>29</bold></highlight> holds the ETC and the Smart Card information until locator <highlight><bold>30</bold></highlight> determines that there is a probability higher than the lower threshold (95% certainty) that the transponder is in the wide area zone. The wide area reader <highlight><bold>29</bold></highlight> then forwards the ETC and Smart Card information to the transaction manager <highlight><bold>24</bold></highlight>. When the locator&apos;s certainty that the transponder is in the wide area section has exceeded an upper threshold (we prefer 99.995% certainty) the reader <highlight><bold>29</bold></highlight> forwards the debit information received from the transaction manager to the tag, using the antenna selected by the transponder algorithm. The Smart Card performs the debit or not and prepares the completion messages. The transaction manager uses the data received to validate the Smart Card, calculate the toll, check the balance and general instructions to debit the Smart Card, or if the balance is not sufficient, to power down the Smart Card and these instructions are transmitted back to the wide area reader. The tag then, via an MRA request, indicates that the data is ready, the reader <highlight><bold>29</bold></highlight> then performs a read on the transponder to get the completion message from the transponder including the one part of the debit certificate and the signature. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> The reader <highlight><bold>29</bold></highlight> forwards the completion message to the transaction manager <highlight><bold>24</bold></highlight>. The transaction manager <highlight><bold>24</bold></highlight> reports successful completion (or other result) to all channels IR<highlight><bold>1</bold></highlight>-IR<highlight><bold>9</bold></highlight> of the lane based reader so that the lane based reader channels may associate the vehicle in an individual lane with the result, when the vehicle arrives. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> The transaction manager <highlight><bold>24</bold></highlight> pre-calculates the debit certificate before the completion message is received. Upon reception of the transaction completion part details (including the first part of the debit certificate and the signature) from the wide area reader, the transaction manager compares the first part of the debit certificate with the one pre-calculated. If they are not the same, the transaction is rejected. Otherwise, the transaction manager forwards the completion status (including the second half of the pre-calculated debit certificate) to all lane-based readers <highlight><bold>34</bold></highlight>. Upon arrival of the transponder, one of the lane-based readers <highlight><bold>34</bold></highlight> verifies the second part of the debit certificate by comparing the value with the one received from the transaction manager. If a match is found, the transaction is accepted. Otherwise, the transaction is rejected. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> The purpose of transmitting the two parts of the debit certificate separately is to provide a secured token for the lane-based reader. The debit certificate is calculated by using a high level encryption algorithm such as the TRIPLE DES, known to those ordinarily skilled in the art; and a secure encryption key. Based on the same algorithm and key, the second part of the debit certificate is known to both transaction manager and the transponder but is never transmitted over the RF until the valid transponder reaches the lane-based antenna. This prevents a fraud scheme whereby one may capture the data over the RF, and replay the valid transponder ID to the lane-based reader in order to gain access. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> The lane controller <highlight><bold>36</bold></highlight> or other signalling device is then directed to stop or pass the vehicle on the basis of the status report. The corresponding lane based reader channel may also turn on a LED or buzzer to signal to the driver the status of the transaction, the transponder balance or other parameters. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> The algorithm and parameters associates with antenna tracking and switching is a follows:  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="42PT" align="left"/>
<colspec colname="2" colwidth="98PT" align="left"/>
<colspec colname="3" colwidth="77PT" align="left"/>
<thead>
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Parameter</entry>
<entry>Use</entry>
<entry>Source</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry>N</entry>
<entry>Number of superframes to be</entry>
<entry>One number for all</entry>
</row>
<row>
<entry></entry>
<entry>used in the selection process</entry>
<entry>antennas stored in</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>transponder parameter</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>table. Indexed by a</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>2 bit field in the FCM</entry>
</row>
<row>
<entry>Antenna</entry>
<entry>Number of valid frames received</entry>
<entry>Measured by transponder</entry>
</row>
<row>
<entry>Count</entry>
<entry>on each of the 4 antennas in N</entry>
</row>
<row>
<entry>Threshold</entry>
<entry>Antenna counts less than this</entry>
<entry>One number for all</entry>
</row>
<row>
<entry></entry>
<entry>number are not used in the </entry>
<entry>antennas stored in</entry>
</row>
<row>
<entry></entry>
<entry>selection algorithm</entry>
<entry>parameter table.</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>Indexed by a field</entry>
</row>
<row>
<entry></entry>
<entry></entry>
<entry>in the FCM</entry>
</row>
<row>
<entry>Antenna</entry>
<entry>This number multiplied by the</entry>
<entry>One number per antenna</entry>
</row>
<row>
<entry>Adjustment</entry>
<entry>Antenna Adjustment Multiplier</entry>
<entry>supplied in FCM</entry>
</row>
<row>
<entry></entry>
<entry>is subtracted from the antenna</entry>
</row>
<row>
<entry></entry>
<entry>count to persuade transponders</entry>
</row>
<row>
<entry></entry>
<entry>to leave heavily loaded antennas</entry>
</row>
<row>
<entry>Antenna</entry>
<entry>Used to decrease or increase the</entry>
<entry>One number for all an-</entry>
</row>
<row>
<entry>Adjustment</entry>
<entry>effect of the Antenna</entry>
<entry>tenna supplied in FCM</entry>
</row>
<row>
<entry>Multiplier</entry>
<entry>Adjustment</entry>
</row>
<row>
<entry>Hysteresis</entry>
<entry>This number is added to the </entry>
<entry>One 2 bit number for all</entry>
</row>
<row>
<entry></entry>
<entry>current antenna count to prevent</entry>
<entry>antennas supplied in</entry>
</row>
<row>
<entry></entry>
<entry>excessive switching when the</entry>
<entry>FCM</entry>
</row>
<row>
<entry></entry>
<entry>performance of all antennas</entry>
</row>
<row>
<entry></entry>
<entry>is similar</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
</section>
<section>
<heading lvl="1">Parameters </heading>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> In the preferred embodiment, the wide area readers and the Smart Card transponders (without Smart Cards) are programmed so that the wide area reader ignores the transponder and it is read for its ETC information at one of the lane based reader channels. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> However, it is possible to alternatively program the system so that the wide area reader reads both the ETC and wide area information of the ETC information alone. This will affect the volume of transactions which may be handled. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> In one alternative to the roadway arrangement in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, vehicles using transponders without a Smart Card may be read in the wide area for the ETC information: Point of Entry, ID, vehicle class at the TDMA. This may, if desired, along with associated equipment, calculate the toll based on the point of entry and either deduct it from a balance on the transponder or send it to other equipment for billing the transponder owner. The fixed equipment may then be programmed to provide the card status, e.g. paid, insufficient balance associated with the ID through a transaction manager or otherwise to the single lane reader for association with the vehicle. The lane based reader channel then operates means which can operate a lane controller to direct the vehicle in accord with the status associated with its transponder ID. Moreover, the appearance of a vehicle at a single lane reader without a transponder or a working transponder may be used by detection means at the lane based reader channels IR<highlight><bold>1</bold></highlight>-IR<highlight><bold>9</bold></highlight> to signal a lane controller to take appropriate action, or operate enforcement means. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> The wide area readers may be replaced by another time division reader and a different protocol. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> Transponder &lsquo;status&rsquo; in relation to toll should indicate &lsquo;paid&rsquo; or otherwise, where &lsquo;otherwise&rsquo; may cover as many defined statuses as desired. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> The RF signalling described herein is performed complete with acknowledgments, redundancy checks, encoding as well known in the RF communication art. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> The basic idea of upstream reading, toll collection, reporting the debiting of the charge and the account balance by the Smart Card, and also the verification by the transaction manager and the downstream verification by the lane based reader through the transaction manager, provides an arrangement which allows many ways of checking the validity of the transaction, with maximum security. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> The transaction manager <highlight><bold>24</bold></highlight> coordinates the other blocks indicated in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. The transaction manager preferably also reports the transactions, with adequate identification, to the plaza host for archival records and for reports to the financial institutions associated with the debiting of Smart Card balances on the one hand and with the replenishment of Smart Card balances on the other. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> Typical displays by the Smart Card to the vehicle driver at the ETC read: </paragraph>
<paragraph id="P-0120" lvl="2"><number>&lsqb;0120&rsqb;</number> yellow light (low balance) </paragraph>
<paragraph id="P-0121" lvl="2"><number>&lsqb;0121&rsqb;</number> green light (valid account or Smart Card debited) </paragraph>
<paragraph id="P-0122" lvl="2"><number>&lsqb;0122&rsqb;</number> red light (invalid or no finds). </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> As will be apparent to those skilled in the art in the light of the foregoing disclosure, many alterations and modifications are possible in the practice of this invention without departing from the spirit or scope thereof. The foregoing description is of the preferred embodiments by way of example only, and is not to limit the scope of the invention. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. In a toll collection environment having an upstream roadway wide area which leads to a downstream plurality of individual lanes, apparatus for collecting vehicle tolls, comprising: 
<claim-text>a transponder for location in a vehicle entering the upstream roadway wide area, the transponder including means for recording and debiting a toll from an account balance; </claim-text>
<claim-text>at least one first reader adapted to communicate with said transponder in said wide area; </claim-text>
<claim-text>at least one second reader adapted to communicate with said transponder in an individual lane downstream from said wide area; </claim-text>
<claim-text>transaction means connected to said first reader responsive to communication with said transponder to calculate a toll associated with said transponder and to obtain identification information associated with said transponder, and to instruct said transponder through said first reader to debit the toll from the account balance; </claim-text>
<claim-text>means for transmitting toll payment status information from said transponder to the first reader; </claim-text>
<claim-text>means for transmitting said identification information from said first reader to said second reader upon receipt of successful toll payment status information by the first reader; and </claim-text>
<claim-text>means associated with the second reader for signalling the payment of a toll upon receipt by said second reader of the same identification information from a transponder attached to a vehicle as is received from the first reader. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said transponder includes a Smart Card for recording and debiting the toll from the account balance. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> wherein said first reader and transponder have a first communications protocol whereby information from said transponder causes said transaction means to calculate said toll, obtain said transponder identification information and transmit instructions to said transponder to debit payment and create a certificate of payment and transmit same to the first reader, 
<claim-text>and means associated with said first reader to transmit said identification information to said second reader independently of said transponder, said </claim-text>
<claim-text>second reader having a second communications protocol with said transponder, responsive to arrival of said transponder in an individual lane to obtain transponder identification information from such transponder. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said first reader and transaction means provides status information to the second reader as to payment or non-payment of the toll. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> and further comprising multiple antenna channels corresponding to said first reader and wherein said transponder is programmed to determine which of the multiple antennas provides the best consistency of received communication signals. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> wherein said at least one first reader has multiple channels each associated with a different antenna channel and said transponder is equipped to determine which channel it is received most clearly. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference> wherein said antenna signals are synchronized with each other and control such transponder for synchronism with the antenna signals. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> wherein the transmission and reception frequencies of said first reader are different. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the transmission and reception frequencies of said second reader are different. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. Apparatus for collecting highway tolls from vehicles having transponders, comprising: 
<claim-text>a transponder with an optional Smart Card wherein said transponder without such a Smart Card has identification (ID) information and means for calculating a toll, and wherein the transponder having a Smart Card has the additional capacity of debiting a recorded account on said Smart Card; </claim-text>
<claim-text>a lane based reader; </claim-text>
<claim-text>a wide area reader upstream therefrom sharing a first RF communication protocol with the transponder having a Smart Card, the wide area reader having calculating means associated therewith to provide to the transponder the amount of said toll associated with the ID and receive a status receipt reflecting receipt for payment therefrom or at least one other status; </claim-text>
<claim-text>means for communication between said first and second readers independent of said transponders; </claim-text>
<claim-text>means for associating the status and ID with the vehicle carrying such transponder at said lane based reader. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference> wherein said lane based reader is responsive to a paid or other status signal from said transponder respectively to signal further action of said vehicle. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> and further comprising: said first reader having different upstream channels for RF communications with a transponder in said upstream area; 
<claim-text>said second reader having different downstream channels for RF communications with a transponder in any one of said lanes; and </claim-text>
<claim-text>means for synchronizing broadcasts on said first and second separate channels to avoid time overlap of signals on said upstream and/or downstream channels. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference> and further comprising a plurality of said second readers, and wherein said second readers are synchronized with each other. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference> where said second readers are also synchronized with said first reader channel. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. Apparatus as claimed in <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the TDMA protocol is used as said first communications protocol. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. On a closed toll highway, using RF for toll calculations, for vehicles with Smart Card equipped transponders, apparatus comprising: upstream means having a first reader to obtain the entry information and transponder ID from a transponder under a first protocol to actuate and report the status of toll payment associated with the transponder ID by amounts recorded on said Smart Card under said first protocol; and downstream means having a second reader to confirm the association of vehicle and transponder ID under a second protocol. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A toll collection system for a roadway comprising: 
<claim-text>an upstream reader adjacent to said roadway designed to enter into RF communication with a transponder equipped with a Smart Card; </claim-text>
<claim-text>a downstream reader adjacent to said roadway disposed to enter into RF communication with such transponder; </claim-text>
<claim-text>a transaction manager connected for RF communication with both said upstream and said downstream readers; </claim-text>
<claim-text>said transaction manager adapted to cooperate with the upstream reader to calculate a toll upon communication of the upstream reader with the transponder; </claim-text>
<claim-text>said transaction manager adapted to pre-calculate a first and second part message responsive to a toll calculation; </claim-text>
<claim-text>said transponder having means to calculate and send to the upstream reader a similar first and second part message responsive to the deduction of a toll; </claim-text>
<claim-text>said transaction manager adapted to compare said transaction manager and said transponder first message parts; and </claim-text>
<claim-text>said downstream reader adapted to compare said transaction manager and said transponder second message parts. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A method of RF toll collection in a toll collection environment having an upstream roadway with a first communications zone from which a plurality of vehicles may flow into a plurality of downstream lanes, said vehicles having RF transponders including a Smart Card, the method comprising the steps of: providing a first reader associated with the first communications zone; providing at least one second reader controlling multiple RF channels each individual to a downstream lane, there being first and second RF communications protocols corresponding respectively to said first and second readers; 
<claim-text>establishing first reader RF communication with one of said transponders and obtaining therefrom identification (ID) and data for toll collection; </claim-text>
<claim-text>calculating said toll amount; </claim-text>
<claim-text>attempting to deduct said toll amount from a balance indicated on said transponder; </claim-text>
<claim-text>sending a record of the toll amount, the status of said attempt at toll deduction, and said ID to said second reader independently of said transponder; </claim-text>
<claim-text>establishing second reader RF communication with a transponder having the same ID; and </claim-text>
<claim-text>signalling the status of toll payment by a vehicle associated with said transponder.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001755A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001755A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001755A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001755A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001755A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001755A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001755A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
