<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030005384A1-20030102-M00001.NB SYSTEM "US20030005384A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030005384A1-20030102-M00001.TIF SYSTEM "US20030005384A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-M00002.NB SYSTEM "US20030005384A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030005384A1-20030102-M00002.TIF SYSTEM "US20030005384A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-M00003.NB SYSTEM "US20030005384A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030005384A1-20030102-M00003.TIF SYSTEM "US20030005384A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-M00004.NB SYSTEM "US20030005384A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030005384A1-20030102-M00004.TIF SYSTEM "US20030005384A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00000.TIF SYSTEM "US20030005384A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00001.TIF SYSTEM "US20030005384A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00002.TIF SYSTEM "US20030005384A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00003.TIF SYSTEM "US20030005384A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00004.TIF SYSTEM "US20030005384A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00005.TIF SYSTEM "US20030005384A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00006.TIF SYSTEM "US20030005384A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00007.TIF SYSTEM "US20030005384A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00008.TIF SYSTEM "US20030005384A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00009.TIF SYSTEM "US20030005384A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00010.TIF SYSTEM "US20030005384A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00011.TIF SYSTEM "US20030005384A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00012.TIF SYSTEM "US20030005384A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030005384A1-20030102-D00013.TIF SYSTEM "US20030005384A1-20030102-D00013.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030005384</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10060789</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020130</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-191676</doc-number>
</priority-application-number>
<filing-date>20010625</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H03M013/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>714</class>
<subclass>755000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Apparatus for reproducing data and apparatus for recording/reproducing data</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Akihiro</given-name>
<family-name>Itakura</family-name>
</name>
<residence>
<residence-non-us>
<city>Kawasaki</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>FUJITSU LIMITED</organization-name>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>Patrick G. Burns, Esq.</name-1>
<name-2>GREER, BURNS &amp; CRAIN, LTD.</name-2>
<address>
<address-1>Suite 2500</address-1>
<address-2>300 South Wacker Dr.</address-2>
<city>Chicago</city>
<state>IL</state>
<postalcode>60606</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">In an apparatus for reproducing data, decoded data is generated based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, and a value of a channel value constant, which is used in an iterative decoding process, is controlled when said decoded data is generated in accordance with the iterative decoding method. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention generally relates to an apparatus for reproducing data and an apparatus for recording/reproducing data such as a magnetic disk apparatus, an optical disk apparatus, or a like, and more particularly to the apparatus for recording/reproducing data, which writes or reads data to or from a recording medium by using a turbo coding approach and an iterative decoding approach, and a device for reproducing data, which reads data from the recording medium by using the iterative decoding approach. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> A turbo coding approach is a coding technology having a greater coding gain and has been a subject of attention in the communication field. In general, a turbo coding device encodes a data bit sequence u by using two recursive convolutional encoders. For example, the turbo coding device can be configured as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> and <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 1, a</cross-reference> turbo coding device <highlight><bold>10</bold></highlight> includes a first encoder <highlight><bold>11</bold></highlight>, an interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>12</bold></highlight>, a second encoder <highlight><bold>13</bold></highlight>,and a multiplexer (MUX/Puncture) <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> The first encoder <highlight><bold>11</bold></highlight> and the second encoder <highlight><bold>13</bold></highlight> are recursive convolutional encoders. The first encoder <highlight><bold>11</bold></highlight> generates a parity bit sequence p<highlight><bold>1</bold></highlight> with respect to the data sequence u input to the turbo coding device <highlight><bold>10</bold></highlight>. The interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>12</bold></highlight> outputs a signal sequence in which a bit arrangement order of the data bit sequence u is changed. The second encoder <highlight><bold>13</bold></highlight> generates a parity bit sequence p<highlight><bold>2</bold></highlight> with respect to a signal sequence from the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The MUX/Puncture <highlight><bold>14</bold></highlight> generates an encoded data bit sequence yk by multiplexing the data bit sequence u with the parity bit sequence p<highlight><bold>1</bold></highlight> output from the first encoder <highlight><bold>11</bold></highlight> and the parity bit sequence p<highlight><bold>2</bold></highlight> output from the second encoder <highlight><bold>13</bold></highlight> in accordance with a predetermined rule. When multiplexing the data bit sequence u with the parity bit sequence p<highlight><bold>1</bold></highlight> and the parity bit sequence p<highlight><bold>2</bold></highlight>, the MUX/Puncture <highlight><bold>14</bold></highlight> thins off (punctures) bits in accordance with a predetermined rule (a puncture function) so as to improve a coding rate. The encoded data bit sequence yk generated as described above is output from the turbo coding device <highlight><bold>10</bold></highlight>. In a communication system, the encoded data bit sequence yk is modulated in accordance with a predetermined rule and is output from a transmitting device. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Alternatively, in the turbo coding device <highlight><bold>10</bold></highlight> configured as shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> as a turbo coding device <highlight><bold>11</bold></highlight>, two recursive convolutional encoders (the first encoder <highlight><bold>11</bold></highlight> and the second encoder <highlight><bold>13</bold></highlight>) are connected in series. In this example, the data bit sequence u is encoded by the first encoder <highlight><bold>11</bold></highlight> and the bit arrangement order of a signal sequence obtained by encoding the data bit sequence u is changed by the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>12</bold></highlight>. A signal sequence output from the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>12</bold></highlight> is encoded by the second encoder <highlight><bold>13</bold></highlight>. Then, a signal sequence obtained by the second encoder <highlight><bold>13</bold></highlight> is output as the encoded data bit sequence yk. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> When a signal transmitted from the transmitting device as described above is received as a receive signal by a receiving device, the receive signal is demodulated in the receiving device. Then, signal value sequences U, Y<highlight><bold>1</bold></highlight>, and Y<highlight><bold>2</bold></highlight> are obtained with respect to a data bit sequence u and parity bit sequences p<highlight><bold>1</bold></highlight> and p<highlight><bold>2</bold></highlight> included in the encoded data bit sequence yk. The signal value sequences U, Y<highlight><bold>1</bold></highlight>, and Y<highlight><bold>2</bold></highlight> are input to a decoding device corresponding to the turbo coding device <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In the decoding device, a soft output decode is conducted by two decoders corresponding to the two of the first encoder <highlight><bold>11</bold></highlight> and the second encoder <highlight><bold>13</bold></highlight>. Soft output information (likelihood information) regarding each information bit obtained from one decoder is provided to another decoder as anterior information. And such an operation is repeatedly conducted. For example, such the decoding device is configured as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> so as to process the signal value sequences U as demodulated signal sequences corresponding the data bit sequence u and the parity bit sequences p<highlight><bold>1</bold></highlight> and p<highlight><bold>2</bold></highlight>, respectively, included in the coded data bit sequence yk output from the turbo coding device <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 3, a</cross-reference> decoding device <highlight><bold>20</bold></highlight> includes a first SISO (Soft In Soft Out) decoder <highlight><bold>21</bold></highlight>, interleavers (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>22</bold></highlight> and <highlight><bold>23</bold></highlight>, a deinterleaver (&pgr;<highlight><bold>1</bold></highlight><highlight><superscript>&minus;1</superscript></highlight>) <highlight><bold>25</bold></highlight>, a second SISO decoder <highlight><bold>24</bold></highlight>, and a hard decision decoder <highlight><bold>26</bold></highlight>. The first SISO decoder <highlight><bold>21</bold></highlight> corresponds to the first encoder <highlight><bold>11</bold></highlight> and the second SISO decoder <highlight><bold>24</bold></highlight> corresponds to the second encoder <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> When the first SISO decoder <highlight><bold>21</bold></highlight> receives signal value sequences U and Y<highlight><bold>1</bold></highlight>, the first SISO decoder <highlight><bold>21</bold></highlight> inputs the signal value sequences U and Y<highlight><bold>1</bold></highlight> and also inputs anterior information L(u). Then, the first SISO decoder <highlight><bold>21</bold></highlight> conducts a MAP (Maximum a Posterior Probability) decoding. A posterior probability is a probability whether or not a bit uk is &ldquo;0&rdquo; or &ldquo;1&rdquo; in a condition in that a signal value sequence Y (y<highlight><bold>0</bold></highlight>, y<highlight><bold>1</bold></highlight>, . . . , yk, . . . , yn) is detected. In the MAP decoding, an LLR (Log-Likelihood Ratio) L(u*), which is a logarithm ratio of a posterior probability P (uk&verbar;Y), is calculated as follows:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>L</italic></highlight>(<highlight><italic>u*</italic></highlight>)&equals;<highlight><italic>L</italic></highlight>(<highlight><italic>uk&verbar;Y</italic></highlight>)&equals;ln&lcub;<highlight><italic>P</italic></highlight>(<highlight><italic>uk&equals;</italic></highlight>1&verbar;<highlight><italic>Y</italic></highlight>)<highlight><italic>/P</italic></highlight>(<highlight><italic>uk&equals;</italic></highlight>0&verbar;<highlight><italic>Y</italic></highlight>)&rcub;&emsp;&emsp;(1).</in-line-formula></paragraph>
<paragraph id="P-0013" lvl="7"><number>&lsqb;0013&rsqb;</number> In the above calculation in accordance with an equation (1), the signal value sequence Y is the signal value sequences U and Y<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> A probability P(uk&equals;1&verbar;Y) where the bit uk is &ldquo;1&rdquo; and a probability P(uk&equals;0&verbar;Y) where the bit uk is &ldquo;0&rdquo; are calculated based on a trellis diagram showing a state transition obtained from the signal value sequences U and Y<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> On the other hand, the LLR L(u*) is calculated in accordance with the following equation (2):</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>L</italic></highlight>(<highlight><italic>u*</italic></highlight>)<highlight><italic>&equals;Lc*yk&plus;L</italic></highlight>(<highlight><italic>uk</italic></highlight>)<highlight><italic>&plus;Le</italic></highlight>(<highlight><italic>uk</italic></highlight>)&emsp;&emsp;(2).</in-line-formula></paragraph>
<paragraph id="P-0016" lvl="2"><number>&lsqb;0016&rsqb;</number> Lc*yk: channel value (Lc: a constant (channel value constant) determined by S/N, yk: received signal series y<highlight><bold>0</bold></highlight>, y<highlight><bold>1</bold></highlight>, . . . , yn) </paragraph>
<paragraph id="P-0017" lvl="2"><number>&lsqb;0017&rsqb;</number> L(uk): anterior information as a known appearance probability related to uk&equals;1, uk&equals;0) </paragraph>
<paragraph id="P-0018" lvl="2"><number>&lsqb;0018&rsqb;</number> Le(uk): external likelihood information obtained by associating with uk from a constraint of a code. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Based on the above equation (2), the first SISO decoder <highlight><bold>21</bold></highlight> calculates the external likelihood information Le(uk) in accordance with a following equation:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Le</italic></highlight>(<highlight><italic>uk</italic></highlight>)<highlight><italic>&equals;L</italic></highlight>(<highlight><italic>u*</italic></highlight>)<highlight><italic>&minus;Lc*yk&minus;L</italic></highlight>(<highlight><italic>uk</italic></highlight>)&emsp;&emsp;(3).</in-line-formula></paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> The LLR L(u*) calculated as described in the above equation (3) is substituted (refer to the equation (1)) so as to obtain the external likelihood information Le(uk). A sequence of the external likelihood information Le(uk) sequentially obtained is supplied to the second SISO decoder <highlight><bold>24</bold></highlight> as a sequence of the anterior information L(uk) via the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>23</bold></highlight>. In addition to the sequence of the anterior information L(uk), the signal value sequence U is input to the decoding device <highlight><bold>20</bold></highlight> is supplied to the second SISO decoder <highlight><bold>24</bold></highlight> through the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>22</bold></highlight>, and a signal value sequence Y<highlight><bold>2</bold></highlight> is input directly to the SISO decoder <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The second SISO decoder <highlight><bold>24</bold></highlight> calculates a new LLR L(u*) by considering the anterior information L(uk) input thereto according to the equation (1). And, the second SISO decoder <highlight><bold>24</bold></highlight> calculates the external likelihood information Le(uk) in accordance with the above equation (3) by using the LLR L(u*) and the anterior information L(uk) supplied from the first SISO decoder <highlight><bold>21</bold></highlight>. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> The external likelihood information Le(uk) obtained by the second SISO decoder <highlight><bold>24</bold></highlight> is supplied to the first SISO decoder <highlight><bold>21</bold></highlight> as the anterior information L(uk) via the deinterleaver (&pgr;<highlight><bold>1</bold></highlight><highlight><superscript>&minus;1</superscript></highlight>) <highlight><bold>25</bold></highlight>. And, the first SISO decoder <highlight><bold>21</bold></highlight> calculates the LLR L(u*) and the external likelihood information Le(uk) in accordance with a procedure described above by considering the anterior information L(uk). Then, the external likelihood L(uk) from the first SISO decoder <highlight><bold>21</bold></highlight> is supplied to the second SISO decoder <highlight><bold>24</bold></highlight> as the anterior information L(uk). </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> As described above, the first SISO decoder <highlight><bold>21</bold></highlight> and the second SISO decoder <highlight><bold>24</bold></highlight> use the external likelihood Le(uk) calculated on another decoder as the anterior information L(uk) so as to repeatedly calculate the LLR L(u*) (iterative decoding). It should be noted that the anterior information L(uk) is &ldquo;0&rdquo; (L(uk)&equals;0) at a first calculation of the first SISO decoder <highlight><bold>21</bold></highlight>. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The hard decision decoder <highlight><bold>26</bold></highlight> decides whether or not the bit uk is &ldquo;0&rdquo; or &ldquo;1&rdquo;, based on the LLR L(u*) obtained by the second SISO decoder <highlight><bold>24</bold></highlight> when a decoding process described above is repeated a predetermined number of times. For example, the hard decision decoder <highlight><bold>26</bold></highlight> decides that the bit uk is &ldquo;1&rdquo; (uk&equals;1) when the LLR L(u*) is positive (L(u*)&gt;0). On the other hand, the hard decision decoder <highlight><bold>26</bold></highlight> decides that the bit uk is &ldquo;0&rdquo; (uk&equals;0) when the LLR L(u*) is positive (L(u*)&equals;0). A decision result of the hard decision decoder <highlight><bold>26</bold></highlight> is output as a decoding result uk. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> While the decoding process is repeated (iterative decoding), a probability of a value (&ldquo;0&rdquo; or &ldquo;1&rdquo;) to be originally obtained is becoming higher and a probability of an opposite value is becoming lower (a difference between a probability of the bit uk to be &ldquo;0&rdquo; and a probability of the bit uk to be &ldquo;1&rdquo;). Accordingly, reliability of a decision by the hard decision decoder <highlight><bold>26</bold></highlight> is increased. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> A turbo coding/decoding approach as described above has been apply to a data recording/reproducing apparatus such as a magnetic disk apparatus, an optical disk apparatus, or the like. For example, an example applying the turbo coding/decoding approach to the magnetic disk apparatus is proposed in &ldquo;Performance of High Rate Turbo Codes on a PR<highlight><bold>4</bold></highlight>-Equalized Magnetic Recording Channel&rdquo;, Proc. IEEE Int. Conf. on Communications, pp947-951, 1998, edited by W. E. Ryan. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> In the data recording/reproducing apparatus, the turbo coding approach is used for a recording system (write system) for writing data on a recording medium and the iterative decoding approach as described above is used for a reproducing system (read system) for reproducing data from the recording medium. By applying approaches such as these, it is possible to reproduce data recorded on the recording medium (the magnetic disk, the optical disk (including magneto-optical disk), or the like) at a high density with few data errors. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> In the data recording/reproducing apparatus such as the magnetic disk apparatus, the optical disk apparatus, or the like, a commutative recording medium is used. Thus, a data decoding condition (a channel value constant Lc, a repetitive number, or a like) to which the data recording/reproducing apparatus applies for one recording medium is not always an optimum data decoding condition in another data recording/reproducing apparatus which reproduces data from the same recording medium. Also, the data decoding condition suitably applied to one recording medium is not always the optimum data decoding condition for another recording medium. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Moreover, when a different recording method is applied to a different region of one recording medium to record data (when a different detecting method detects data in the different region), the optimum data decoding condition is not always the same data decoding condition for data recorded on each region. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> Furthermore, in a case in which data is written in a data decoding condition for writing data to a regular recording medium, to a recording medium whose characteristics are deteriorated, it is impossible to precisely reproduce data even if the iterative decoding is conducted based on a reproduction signal from the recording medium. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> It is a general object of the present invention to provide a data reproducing apparatus and a data recording/reproducing apparatus in which the above-mentioned problems are eliminated. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> A more specific object of the present invention is to provide the data reproducing apparatus and the data recording/reproducing apparatus that can reproduce data with few errors for any recording medium. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> The above object of the present invention is achieved by an apparatus for reproducing data, including: a decoded data generating part generating decoded data based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, and a constant value controlling part controlling a value of a channel value constant used in an iterative decoding process when said decoded data is generated in accordance with the iterative decoding method. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Accordingly, in the apparatus, it is possible to control the channel value constant used during the iterative decoding process.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> Other objects, features, and advantages of the present invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings, in which: </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing a configuration example of a turbo coding device; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram showing another configuration example of the turbo coding device; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram showing a configuration example of a decoding device corresponding to the turbo coding device shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a block diagram showing a data recording/reproducing apparatus according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a block diagram showing a configuration example of the iterative decoder in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>; </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram showing a first configuration of a read system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>; </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a flowchart showing one example of a process conducted by a controller in the read system shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a block diagram showing a second configuration of the read system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>; </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a block diagram showing a third configuration of the read system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>; </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a block diagram showing a first configuration of a write system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>; </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a block diagram showing an example of a data format recorded to a recording medium (magneto-optical disk); </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram showing a second configuration of the write system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>; </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram showing a configuration example of a first encoder in the write system shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>; </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram showing a configuration example of a second encoder in the write system shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>; </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a block diagram showing a fourth configuration of the read system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>; </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart showing one example of a process conducted by the controller in the read system shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>; and </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a block diagram showing a third configuration of the write system in the data recording/reproducing apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> An embodiment according to the present invention will now be described with reference to figures. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> A data recording/reproducing apparatus can be configured as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. This data recording/reproducing apparatus in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is an optical disk apparatus using a magneto-optical disk (MO) as a recording medium. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 4, a</cross-reference> write system of a data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> includes an encoder <highlight><bold>31</bold></highlight>, an MUX (multiplexer) puncture <highlight><bold>32</bold></highlight>, an interleaver (&pgr;) <highlight><bold>33</bold></highlight>, and an LD (Laser Diode) actuating circuit <highlight><bold>34</bold></highlight>. Also, the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> includes a recording/reproducing mechanism <highlight><bold>100</bold></highlight>. The recording/reproducing mechanism <highlight><bold>100</bold></highlight> includes an optical head (not shown) having an optical beam output unit (for example, a laser diode (LD)), an optical detector (for example, a photo diode), a magneto-optical disk <highlight><bold>110</bold></highlight>, and a disk actuator <highlight><bold>120</bold></highlight> rotating the magneto-optical disk <highlight><bold>110</bold></highlight> at a predetermined speed. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> The encoder <highlight><bold>31</bold></highlight> generates a parity bit sequence pk corresponding to user data uk to be recorded. The MUX puncture <highlight><bold>32</bold></highlight> multiplexes the user data uk with a parity bit sequence pk generated by the encoder <highlight><bold>31</bold></highlight> in accordance with a predetermined rule. And the MUX puncture <highlight><bold>32</bold></highlight> punctures a bit in accordance with a predetermined rule (puncture function for dropping a bit to encode), from a bit sequence obtained by multiplexing the user data uk with a parity bit sequence pk, so that encoded data bit sequence ai is generated. The interleaver (&pgr;) <highlight><bold>33</bold></highlight> generates an encoded data bit sequence ci by changing an arrangement of the encoded data bit sequence ai encoded by the MUX puncture <highlight><bold>32</bold></highlight>. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The LD actuating circuit <highlight><bold>34</bold></highlight> controls an optical beam output unit (not shown) of the recording/reproducing mechanism <highlight><bold>100</bold></highlight> based on the encoded data bit sequence ci. A signal is written on a magneto-optical disk <highlight><bold>110</bold></highlight> by an optical beam from optical beam output unit based on the encoded data bit sequence ci. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> The signal is written to the magnet-optical disk <highlight><bold>110</bold></highlight> at a high density so as to provide a partial response waveform as a reproduction signal. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> On the other hand, a read system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> includes an Amp (amplifier) <highlight><bold>41</bold></highlight>, an AGC (Auto gain controller) <highlight><bold>42</bold></highlight>, a LPF (Low Path Filter) <highlight><bold>43</bold></highlight>, an equalizer (EQ) <highlight><bold>44</bold></highlight>, and an A/D (Analogue to Digital) converter <highlight><bold>45</bold></highlight>. A waveform of a reproduction signal MO, which is output from the optical detector (not shown) of the recording/reproducing mechanism <highlight><bold>100</bold></highlight>, is adjusted by the Amp <highlight><bold>41</bold></highlight>, the AGC <highlight><bold>42</bold></highlight>, the LPF <highlight><bold>43</bold></highlight>, and the equalizer <highlight><bold>44</bold></highlight>. The waveform is regarded as a PR waveform (a partial response waveform). That is, the reproduction signal from the magneto-optical disk <highlight><bold>110</bold></highlight> is in a state in which a PR channel <highlight><bold>150</bold></highlight> substantially encodes the signal written to the optional disk <highlight><bold>110</bold></highlight>. Accordingly, it is possible to realize a configuration of the turbo coding device <highlight><bold>11</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, by the write system (the encoder <highlight><bold>31</bold></highlight>) and a substantial encoding function in the PR channel <highlight><bold>150</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Also, the read system includes a memory unit <highlight><bold>46</bold></highlight>, an iterative decoder <highlight><bold>47</bold></highlight>, and a controller <highlight><bold>48</bold></highlight>. A signal, whose waveform is equalized as described above, is converted into a digital value at a predetermined period by the A/D converter <highlight><bold>45</bold></highlight>. A sampling value yi is consecutively output from the A/D converter <highlight><bold>45</bold></highlight> and then is stored in the memory unit <highlight><bold>46</bold></highlight>. Then, the sampling value yi stored in the memory unit <highlight><bold>46</bold></highlight> is decoded by the iterative decoder <highlight><bold>47</bold></highlight> (turbo decoding). The controller <highlight><bold>48</bold></highlight> controls a decoding condition of the iterative decoder <highlight><bold>47</bold></highlight> and also obtains decoded data output from the iterative decoder <highlight><bold>47</bold></highlight>, as reproduction data. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> As described above, the iterative decoder <highlight><bold>47</bold></highlight> includes the encoder <highlight><bold>31</bold></highlight> in the read system and a decoder corresponding to the encoding function in the PR channel <highlight><bold>150</bold></highlight>. For example, the iterative decoder <highlight><bold>47</bold></highlight> is configured as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the iterative decoder <highlight><bold>47</bold></highlight> includes a PR channel APP (a posterior probability decoding) <highlight><bold>471</bold></highlight>, a deinterleaver (&pgr;<highlight><superscript>&minus;1</superscript></highlight>) <highlight><bold>472</bold></highlight>, a DEMUX (demultiplexer) depuncture <highlight><bold>473</bold></highlight>, a code APP <highlight><bold>474</bold></highlight>, a MUX (multiplexer) puncture <highlight><bold>475</bold></highlight>, an interleaver (&pgr;) <highlight><bold>476</bold></highlight>, a hard decision decoder <highlight><bold>477</bold></highlight>, a subtractor <highlight><bold>478</bold></highlight>, and a subtractor <highlight><bold>479</bold></highlight>. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> The PR channel APP <highlight><bold>471</bold></highlight> corresponds to the encoding function in the PR channel <highlight><bold>150</bold></highlight> and conducts a posterior probability decoding (APP) (refer to the decoding device <highlight><bold>20</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>). In detail, under a condition in which a sampling value Y (y<highlight><bold>1</bold></highlight>, y<highlight><bold>2</bold></highlight>, . . . , yn) is detected, a LLR (Log-Likelihood Ratio) L(ci*), which is a ratio of a probability P(ci&equals;1&verbar;1Y) where the encoded data bit sequence ci is &ldquo;1&rdquo; to a probability P(ci&equals;0&verbar;Y) where the encoded data bit sequence ci is &ldquo;0&rdquo;, is calculated in accordance with the following expression (4).</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>L</italic></highlight>(<highlight><italic>ci*</italic></highlight>)&equals;ln&lcub;<highlight><italic>P</italic></highlight>(<highlight><italic>uk</italic></highlight>&equals;1&verbar;Y)<highlight><italic>/P</italic></highlight>(<highlight><italic>uk</italic></highlight>&equals;0&verbar;Y)&rcub;&emsp;&emsp;(4)</in-line-formula></paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Each of probabilities P(ci&equals;1&verbar;Y) and P(ci&equals;0&verbar;Y) is calculated based on the trellis diagram showing a state transition of a sampling value yi. For this calculation, the channel value constant Lc is used. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> The subtractor <highlight><bold>478</bold></highlight> subtracts anterior information La(ci) based on an output from the code APP <highlight><bold>474</bold></highlight> (described later) from likelihood information L(ci*) output from the PR channel APP <highlight><bold>471</bold></highlight> and obtains external likelihood information Le(c). </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> The deinterleaver (&pgr;<highlight><superscript>&minus;1</superscript></highlight>) <highlight><bold>472</bold></highlight> changes an arrangement order of a sequence of the external likelihood information Le(c) consecutively obtained as described above and supplies to the DEMUX depuncture <highlight><bold>473</bold></highlight>. The DEMUX depuncture <highlight><bold>473</bold></highlight> demultiplexes a sequence of the likelihood information into a sequence of the likelihood information L(uk) corresponding to a data bit uk and a sequence of likelihood information L(pk) corresponding to a parity bit pk. In addition, information is additionally provided (depuncture function) in accordance with a rule corresponding to the predetermined rule (the puncture function of the MUX puncture <highlight><bold>32</bold></highlight>) for puncturing a bit in the encoding process. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The code APP <highlight><bold>474</bold></highlight> is a decoder corresponding to the encoder <highlight><bold>31</bold></highlight> in the write system described above, and conducts the posterior probability decoding (APP). In detail, the code APP <highlight><bold>474</bold></highlight> calculates a Log-Likelihood Ratio L(u*) shown by a posterior probability (a probability where uk&equals;1 or a probability where uk&equals;0) and a Log-Likelihood Ratio L(p*) shown by a posterior probability (a probability where pk&equals;1 or a probability where pk&equals;0) concerning a data bit, based on anterior information L(uk) being likelihood information concerning data bit and anterior information L(pk) being likelihood information concerning a parity bit. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> A sequence of the Log-Likelihood Ratio L(u*) and a sequence of the Log-Likelihood Ratio L(p*) are consecutively output from the code APP <highlight><bold>474</bold></highlight>, and are supplied to the MUX puncture <highlight><bold>475</bold></highlight>. The MUX puncture <highlight><bold>475</bold></highlight> multiplexes the sequence of the Log-Likelihood ratio L(u*) with the sequence of the Log-Likelihood ratio L(p*) and punctures a bit in accordance with the predetermined rule (puncture function). As a result, the likelihood information L(c*) is output from the MUX puncture <highlight><bold>475</bold></highlight>. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> In the code APP <highlight><bold>474</bold></highlight>, a channel value Lc*yi may not be considered. Thus, the likelihood information L(c*) obtained by multiplexing the Log-Likelihood information L(u*) and L(p*) is expressed as follows:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>L</italic></highlight>(<highlight><italic>c*</italic></highlight>)<highlight><italic>&equals;Le</italic></highlight>(<highlight><italic>c</italic></highlight>)<highlight><italic>&plus;La</italic></highlight>(<highlight><italic>c</italic></highlight>)&emsp;&emsp;(5)</in-line-formula></paragraph>
<paragraph id="P-0070" lvl="2"><number>&lsqb;0070&rsqb;</number> Le(c): anterior information </paragraph>
<paragraph id="P-0071" lvl="2"><number>&lsqb;0071&rsqb;</number> La(c): external likelihood information. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> And, the subtractor <highlight><bold>478</bold></highlight> subtracts the anterior information Le(c) (before the anterior information Le(c) is divided into L(uk) and L(pk)) supplied to the DEMUX depuncture <highlight><bold>473</bold></highlight> from the likelihood information L(c*). As a result, the external likelihood information La(ci) is obtained. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> The external likelihood information La(ci) is supplied as the anterior information La(ci) to the PR channel APP <highlight><bold>471</bold></highlight> and the subtractor <highlight><bold>478</bold></highlight> via the interleaver (&pgr;) <highlight><bold>476</bold></highlight>. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> As described above, the iterative decoder <highlight><bold>47</bold></highlight> including the PR channel APP <highlight><bold>471</bold></highlight> and the code APP <highlight><bold>474</bold></highlight> repetitively conduct a decoding process by using the anterior information supplied from another side (iterative decoding). </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> And, the hard decision decoder <highlight><bold>477</bold></highlight> decides whether data bit Uk is &ldquo;1&rdquo; or &ldquo;0&rdquo;, based on the Log-Likelihood ratio L(u*) related to data bit uk output from the code APP <highlight><bold>474</bold></highlight> when the decoding process is conducted a predetermined number of times. In detail, similarly to a case of the iterative decoding in a communication system described in Description of the Related Art, the hard decision decoder <highlight><bold>477</bold></highlight> decides that the data bit Uk is &ldquo;1&rdquo; (data bit Uk&equals;1) when the Log-Likelihood ratio L(u*) is positive (L(u*)&gt;0). On the other hand, the hard decision decoder <highlight><bold>477</bold></highlight> decides that the data bit Uk is &ldquo;0&rdquo; (data bit Uk&equals;0) when the Log-Likelihood ratio L(u*) is negative (L(u*)&lt;0). This decision result is output as decoded data. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> configured as described above, since the magneto-optical disk <highlight><bold>110</bold></highlight> is a removable recoding medium, a condition of the decoding process in a case in which data is reproduced from a certain magneto-optical disk <highlight><bold>110</bold></highlight> is not always a suitable condition when data is reproduced from another magneto-optical disk <highlight><bold>110</bold></highlight>. In addition, in a case in which data is reproduced from the same magneto-optical disk <highlight><bold>110</bold></highlight>, an optimum condition is different for the decoding process in each of several data recording/reproducing apparatuses because of a performance difference between the several data recording/reproducing apparatuses. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> Thus, before reproducing data from the magneto-optical disk <highlight><bold>110</bold></highlight>, a test read process is conducted for data, and then an optimum channel value constant Lc (refer to the equation (6)) is determined to be used in the PR channel APP <highlight><bold>471</bold></highlight> of the iterative decoder <highlight><bold>47</bold></highlight>. In order to realize such a process, in the read system, for example, an error rate calculator <highlight><bold>49</bold></highlight>, an Lc controller <highlight><bold>50</bold></highlight>, and a memory <highlight><bold>51</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> are provided as well as the iterative decoder <highlight><bold>47</bold></highlight> and the controller <highlight><bold>48</bold></highlight>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, the error rate calculator <highlight><bold>49</bold></highlight> calculates an error rate of the decoded data output from the iterative decoder <highlight><bold>47</bold></highlight>. The controller <highlight><bold>48</bold></highlight> supplies a setting control signal of the channel value constant Lc to the Lc controller <highlight><bold>50</bold></highlight>. The Lc controller <highlight><bold>50</bold></highlight> sets the channel value constant Lc based on the setting control signal supplied from the controller <highlight><bold>48</bold></highlight>. The channel value constant Lc set by the Lc controller <highlight><bold>50</bold></highlight> is supplied to the PR channel APP <highlight><bold>471</bold></highlight> of the iterative decoder <highlight><bold>47</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>). </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> For example, the controller <highlight><bold>48</bold></highlight> generates a setting control signal for setting an optimum channel value constant Lc in accordance with steps shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> while in an operation of the test read process. The controller <highlight><bold>48</bold></highlight> also controls the write system. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the controller <highlight><bold>48</bold></highlight> controls the write system to actuate and write data to the magneto-optical disk <highlight><bold>110</bold></highlight> (step S<highlight><bold>1</bold></highlight>). After the data is written on the magneto-optical disk <highlight><bold>110</bold></highlight>, the controller <highlight><bold>48</bold></highlight> supplies the setting control signal for setting a channel value constant Lc to the Lc controller <highlight><bold>50</bold></highlight> (step S<highlight><bold>2</bold></highlight>). </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> When the Lc controller <highlight><bold>50</bold></highlight> sets the channel value constant Lc based on the setting control signal, the read system is controlled to read data written on the magneto-optical disk <highlight><bold>110</bold></highlight>. And, the iterative decoder <highlight><bold>47</bold></highlight> inputs a sampling value of the reproduction signal obtained by reading data from the magneto-optical disk <highlight><bold>110</bold></highlight> and conducts the decoding process in accordance with a procedure described above. In the decoding process, the PR channel APP <highlight><bold>471</bold></highlight> uses the channel value constant Lc set by the Lc controller <highlight><bold>50</bold></highlight> (refer to the equation (6)). </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> When the error rate calculator <highlight><bold>49</bold></highlight> calculates an error rate with respect to the decoded data obtained by the decoding process, the controller <highlight><bold>48</bold></highlight> records a corresponding relationship between the channel value constant Lc and the error rate in a table in the memory <highlight><bold>51</bold></highlight> (step S<highlight><bold>3</bold></highlight>). The controller <highlight><bold>48</bold></highlight> determines whether or not the steps S<highlight><bold>2</bold></highlight> and S<highlight><bold>3</bold></highlight> are repeated the predetermined number of times (step S<highlight><bold>4</bold></highlight>). If it is determined that the steps S<highlight><bold>2</bold></highlight> and S<highlight><bold>3</bold></highlight> have not been repeated the predetermined number of times, the controller <highlight><bold>48</bold></highlight> outputs the setting control signal to consecutively change the channel value constant Lc, and the steps S<highlight><bold>2</bold></highlight> and S<highlight><bold>3</bold></highlight> are repeated. The controller <highlight><bold>48</bold></highlight> successively records the corresponding relationship between the channel value constant Lc being consecutively set while repeating the steps S<highlight><bold>2</bold></highlight> and S<highlight><bold>3</bold></highlight> and the error rate of the decoded data obtained by the decoding process using the channel value constant, in the memory <highlight><bold>51</bold></highlight>. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> When the steps S<highlight><bold>2</bold></highlight> and S<highlight><bold>3</bold></highlight> are repeated the predetermined number of times, the controller <highlight><bold>48</bold></highlight> specifies a minimum error rate in the error rates recorded in the table in the memory <highlight><bold>51</bold></highlight> (step S<highlight><bold>5</bold></highlight>). Then, the controller <highlight><bold>48</bold></highlight> determines the channel value constant Lc corresponding to the minimum error rate as the optimum channel value constant Lc (step S<highlight><bold>6</bold></highlight>). </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> When the optimum channel value constant Lc is determined, the test read process is terminated. After that, when data is reproduced, the controller <highlight><bold>48</bold></highlight> supplies the setting control signal to the LC controller <highlight><bold>50</bold></highlight> so as to set the optimum channel value constant Lc. Consequently, in the data reproducing process, the PR channel APP <highlight><bold>471</bold></highlight> of the iterative decoder <highlight><bold>47</bold></highlight> conducts the decoding process by using the optimum channel value constant Lc where the error rate is minimized during the test read process. Therefore, the decoded data having few errors is output from the iterative decoder <highlight><bold>47</bold></highlight>. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> The test read process is conducted every time the magneto-optical disk <highlight><bold>110</bold></highlight> is inserted into the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, or every fixed time interval. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> In the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, in a case in which an error occurs when data already recorded on the magneto-optical disk <highlight><bold>110</bold></highlight> is reproduced, a retry operation is conducted to re-read data from the magneto-optical disk <highlight><bold>110</bold></highlight>. Also, in the retry operation, it is possible to set a suitable channel value constant Lc by a first configuration shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram showing the first configuration of the read system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> The controller <highlight><bold>48</bold></highlight> controls the write system to conduct the retry operation when data is reproduced and the error rate calculated by the error rate calculator <highlight><bold>49</bold></highlight> becomes more than a predetermined value. And in the retry operation, the controller <highlight><bold>48</bold></highlight> supplies the setting control signal to the Lc controller <highlight><bold>50</bold></highlight> so as to change the channel value constant Lc. The iterative decoder <highlight><bold>47</bold></highlight> (PR channel APP <highlight><bold>471</bold></highlight>) conducts the decoding process by using the channel value constant Lc set by the Lc controller <highlight><bold>50</bold></highlight> based on the setting control signal. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> And when the error rate, which is calculated by the error rate calculator <highlight><bold>49</bold></highlight> in respect to the decoded data obtained in the decoding process, becomes smaller than the predetermined value, the iterative decoder <highlight><bold>47</bold></highlight> (PR channel APP <highlight><bold>471</bold></highlight>) conducts the decoding process by using the channel value constant Lc determined by the controller <highlight><bold>48</bold></highlight>. On the other hand, when the error rate of the decoded data obtained by the retry operation does not becomes smaller than the predetermined value, the channel value constant Lc is further changed and the retry operation is conducted again. Accordingly, the retry operation is repeated until the error rate of the decoded data becomes smaller than the predetermined value while changing the channel value constant Lc within a predetermined number of times. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> In the magneto-optical disk <highlight><bold>110</bold></highlight>, there are an ID region where information is recorded by pre-pits and a data region. The information in the ID region is detected by a difference of a light intensity. The information in the data region is detected by a polarity difference of a Kerr rotation angle. Because of a difference between a detecting method for detecting information in the ID region and a detecting method for detecting information in the data region, qualities of signals detected from the ID region and the data region are different. That is, S/Ns (signal to noise ratios) are different. Thus, the channel value constant Lc can be switched when reproducing the information in the ID region or when reproducing the information in the data region. In this case, for example, the read system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> can be configured as shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a block diagram showing a second configuration of the read system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 8, a</cross-reference> reproduction signal (hereinafter called an ID signal) obtained from the ID region and a reproduction signal (hereinafter called an MO signal) are supplied to a multiplexer <highlight><bold>52</bold></highlight> via Amps (Amplifiers) <highlight><bold>41</bold></highlight> (<highlight><bold>1</bold></highlight>) and <highlight><bold>41</bold></highlight> (<highlight><bold>2</bold></highlight>), respectively. The multiplexer <highlight><bold>52</bold></highlight> selects either one of the ID signal and the MO signal in response to an ID/MO switching control signal from the controller <highlight><bold>48</bold></highlight>, and supplies to the AGC <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> The waveform of the reproduction signal (the ID signal or the MO signal) processed in AGC <highlight><bold>42</bold></highlight> is adjusted by the LPF <highlight><bold>43</bold></highlight> and the equalizer <highlight><bold>44</bold></highlight>. The reproduction signal which waveform is adjusted is sampled by the A/D converter <highlight><bold>45</bold></highlight>. A sampling value is stored in the memory unit <highlight><bold>46</bold></highlight>. The iterative decoder <highlight><bold>47</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>) conducts the iterative decoding process for the sampling value stored in the memory unit <highlight><bold>46</bold></highlight> and generates the decoded data. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> The controller <highlight><bold>48</bold></highlight> outputs a switching control signal of the channel value constant Lc to the iterative decoder <highlight><bold>47</bold></highlight> by synchronizing with the ID/MO switching control signal. When the read system reads the ID region of the magneto-optical disk <highlight><bold>110</bold></highlight>, the controller <highlight><bold>48</bold></highlight> outputs the ID/MO switching control signal for selecting the ID signal to the multiplexer <highlight><bold>52</bold></highlight>, and also outputs an Lc switching control signal for setting the channel value constant Lc suitable for the detecting method for detecting data on the ID region, to the iterative decoder <highlight><bold>47</bold></highlight>. On the other hand, when the read system reads the data region of the magneto-optical disk <highlight><bold>110</bold></highlight>, the controller <highlight><bold>48</bold></highlight> outputs the ID/MO switching control signal for selecting the MO signal to the multiplexer <highlight><bold>52</bold></highlight>, and also outputs the Lc switching control signal for setting the channel value constant Lc suitable for the detecting method for detecting data in the data region, to the iterative decoder <highlight><bold>47</bold></highlight>. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> As a result, when the iterative decoder <highlight><bold>47</bold></highlight> (PR channel APP <highlight><bold>471</bold></highlight>) decodes based on the sampling value of the ID signal, the channel value constant Lc suitable for the detecting method of the ID region is used. And when the iterative decoder <highlight><bold>47</bold></highlight> (PR channel APP <highlight><bold>471</bold></highlight>) decodes based on the sampling value of the MO signal, the channel value constant Lc suitable for the detecting method of the MO region is used. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> Accordingly, when data is reproduced from the ID region of the magneto-optical disk <highlight><bold>110</bold></highlight>, and also when data is reproduced from the data region of the magneto-optical disk <highlight><bold>110</bold></highlight> it is possible to obtain the decoded data having fewer errors. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> For example, the channel value constant Lc used when data in the ID region is reproduced and the channel value constant Lc used when data in the data region is reproduced are set experimentally beforehand. Two channel value constants Lc are maintained in the PR channel APP <highlight><bold>471</bold></highlight> of the iterative decoder <highlight><bold>47</bold></highlight> beforehand so as to be capable of being used when switched. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> Each of two channel value constants Lc stored in the PR channel APP <highlight><bold>471</bold></highlight> can be updated to be suitable for the test read process or the retry process. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> In the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, a recording process may not be precisely conducted because of environmental temperature, unstable power, a medium defect, or the like. In order to overcome such problems, generally, a recording state is checked by reading data recorded on the magneto-optical disk <highlight><bold>110</bold></highlight>. This check is called a verify operation. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> In the verify operation, since a data detection ability is high, in a case in which an apparatus reproduces data from a recording medium to which the apparatus itself recorded the data, even if it is determined that the recording medium stores normal reproducible data, it is not always determined that the recording medium is in a reproducible recording state when another apparatus reproduces the data recorded on the recording medium. Or the repetition number of times may increase for the decoding process necessary to reproduce normal data by another apparatus. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> Therefore, in the verify operation, the iterative decoding is conducted in a decoding condition in which the repetition number of times of the decoding process is set to be fewer than the repetition number of times for a regular data reproducing process. Compared with the decoding condition for reproducing normal data, it becomes more difficult to reproduce the normal data in the decoding condition of the verify operation. If it is determined that the recording medium is in a recording state in which the normal data is reproducible, by the verify operation in the decoding condition in which the normal data is not easily reproduced, a margin of the decoding condition becomes bigger so that data is normally reproduced by another apparatus. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a block diagram showing a third configuration of the read system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. In order to realize the verify operation, for example, as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, the read system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> includes a repetition number controller <highlight><bold>53</bold></highlight> as well as the iterative decoder <highlight><bold>47</bold></highlight> and the controller <highlight><bold>48</bold></highlight>. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> In the verify operation in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, the controller <highlight><bold>48</bold></highlight> supplies a number setting control signal to the repetition number controller <highlight><bold>53</bold></highlight>. The number setting control signal is supplied to set a repetition number of times which is fewer than the repetition number of times for the decoding process conducted for general data reproduction and may be one time. The repetition number controller <highlight><bold>53</bold></highlight> sets the repetition number of times for the decoding process at the iterative decoder <highlight><bold>47</bold></highlight> based on the number setting control signal. In the verify operation, the iterative decoder <highlight><bold>47</bold></highlight> conducts the decoding process for the repetition number of times set by the repetition number controller <highlight><bold>53</bold></highlight> and then outputs the decoded data obtained as a result. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> Then, it is determined whether or not the data recording state in a magneto-optical disk <highlight><bold>110</bold></highlight> is suitable based on the error rate of the decoded data output from the iterative decoder <highlight><bold>47</bold></highlight>. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> In addition, in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, a test write operation is conducted in order to realize to form an optimum record mark. The test write operation is conducted to compensate for an unstable optimum recording condition because of a different sensitivity of each magneto-optical disk <highlight><bold>110</bold></highlight>. The test write operation is conducted every time the magneto-optical disk <highlight><bold>110</bold></highlight> is inserted into the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> or every fixed time interval. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> Similar to the verify operation as described above, in a case in which test data written on the magneto-optical disk <highlight><bold>110</bold></highlight> is reproduced and the iterative decoder <highlight><bold>47</bold></highlight> conducts the decoding process in the same decoding condition as the general data is reproduced, when the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> reproduces data from the magneto-optical disk <highlight><bold>110</bold></highlight> on which the data was recorded by the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> itself, it is determined that the magneto-optical disk <highlight><bold>110</bold></highlight> is in the normal data reproducible recording state. However, in this case, even if the data is recorded to the magneto-optical disk <highlight><bold>110</bold></highlight> in a writing condition capable of obtaining the normal data reproducible recording state, it is not always possible to normally reproduce the data when another apparatus reproduces the data recorded on the magneto-optical disk <highlight><bold>110</bold></highlight>. Or the repetition number of times may increase for the decoding process necessary to reproduce normal data by another apparatus. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> Accordingly, in the test write operation, similar to the verify operation, the repetition number of times for the decoding process is decreased to be fewer than the repetition number of times for regularly reproducing data and then the iterative decoding process is conducted in the decoding condition in which it is not easy to reproduce the normal data. Data, which is written by the test write operation in the decoding condition difficult to reproduce the normal data, is examined. Then, the writing condition for the optimum data is determined. In the magneto-optical disk <highlight><bold>110</bold></highlight> where data is recorded in the writing condition determined as described above, the margin of the decoding condition becomes greater so as to normally reproduce data by another apparatus. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> In the read system having the same configuration (<cross-reference target="DRAWINGS">FIG. 9</cross-reference>) as that realizing the verify operation as described above, it is possible to realize a process in the test write operation. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> That is, in the test write operation, in response to the number setting control signal from the controller <highlight><bold>48</bold></highlight>, the repetition number controller <highlight><bold>53</bold></highlight> sets the repetition number (can be one time) fewer than the repetition number of the decoding process for the regular data reproducing process. In the test write operation, when the test data written on the magneto-optical disk <highlight><bold>110</bold></highlight> is reproduced, the iterative decoder <highlight><bold>47</bold></highlight> conducts the decoding process for the repetition number of times determined by the repetition number controller <highlight><bold>53</bold></highlight> and then outputs the decoded data obtained as a result. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> Then, based on the error rate of the decoded data output from the iterative decoder <highlight><bold>47</bold></highlight>, a write-in condition is examined for the magneto-optical disk <highlight><bold>110</bold></highlight>. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> Moreover, in the decoding process repetitively conducted by the repetition decoder <highlight><bold>47</bold></highlight>, a data detecting ability is changed by a coding rate (a number of parity bits). When the coding rate is decreased (by increasing the number of parity bits) and redundancy is increased, the data detecting ability is improved. On the other hand, when the coding rate is increased (by decreasing the number of parity bits) and redundancy is decreased, the data detecting ability is decreased. However, when the redundancy is increased, record density is reduced. Thus, in practice, an optimum condition is determined by trade-off of the redundancy and the record density. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> However, a characteristic of a recording medium (for example, the magneto-optical disk <highlight><bold>110</bold></highlight>) is not constant, and there is a recording medium with a normal characteristic and a recording medium with a deteriorated characteristic. That is, the recording medium with a normal characteristic may be set to the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, or the recording medium with the deteriorated characteristic may be set to the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. In such a case, if the coding rate (redundancy) of the data is fixed by the trade-off with recording density, the data coded in the coding rate may not be carried out normally, depending on the recording medium used in a data recording reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> Then, it is required to change the coding rate when data is recorded. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> In order to enable a change of such the coding rate, the write system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> is configured as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a block diagram showing a first configuration of the write system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 10</cross-reference>,the write system includes a record data generating circuit <highlight><bold>35</bold></highlight> provided between the interleaver (&pgr;) <highlight><bold>33</bold></highlight> and the LD actuating circuit <highlight><bold>34</bold></highlight>, as well as the encoder <highlight><bold>31</bold></highlight>, the MUX puncture <highlight><bold>32</bold></highlight>, the interleaver (&pgr;) <highlight><bold>33</bold></highlight>, and the LD actuating circuit <highlight><bold>34</bold></highlight>. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> For example, based on a verification result of the write-in condition of the test write operation, the controller <highlight><bold>48</bold></highlight> supplies a setting control signal of the puncture condition for thinning out a bit, to the MUX puncture <highlight><bold>32</bold></highlight>. In the test write operation, the controller <highlight><bold>48</bold></highlight> outputs the setting control signal for setting the puncture condition (default condition) defined beforehand, and then the test write operation is performed on the puncture condition. Consequently, when the normal data reproduction is not completed, the controller <highlight><bold>48</bold></highlight> outputs the setting control signal which lowers a puncture rate, which is a rate of thinning out a bit, (the coding rate is lowered). On the other hand, when the normal data reproduction is completed in the test write operation, the setting control signal for setting the puncture condition defined beforehand is maintained. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> Thus, if the puncture condition is determined, the controller <highlight><bold>48</bold></highlight> supplies a detection pattern signal for specifying the puncture condition to the record data generating circuit <highlight><bold>35</bold></highlight>. As mentioned above, the record data generating circuit <highlight><bold>35</bold></highlight> additionally provides the detection pattern to a head of the coding bit sequence ai which should be written in the MO region supplied through the interleaver (&pgr;) <highlight><bold>33</bold></highlight>, and supplies it to the LD actuating circuit <highlight><bold>34</bold></highlight>. Consequently, as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the detection pattern is recorded on the recording medium (magneto-optical disc <highlight><bold>110</bold></highlight>) in front of the data part (Data) in the MO region following a pre-pit region (ID region). </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> The example of setting the puncture condition will be described in detail. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> Where a user data bit sequence uk is uk&equals;(u<highlight><bold>0</bold></highlight>, u<highlight><bold>1</bold></highlight>, u<highlight><bold>2</bold></highlight>, u<highlight><bold>3</bold></highlight>, u<highlight><bold>4</bold></highlight>, u<highlight><bold>5</bold></highlight>, u<highlight><bold>6</bold></highlight>, u<highlight><bold>7</bold></highlight>, u<highlight><bold>8</bold></highlight>, u<highlight><bold>9</bold></highlight>, u<highlight><bold>10</bold></highlight>, u<highlight><bold>11</bold></highlight>, u<highlight><bold>12</bold></highlight>, u<highlight><bold>13</bold></highlight>, u<highlight><bold>14</bold></highlight>, u<highlight><bold>15</bold></highlight>, . . . , uN-<highlight><bold>2</bold></highlight>, uN-<highlight><bold>1</bold></highlight>), and the parity bit sequence pk output from the encoder <highlight><bold>31</bold></highlight> is </paragraph>
<paragraph id="P-0118" lvl="2"><number>&lsqb;0118&rsqb;</number> pk&equals;(p<highlight><bold>0</bold></highlight>, p<highlight><bold>1</bold></highlight>, p<highlight><bold>2</bold></highlight>, p<highlight><bold>3</bold></highlight>, p<highlight><bold>4</bold></highlight>, p<highlight><bold>5</bold></highlight>, p<highlight><bold>6</bold></highlight>, p<highlight><bold>7</bold></highlight>, p<highlight><bold>8</bold></highlight>, p<highlight><bold>9</bold></highlight>, p<highlight><bold>10</bold></highlight>, p<highlight><bold>11</bold></highlight>, p<highlight><bold>12</bold></highlight>, p<highlight><bold>13</bold></highlight>, p<highlight><bold>14</bold></highlight>, p<highlight><bold>15</bold></highlight>, . . . , pN-<highlight><bold>2</bold></highlight>, pN-<highlight><bold>1</bold></highlight>), the MUX puncture <highlight><bold>32</bold></highlight> generates the coding bit sequences ai as follows: </paragraph>
<paragraph id="P-0119" lvl="2"><number>&lsqb;0119&rsqb;</number> ai&equals;(a<highlight><bold>0</bold></highlight>, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, a<highlight><bold>3</bold></highlight>, - - , aM-<highlight><bold>2</bold></highlight>, aM-<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> If the puncture condition defined beforehand responds to a coding rates <highlight><bold>16</bold></highlight>/<highlight><bold>17</bold></highlight>, the MUX puncture <highlight><bold>32</bold></highlight> thins out the parity bit. Then, one parity bit is additionally provided for every <highlight><bold>15</bold></highlight> user data bits (refer to underlined part) so that the coding bit sequence ai becomes as follows:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>a</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>a0</mi>
            <mo>,</mo>
            <mi>a1</mi>
            <mo>,</mo>
            <mi>a2</mi>
            <mo>,</mo>
            <mi>a3</mi>
            <mo>,</mo>
            <mi>&hellip;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>u0</mi>
            <mo>,</mo>
            <mi>u1</mi>
            <mo>,</mo>
            <mi>u2</mi>
            <mo>,</mo>
            <mi>u3</mi>
            <mo>,</mo>
            <mi>u4</mi>
            <mo>,</mo>
            <mi>u5</mi>
            <mo>,</mo>
            <mi>u6</mi>
            <mo>,</mo>
            <mi>u7</mi>
            <mo>,</mo>
            <mi>u8</mi>
            <mo>,</mo>
            <mi>u9</mi>
            <mo>,</mo>
            <mi>u10</mi>
            <mo>,</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mi>u11</mi>
            <mo>,</mo>
            <mi>u12</mi>
            <mo>,</mo>
            <mi>u13</mi>
            <mo>,</mo>
            <mi>u14</mi>
            <mo>,</mo>
            <mi>u15</mi>
            <mo>,</mo>
            <mrow>
              <munder>
                <mi>p15</mi>
                <mi>_</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&hellip;</mi>
            </mrow>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030005384A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="35.0406" file="US20030005384A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> In a case in which the test write is conducted on such puncture condition, when the normal data is not successfully reproduced, the controller <highlight><bold>48</bold></highlight> supplies the setting control signal for setting the puncture condition corresponding to the coding rate to the MUX puncture <highlight><bold>32</bold></highlight>, so as to reduce the coding rate to eight ninths. Consequently, the MUX puncture <highlight><bold>32</bold></highlight> thins off the parity bit. Then, one parity bit is additionally provided for every <highlight><bold>8</bold></highlight> user data bits (refer to underlined part) so that the coding bit sequence ai becomes as follows:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>a</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>a0</mi>
            <mo>,</mo>
            <mi>a1</mi>
            <mo>,</mo>
            <mi>a2</mi>
            <mo>,</mo>
            <mi>a3</mi>
            <mo>,</mo>
            <mi>&hellip;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>u0</mi>
            <mo>,</mo>
            <mi>u1</mi>
            <mo>,</mo>
            <mi>u2</mi>
            <mo>,</mo>
            <mi>u3</mi>
            <mo>,</mo>
            <mi>u4</mi>
            <mo>,</mo>
            <mi>u5</mi>
            <mo>,</mo>
            <mi>u6</mi>
            <mo>,</mo>
            <mi>u7</mi>
            <mo>,</mo>
            <munder>
              <mi>p7</mi>
              <mi>_</mi>
            </munder>
            <mo>,</mo>
            <mi>u8</mi>
            <mo>,</mo>
            <mi>u9</mi>
            <mo>,</mo>
            <mi>u10</mi>
            <mo>,</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mi>u11</mi>
            <mo>,</mo>
            <mi>u12</mi>
            <mo>,</mo>
            <mi>u13</mi>
            <mo>,</mo>
            <mi>u14</mi>
            <mo>,</mo>
            <mi>u15</mi>
            <mo>,</mo>
            <mrow>
              <munder>
                <mi>p15</mi>
                <mi>_</mi>
              </munder>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&hellip;</mi>
            </mrow>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030005384A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="36.9684" file="US20030005384A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> Since puncture condition is controlled to lower the coding rate when the normal data is not obtained in the test write operation, the iterative decoding process is conducted with higher data detection ability of detecting the normal data. Therefore, it is possible to obtain the decoded data having fewer errors. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> Moreover, in a case in which the puncture condition is determined when data is written and the detection pattern for specifying the puncture condition is written on the recording medium as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, when the data is reproduced, the controller <highlight><bold>48</bold></highlight> can recognize the coding rate corresponding to the puncture condition based on the detection pattern, and can control the decode process by the iterative decoder <highlight><bold>47</bold></highlight> based on the coding rate. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> In this example of setting the puncture condition, the puncture condition and the detection pattern for specifying puncture condition are written based on a result of the test write operation, but it is not limited to do so. Alternatively, for example, the puncture condition and the detection pattern may be written according to a mode setup operation such as a normal mode, a characteristic priority mode, or the like by a user. A medium type that is set can be detected and the puncture condition and the detection pattern may be written according to a detected medium type. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> In the iterative decoding process, the data detection ability changes depending on a configuration of the encoder <highlight><bold>31</bold></highlight>. By using a longer constraint length, the data detection ability is improved more when coded data obtained by the encoder <highlight><bold>31</bold></highlight> is decoded by the iterative decoding process. However, in the encoder <highlight><bold>31</bold></highlight> having longer constraint length, the encoding process becomes complex and it requires more time for the encoding process. In practice, characteristics of a process time and a recording medium are considered and then such an encoder is used that the data detection ability being more than a certain level can be expected in the iterative decoding process. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> However, as mentioned above, the characteristic of the recording medium is not constant, and there are recording media with the normal characteristic and the recording media with the deteriorated characteristic. It is desired to change the configuration of the encoder <highlight><bold>31</bold></highlight> when data is recorded so as to obtain higher data detection ability in the iterative decoding process. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> In order to change the configuration of the encoder <highlight><bold>31</bold></highlight>, for example, the write system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> can be constituted as shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram showing a second configuration of the write system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the write system includes a first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>), a second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>), and a selecting circuit <highlight><bold>36</bold></highlight>, as well as the MUX puncture <highlight><bold>32</bold></highlight>, the interleaver (&pgr;) <highlight><bold>33</bold></highlight>, the LD (laser) actuating circuit <highlight><bold>34</bold></highlight>, and the record data generating circuit <highlight><bold>35</bold></highlight> which are the same circuits as in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram showing a configuration example of a first encoder in the write system shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. For example, as shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) is a recursive convolutional encoder including two delay elements <highlight><bold>311</bold></highlight> and <highlight><bold>312</bold></highlight> and two difference gates <highlight><bold>315</bold></highlight> and <highlight><bold>316</bold></highlight>, and conducts the encoding process by a constraint-length &ldquo;3&rdquo; (&equals;3). <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram showing a configuration example of a second encoder in the write system shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. As shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, for example, the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) includes a recursive convolutional encoder including four delay elements <highlight><bold>311</bold></highlight>, <highlight><bold>312</bold></highlight>, <highlight><bold>313</bold></highlight>, and <highlight><bold>314</bold></highlight> and two difference gates <highlight><bold>317</bold></highlight> and <highlight><bold>318</bold></highlight>, and conducts the encoding process by a constraint-length &ldquo;5&rdquo; (&equals;5). </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> For example, based on the verification of the writing condition in the test write operation mentioned above, the controller <highlight><bold>48</bold></highlight> outputs an encoder condition setting signal for indicating either one the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>), to a selecting circuit <highlight><bold>36</bold></highlight>. For example, in the test write operation, the controller <highlight><bold>48</bold></highlight> supplies the encoder condition setting signal for selecting the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>), to the selecting circuit <highlight><bold>36</bold></highlight>. In a state in which the selecting circuit <highlight><bold>36</bold></highlight> selects the parity bit sequence from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) with the encoder condition setting signal, the test write operation is conducted. Consequently, when the normal data reproduction is not completed, the controller <highlight><bold>48</bold></highlight> supplies the encoder condition setting signal for selecting the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) of a longer constraint length to the selecting circuit <highlight><bold>36</bold></highlight>. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> On the other hand, when the normal data reproduction is completed in the test write operation, the encoder condition setting signal for selecting the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) is maintained. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> Thus, if either one of the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) is selected, the controller <highlight><bold>48</bold></highlight> supplies the detection pattern signal for specifying a selected encoder to the record data generating circuit <highlight><bold>35</bold></highlight>. Similar to the example (refer to <cross-reference target="DRAWINGS">FIG. 11</cross-reference>) mentioned above, the record data generating circuit <highlight><bold>35</bold></highlight> additionally provides the detection pattern to the head of the coding bit sequence ai which is to be written in the MO region, and supplies it to the LD actuating circuit <highlight><bold>34</bold></highlight>. Consequently, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the detection pattern is recorded in front of the data part (Data) in the MO region following the pre-pit region (ID region) on the recording medium (magneto-optical disc <highlight><bold>110</bold></highlight>). </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> When the normal data is not obtained in the test write operation, one encoder having the longer constraint length is selected and the encoding process is conducted. Accordingly, the iterative decoding process having a higher data detection ability is conducted. Therefore, it is possible to obtain the decoded data having fewer errors. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> Moreover, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, since the detection pattern, which specifies the encoder used when data is recorded, is written to the recording medium, the controller <highlight><bold>48</bold></highlight> can recognize the characteristic of the encoder used based on the detection pattern when the data is reproduced. Accordingly, it is possible to control the decoding process at the iterative decoder <highlight><bold>47</bold></highlight> based on the characteristic of the encoder. </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> In the example described above, the detection pattern, which selects the encoder and specifies the selected encoder, is written based on a result of the test write operation, but it is not limited to do so. For example, the detection pattern may be written depending on a mode setup such as a normal mode or a characteristic priority mode determined by a user. Alternatively the medium type can be detected and then the detection pattern may be written in accordance with the detected medium type. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> In the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>, if the repetition number of times in the iterative decoding process becomes larger, the data detection ability is improved. However, if the number of times of repetition becomes larger, the transfer rate of data becomes slower. It is important to set the repetition number of times to be a suitable number. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> Then, in order to properly control the repetition number of times for the decoding process, for example, as shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, the read system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> includes the error rate calculator <highlight><bold>49</bold></highlight> as well as the iterative decoder <highlight><bold>47</bold></highlight> and a controller <highlight><bold>48</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a block diagram showing a fourth configuration of the read system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> In the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> having this configuration, the controller <highlight><bold>48</bold></highlight> conducts a process in accordance with steps shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> when data is reproduced. <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart showing one example of a process conducted by the controller in the read system shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 16</cross-reference>, the controller <highlight><bold>48</bold></highlight> obtains the decode data from the iterative decoder <highlight><bold>47</bold></highlight>, if the iterative decoding process in the iterative decoder <highlight><bold>47</bold></highlight> is started when data is reproduced (step S<highlight><bold>11</bold></highlight>). The controller <highlight><bold>48</bold></highlight> determines whether or not the error rate calculated by the error rate calculator <highlight><bold>49</bold></highlight> based on the decode data is larger or smaller than a predetermined level (step S<highlight><bold>12</bold></highlight>). The predetermined level is defined based on whether or not the error rate of the decoded data at the predetermined level can be made reliable by an error correcting code (ECC). That is, if the error rate is smaller than a predetermined level, the decoded data can be made reliable by the error correcting code. On the other hand, if the error rate is greater than the predetermined level, the decoded data cannot be made reliable by the error correcting code. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> When the error rate calculated by the error rate calculator <highlight><bold>49</bold></highlight> is larger than the predetermined level, the controller <highlight><bold>48</bold></highlight> does not send a stop signal, in order to repetitively continue the decoding process at the iterative decoder <highlight><bold>47</bold></highlight>. Accordingly, when the error rate of the decoded data is greater than the predetermined level, the iterative decoder <highlight><bold>47</bold></highlight> repetitively conducts the decoding process (steps S<highlight><bold>11</bold></highlight> and S<highlight><bold>12</bold></highlight> are repeated). </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> Thus, when the error rate of the decoded data, which is obtained while the decoding process is repetitively conducted, becomes smaller, the controller <highlight><bold>48</bold></highlight> supplies an iterative decode stop signal to the iterative decoder <highlight><bold>47</bold></highlight> (step S<highlight><bold>13</bold></highlight>). Upon receiving the iterative decode stop signal, the iterative decoder <highlight><bold>47</bold></highlight> stops the decoding process being repetitively performed. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> Accordingly, the iterative decoder <highlight><bold>47</bold></highlight> repeats the decoding process until the error rate of the decoded data can be corrected by the error correcting code (ECC). That is, the decoded data obtained when the decoding process is completed can be corrected into a proper data by using the error correcting code (ECC) at least, even if the error rate is not zero. The decoding process is not repeated until the error rate becomes zero. However, it is possible to realize the decoding process to be more efficient. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> Furthermore, as mentioned above, the data detection ability in the iterative decode is influenced by the configuration of the encoder <highlight><bold>31</bold></highlight> (refer to the example shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>). For example, if the number of encoders is increased, the data detection ability in the iterative decoding process is further improved. However, the encoding process becomes complex. Then, it is desired to control the number of encoders to obtain an optimal coding rate based on the characteristic of the recording medium (magneto-optical disk <highlight><bold>110</bold></highlight>) </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> For example, in order to control the number of the encoders when data is recorded, the write system of the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> may be configured as shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a block diagram showing a third configuration of the write system in the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight>. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, the write system includes the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>), the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>), and the interleaver (&pgr;<highlight><bold>1</bold></highlight>) <highlight><bold>37</bold></highlight>, as well as the MUX puncture <highlight><bold>32</bold></highlight>, the interleaver (&pgr;) <highlight><bold>33</bold></highlight>, the LD actuating circuit <highlight><bold>34</bold></highlight>, and the record data generating circuit <highlight><bold>35</bold></highlight>. The first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) inputs the user data sequence uk, and generates a first parity bit sequence p<highlight><bold>1</bold></highlight>k by a recursive convolutional encoding process. The second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) inputs the bit sequence obtained when the user data sequence uk is processed by the interleaver (&pgr;) <highlight><bold>37</bold></highlight>, and generates a second parity bit sequence p<highlight><bold>2</bold></highlight>k by the recursive convolutional encoding process. The MUX puncture <highlight><bold>32</bold></highlight> multiplexes the user data sequence uk, the first parity bit sequence p<highlight><bold>1</bold></highlight>k, and second parity bit sequence p<highlight><bold>2</bold></highlight>k in accordance with a predetermined rule. Also the MUX puncture <highlight><bold>32</bold></highlight> punctures a bit in accordance with the puncture condition based on an encoder condition setting signal supplied from the controller <highlight><bold>45</bold></highlight> (as described later). </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> Similar to the examples shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> and <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the controller <highlight><bold>48</bold></highlight> supplies the encoder condition setting signal to the MUX puncture <highlight><bold>32</bold></highlight> based on the test write operation, the mode setup operation, the medium type, and the like. The encoder condition setting signal shows the puncture condition for conducting the puncture function in accordance with a predetermined rule by multiplexing the parity bit sequence p<highlight><bold>1</bold></highlight>k from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) with the user data sequence uk in general. On the other hand, when the encoder condition setting signal is output in a case in which the data detection ability is raised, the encoder condition setting signal shows the puncture condition for conducting the puncture function in accordance with a predetermined rule by multiplexing the first parity bit sequence p<highlight><bold>1</bold></highlight>k and the second parity bit sequence p<highlight><bold>2</bold></highlight>k output from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>), respectively. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> In general, the first parity bit sequence p<highlight><bold>1</bold></highlight>k from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) is additionally provided to the user bit sequence uk, and the coding bit sequence ai is generated. In a case in which the characteristic is prioritized, the first parity bit sequence p<highlight><bold>1</bold></highlight>k and the second parity bit sequence p<highlight><bold>2</bold></highlight>k output from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) are additionally provided to the user bit sequence uk, and the coding bit sequence ai is generated. And similar to the examples shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> and <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the controller <highlight><bold>48</bold></highlight> supplies a detection pattern signal showing an encoding condition (number of encodes) specified by the encoder condition setting signal. The record data generating circuit <highlight><bold>35</bold></highlight> additionally provides the detection pattern to the head of the coding bit sequence ai which is to be written in the MO region, and supplies to the LD actuating circuit <highlight><bold>34</bold></highlight>. Consequently, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the detection pattern is recorded before the data part (Data) in the MO region following the pre-pit region (ID region). </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> Therefore, it is possible to recognize which encoder conducts the encoding process based on the detection pattern, when data is reproduced. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> An example of setting the encoding condition will now be described. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> It is assumed that the user data bit sequence uk becomes as follows: </paragraph>
<paragraph id="P-0150" lvl="2"><number>&lsqb;0150&rsqb;</number> uk (u<highlight><bold>0</bold></highlight>, u<highlight><bold>1</bold></highlight>, u<highlight><bold>2</bold></highlight>, u<highlight><bold>3</bold></highlight>, u<highlight><bold>4</bold></highlight>, u<highlight><bold>5</bold></highlight>, u<highlight><bold>6</bold></highlight>, u<highlight><bold>7</bold></highlight>, u<highlight><bold>8</bold></highlight>, u<highlight><bold>9</bold></highlight>, u<highlight><bold>10</bold></highlight>, u<highlight><bold>11</bold></highlight>, u<highlight><bold>12</bold></highlight>, u<highlight><bold>13</bold></highlight>, u<highlight><bold>14</bold></highlight>, u<highlight><bold>15</bold></highlight>, . . . , uN-<highlight><bold>2</bold></highlight>, uN-<highlight><bold>1</bold></highlight>), the parity bit sequence pk output from the encoder <highlight><bold>31</bold></highlight> becomes as follows; </paragraph>
<paragraph id="P-0151" lvl="2"><number>&lsqb;0151&rsqb;</number> pk&equals;(p<highlight><bold>0</bold></highlight>, p<highlight><bold>1</bold></highlight>, p<highlight><bold>2</bold></highlight>, p<highlight><bold>3</bold></highlight>, p<highlight><bold>4</bold></highlight>, p<highlight><bold>5</bold></highlight>, p<highlight><bold>6</bold></highlight>, p<highlight><bold>7</bold></highlight>, p<highlight><bold>8</bold></highlight>, p<highlight><bold>9</bold></highlight>, p<highlight><bold>10</bold></highlight>, p<highlight><bold>11</bold></highlight>, p<highlight><bold>12</bold></highlight>, p<highlight><bold>13</bold></highlight>, p<highlight><bold>14</bold></highlight>, p<highlight><bold>15</bold></highlight>, . . . , pN-<highlight><bold>2</bold></highlight>, pN-<highlight><bold>1</bold></highlight>). Then, the MUX puncture <highlight><bold>32</bold></highlight> generates the following encoding bit sequence ai: </paragraph>
<paragraph id="P-0152" lvl="2"><number>&lsqb;0152&rsqb;</number> ai&equals;(a<highlight><bold>0</bold></highlight>, a<highlight><bold>1</bold></highlight>, a<highlight><bold>2</bold></highlight>, a<highlight><bold>3</bold></highlight>, . . . , aM-<highlight><bold>2</bold></highlight>, aM-<highlight><bold>1</bold></highlight>) If the encoding condition defined beforehand corresponds to the coding rates <highlight><bold>8</bold></highlight>/<highlight><bold>9</bold></highlight> using the parity bit sequence p<highlight><bold>1</bold></highlight>k from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>), the MUX puncture <highlight><bold>32</bold></highlight> punctures the parity bit. Then, one parity bit is additionally provided for every <highlight><bold>8</bold></highlight>user data bits (refer to underlined part) so that the coding bit sequence ai becomes as follows:  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>a</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>a0</mi>
            <mo>,</mo>
            <mi>a1</mi>
            <mo>,</mo>
            <mi>a2</mi>
            <mo>,</mo>
            <mi>a3</mi>
            <mo>,</mo>
            <mi>&hellip;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>u0</mi>
            <mo>,</mo>
            <mi>u1</mi>
            <mo>,</mo>
            <mi>u2</mi>
            <mo>,</mo>
            <mi>u3</mi>
            <mo>,</mo>
            <mi>u4</mi>
            <mo>,</mo>
            <mi>u5</mi>
            <mo>,</mo>
            <mi>u6</mi>
            <mo>,</mo>
            <mi>u7</mi>
            <mo>,</mo>
            <munder>
              <mrow>
                <mi>p1</mi>
                <mo>,</mo>
                <mn>7</mn>
              </mrow>
              <mi>_</mi>
            </munder>
            <mo>,</mo>
            <mi>u8</mi>
            <mo>,</mo>
            <mi>u9</mi>
            <mo>,</mo>
            <mi>u10</mi>
            <mo>,</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mi>u11</mi>
          <mo>,</mo>
          <mi>u12</mi>
          <mo>,</mo>
          <mi>u13</mi>
          <mo>,</mo>
          <mi>u14</mi>
          <mo>,</mo>
          <mi>u15</mi>
          <mo>,</mo>
          <mrow>
            <munder>
              <mrow>
                <mi>p1</mi>
                <mo>,</mo>
                <mn>15</mn>
              </mrow>
              <mi>_</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>&hellip;</mi>
          </mrow>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>,</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
            <mo>,</mo>
            <munder>
              <mrow>
                <mi>p1</mi>
                <mo>,</mo>
                <mrow>
                  <mi>N</mi>
                  <mo>-</mo>
                  <mn>1</mn>
                </mrow>
              </mrow>
              <mi>_</mi>
            </munder>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030005384A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="49.92435" file="US20030005384A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> Moreover, in order to prioritize the performance, if the encoding condition corresponds to the coding rates <highlight><bold>8</bold></highlight>/<highlight><bold>9</bold></highlight> using parity bit sequence p<highlight><bold>1</bold></highlight>k and p<highlight><bold>2</bold></highlight>k from the first encoder <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and the second encoder <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>), the MUX puncture <highlight><bold>32</bold></highlight> thins off the parity bit. Then, one parity bit is additionally provided for every <highlight><bold>8</bold></highlight>user data bits (refer to underlined part) so that the coding bit sequence ai becomes as follows:  
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>a</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>a0</mi>
            <mo>,</mo>
            <mi>a1</mi>
            <mo>,</mo>
            <mi>a2</mi>
            <mo>,</mo>
            <mi>a3</mi>
            <mo>,</mo>
            <mi>&hellip;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>a</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>M</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>u0</mi>
            <mo>,</mo>
            <mi>u1</mi>
            <mo>,</mo>
            <mi>u2</mi>
            <mo>,</mo>
            <mi>u3</mi>
            <mo>,</mo>
            <mi>u4</mi>
            <mo>,</mo>
            <mi>u5</mi>
            <mo>,</mo>
            <mi>u6</mi>
            <mo>,</mo>
            <mi>u7</mi>
            <mo>,</mo>
            <munder>
              <mrow>
                <mi>p1</mi>
                <mo>,</mo>
                <mn>7</mn>
              </mrow>
              <mi>_</mi>
            </munder>
            <mo>,</mo>
            <mi>u8</mi>
            <mo>,</mo>
            <mi>u9</mi>
            <mo>,</mo>
            <mi>u10</mi>
            <mo>,</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mtext>&emsp;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mi>u11</mi>
          <mo>,</mo>
          <mi>u12</mi>
          <mo>,</mo>
          <mi>u13</mi>
          <mo>,</mo>
          <mi>u14</mi>
          <mo>,</mo>
          <mi>u15</mi>
          <mo>,</mo>
          <mrow>
            <munder>
              <mrow>
                <mi>p2</mi>
                <mo>,</mo>
                <mn>15</mn>
              </mrow>
              <mi>_</mi>
            </munder>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>&hellip;</mi>
          </mrow>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>,</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>2</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>u</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>N</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
            <mo>,</mo>
            <munder>
              <mrow>
                <mi>p2</mi>
                <mo>,</mo>
                <mrow>
                  <mi>N</mi>
                  <mo>-</mo>
                  <mn>1</mn>
                </mrow>
              </mrow>
              <mi>_</mi>
            </munder>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030005384A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="49.92435" file="US20030005384A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> In addition, in the examples shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, and <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, although the detection pattern showing each of conditions (coding rate (puncture conditions), an encoder configuration (constraint length, the number of encoders) is recorded on the recording medium, it is not necessary to record such a record pattern. In this case, for example, the decoding condition in the iterative decoder <highlight><bold>47</bold></highlight> in the read system is consecutively changed based on the error rate of the decoded data, so as to output the decoded data as a final decoded data where the error rate becomes minimum. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> In each example described above, the data recording/reproducing apparatus <highlight><bold>1000</bold></highlight> (optical disk apparatus) is illustrated. The examples in which the process in the write system is not required, can be applied to a data reproducing only apparatus for data reproduction. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> According to the embodiment described above, the functions of the controller <highlight><bold>48</bold></highlight> and the Lc controller <highlight><bold>50</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, and the function of the controller <highlight><bold>48</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference> correspond to a constant value controlling part. The error rate calculator <highlight><bold>49</bold></highlight> corresponds to an error state detecting part. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> Moreover, processes in the function of the controller <highlight><bold>48</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> and the step S<highlight><bold>12</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> correspond to a determining part. The process in the step S<highlight><bold>13</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> corresponds to a decoding controlling part. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> Furthermore, the function of the controller <highlight><bold>48</bold></highlight> and the repetitive number controller <highlight><bold>53</bold></highlight> corresponds to a repetitive number controlling part. The functions of the controller <highlight><bold>48</bold></highlight>, the MUX puncture <highlight><bold>32</bold></highlight>, the first and the second encoders <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) and the selecting circuit <highlight><bold>36</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, and the first and the second encoders <highlight><bold>31</bold></highlight> (<highlight><bold>1</bold></highlight>) and <highlight><bold>31</bold></highlight> (<highlight><bold>2</bold></highlight>) shown <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, the functions of the MUX puncture <highlight><bold>32</bold></highlight> and the controller <highlight><bold>48</bold></highlight> correspond to an encoding condition controlling part. And the record data generating circuit <highlight><bold>35</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, and <cross-reference target="DRAWINGS">FIG. 17</cross-reference> corresponds to an encoding condition write controlling part. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> According to the present invention, it is possible to determine the value of the channel value constant used during the iterative decoding process so as to obtain the decoded data having fewer errors from the recording medium. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> In any case in which the iterative decoding process is conducted, it is possible for the constant value controlling part to control the value of the channel value constant. For example, the value of the channel value constant can be controlled in a case of conducing the test read operation for data recorded on the recording medium, or in a case of conducting the retry operation when the decoded data having fewer errors is not obtained. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> According to the present invention, a detecting part is provided to detect the error state (for example, error rate) of the decoded data obtained in the iterative decoding process. The constant value controlling part can control the value of the channel value constant based on the detection result by the detecting part. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> The accuracy of the decoded data obtained in the iterative decoding process is different depending on a method for writing the encoded data. According to the present invention, the stable decoded data can be obtained even if there are regions where data are written in accordance with different writing methods on a single recording medium. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> According to the present invention, it is possible to provide the data reproducing apparatus in which the iterative decoding process is conducted until the error of the decoded data becomes small enough so that the error can be corrected in accordance with a predetermined code correction approach. Therefore, even if data is reproduced from any recording medium, the decoded data can always be obtained in a state better than an error correctable state in accordance with the predetermined code correcting approach. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> In addition, it is not required to repeat the decoding process until the errors of the decoded data are completely corrected. Therefore, it is not necessary to excessively reduce the transfer rate of data. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> The code correction approach is not specifically limited. For example, the error correcting code (ECC) can be used. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> In the data recording/reproducing apparatus according to the present invention, when the record state of encoded data is verified based on the state of the error of the decoded data, the iterative decoding process is conducted on the conditions in which the repetition number of times of the decoding process is reduced to fewer than the repetition number of times when the regular data reproduction is conducted, and it becomes the decode conditions in which normal data cannot be reproduced easier than the regular data reproduction. When the verification is conducted on the decode conditions in which such normal data cannot reproduce easily and it is determined that the recording medium is in a record state in which data can be normally reproduced, margin for the decoding conditions to normally reproduce data becomes greater at another apparatus. Moreover, the decoded data having fewer errors can be generated from several types of the recording medium that are verified. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> The verification of the record state of the decoded data based on the error state of the decoded data can be conducted in the test write operation for writing test data on the recording medium, or in the verify operation for verifying the recording medium. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> In the data recording/reproducing apparatus according to the present invention, the coding condition affecting the data detection ability in the iterative decoding process can be controlled. Then, data encoded in accordance with the turbo coding method based on the coding condition can be recorded on the recording medium. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> Accordingly, when the encoded data is recorded on the recording medium that requires a prioritization of the characteristic, data is encoded by the turbo coding method in the coding condition in which the data detection ability in the iterative decoding process becomes higher, and then the encoded data is recorded on the recording medium. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The coding conditions is not limited, if the data detection ability in the iterative decoding process is affected. For example, the coding rate, the encoder configuration (constraint length), the number of encoders, and the like can be controlled as the coding condition. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> The present invention is not limited to the specifically disclosed embodiments, variations and modifications, and other variations and modifications may be made without departing from the scope of the present invention. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> The present application is based on Japanese Priority Application No. 2001-191676 filed on Jun. 25, 2001, the entire contents of which are hereby incorporated by reference. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. An apparatus for reproducing data, comprising: 
<claim-text>a decoded data generating part generating decoded data based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, and </claim-text>
<claim-text>a constant value controlling part controlling a value of a channel value constant used in an iterative decoding process when said decoded data is generated in accordance with the iterative decoding method. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein when said reproduction signal from each of regions where data is written by a different writing method of said recoding medium is decoded, said constant value controlling part controls said value of said channel value constant so as to be different for each of said regions. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The apparatus as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising: 
<claim-text>an error state detecting part detecting an an error state of said decoded data obtained by said iterative decoding process, </claim-text>
<claim-text>wherein said constant value controlling part controls said value of said channel value constant based on a detection result of said error state of said decoded data by said error state detecting part. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. An apparatus for reproducing data, comprising: 
<claim-text>a decoded data generating part generating decoded data based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, </claim-text>
<claim-text>an error state detecting part detecting an error state of said decoded data obtained in a decoding process, </claim-text>
<claim-text>a determining part determining whether or not said error state of said decoded data, which is detected by said error state detecting part, is correctable in accordance with a predetermined code correcting method, and </claim-text>
<claim-text>a decode controlling part controlling said iterative decoding process to stop when said determining part determines that said error state of said decoded data is correctable in accordance with the predetermined code correcting method. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. An apparatus for recording and reproducing data, comprising: 
<claim-text>a write system writing data encoded in accordance with a turbo coding method, to a recording medium, </claim-text>
<claim-text>a read system generating decoded data based on a reproduction signal from said recording medium in accordance with an iterative decoding method corresponding to said turbo coding method, and </claim-text>
<claim-text>a repetitive number controlling part controlling a number of times for said iterative decoding process to be fewer than a regular repetitive number when data is reproduced, when said read system conducts said iterative decoding process based on said reproduction signal from said recording medium where said write system records the encoded data, and generates said decoded data, and a recording state of said encoded data is verified based on said error state of said decoded data generated in said read system. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. An apparatus for recording and reproducing data, comprising: 
<claim-text>a write system writing data encoded in accordance with a turbo coding method, to a recording medium, </claim-text>
<claim-text>a read system generating decoded data based on a reproduction signal from said recording medium in accordance with an iterative decoding method corresponding to said turbo coding method, and </claim-text>
<claim-text>an encoding condition controlling part controlling an encoding condition influencing data detection ability in an iterative decoding process in said read system when said data encoded in accordance with said turbo coding method is generated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The apparatus as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, further comprising an encoding condition write controlling part writing information specifying said encoding condition controlled by said encoding condition controlling part as well as said data encoded in accordance with said turbo coding method. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A method for reproducing data, comprising the steps of: 
<claim-text>generating decoded data based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, and </claim-text>
<claim-text>controlling a value of a channel value constant used in an iterative decoding process when said decoded data is generated in accordance with the iterative decoding method. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A method for reproducing data, comprising the steps of: 
<claim-text>(a) generating decoded data based on a reproduction signal from a recording medium in accordance with an iterative decoding method corresponding to a turbo coding method, </claim-text>
<claim-text>(b) detecting an error state of said decoded data obtained in a decoding process, </claim-text>
<claim-text>(c) determining whether or not said error state of said decoded data, which is detected in said step (b), is correctable in accordance with a predetermined code correcting method, and </claim-text>
<claim-text>(d) controlling said iterative decoding process to stop when said step (b) determines that said error state of said decoded data is correctable in accordance with a predetermined code correcting method. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A method for recording and reproducing data, comprising the steps of: 
<claim-text>(a) writing data encoded in accordance with a turbo coding method, to a recording medium, </claim-text>
<claim-text>(b) generating decoded data based on a reproduction signal from said recording medium in accordance with an iterative decoding method corresponding to said turbo coding method, and </claim-text>
<claim-text>(c) controlling a number of times for an iterative decoding process to be fewer than a regular repetitive number when data is reproduced, when said read system conducts said iterative decoding process based on said reproduction signal from said recording medium where said write system record encoded data, and generates said decoded data, and a recording state of said encoded data is verified based on said error state of said decoded data generated in said read system. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A method for recording and reproducing data, comprising the steps of: 
<claim-text>(a) writing data encoded in accordance with a turbo coding method, to a recording medium, </claim-text>
<claim-text>(b) generating decoded data based on a reproduction signal from said recording medium in accordance with an iterative decoding method corresponding to said turbo coding method, and </claim-text>
<claim-text>(c) controlling an encoding condition influencing data detection ability in an iterative decoding process in said read system when said data encoded in accordance with said turbo coding method is generated.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>4</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030005384A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030005384A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030005384A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030005384A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030005384A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030005384A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030005384A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030005384A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030005384A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030005384A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030005384A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030005384A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030005384A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030005384A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
