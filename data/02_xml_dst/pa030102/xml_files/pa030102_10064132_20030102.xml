<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001080A1-20030102-M00001.NB SYSTEM "US20030001080A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00001.TIF SYSTEM "US20030001080A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00002.NB SYSTEM "US20030001080A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00002.TIF SYSTEM "US20030001080A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00003.NB SYSTEM "US20030001080A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00003.TIF SYSTEM "US20030001080A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00004.NB SYSTEM "US20030001080A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00004.TIF SYSTEM "US20030001080A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00005.NB SYSTEM "US20030001080A1-20030102-M00005.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00005.TIF SYSTEM "US20030001080A1-20030102-M00005.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00006.NB SYSTEM "US20030001080A1-20030102-M00006.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00006.TIF SYSTEM "US20030001080A1-20030102-M00006.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00007.NB SYSTEM "US20030001080A1-20030102-M00007.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00007.TIF SYSTEM "US20030001080A1-20030102-M00007.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00008.NB SYSTEM "US20030001080A1-20030102-M00008.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00008.TIF SYSTEM "US20030001080A1-20030102-M00008.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00009.NB SYSTEM "US20030001080A1-20030102-M00009.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00009.TIF SYSTEM "US20030001080A1-20030102-M00009.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-M00010.NB SYSTEM "US20030001080A1-20030102-M00010.NB" NDATA NB>
<!ENTITY US20030001080A1-20030102-M00010.TIF SYSTEM "US20030001080A1-20030102-M00010.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-D00000.TIF SYSTEM "US20030001080A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-D00001.TIF SYSTEM "US20030001080A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-D00002.TIF SYSTEM "US20030001080A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-D00003.TIF SYSTEM "US20030001080A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001080A1-20030102-D00004.TIF SYSTEM "US20030001080A1-20030102-D00004.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001080</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10064132</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020613</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H01L031/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>250</class>
<subclass>214100</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Time domain sensing technique and system architecture for image sensor</title-of-invention>
</technical-information>
<continuity-data>
<non-provisional-of-provisional>
<document-id>
<doc-number>60298051</doc-number>
<document-date>20010613</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Ravi</given-name>
<middle-name>K.</middle-name>
<family-name>Kummaraguntla</family-name>
</name>
<residence>
<residence-us>
<city>Jamestown</city>
<state>NC</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Zhiliang</given-name>
<middle-name>Julian</middle-name>
<family-name>Chen</family-name>
</name>
<residence>
<residence-us>
<city>Plano</city>
<state>TX</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>John</given-name>
<middle-name>G.</middle-name>
<family-name>Harris</family-name>
</name>
<residence>
<residence-us>
<city>Gainesville</city>
<state>FL</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>Texas Instruments Incorporated</organization-name>
<address>
<city>Dallas</city>
<state>TX</state>
</address>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>TEXAS INSTRUMENTS INCORPORATED</name-1>
<name-2></name-2>
<address>
<address-1>P O BOX 655474, M/S 3999</address-1>
<city>DALLAS</city>
<state>TX</state>
<postalcode>75265</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A photodiode sensor (<highlight><bold>25</bold></highlight>) has a photodiode (<highlight><bold>30</bold></highlight>) with an associated capacitance (<highlight><bold>34</bold></highlight>), which may be a parasitic capacitance of the photodiode (<highlight><bold>30</bold></highlight>). A switch (<highlight><bold>36</bold></highlight>) is provided for charging the capacitance (<highlight><bold>34</bold></highlight>) to a predetermined reset voltage (V<highlight><subscript>reset</subscript></highlight>) such that when light impinges upon the photodiode (<highlight><bold>30</bold></highlight>), the voltage on the capacitance (<highlight><bold>34</bold></highlight>) discharges in a time proportional to an intensity of the light. A circuit (<highlight><bold>42</bold></highlight>) is also provided for measuring the time for the capacitance (<highlight><bold>34</bold></highlight>) to discharge to a predetermined threshold value (<highlight><bold>33</bold></highlight>), which may be a function of time. The voltage on the output (<highlight><bold>38</bold></highlight>) of the comparator (<highlight><bold>28</bold></highlight>) may be sampled, with the sampling period also being variable as a function of time. The image may be reconstructed from time data indicating the relative times that discharge voltage of the pixels in an array cross the reference voltage (<highlight><bold>33</bold></highlight>). </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS REFERENCE TO RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application claims the benefit of prior filed copending provisional application serial No. 60/298,051, filed Jun. 13, 2001.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> 1. Field of Invention </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> This invention relates to improvements in sensing circuits and techniques, and more particularly to improvements in CMOS photo sensing circuits and techniques. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> 2. Relevant Background </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> With advancing technology, digital still cameras (DSCs) are becoming increasingly popular, compared with traditional film cameras, in both industry and consumer imaging areas. Typically, the DSCs use one or more charge-coupled-devices (CCDs) to capture the desired light image. The CCDs used mostly in DSC systems, however, have a dynamic range of only about 60 to 70 dB. For most applications this dynamic range is insufficient, since light intensity variation, for instance, in most outdoor photographic scenes has a dynamic range in the order of 120 dB. This suggests a need for an image sensor with some kind of expanded dynamic range. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Many solutions to this problem have been suggested, including logarithmic sensors, multiple frame capture techniques and voltage-to-frequency conversion techniques. Logarithmic sensors incorporate compression at the photodiode level to achieve high dynamic ranges. However, these techniques suffer from the problem of high fixed-pattern noise being generated because of device mismatches. The voltage-to-frequency conversion techniques result in a complex pixel which has a large pixel size and low fill factor. It also suffers under low light conditions. The multiple frame capture techniques require a DSC system capturing multiple frames and use complex post-image processing to reconstruct a wide dynamic range image. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> A typical photodiode sensor architecture <highlight><bold>10</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, to which reference is first made. The parasitic photodiode capacitance (not shown) is initially charged by activating the reset transistor <highlight><bold>12</bold></highlight> to connect the photodiode <highlight><bold>14</bold></highlight> to a voltage source V<highlight><subscript>reset</subscript></highlight>. When light impinges on the photodiode, charge carriers are generated. The resulting current discharges the photodiode node <highlight><bold>16</bold></highlight> and decreases the voltage on the photodiode as a function of time. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The relation between the voltage on the photodiode and the photo current I is given by:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>I</mi>
          <mo>=</mo>
          <mrow>
            <mi>C</mi>
            <mo>&it;</mo>
            <mfrac>
              <mrow>
                <mo>&dd;</mo>
                <mi>V</mi>
              </mrow>
              <mrow>
                <mo>&dd;</mo>
                <mi>t</mi>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
        <mo>&it;</mo>
        <mstyle>
          <mtext>&NewLine;</mtext>
        </mstyle>
        <mo>&it;</mo>
        <mrow>
          <mrow>
            <mi>&Delta;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>V</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mi>I</mi>
              <mi>C</mi>
            </mfrac>
            <mo>*</mo>
            <mi>&Delta;</mi>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mi>t</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030001080A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="36.9684" file="US20030001080A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> where a &Dgr;V is the photodiode voltage variation from the V<highlight><subscript>reset </subscript></highlight>level for a given integration time (or exposure time) &Dgr;t, and Cis the capacitance seen at the photodiode node <highlight><bold>16</bold></highlight>. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> For a given integration time &Dgr;t and constant C, equation (1) shows a linear relationship between &Dgr;V and I. Once &Dgr;V is measured at the end of the integration time, the photocurrent I (or alternatively the light intensity) can be calculated based on an I (or light intensity) and &Dgr;V transfer function shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, in which the transfer curve <highlight><bold>18</bold></highlight> is linear. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Due to this simple linear transfer curve <highlight><bold>18</bold></highlight>, most photodiode sensor systems integrate the charge for a particular period of time (or exposure time) and find the light intensity by measuring the photodiode voltage variation. But the fundamental problem behind these type schemes is in the integration time (or exposure time) selection. The photodiode voltage of a low intensity pixel decreases at a very slow rate, and therefore requires a large integration time to be detected with sufficient accuracy. On the other hand, a brightly illuminated pixel has a much higher voltage drop rate, and therefore requires the use of a short integration time to for detection before the photodiode enters saturation, at which time the measured voltage becomes constant. Hence, the light intensity dynamic range that could be detected by using a fixed integration time is limited. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> One apparatus that has been proposed to improve the dynamic range for a semiconductor based image sensor generates a photodetector counter value for each pixel of the sensor. Each time the input of a comparator reaches a predetermined threshold value, a counter is incremented and the photodetector reset. At the end of the integration time for a frame capture, the counter value is read out via a digital output bus. The counter value therefore represents the number of times that the photodetector filled to the threshold level and was reset. In addition, the analog voltage of the photodetector is determined at the end of the integration time for a frame capture to represent the amount of charge collected since the photodetector was last reset. The total output value of the pixel at the end of the integration time for a frame capture is then the number of times the photodetector reached the programmed threshold value plus the analog voltage in the photodetector. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The method and apparatus of the present invention use a time domain quantization sensing (TDQS) system that digitizes a pixel analog value by quantizing it in the time domain. As can be seen from the discussion below, the system is implemented in a CMOS sensor system fabricated in a standard CMOS process, instead of a CCD process. A dynamic range of over 130 dB can be achieved in a single frame capture. Other advantages of the sensor include easily programmable resolution, digital FPN calibration, and low readout noise. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> According to a broad aspect of the invention, a photodiode sensor is presented. The sensor includes means for providing a photodiode function, having an associated capacitance. The associated capacitance may be, for example, a parasitic capacitance of the means for providing a photodiode function. Means are provided for charging the associated capacitance to a predetermined reset voltage such that when light impinges upon the means for providing a photodiode function, the reset voltage discharges as a known function of time relatable to an intensity of the light. Means are also provided for measuring a time for the reset voltage to discharge to a predetermined threshold voltage to provide an indication of the intensity of the light. Preferably, the means for measuring a time for the reset voltage to discharge to a predetermined threshold voltage is a means for comparing a voltage on the associated capacitance to the predetermined threshold voltage, which may be time varying. The means for measuring a time for the reset voltage to discharge to a predetermined threshold voltage may be a means for sampling an output of the means for comparing a voltage on the associated capacitance at plurality of successive time periods, which also may be time varying. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> According to another broad aspect of the invention, a photodiode sensor array is presented. The sensor array includes a plurality of photodiode sensors arranged in a predetermined physical array. Each photodiode sensor has a photodiode having a parasitic capacitance and means for charging the parasitic capacitance to a predetermined reset voltage, wherein when light impinges upon the photodiode, the parasitic capacitance discharges in proportion to an intensity of the light. Each sensor also has means for measuring a time for the reset voltage to discharge to a predetermined threshold value, wherein the time for the reset voltage to discharge to the predetermined threshold voltage indicates the intensity of the light. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> According to another broad aspect of the inventions, a photodiode sensor array is presented, which includes a plurality of photodiodes arranged in a predetermined pattern, each having a respective associated capacitance. A circuit is provided for charging the associated capacitances to a predetermined reset voltage such that when light impinges upon the photodiodes, the associated capacitances each discharge in a time proportional to an intensity of the light respectively impingent thereupon. A circuit is also provided for measuring respective times for each of the associated capacitances to discharge to a predetermined threshold value, wherein relative intensities of the light respectively impingent upon each of the photodiodes can be determined. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> According to yet another broad aspect of the invention, a method is presented for operating a photodiode sensor array. The method includes providing a plurality of photodiodes arranged in a predetermined pattern, each having a respective associated capacitance. The method also includes charging the associated capacitances to a predetermined reset voltage, and measuring respective times for each of the associated capacitances to discharge to a predetermined threshold value.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF DRAWINGS </heading>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> The invention is illustrated in the accompanying drawing, in which: </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is an electrical schematic diagram of a typical sensor architecture of the prior art. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a graph of voltage vs. current to show a transfer function of a photodiode arrangement of the prior art. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a graph of current vs. &Dgr;t to show a transfer function of a photodiode system for a given a &Dgr;V and constant C, according to a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a simplified TDQS architecture, according to a preferred embodiment of the invention, in which a comparator is provided with one input connected to the photodiode and other input connected to a reference signal V<highlight><subscript>ref</subscript></highlight>. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a table showing a number of time sequences separated by known time differences vs. pixel number and respective pixel values at corresponding time sequences in accordance with a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a graph of light intensity vs. the number of bits in the time domain of a pixel detector system constructed in accordance with a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a graph of V<highlight><subscript>reference </subscript></highlight>vs. sampling order according to Equation (4) set forth below, in accordance with a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a graph showing the variation in the toggling time differences and between two pixels separated by the same intensity difference as a function of time when the reference voltage is increased as an exponential function, in accordance with a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> herehere<cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a schematic diagram of a partial implementation of a TDQS, in accordance with a preferred embodiment of the invention.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> Analysis of Equation (1) reveals that there is another representation to describe the light sensing system. As shown in Equation (1), the voltage on the photodiode at any point of time is proportional to the current, and, in turn, to the intensity of the light impinged on the sensor. Therefore the time required for the sensor to reach a particular voltage level is inversely proportional to the intensity of light. For a given &Dgr;V and constant C, the transfer function <highlight><bold>20</bold></highlight> of this representation is shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> The transfer function is nonlinear, thus its (I, &Dgr;t) representation is more complex than the standard linear case shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. By comparing with <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> large I value in this scheme, however, can be obtained with a small &Dgr;t measurement, while a large I value requires a large &Dgr;V measurement in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. Therefore, the (I, &Dgr;t) representation for the sensing system inherently has higher light dynamic range than the (I, &Dgr;V) representation, due to a small limited value of &Dgr;V in both CCD and CMOS sensor device. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> Based on the introduction of the above (I, &Dgr;t) representation, we are now in position to detail our TDQS concept in which a light sensing measurement is performed in the time domain and the measurement value is digitized (or quantized) in the time domain. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a simplified TDQS architecture <highlight><bold>25</bold></highlight>, according to a preferred embodiment of the invention, illustrating the circuitry associated with one pixel of an array of image pixels. Typically, the array of image pixels, discussed in greater detail below, would include a plurality of such pixel circuits with their respective photodiodes <highlight><bold>30</bold></highlight> arranged in a predetermined physical pattern onto which light impinges and from which a final image is to be developed. The circuit <highlight><bold>25</bold></highlight> has a comparator <highlight><bold>28</bold></highlight> with its noninverting input connected to a photodiode <highlight><bold>30</bold></highlight> at node <highlight><bold>32</bold></highlight>, and with its inverting input connected to a reference voltage V<highlight><subscript>ref </subscript></highlight><highlight><bold>33</bold></highlight>. As will become apparent below, the value of V<highlight><subscript>ref </subscript></highlight>may be established as a function of the value of the parasitic capacitance <highlight><bold>34</bold></highlight> associated with the photodiode <highlight><bold>30</bold></highlight> in order to differentiate the discharge times of the various other parasitic capacitances respectively associated with the other pixel photodiodes as well as a function of the maximum and minimum light intensity values to be images. In fact, as discussed below, V<highlight><subscript>ref </subscript></highlight>may itself be a time varying voltage to allow for limited frame times or to distinguish images having particularly high or low intensity values. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> In operation, initially the parasitic photodiode capacitance <highlight><bold>34</bold></highlight> is charged to V<highlight><subscript>reset </subscript></highlight>by making the reset signal on line <highlight><bold>35</bold></highlight> high on the gate of transistor <highlight><bold>36</bold></highlight>. V<highlight><subscript>reset </subscript></highlight>may be chosen so that the bulk effect of transistor <highlight><bold>36</bold></highlight> is minimal. A row select transistor (not shown) may be provided to control the output signal on output line <highlight><bold>38</bold></highlight> from the comparator <highlight><bold>28</bold></highlight>. When light impinges on the photodiode <highlight><bold>30</bold></highlight>, the generated photocurrent discharges the preestablished voltage on the parasitic capacitor <highlight><bold>34</bold></highlight>. Assuming that the value for V<highlight><subscript>ref </subscript></highlight><highlight><bold>33</bold></highlight> is chosen such that the variation in voltage across the parasitic capacitor <highlight><bold>34</bold></highlight> can be detected, the comparator <highlight><bold>28</bold></highlight> flips immediately after the voltage across the parasitic capacitor <highlight><bold>34</bold></highlight>, V<highlight><subscript>ph</subscript></highlight>, decreases below V<highlight><subscript>ref </subscript></highlight><highlight><bold>33</bold></highlight>. For a fixed reference voltage, V<highlight><subscript>ref</subscript></highlight>, <highlight><bold>33</bold></highlight> the time taken for the output of the comparator <highlight><bold>28</bold></highlight> to toggle is inversely proportional to the discharging current, which, in turn, is directly proportional to the light intensity at that pixel. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> This can be written as:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>&Delta;</mi>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mi>T</mi>
        </mrow>
        <mo>&Proportional;</mo>
        <mfrac>
          <mn>1</mn>
          <mi>I</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030001080A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="18.00225" file="US20030001080A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> where &Dgr;T is the time difference between the starting time instant and the time instant at which the comparator toggle occurs. l is the photocurrent generated by light at the pixel. The proportionality constant in this case is the product of (V<highlight><subscript>reset</subscript></highlight>&minus;V<highlight><subscript>ref</subscript></highlight>) and the parasitic capacitance <highlight><bold>34</bold></highlight> of the photodiode. This relationship is one-to-one; hence, the toggling time information can be easily mapped back to the intensity domain while reconstructing the image. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> More particularly, the output of the comparator <highlight><bold>28</bold></highlight> is sampled by a sampling circuit <highlight><bold>42</bold></highlight> to detect the time at which the output of the comparator <highlight><bold>28</bold></highlight> has toggled. In the proposed TDQS system <highlight><bold>25</bold></highlight>, nonuniform time sampling may be employed, as discussed below in detail. Adaptive time sampling techniques can also be employed by using data from the current or previous frame to optimize the choice of the sampling points for each particular scene. As will become apparent, the accuracy with which the toggling point is detected determines the accuracy of the measured light intensity. Each pixel outputs one digital bit on its respective output line <highlight><bold>38</bold></highlight> at each sampling instant. This is illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> to which reference is now additionally made. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a table showing a number of time sequences, <highlight><bold>0</bold></highlight>, <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>, . . . N<highlight><subscript>f</subscript></highlight>, each separated by a known time difference, scaled vertically on the left side of the table vs. the pixel number, <highlight><bold>1</bold></highlight>, <highlight><bold>2</bold></highlight>, . . . n, with their respective values at corresponding time sequences along the horizontal axis. The pixel numbers are shown at the top of the table. Thus, at each sampling instant, the array of pixels outputs a &ldquo;subframe&rdquo; or &ldquo;sample frame&rdquo; of digital bits. Each subframe contains the information indicating for each pixel whether the comparator of the pixel has toggled. Since the time between each sampling instant is known, this information may be used to reconstruct the final image frame. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> In the embodiment illustrated, each sample frame is indexed and the sampling time instants are related to this index. The index is referred to herein as the &ldquo;sampling order&rdquo;. Thus, the sampling order may be used to distinguish the sampling time instants. Therefore, for example, depending on the intensity of the light at a particular pixel, the bit corresponding to that pixel in the sample frame gets toggled at a particular sampling instant. The toggling information at each sampling instant can be stored in a table, as illustrated by the table of <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. For example, at time instant (sample instant), or for a particular time index (sample order) number <highlight><bold>1</bold></highlight>, pixels <highlight><bold>3</bold></highlight>, <highlight><bold>4</bold></highlight>, <highlight><bold>5</bold></highlight>, and <highlight><bold>9</bold></highlight> are shown to have been toggled. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Different pixels in the image array toggle at different sampling instants depending on the respective light intensities to which they have been subjected. Consequently, the various intensities can be identified using their corresponding sampling orders. The sampling order associated with each pixel contains the light intensity information at that pixel, and, therefore, the subframes may be may be stored in a frame memory <highlight><bold>44</bold></highlight> and used to reconstruct the final image. The final image frame may be constructed from calculations based on the time information contained in the various subframes, for example, using an appropriately programmed computer <highlight><bold>46</bold></highlight> and printed or displayed on a display <highlight><bold>40</bold></highlight>. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> One advantage of the TDQS architecture <highlight><bold>25</bold></highlight> over previous wide dynamic range techniques can be understood by observing that the pixel output is digital but is not an exact digital representation of the entire analog signal produced on the cathode of the photodiode <highlight><bold>30</bold></highlight>. This analog output is quantized in the time domain, and is mapped to a particular point on the time axis. This time point, if detected accurately, can be mapped back either to the analog representation, or can be used to construct the exact digital representation. It can be seen that a very high intensity signal may be mapped to a point very close to zero and a low intensity signal maybe mapped to a point that is farther out in time. The highest intensity that could be detected with this architecture is determined by the time taken by the comparator to make a correct decision. In other words, the higher part of the dynamic range is determined by the settling time of the comparator. It is to be noted that the highest intensity that could be detected is independent of the time taken to read out the whole image sensor array. But the read-out time due to the settling time of the comparator limits the resolution with which the net highest intensity can be detected. This read-out time depends on details of implementation of circuit/hardware design architecture and pixel array size, but can be made quite short, for example, on the order of about 10 ns. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Based on the nonlinear transfer function <highlight><bold>48</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, light intensity vs. the number of bits in the time domain can be graphed, as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, to which reference is now additionally made. As seen in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, for a constant sampling architecture system, a low light intensity slowly increases with lower bit-values and a strong light intensity increases rapidly with higher bit values. Since the TDQS sampling is performed on an analog signal produced on the cathode of the photodiode <highlight><bold>30</bold></highlight>, each bit of the system responds to a different analog signal or different light intensity. In other words, the lower bit-value gives more details of low light condition or more intensity resolution at low light end. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> In the case of a sensor array, the above constant sampling architecture suggests that oversampling may be beneficial at low-light pixels if the system requires a short sampling time for high-light pixels. It can also be seen that the constant sampling architecture may also require a large memory for high bit code values in order to retain a wide light dynamic range. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> As mentioned above, the voltage V<highlight><subscript>ref </subscript></highlight><highlight><bold>33</bold></highlight> may be time varying. More particularly, from the discussion above, it is clear that the reference voltage applied to the comparator <highlight><bold>28</bold></highlight> plays a major role in determining the dynamic range of the sensor. Given a fixed integration time, it would be required that the reference voltage be close enough to the reset voltage to make the lowest intensity pixel in the image result in a toggled output. On the other hand the reference voltage should be sufficiently below the reset voltage to ensure that the brightest pixel does not toggle too fast. A low reference voltage also helps in obtaining a better resolution for brighter intensities. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The problem can be better understood by looking closely at the constant reference voltage scheme. From Equation 2, it can be observed that for a fixed reference voltage, the toggling time is inversely proportional to the intensity of the light. Consider a case in which the required photocurrent resolution at all points of time is I<highlight><subscript>Isb</subscript></highlight>, in other words, for two pixels with photocurrents I<highlight><bold>1</bold></highlight> and I<highlight><bold>2</bold></highlight>, the difference between I<highlight><bold>1</bold></highlight> and I<highlight><bold>2</bold></highlight> is required to be at least I<highlight><subscript>Isb</subscript></highlight>. The difference between the toggling points of these two pixels would be given by:  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mi>&Delta;</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <msub>
                <mi>T</mi>
                <mn>1</mn>
              </msub>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>&Delta;</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <msub>
                <mi>T</mi>
                <mn>2</mn>
              </msub>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>c</mi>
            <mo>&af;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>reset</mi>
                </msub>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mi>ref</mi>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>*</mo>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <msub>
                <mi>I</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>S</mi>
                  <mo>&it;</mo>
                  <mstyle>
                    <mtext>&emsp;</mtext>
                  </mstyle>
                  <mo>&it;</mo>
                  <mi>B</mi>
                </mrow>
              </msub>
              <mrow>
                <msub>
                  <mi>I</mi>
                  <mn>1</mn>
                </msub>
                <mo>*</mo>
                <msub>
                  <mi>I</mi>
                  <mn>2</mn>
                </msub>
              </mrow>
            </mfrac>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030001080A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="18.96615" file="US20030001080A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Hence, the difference in toggling points is inversely proportional to the values of the photocurrents produced in the two pixels. For small photocurrents, the difference between the toggling points is high and for large photocurrents, the difference between the toggle points is small. Hence, a constant sampling time is used to sample the image, oversampling results at low intensities. The additional information available from the oversampling may or may not be useful, depending on the system needs and display resolution. If desired, the oversampling could be avoided in two ways. One way is to adapt the sampling time such that the sampling period is small at high resolutions and is high at low resolutions. The other way to avoid oversampling is to change the reference voltage as a function of time and force the low intensity pixels to toggle earlier than they actually should. Both ways, of course, can be concurrently employed. Both functions can easily be represented in the digital domain, and expressed by:  
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>V</mi>
            <mi>reference</mi>
          </msub>
          <mo>&af;</mo>
          <mrow>
            <mo>(</mo>
            <mi>n</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>{</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>V</mi>
                      <mn>0</mn>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mrow>
                      <mrow>
                        <mi>for</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>n</mi>
                      </mrow>
                      <mo>=</mo>
                      <mrow>
                        <mn>1</mn>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>&hellip;</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>m</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>and</mi>
                      </mrow>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mrow>
                      <msub>
                        <mi>V</mi>
                        <mn>0</mn>
                      </msub>
                      <mo>+</mo>
                      <mrow>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <mi>n</mi>
                            <mo>-</mo>
                            <mi>m</mi>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                        <mo>&it;</mo>
                        <mfrac>
                          <msub>
                            <mi>V</mi>
                            <mn>0</mn>
                          </msub>
                          <mi>k</mi>
                        </mfrac>
                      </mrow>
                    </mrow>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mrow>
                      <mrow>
                        <mi>for</mi>
                        <mo>&it;</mo>
                        <mstyle>
                          <mtext>&emsp;</mtext>
                        </mstyle>
                        <mo>&it;</mo>
                        <mi>n</mi>
                      </mrow>
                      <mo>&gt;</mo>
                      <mi>m</mi>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>}</mo>
          </mrow>
          <mo>&it;</mo>
          <mi>&deg;</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030001080A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="29.0304" file="US20030001080A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0045" lvl="7"><number>&lsqb;0045&rsqb;</number> where n is the sampling order or sampling frame index. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The equation as a function of n <highlight><bold>50</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> to which reference is now additionally made. It can be seen that the function <highlight><bold>50</bold></highlight> results in a constant reference voltage for sample frames <highlight><bold>1</bold></highlight> to m and increases as a ramp beyond the sample frame m. The sample m corresponds to the frame at which the transition from a constant reference voltage, V<highlight><subscript>0</subscript></highlight>, to a ramping reference voltage starts. The value of m could be chosen depending on the resolution required at low intensities. The factor k, which is an integer, determines the slope of the ramp. As explained below, reset voltage should be a function of the reference voltage, V<highlight><subscript>0</subscript></highlight>. The common mode voltage swing of the comparator determines the minimum reference voltage that could be used in the circuit. There is no limit on the maximum reference voltage that could be used but having a reference voltage that is above the reset voltage makes all the dark pixels toggle and hence does not convey any information. It is important to reiterate that any monotonically increasing function suits the architecture, and the kind of function to be used is determined by implementation and image reconstruction considerations. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> As explained above, brightly illuminated pixels require that the sampling be fast and that the sampling period be short. On the other hand, low light pixels do not change much in a very short time interval. Constant sampling results in oversampling at low intensities, and affects not only the power dissipation in the circuit, but also results in large memory requirements. The oversampling may be reduced to an extent by varying the reference voltage as a function of time. But the problem may not be solved completely by a time-varying reference voltage. As an illustration, <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows the variation in the toggling time differences <highlight><bold>52</bold></highlight> and <highlight><bold>54</bold></highlight> between two pixels separated by the same intensity difference as a function of time when the reference voltage is increased as an exponential function. This problem becomes important because it is difficult to determine and implement a reference voltage function that exactly cancels out the non-linearity. In this technique, the frequency at which the comparator outputs are sampled is dynamically varied. Equation 3 shows that an exponential increase of sampling period is a good fit for the application. But digital image reconstruction requires that the function be easily be representable in the digital domain. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> According to the present invention, a function whose sampling period is constant for a fixed number of sample frames and increases as a ramp for the sample frames beyond that is used. In other words, the sampling time is initially increased in a linear fashion and is increased as a square fashion in later sample frames, according to the following equations:  
<math-cwu id="MATH-US-00005">
<number>5</number>
<math>
<mrow>
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msub>
            <mi>T</mi>
            <mi>samplingperiod</mi>
          </msub>
          <mo>=</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>T</mi>
                <mrow>
                  <mi>n</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>T</mi>
                <mi>n</mi>
              </msub>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>&it;</mo>
              <mi>k</mi>
            </mrow>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mrow>
            <mo>&DoubleRightArrow;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <msub>
              <mi>T</mi>
              <mrow>
                <mi>n</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msub>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>T</mi>
              <mi>n</mi>
            </msub>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>&it;</mo>
              <mi>k</mi>
            </mrow>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <msub>
              <mi>T</mi>
              <mrow>
                <mi>n</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <mo>=</mo>
            <mrow>
              <msub>
                <mi>T</mi>
                <mn>0</mn>
              </msub>
              <mo>+</mo>
              <mrow>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mi>n</mi>
                          <mo>+</mo>
                          <mn>1</mn>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>&it;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mi>n</mi>
                          <mo>+</mo>
                          <mn>2</mn>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
                <mo>&it;</mo>
                <mi>k</mi>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
  <mo>&AutoLeftMatch;</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00005" file="US20030001080A1-20030102-M00005.NB"/>
<image id="EMI-M00005" wi="216.027" he="42.9786" file="US20030001080A1-20030102-M00005.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> In the above equation, T<highlight><subscript>samplingperiod </subscript></highlight>denotes the sampling instant, k denotes the slope at which the sampling period is increased and n denotes the sampling order. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> If T<highlight><subscript>0 </subscript></highlight>is the origin: </paragraph>
<paragraph lvl="0"><in-line-formula>T<highlight><subscript>n</subscript></highlight>&prop;n<highlight><superscript>2</superscript></highlight>&emsp;&emsp;(5) </in-line-formula></paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> then the function could mathematically be expressed as:  
<math-cwu id="MATH-US-00006">
<number>6</number>
<math>
<mrow>
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msub>
            <mi>T</mi>
            <mi>samplingperiod</mi>
          </msub>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>=</mo>
          <msub>
            <mi>K</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </mtd>
      <mtd>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mrow>
              <mi>for</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>n</mi>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mn>1</mn>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&hellip;</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>m</mi>
            </mrow>
          </mrow>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mo>=</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>K</mi>
                    <mn>2</mn>
                  </msub>
                  <mo>*</mo>
                  <mi>n</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>+</mo>
              <msub>
                <mi>K</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mrow>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <mrow>
            <mrow>
              <mi>for</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>n</mi>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mi>m</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <mi>&hellip;</mi>
              <mo>&it;</mo>
              <mstyle>
                <mtext>&emsp;</mtext>
              </mstyle>
              <mo>&it;</mo>
              <msub>
                <mi>N</mi>
                <mi>total</mi>
              </msub>
            </mrow>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
  <mo>&AutoLeftMatch;</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00006" file="US20030001080A1-20030102-M00006.NB"/>
<image id="EMI-M00006" wi="216.027" he="22.08465" file="US20030001080A1-20030102-M00006.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0052" lvl="7"><number>&lsqb;0052&rsqb;</number> where T<highlight><subscript>samplingperiod </subscript></highlight>is the sampling period, n is the sample order, K<highlight><subscript>1 </subscript></highlight>is the initial voltage and K<highlight><subscript>2 </subscript></highlight>is a constant that determines the slope of the slope of the ramp. This equation could be expressed in terms in terms of the sampling time instants instead of sampling period. By using Equation (5), the equation for sampling time instants can be recognized as:  
<math-cwu id="MATH-US-00007">
<number>7</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>T</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>n</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>n</mi>
                      <mo>*</mo>
                      <msub>
                        <mi>T</mi>
                        <mi>s</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>c</mi>
                      <mo>*</mo>
                      <msub>
                        <mi>T</mi>
                        <mi>s</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
            <mtd>
              <mrow>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mrow>
                    <mi>for</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>=</mo>
                  <mrow>
                    <mn>1</mn>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>&hellip;</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>m</mi>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mo>=</mo>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mfrac>
                            <msup>
                              <mrow>
                                <mo>(</mo>
                                <mrow>
                                  <mi>n</mi>
                                  <mo>-</mo>
                                  <mi>m</mi>
                                </mrow>
                                <mo>)</mo>
                              </mrow>
                              <mn>2</mn>
                            </msup>
                            <msub>
                              <mi>c</mi>
                              <mn>1</mn>
                            </msub>
                          </mfrac>
                          <mo>+</mo>
                          <mi>n</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>*</mo>
                      <msub>
                        <mi>T</mi>
                        <mi>s</mi>
                      </msub>
                    </mrow>
                    <mo>+</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mi>c</mi>
                        <mo>*</mo>
                        <msub>
                          <mi>T</mi>
                          <mi>s</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
            <mtd>
              <mrow>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mrow>
                    <mi>for</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mo>=</mo>
                  <mrow>
                    <mi>m</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <mi>&hellip;</mi>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>N</mi>
                      <mi>total</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
        <mo>}</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00007" file="US20030001080A1-20030102-M00007.NB"/>
<image id="EMI-M00007" wi="216.027" he="33.1128" file="US20030001080A1-20030102-M00007.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0053" lvl="7"><number>&lsqb;0053&rsqb;</number> where T<highlight><subscript>s </subscript></highlight>and c<highlight><subscript>1 </subscript></highlight>are defined by the boundary conditions of the sampling times. c is an integer constant that takes care of a constant time offset before the first sample frame is captured. Since the image is reconstructed in the digital domain, there are some restrictions on the use of the above function. The restrictions are that the last sampling time instant be an integer multiple of the first sampling instant. This could be expressed as:  
<math-cwu id="MATH-US-00008">
<number>8</number>
<math>
<mrow>
  <mrow>
    <mfrac>
      <msup>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>N</mi>
              <mi>total</mi>
            </msub>
            <mo>-</mo>
            <mi>m</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mn>2</mn>
      </msup>
      <msub>
        <mi>c</mi>
        <mn>1</mn>
      </msub>
    </mfrac>
    <mo>+</mo>
    <msub>
      <mi>N</mi>
      <mi>total</mi>
    </msub>
  </mrow>
  <mo>=</mo>
  <mi>p</mi>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00008" file="US20030001080A1-20030102-M00008.NB"/>
<image id="EMI-M00008" wi="216.027" he="19.93005" file="US20030001080A1-20030102-M00008.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0054" lvl="7"><number>&lsqb;0054&rsqb;</number> where p is any integer and N<highlight><subscript>total </subscript></highlight>is the sample order of the final frame. By applying the boundary conditions, the equation for the sampling time can be shown to be:  
<math-cwu id="MATH-US-00009">
<number>9</number>
<math>
<mrow>
  <mrow>
    <mo>{</mo>
    <mtable>
      <mtr>
        <mtd>
          <mrow>
            <mrow>
              <mi>T</mi>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>n</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&it;</mo>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>=</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>*</mo>
                  <msub>
                    <mi>T</mi>
                    <mi>s</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>+</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>c</mi>
                  <mo>*</mo>
                  <msub>
                    <mi>T</mi>
                    <mi>s</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mtd>
        <mtd>
          <mrow>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mrow>
              <mrow>
                <mi>for</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>n</mi>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mn>1</mn>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&hellip;</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>m</mi>
              </mrow>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd>
          <mrow>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mrow>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <msup>
                            <mrow>
                              <mo>(</mo>
                              <mrow>
                                <mi>n</mi>
                                <mo>-</mo>
                                <mi>m</mi>
                              </mrow>
                              <mo>)</mo>
                            </mrow>
                            <mn>2</mn>
                          </msup>
                          <mo>*</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <mi>p</mi>
                              <mo>-</mo>
                              <msub>
                                <mi>N</mi>
                                <mi>total</mi>
                              </msub>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <msup>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <msub>
                                <mi>N</mi>
                                <mi>total</mi>
                              </msub>
                              <mo>-</mo>
                              <mi>m</mi>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                          <mn>2</mn>
                        </msup>
                      </mfrac>
                      <mo>+</mo>
                      <mi>n</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>*</mo>
                  <msub>
                    <mi>T</mi>
                    <mi>s</mi>
                  </msub>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>c</mi>
                  <mo>*</mo>
                  <msub>
                    <mi>T</mi>
                    <mi>s</mi>
                  </msub>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mtd>
        <mtd>
          <mrow>
            <mstyle>
              <mtext>&emsp;</mtext>
            </mstyle>
            <mo>&it;</mo>
            <mrow>
              <mrow>
                <mi>for</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>n</mi>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mi>m</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mi>&hellip;</mi>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <msub>
                  <mi>N</mi>
                  <mi>total</mi>
                </msub>
              </mrow>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
    <mo>}</mo>
  </mrow>
  <mo>&AutoLeftMatch;</mo>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00009" file="US20030001080A1-20030102-M00009.NB"/>
<image id="EMI-M00009" wi="216.027" he="33.1128" file="US20030001080A1-20030102-M00009.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The time-varying sampling time coupled with the time-varying reference voltage determines the resolution obtained at different intensities. It should also be noted that the mathematical functions that determine the sampling instants can easily be changed, depending on the resolution and the dynamic range requirements. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> According to another preferred embodiment of the invention, a digital representation with a varying bit-step value is presented. The bit-step is defined as the difference between two consecutive digital values. According to the invention, the bit-step is made small for low intensities (fine resolution) and is large for bright light conditions (course resolution). In the current TDQS architecture since the low intensity pixels toggle much later than the bright intensity pixels, the bit-step variation could be made a function of time. The equation governing the bit-step variation could easily be derived while considering the variation in the reference voltage and the sampling period as a function of the sampling order. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In the TDQS architecture of the invention, if the intensity is varying as a continuous function over the image, every new sample-frame contains information about a different intensity. Hence, every sampling order uniquely identifies a light intensity value. Therefore, the bit-step in terms of normalized photocurrent, normalized with respect to capacitance, is given by the difference in the normalized photocurrents generated by two consecutive sample frames. This is given by:  
<math-cwu id="MATH-US-00010">
<number>10</number>
<math>
<mrow>
  <mrow>
    <mi>B</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mi>i</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mi>t</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mi>s</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mi>t</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mi>e</mi>
    <mo>&it;</mo>
    <mstyle>
      <mtext>&emsp;</mtext>
    </mstyle>
    <mo>&it;</mo>
    <mrow>
      <mi>p</mi>
      <mo>&af;</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>n</mi>
          <mo>+</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mo>[</mo>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>V</mi>
              <mi>reset</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>ref</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mi>n</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <msub>
              <mi>T</mi>
              <mi>sampling</mi>
            </msub>
            <mo>&af;</mo>
            <mrow>
              <mo>(</mo>
              <mi>n</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo>)</mo>
      </mrow>
      <mo>-</mo>
      <mrow>
        <mo>(</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>V</mi>
              <mi>reset</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>ref</mi>
              </msub>
              <mo>&af;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <msub>
              <mi>T</mi>
              <mi>sampling</mi>
            </msub>
            <mo>&af;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>n</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>]</mo>
  </mrow>
</mrow>
</math>
<mathematica-file id="MATHEMATICA-00010" file="US20030001080A1-20030102-M00010.NB"/>
<image id="EMI-M00010" wi="216.027" he="19.93005" file="US20030001080A1-20030102-M00010.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0058" lvl="7"><number>&lsqb;0058&rsqb;</number> where Bit-step(n&plus;1) is the bit-step at the (n&plus;1)<highlight><superscript>th </superscript></highlight>sampling instant, V<highlight><subscript>reset </subscript></highlight>is the reset voltage, V<highlight><subscript>ref </subscript></highlight>(n) is the comparator reference voltage at the n sampling instant, V<highlight><subscript>ref </subscript></highlight>(n&plus;1) is the comparator reference voltage at the (n&plus;1)<highlight><superscript>th </superscript></highlight>instant, T<highlight><subscript>sampling </subscript></highlight>(n) is the sampling time of the n<highlight><superscript>th </superscript></highlight>Sample-frame, and T<highlight><subscript>sampling </subscript></highlight>(n&plus;1) is the sampling time of the (n&plus;1)<highlight><superscript>th </superscript></highlight>sample-frame. The basic difference between this representation and the conventional digital representation is that the bit-step, in this case, is not constant over time. It can be seen that this new bit representation results in a bit-step that is high for high intensities and low for low intensities. This is similar to the way an image is perceived by a human eye, and hence is a more useful representation for the application. Though the derivation of the current representation is focused on TDQS architecture, the idea could be extended for other dynamic ranges. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> A schematic diagram of a partial implementation of a TDQS <highlight><bold>60</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, to which reference is now additionally made. Each pixel is substantially identical, and, therefore, is identified by respective similar reference numerals. Each pixel in the sensor has a reset transistor <highlight><bold>64</bold></highlight>, a source follower transistor <highlight><bold>66</bold></highlight>, a select transistor <highlight><bold>68</bold></highlight>, and a photodiode <highlight><bold>62</bold></highlight>. To improve the fill factor, one comparator <highlight><bold>70</bold></highlight> is shared between four pixels using a multiplexing logic. The multiplexer consists of the four select transistors <highlight><bold>68</bold></highlight> and two column-select transistors <highlight><bold>72</bold></highlight>. It should be noted at this juncture that the photodiode outputs <highlight><bold>74</bold></highlight> could directly be connected to the comparator <highlight><bold>70</bold></highlight> through select transistors, if desired, in some applications. However such connections would result in a charge sharing between the parasitic capacitances of the photodiodes and the comparator input capacitance when the switch is the ON condition. Also, the switches in the pixel cause charge injection corrupting the voltage signal present on the photodiode capacitance. Since this voltage is sampled multiple times, the charge injection may result in temporal noise in the circuit. The photodiode node <highlight><bold>74</bold></highlight> has a high impedance and, hence, is susceptible to any noise appearing at that node. To avoid these problems the architecture shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is preferred. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> The time-varying sampling time coupled with the time-varying reference voltage determines the resolution obtained at different intensities Again it is noted that the mathematical functions that determine the sampling instants could be changed depending on the resolution and the dynamic range requirements. The reset transistor <highlight><bold>64</bold></highlight> and the analog friendly source follower transistor <highlight><bold>66</bold></highlight> are used in the design to attain a better voltage swing at the photodiode node <highlight><bold>74</bold></highlight>. The bias for the source follower is set by the analog-friendly bias transistor <highlight><bold>76</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> As mentioned, to improve the fill-factor of the pixels, one comparator <highlight><bold>70</bold></highlight> is shared between pixels. The pixel outputs are multiplied one after another onto the noninverting input of the comparator <highlight><bold>70</bold></highlight>. Multiplexing is done using a row select switch <highlight><bold>68</bold></highlight> that is internal to each pixel and two column-select switches <highlight><bold>72</bold></highlight> common to the four pixels sharing the comparator <highlight><bold>70</bold></highlight>. The column select signal multiplexes the two consecutive columns that share the comparator <highlight><bold>70</bold></highlight>. The multiplexes logic also helps in minimizing the static power dissipation. Note that the bias transistor <highlight><bold>76</bold></highlight> is also shared between the four pixels. When a pixel is selected to be read out, the row select transistors <highlight><bold>68</bold></highlight> and the column select transistors <highlight><bold>72</bold></highlight> of that pixel are turned ON. Since the bias circuit is connected to the pixel after the select switches, the bias is ON only when one of the four pixels is selected. It can be seen that the bias transistor could actually be made common to one complete column of pixels, but may result in adverse settling considerations and column read-out FPN noise. In such a situation, the pixel source follower transistor <highlight><bold>66</bold></highlight> has to drive the entire column capacitance. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> It is important to note that the switching digital noise in the TDQS architecture may be higher than the digital noise in APS and hence the FPN performance of the architecture, as a whole, is dependent on which term is more dominant. The outputs of all the comparators <highlight><bold>70</bold></highlight> present in the same column are connected together and are provided as an input to a sense amplifier buffer (not shown). When the row select transistor <highlight><bold>68</bold></highlight> is turned on, the output of the comparator <highlight><bold>70</bold></highlight> appears on the column line <highlight><bold>78</bold></highlight>. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> The buffer senses the digital level of the output of the comparator and provides a fully quantized digital output. This output is allowed to settle to a full digital value and is latched by triggering the clock input of a latch connected to the output of the buffer. Since, pixels in two consecutive columns share the same comparator and the same column line, the number of latches required is half the number of columns. Since the comparators in the same row make a decision simultaneously, all the latches have to be clocked at the same time. If the number of columns in the image array is N, N/2 outputs are obtained simultaneously. These outputs have to be sent out of the chip before the next latch clock. These outputs are sent out in a partially parallel fashion using a multiplexer. A typical chip may have 16 output pins. Hence N/32 consecutive latches may be connected to the same multiplexer. The multiplexer multiplexes one of the N/32 inputs onto one output pin. The advantage if this architecture is a reduction in the chip-level data output rate. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Although the invention has been described and illustrated with a certain degree of particularity, it is understood that the present disclosure has been made only by way of example, and that numerous changes in the combination and arrangement of parts can be resorted to by those skilled in the art without departing from the spirit and scope of the invention, as hereinafter claimed. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A photodiode sensor, comprising: 
<claim-text>means for providing a photodiode function, having an associated capacitance; </claim-text>
<claim-text>means for charging said associated capacitance to a predetermined reset voltage, wherein when light impinges upon said means for providing a photodiode function, said reset voltage discharges as a known function of time relatable to an intensity of said light; </claim-text>
<claim-text>and means for measuring a time for the reset voltage to discharge to a predetermined threshold voltage to provide an indication of said intensity of said light. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said associated capacitance is a parasitic capacitance of said means for providing a photodiode function. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said means for charging said associated capacitance comprises a transistor for selectively connecting said means for providing a photodiode function to a predetermined supply voltage. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said means for measuring a time for said reset voltage to discharge to a predetermined threshold voltage comprises: 
<claim-text>means for comparing a voltage on said associated capacitance to said predetermined threshold voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference> wherein said means for measuring a time for said reset voltage to discharge to a predetermined threshold voltage comprises means for sampling an output of said means for comparing a voltage on said associated capacitance at plurality of successive time periods. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> wherein said sampling time periods of said means for sampling are not constant. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference> wherein said sampling time periods are small at high resolutions and high at low resolutions. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A photodiode sensor array, comprising: 
<claim-text>a plurality of photodiode sensors arranged in a predetermined physical array, each photodiode sensor comprising: 
<claim-text>a photodiode having a parasitic capacitance; </claim-text>
<claim-text>means for charging said parasitic capacitance to a predetermined reset voltage, wherein when light impinges upon said photodiode, said parasitic capacitance discharges in proportion to an intensity of said light; </claim-text>
<claim-text>and means for measuring a time for said reset voltage to discharge to a predetermined threshold value, wherein said time for said reset voltage to discharge to said predetermined threshold voltage indicates said intensity of said light, </claim-text>
</claim-text>
<claim-text>and further comprising means for selectively accessing each of said photodiode sensors to read said times for said parasitic capacitances to discharge to said predetermined threshold voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference> wherein said means for measuring a time for said reset voltage to discharge to a predetermined threshold value comprises: 
<claim-text>means for comparing a voltage on said parasitic capacitance to said predetermined threshold voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference> wherein said means for charging said parasitic capacitance comprises a transistor for selectively connecting said photodiode to a predetermined supply voltage. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The photodiode sensor of <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference> wherein said means for measuring a time for said reset voltage to discharge to a predetermined threshold voltage comprises means for sampling an output of said means for comparing a voltage on said parasitic capacitance at plurality of successive time periods. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein sampling times of said means for sampling are not constant. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference> wherein said sampling times are small at high resolutions and high at low resolutions. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A photodiode sensor array, comprising: 
<claim-text>a plurality of photodiodes arranged in a predetermined pattern, each having a respective associated capacitance; </claim-text>
<claim-text>a circuit for charging said associated capacitances to a predetermined reset voltage, wherein when light impinges upon said photodiodes, said associated capacitances each discharge in a time proportional to an intensity of said light respectively impingent thereupon; </claim-text>
<claim-text>and a circuit for measuring respective times for each of said associated capacitances to discharge to a predetermined threshold value, wherein relative intensities of said light respectively impingent upon each of said photodiodes can be determined. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> wherein said associated capacitance is a parasitic capacitance. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> further comprising circuitry for varying said predetermined threshold value as a function of time. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference> wherein said circuitry for varying said predetermined threshold value as a function of time comprises circuitry to provide a reference voltage sufficiently close to said reset voltage to make a lowest intensity pixel in the image result in a toggled output and sufficiently below said reset voltage to ensure that the brightest pixel does not toggle too fast. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> wherein said means for measuring a time for said associated capacitance to discharge to a predetermined threshold value comprises a comparator for comparing a voltage on said parasitic capacitance to said predetermined threshold voltage. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> wherein said circuit for charging said associated capacitance comprises a transistor for selectively connecting said photodiode to a predetermined supply voltage. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> wherein said circuit for measuring a time for said associated capacitance to discharge to a predetermined threshold value comprises a sampling circuit and a circuit for comparing a voltage on said associated capacitance at plurality of successive sampling time periods to said reference voltage. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference> wherein sampling time periods vary as a function of time. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The photodiode sensor array of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference> wherein said sampling times are small at high resolutions and high at low resolutions. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. A method for operating a photodiode sensor array, comprising: 
<claim-text>providing a plurality of photodiodes arranged in a predetermined pattern, each having a respective associated capacitance; </claim-text>
<claim-text>charging said associated capacitances to a predetermined reset voltage; </claim-text>
<claim-text>and measuring respective times for each of said associated capacitances to discharge to a predetermined threshold value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference> further comprising varying said predetermined threshold value as a function of time. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 24</dependent-claim-reference> wherein said varying said predetermined threshold value as a function of time comprises providing a reference voltage close enough to said reset voltage to make a lowest intensity pixel in the image result in a toggled output and sufficiently below said reset voltage to ensure that the brightest pixel does not toggle too fast. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference> wherein said measuring a time for said associated capacitance to discharge to a predetermined threshold value comprises comparing a voltage on said associated capacitance to said predetermined threshold voltage. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference> wherein said charging said associated capacitance comprises selectively connecting said photodiode to a predetermined supply voltage. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference> wherein said measuring a time for said associated capacitance to discharge to a predetermined threshold value comprises sampling voltage values on said associated capacitance and comparing said sampled voltages at plurality of successive sampling time periods to said reference voltage. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 28</dependent-claim-reference> further comprising varying said sampling time periods vary as a function of time. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference> wherein varying further comprises varying said sampling times a small amount at high resolutions and a high amount at low resolutions.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>4</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001080A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001080A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001080A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001080A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001080A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
