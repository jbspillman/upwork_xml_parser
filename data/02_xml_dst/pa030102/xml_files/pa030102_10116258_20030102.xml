<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002722A1-20030102-D00000.TIF SYSTEM "US20030002722A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00001.TIF SYSTEM "US20030002722A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00002.TIF SYSTEM "US20030002722A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00003.TIF SYSTEM "US20030002722A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00004.TIF SYSTEM "US20030002722A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00005.TIF SYSTEM "US20030002722A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00006.TIF SYSTEM "US20030002722A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030002722A1-20030102-D00007.TIF SYSTEM "US20030002722A1-20030102-D00007.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002722</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10116258</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020404</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06K009/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>382</class>
<subclass>128000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>382</class>
<subclass>165000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Non-invasive determination of blood components</title-of-invention>
</technical-information>
<continuity-data>
<non-provisional-of-provisional>
<document-id>
<doc-number>60281941</doc-number>
<document-date>20010405</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Gregory</given-name>
<middle-name>D.</middle-name>
<family-name>Jay</family-name>
</name>
<residence>
<residence-us>
<city>Norfolk</city>
<state>MA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Selim</given-name>
<family-name>Suner</family-name>
</name>
<residence>
<residence-us>
<city>North Kingstown</city>
<state>RI</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Kevin</given-name>
<middle-name>S.</middle-name>
<family-name>Ernsting</family-name>
</name>
<residence>
<residence-us>
<city>Mountain View</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>MINTZ, LEVIN, COHN, FERRIS, GLOVSKY</name-1>
<name-2>AND POPEO, P.C.</name-2>
<address>
<address-1>ONE FINANCIAL CENTER</address-1>
<city>BOSTON</city>
<state>MA</state>
<postalcode>02111</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A method of estimating an amount of a substance in a bodily fluid from the color of a tissue surface of a subject includes capturing an image including at least a portion-of-interest of the subject and at least a reference portion of a color reference, the image being a digital image of pixels of at least one color, the image including a component value for each pixel for each of the at least one color, obtaining a first value associated with at least one component value corresponding to the portion-of-interest of the subject, obtaining a second value associated with at least one component value corresponding to the reference portion, and calculating an estimated amount of the substance using the first and second values. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS-REFERENCE TO RELATED ACTIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application claims the benefit of U.S. Provisional Application No. 60/281,941 filed Apr. 5, 2001.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The invention relates to determining hemoglobin concentrations and more particularly to determining hemoglobin concentrations in a non-invasive manner. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Determining hemoglobin (Hb) concentrations is often useful in diagnosis and treatment of patients. For example, Hb concentrations are useful in diagnosing whether a person is anemic. Several techniques currently exist for determining serum hemoglobin. For example, techniques include phlebotomy (puncturing a vein and drawing blood) with subsequent laboratory analysis of the drawn blood, microscopic assessment of mucous membranes, and subjective assessment of conjunctiva color and clinical parameters. By far the most widely used technique is phlebotomy followed by analysis with a flow cytometer. This technique is reliable, but uses one or more technicians, an expensive piece of equipment (the cytometer), and typically a centralized location for the analysis due to the cost of the cytometer. Another technique uses magnification and analysis of blood flow through mucous membranes. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In general, in an aspect, the invention provides a method of estimating an amount of a substance in a bodily fluid from the color of a tissue surface of a subject. The method includes capturing an image including at least a portion-of-interest of the subject and at least a reference portion of a color reference, the image being a digital image of pixels of at least one color, the image including a component value for each pixel for each of the at least one color, obtaining a first value associated with at least one component value corresponding to the portion-of-interest of the subject, obtaining a second value associated with at least one component value corresponding to the reference portion, and calculating an estimated amount of the substance using the first and second values. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Implementations of the invention may include one or more of the following features. The image comprises a plurality of colors for each pixel, wherein obtaining the first value comprises obtaining a plurality of first values each associated with at least one component value of a corresponding color, wherein obtaining the second value comprises obtaining a plurality of second values each associated with at least one component value of a corresponding color, and wherein the calculating the estimated amount uses each of the plurality of first and second values. The obtaining the first and second values comprises averaging component values in a first portion of the portion-of-interest and a second portion of the reference portion, respectively, for each of the plurality of colors. The calculating comprises using first and second empirically-predetermined weighting constants associated with the first and second values respectively. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Implementations of the invention may also include one or more of the following features. The method further includes selecting a first portion of the portion-of-interest and a second portion of the color reference, and wherein the first and second values are obtained from at least one component value of each of the first and second portions, respectively. The first portion is a biologically perfused surface of the subject. The capturing is performed non-invasively. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Implementations of the invention may also include one or more of the following features. The capturing, the obtaining a first value, the obtaining a second value, and the calculating are preformed in real time. The obtaining a first value, the obtaining a second value, and the calculating are at least partially performed by a processor executing software instructions. The portion-of-interest is a conjunctiva and the amount of the substance is a hemoglobin concentration. The method further includes displaying the estimated amount. The estimated amount is a hemoglobin concentration and is displayed in units of grams per deciliter (g/dl). </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> In general, in another aspect, the invention provides a method of determining factors that influence estimation of an amount of a substance in a bodily fluid from the color of a tissue surface of a subject. The method includes capturing an image including at least a portion-of-interest of the subject and at least a reference portion of a color reference, the image being a digital image of pixels of at least one color, the image including a component value for each pixel for each of the at least one color, establishing a first factor associated with the portion-of-interest and a second factor associated with the reference portion, calculating an estimated amount of the substance in the subject using the component values and the first and second factors, comparing the estimated amount with a corresponding known amount of the substance in the subject, and adjusting, if the estimated amount has other than a desired relationship with the known amount, at least one of the first and second factors. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Implementations of the invention may include one or more of the following features. The method further includes repeating the calculating, the comparing, and the adjusting until the estimated amount of the substance has the desired relationship with the known amount of the substance. The method further includes storing the first and second factors when the estimated amount of the substance has the desired relationship with the known amount of the substance. The image comprises a plurality of colors for each pixel, wherein the establishing establishes a plurality of first factors and a plurality of second factors each corresponding to a respective one of the plurality of colors, wherein the calculating the estimated amount uses each of the first and second factors, and wherein the adjusting adjusts any of the first and second factors. The method further includes selecting a first region of the portion-of-interest and a second region of the reference color. The calculating uses averages of the component values for each color over the first and second regions, respectively. The calculating uses ratios of the averages of the component values for each color over the first and second regions, respectively. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In general, in another aspect, the invention provides a system for determining a level of a substance in a bodily fluid from the color of a tissue surface. The system includes a color separator module configured to decompose a digital color image of a perfused surface of a subject and a color reference object into sub-images of component colors, the sub-images comprising digital component values corresponding to pixels of the image, a portion selector module in communication with the color separator module and configured to select a first window of the image of the perfused surface and to select a second window of the image of the color reference object, and a substance estimator module in communication with the portion selector and configured to calculate an estimated level of the substance using window values associated with component values corresponding to the first and second windows. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> Implementations of the invention may include one or more of the following features. The system further includes an imaging module configured to capture the image and to convey the digital component values of the image to the color separator module. The imaging module is configured to capture the image non-invasively. The portion selector module is further configured to average the component values of each sub-image to produce the window values, with one window value for each sub image for each of the first and second windows. The color separator module, the portion selector module, and the substance estimator module each comprise computer-executable instructions, stored on a computer-readable medium, for causing a computer to perform actions as recited in claim 20. The system further includes a display coupled to the substance estimator module and configured to display indicia of the estimated level of the substance. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Various aspects of the invention may provide one or more of the following advantages. Hemoglobin concentrations are determined regardless of lighting conditions, in real-time, at remote locations, and with inexpensive equipment. Hemoglobin concentrations are determined objectively, reliably, and repeatably. Hemoglobin concentrations are determined using, e.g., a portable digital camera including specialized software. Hemoglobin concentrations are determined non-invasively and using widely available resources. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> These and other advantages of the invention, along with the invention itself, will be more fully understood after a review of the following figures, detailed description, and claims.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE FIGURES </heading>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic perspective view of a system for estimating biologically-relevant factors. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram of modules of a digital camera shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a simplified diagram of an image, taken using the camera shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, including a portion of a subject and a color-reference card. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a block flow diagram of a process of estimating hemoglobin concentration. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a block flow diagram of a process of determining weighting constants for estimating hemoglobin concentration. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block flow diagram of a process of estimating hemoglobin concentration using the weighting constants determined using the process shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a scatter plot of experimental data showing predicted hemoglobin concentration, using the process shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, and actual measured hemoglobin concentration. Hemoglobin is expressed as grams per deciliter (g/dL).</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The invention provides techniques for determining the concentration of a substance in bodily fluids such as blood for diagnostic purposes. For example, the methods are useful to determine the concentration of hemoglobin, methemoglobin, carboxyhemoglobin, bilirubin, and bile salts to determine whether an individual is suffering from or at risk of developing a pathological condition such as anemia, dyshemoglobinemia, methemoglobinemia, carboxyhemoglobinemia, and carbon monoxide poisoning. Bilirubin disorders such as hyperbilirubinemia and bilirubinuria are also diagnosed using the methods described herein. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> In accordance with the invention, a user digitally photographs a patient and a gray reference simultaneously and adjacently. The digitally-captured image is processed based on known relationships of images and the gray reference with known hemoglobin concentrations or concentrations of other blood components. From the processing, a hemoglobin concentration figure is produced. This figure can be used to diagnose hemoglobin-related health issues (or at least health issues for which hemoglobin concentrations are indicated). For example, hemoglobin levels outside a normal range (14-18 g/dL for human male subjects; 12-16 g/dL for human female subjects) or bilirubin concentrations outside a normal range (0.3-1.0 mg/dL) indicate a pathological condition or a risk of developing such a condition. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1, a</cross-reference> system <highlight><bold>10</bold></highlight> includes a subject <highlight><bold>12</bold></highlight>, a gray-reference card <highlight><bold>14</bold></highlight>, a digital camera <highlight><bold>16</bold></highlight>, and a user <highlight><bold>18</bold></highlight>. The subject is a person whose hemoglobin concentration is to be determined. The gray-reference card <highlight><bold>14</bold></highlight> is a known shade of gray, here an 18% photographic standard gray card (i.e., the card is 18% of the way from pure white to pure black). The card <highlight><bold>14</bold></highlight> is disposed adjacent an area <highlight><bold>20</bold></highlight> of the subject <highlight><bold>12</bold></highlight> to be imaged. Preferably, the area <highlight><bold>20</bold></highlight> is a biologically perfused surface that&apos;s color is influenced by the subject&apos;s blood. For example, the area <highlight><bold>20</bold></highlight> can be, e.g., the subject&apos;s conjunctiva, a mucous membrane, nail bed, earlobe, skin, lips, or retina. The camera <highlight><bold>16</bold></highlight> is a digital camera configured to be manipulated by the user <highlight><bold>18</bold></highlight> to obtain a digital image of the area <highlight><bold>20</bold></highlight> of the subject <highlight><bold>12</bold></highlight>. The camera <highlight><bold>16</bold></highlight> images the area <highlight><bold>20</bold></highlight> as a set of pixels with red, green, and blue components with corresponding red, green, and blue values for each pixel. Here, the camera <highlight><bold>16</bold></highlight> can resolve the level of red, green, and/or blue for any given pixel into one of 256 different shades, yielding a composite image of over 16 million colors (256*256*256). The camera <highlight><bold>16</bold></highlight> is configured with computer-executable software to process levels of red, green, and blue of the area <highlight><bold>20</bold></highlight> as compared to the card <highlight><bold>14</bold></highlight> as described below to determine a hemoglobin concentration of the subject <highlight><bold>12</bold></highlight>. The camera <highlight><bold>16</bold></highlight> includes a display screen for displaying estimated hemoglobin concentrations in units of grams per deciliter (g/dl). </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> Referring also to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the digital camera <highlight><bold>16</bold></highlight> includes an imaging module <highlight><bold>21</bold></highlight>, an outlining software module <highlight><bold>22</bold></highlight>, a color separation software module <highlight><bold>24</bold></highlight>, and a hemoglobin concentration estimator software module <highlight><bold>26</bold></highlight>. Each of the modules <highlight><bold>22</bold></highlight>, <highlight><bold>24</bold></highlight>, <highlight><bold>26</bold></highlight> includes computer-executable instructions stored on a computer-readable medium such that the instructions can be read and executed by a processor <highlight><bold>32</bold></highlight> of the camera <highlight><bold>16</bold></highlight>. The modules may be referred to as performing actions as shorthand for the processor <highlight><bold>32</bold></highlight> executing the modules&apos; instructions for performing the listed actions/functions. The imaging module <highlight><bold>21</bold></highlight> includes both hardware and software. The imaging module <highlight><bold>21</bold></highlight> is configured to cause the camera <highlight><bold>16</bold></highlight> to take pictures and capture color images, the images being composed of pixels of red, blue, and green components having respective red, blue, and green component digital values. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The outlining module <highlight><bold>22</bold></highlight> is configured to select portions of an image corresponding to the area <highlight><bold>20</bold></highlight> of the subject <highlight><bold>12</bold></highlight>, and the card <highlight><bold>14</bold></highlight>. As shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the outlining module can select or outline a window <highlight><bold>34</bold></highlight> in the region <highlight><bold>20</bold></highlight> of the subject <highlight><bold>12</bold></highlight>, and a window <highlight><bold>36</bold></highlight> of the card <highlight><bold>14</bold></highlight>, from an image <highlight><bold>38</bold></highlight> taken by the camera <highlight><bold>16</bold></highlight>. As shown, the region <highlight><bold>20</bold></highlight> is the conjunctiva, of the subject <highlight><bold>12</bold></highlight>, that has been exposed by turning down the lower eyelid of the subject <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> The color separation module <highlight><bold>24</bold></highlight> is configured to use imaging software, e.g., available from the National Institute of Health (NIH) (NIH Image for MacIntosh computers and Scion Image for PCs; information is available at http://rsb.info.nih.bov/nih-image/). The module <highlight><bold>24</bold></highlight> uses the imaging software to separate or deconstruct the colors imaged by the camera <highlight><bold>16</bold></highlight> into the components of the pixels forming the image <highlight><bold>38</bold></highlight>. Thus, three sub-images similar to those shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are produced, one in red, one in green, and one in blue. The module <highlight><bold>24</bold></highlight> is further configured to average the digital component values over the outlined regions <highlight><bold>34</bold></highlight>, <highlight><bold>36</bold></highlight> and to determine ratios of average component values for red, green, and blue of the window <highlight><bold>34</bold></highlight> of the subject <highlight><bold>12</bold></highlight> and of the window <highlight><bold>36</bold></highlight> of the gray-reference card <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The estimator module <highlight><bold>26</bold></highlight> is configured to use ratios of values of the separated colors relative to the card <highlight><bold>14</bold></highlight> from the color separation module <highlight><bold>24</bold></highlight>, along with predetermined weighting constants, as inputs to formulas that produce a hemoglobin estimate. The estimator module <highlight><bold>26</bold></highlight> is configured to select measured values from the imaging module <highlight><bold>24</bold></highlight> corresponding to different selected portions of the image <highlight><bold>38</bold></highlight> taken by the camera <highlight><bold>16</bold></highlight> and to use the selected measured values to determine the hemoglobin concentration estimate. Specifically, the estimator module <highlight><bold>26</bold></highlight> is configured to determine a hemoglobin estimate Hb<highlight><subscript>est </subscript></highlight>according to:</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Hb</italic></highlight><highlight><subscript>est</subscript></highlight>&equals;1.15*((<highlight><italic>hgb&plus;hgb</italic></highlight>1)/2)&emsp;&emsp;(1)</in-line-formula></paragraph>
<paragraph id="P-0028" lvl="7"><number>&lsqb;0028&rsqb;</number> where</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>hgb</italic></highlight>1&equals;(120&minus;((<highlight><italic>bme</italic></highlight><highlight><subscript>c</subscript></highlight><highlight><italic>&minus;gme</italic></highlight><highlight><subscript>c</subscript></highlight>)&plus;(120&minus;(<highlight><italic>gme</italic></highlight><highlight><subscript>c</subscript></highlight><highlight><italic>&minus;rme</italic></highlight><highlight><subscript>c</subscript></highlight>)&minus;20)&minus;20))/12&emsp;&emsp;(2)</in-line-formula></paragraph>
<paragraph id="P-0029" lvl="7"><number>&lsqb;0029&rsqb;</number> and</paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>hgb&equals;</italic></highlight>(40&plus;((160&minus;(((<highlight><italic>bme</italic></highlight><highlight><subscript>c</subscript></highlight><highlight><italic>&minus;gme</italic></highlight><highlight><subscript>c</subscript></highlight>)&plus;(140&minus;(<highlight><italic>gme</italic></highlight><highlight><subscript>c</subscript></highlight><highlight><italic>&minus;rme</italic></highlight><highlight><subscript>c</subscript></highlight>))&minus;12)))/4))/4.5&emsp;&emsp;(3)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>bmult</italic></highlight>&equals;150<highlight><italic>/bme</italic></highlight><highlight><subscript>s</subscript></highlight>&emsp;&emsp;(4)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>gmult</italic></highlight>&equals;165<highlight><italic>/gme</italic></highlight><highlight><subscript>s</subscript></highlight>&emsp;&emsp;(5)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>rmult</italic></highlight>0.8&plus;(130<highlight><italic>/rme</italic></highlight><highlight><subscript>s</subscript></highlight>)&emsp;&emsp;(6)</in-line-formula></paragraph>
<paragraph id="P-0030" lvl="7"><number>&lsqb;0030&rsqb;</number> where bme<highlight><subscript>s</subscript></highlight>, gme<highlight><subscript>s</subscript></highlight>, and rme<highlight><subscript>s </subscript></highlight>are the means (averages) of the blue, green, and red, respectively, component values for the pixels in the window <highlight><bold>36</bold></highlight> of the reference card <highlight><bold>14</bold></highlight> used as a standard, and where bme<highlight><subscript>c</subscript></highlight>, gme<highlight><subscript>c</subscript></highlight>, and rme<highlight><subscript>c </subscript></highlight>are the means (averages) of the blue, green, and red, respectively, component values for the pixels in the window <highlight><bold>34</bold></highlight> of the area <highlight><bold>20</bold></highlight>, here the subject&apos;s conjunctiva, multiplied by bmult, gmult, and rmult, respectively. Thus, bme<highlight><subscript>c</subscript></highlight>, gme<highlight><subscript>c</subscript></highlight>, and rme<highlight><subscript>c </subscript></highlight>include ratios of the averages of the component values in the window <highlight><bold>34</bold></highlight> and the averages of the component values in the window <highlight><bold>36</bold></highlight>. The constants, i.e., 150 in equation (4), 165 in equation (5), and 0.8 and 130 in equation (6) are weighting constants empirically determined as described below. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In operation, referring to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, with further reference to FIGS. <highlight><bold>1</bold></highlight>-<highlight><bold>3</bold></highlight>, a process <highlight><bold>50</bold></highlight> for estimating the subject&apos;s hemoglobin concentration using the camera <highlight><bold>16</bold></highlight> includes the stages shown. The process <highlight><bold>50</bold></highlight>, however, is exemplary only and not limiting. The process <highlight><bold>50</bold></highlight> can be altered, e.g., by having stages added, removed, or rearranged. The process <highlight><bold>50</bold></highlight> includes a stage <highlight><bold>52</bold></highlight> where weighting constants are determined, and a stage <highlight><bold>54</bold></highlight> where the determined weighting constants are applied to an image of a subject to estimate the subject&apos;s hemoglobin. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Referring also to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, stage <highlight><bold>52</bold></highlight> of the process <highlight><bold>50</bold></highlight> includes the stages shown for determining the weighting constants to be used at stage <highlight><bold>54</bold></highlight>. The stages shown are exemplary only and not limiting. Stages may be added, removed, or rearranged. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> At stage <highlight><bold>60</bold></highlight>, the image <highlight><bold>38</bold></highlight> of the subject <highlight><bold>12</bold></highlight> and the card <highlight><bold>14</bold></highlight> is taken using the camera <highlight><bold>16</bold></highlight>. The card <highlight><bold>14</bold></highlight> is placed adjacent the region <highlight><bold>20</bold></highlight> to be imaged, here the subject&apos;s conjunctiva. The subject <highlight><bold>12</bold></highlight> everts the subject&apos;s lower eyelid and holds the card <highlight><bold>14</bold></highlight> adjacent to the subject&apos;s head at eye level. The user <highlight><bold>18</bold></highlight> actuates the camera <highlight><bold>16</bold></highlight> to take the image <highlight><bold>38</bold></highlight>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> At stage <highlight><bold>62</bold></highlight>, the windows <highlight><bold>34</bold></highlight>, <highlight><bold>36</bold></highlight> of the subject <highlight><bold>12</bold></highlight> and the card <highlight><bold>14</bold></highlight> are outlined. The outline module <highlight><bold>22</bold></highlight> outlines the windows <highlight><bold>34</bold></highlight>, <highlight><bold>36</bold></highlight> in the region <highlight><bold>20</bold></highlight> of the subject <highlight><bold>12</bold></highlight> and within the perimeter of the card <highlight><bold>14</bold></highlight> </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> At stage <highlight><bold>64</bold></highlight>, the image <highlight><bold>38</bold></highlight> is separated into red, green, and blue images. The color separation module <highlight><bold>24</bold></highlight> separates the pixels of the image <highlight><bold>38</bold></highlight> using the imaging software (e.g., NIH Image or Scion Image). The module <highlight><bold>24</bold></highlight> further determines ratios of red, green, and blue values to a value associated with the gray-reference card. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> At stage <highlight><bold>66</bold></highlight>, a weighting constant is determined for each color (red, green, and blue) using known hemoglobin concentrations. Values of ratios from stages <highlight><bold>62</bold></highlight>, <highlight><bold>64</bold></highlight>, and <highlight><bold>66</bold></highlight> for several subjects <highlight><bold>12</bold></highlight> are provided, along with a known hemoglobin concentrations of these same subjects <highlight><bold>12</bold></highlight> (e.g., derived from phlebotomy and laboratory analysis). The provided values are entered into equations (1)-(6) with initial red, green, and blue weighting constants. The initial constants are arbitrary, e.g., 1, but may be selected to help reduce the number of iterations involved in determining final weighting constants. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> At stage <highlight><bold>68</bold></highlight>, the subject&apos;s hemoglobin concentration is estimated by the concentration estimator module <highlight><bold>26</bold></highlight>. The module <highlight><bold>26</bold></highlight> uses the values of the ratios from stage <highlight><bold>66</bold></highlight> in equations (1)-(6) to estimate the subject&apos;s hemoglobin concentration. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> At stage <highlight><bold>70</bold></highlight>, the estimated and known concentrations are compared. The estimated versus known hemoglobin concentrations are compared to determine whether adjustments to one or more of the weighting constants is appropriate (i.e., if the estimated and known concentrations meet or do not meet desired criteria such as being within a desired percentage of each other). </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> At stage <highlight><bold>72</bold></highlight>, appropriate adjustments are made to the red, green, and/or blue weighting constants. The weighting constants are adjusted to attempt to achieve a more accurate hemoglobin concentration estimate. If any adjustment is made to a weighting constant, then the process <highlight><bold>60</bold></highlight> returns to stage <highlight><bold>68</bold></highlight> where the hemoglobin concentration for a particular subject <highlight><bold>12</bold></highlight> is determined. If no adjustments are made, then the process <highlight><bold>60</bold></highlight> proceeds to stage <highlight><bold>74</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> At stage <highlight><bold>74</bold></highlight>, the weighting constants are stored for future use. The red, green, and blue weighting constants are stored for use in determining estimates of hemoglobin concentrations for subjects <highlight><bold>12</bold></highlight> whose hemoglobin may not be determined through other means, e.g., phlebotomy and lab analysis. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Stage <highlight><bold>52</bold></highlight> thus provides stage <highlight><bold>54</bold></highlight> with red, green, and blue weighting constants for use in estimating hemoglobin concentrations for other subjects <highlight><bold>12</bold></highlight>. Referring also to <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, stage <highlight><bold>54</bold></highlight> of the process <highlight><bold>50</bold></highlight> includes the stages shown for using the determined the weighting constants to estimate the subject&apos;s hemoglobin concentration. The stages shown are exemplary only and not limiting. Stages may be added, removed, or rearranged. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> At stage <highlight><bold>80</bold></highlight>, stages <highlight><bold>60</bold></highlight>, <highlight><bold>62</bold></highlight>, and <highlight><bold>64</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> are performed for a non-reference subject <highlight><bold>12</bold></highlight> whose hemoglobin concentration is to be estimated. Typically, this subject <highlight><bold>12</bold></highlight> will not have hemoglobin concentration determined through other means. The subject <highlight><bold>12</bold></highlight> may be located far away from other equipment needed for actual determination or direct measurement of hemoglobin concentration. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> At stage <highlight><bold>82</bold></highlight>, the ratios of color values to the gray card <highlight><bold>14</bold></highlight> determined at stage <highlight><bold>80</bold></highlight> are applied to estimate the subject&apos;s hemoglobin concentration. The concentration estimator module <highlight><bold>26</bold></highlight> uses the ratios provided from the color separation module <highlight><bold>24</bold></highlight> at stage <highlight><bold>80</bold></highlight> and the weighting constants determined in stage <highlight><bold>52</bold></highlight> in equations (1)-(3) to determine an estimation of the subject&apos;s hemoglobin concentration. The module <highlight><bold>26</bold></highlight> provides a number indicating the hemoglobin concentration upon which a diagnosis of the subject <highlight><bold>12</bold></highlight> may be based. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Stage <highlight><bold>52</bold></highlight> will typically occur well before stage <highlight><bold>54</bold></highlight>, although this is not necessary. For example, the image <highlight><bold>38</bold></highlight> of the subject <highlight><bold>12</bold></highlight> may be taken at stage <highlight><bold>80</bold></highlight>, then the weighting constant determined at stage <highlight><bold>52</bold></highlight>, then the subject&apos;s hemoglobin estimated at stage <highlight><bold>82</bold></highlight>. Further, after a hemoglobin concentration is estimated, weighting constants may be updated/refined and hemoglobin estimates recalculated. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, experimental results using the process <highlight><bold>50</bold></highlight> evidenced a correlation between hemoglobin concentration and conjunctiva color. For the experiments, persons with active bleeding, oxygen saturation less than 90%, or a serum bilirubin over 3.0 mg/dL were excluded. Actual Hb was measured with a cell counter model SE9500 made by Sysmex Corp. of Kobe, Japan. Photographs were taken with a digital camera model DSC-F1, with 480&times;260 pixels, made by Sony Corp. of Tokyo, Japan. 117 images were used from 63 patients (79 images for formula derivation and 38 for a validation group). 46% of the patients were female, and the patients ranged in age from 20 to 87 years, with a mean 60&plusmn;18. The formula derivation group had a Pearson&apos;s Rank Order Coefficient of r(77)&equals;0.634, p&lt;0.01. The validation group had a Pearson&apos;s Rank Order Coefficient of r(36)&equals;0.522, p&lt;0.01. The standard error was 2.57 and the standard deviation was 3.09. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Other embodiments are within the scope and spirit of the appended claims. For example, due to the nature of software, functions described above can be implemented using software, hardware, firmware, hardwiring, or combinations of any of these. Features implementing functions may also be physically located at various positions, including being distributed such that portions of functions are implemented at different physical locations. For example, portions of the software described above as being in the camera <highlight><bold>16</bold></highlight> can be disposed externally to the camera <highlight><bold>16</bold></highlight>. One or more of the software modules may be disposed in an external computer, such as a laptop computer, or on a computer-readable medium such as a floppy disc or compact disc (including a re-writable compact disc). In these cases, images taken by the camera <highlight><bold>16</bold></highlight> can be loaded onto a computer that executes the software externally to the camera <highlight><bold>16</bold></highlight>. The computer or other external device can display estimated amounts in appropriate units, such as hemoglobin concentrations in units of grams per deciliter (g/dl). </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> What is claimed is: </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method of estimating an amount of a substance in a bodily fluid from the color of a tissue surface of a subject, the method comprising: 
<claim-text>capturing an image including at least a portion-of-interest of the subject and at least a reference portion of a color reference, the image being a digital image of pixels of at least one color, the image including a component value for each pixel for each of the at least one color; </claim-text>
<claim-text>obtaining a first value associated with at least one component value corresponding to the portion-of-interest of the subject; </claim-text>
<claim-text>obtaining a second value associated with at least one component value corresponding to the reference portion; and </claim-text>
<claim-text>calculating an estimated amount of the substance using the first and second values. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the image comprises a plurality of colors for each pixel, wherein obtaining the first value comprises obtaining a plurality of first values each associated with at least one component value of a corresponding color, wherein obtaining the second value comprises obtaining a plurality of second values each associated with at least one component value of a corresponding color, and wherein the calculating the estimated amount uses each of the plurality of first and second values. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> wherein obtaining the first and second values comprises averaging component values in a first portion of the portion-of-interest and a second portion of the reference portion, respectively, for each of the plurality of colors. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein the calculating comprises using first and second empirically-predetermined weighting constants associated with the first and second values respectively. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> further comprising selecting a first portion of the portion-of-interest and a second portion of the color reference, and wherein the first and second values are obtained from at least one component value of each of the first and second portions, respectively. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference> wherein the first portion is a biologically perfused surface of the subject. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference> wherein the capturing is performed non-invasively. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the capturing, the obtaining a first value, the obtaining a second value, and the calculating are performed in real time. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the obtaining a first value, the obtaining a second value, and the calculating are at least partially performed by a processor executing software instructions. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein the portion-of-interest is a conjunctiva and the amount of the substance is a hemoglobin concentration. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> further comprising displaying the estimated amount. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference> wherein the estimated amount is a hemoglobin concentration and is displayed in units of grams per deciliter (g/dl). </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A method of determining factors that influence estimation of an amount of a substance in a bodily fluid from the color of a tissue surface of a subject, the method comprising: 
<claim-text>capturing an image including at least a portion-of-interest of the subject and at least a reference portion of a color reference, the image being a digital image of pixels of at least one color, the image including a component value for each pixel for each of the at least one color; </claim-text>
<claim-text>establishing a first factor associated with the portion-of-interest and a second factor associated with the reference portion; </claim-text>
<claim-text>calculating an estimated amount of the substance in the subject using the component values and the first and second factors; </claim-text>
<claim-text>comparing the estimated amount with a corresponding known amount of the substance in the subject; and </claim-text>
<claim-text>adjusting, if the estimated amount has other than a desired relationship with the known amount, at least one of the first and second factors. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference> further comprising repeating the calculating, the comparing, and the adjusting until the estimated amount of the substance has the desired relationship with the known amount of the substance. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference> further comprising storing the first and second factors when the estimated amount of the substance has the desired relationship with the known amount of the substance. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference> wherein the image comprises a plurality of colors for each pixel, wherein the establishing establishes a plurality of first factors and a plurality of second factors each corresponding to a respective one of the plurality of colors, wherein the calculating the estimated amount uses each of the first and second factors, and wherein the adjusting adjusts any of the first and second factors. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference> further comprising selecting a first region of the portion-of-interest and a second region of the reference color. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference> wherein the calculating uses averages of the component values for each color over the first and second regions, respectively. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference> wherein the calculating uses ratios of the averages of the component values for each color over the first and second regions, respectively. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A system for determining a level of a substance in a bodily fluid from the color of a tissue surface, the system comprising: 
<claim-text>a color separator module configured to decompose a digital color image of a perfused surface of a subject and a color reference object into sub-images of component colors, the sub-images comprising digital component values corresponding to pixels of the image; </claim-text>
<claim-text>a portion selector module in communication with the color separator module and configured to select a first window of the image of the perfused surface and to select a second window of the image of the color reference object; and </claim-text>
<claim-text>a substance estimator module in communication with the portion selector and configured to calculate an estimated level of the substance using window values associated with component values corresponding to the first and second windows. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference> further comprising an imaging module configured to capture the image and to convey the digital component values of the image to the color separator module. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference> wherein the imaging module is configured to capture the image non-invasively. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference> wherein the portion selector module is further configured to average the component values of each sub-image to produce the window values, with one window value for each sub image for each of the first and second windows. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference> wherein the color separator module, the portion selector module, and the substance estimator module each comprise computer-executable instructions, stored on a computer-readable medium, for causing a computer to perform actions as recited in <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference> further comprising a display coupled to the substance estimator module and configured to display indicia of the estimated level of the substance.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>5</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002722A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002722A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002722A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002722A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030002722A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030002722A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030002722A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030002722A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
