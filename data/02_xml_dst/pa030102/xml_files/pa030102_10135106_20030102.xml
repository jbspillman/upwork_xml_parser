<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004713A1-20030102-M00001.NB SYSTEM "US20030004713A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030004713A1-20030102-M00001.TIF SYSTEM "US20030004713A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-M00002.NB SYSTEM "US20030004713A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030004713A1-20030102-M00002.TIF SYSTEM "US20030004713A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-M00003.NB SYSTEM "US20030004713A1-20030102-M00003.NB" NDATA NB>
<!ENTITY US20030004713A1-20030102-M00003.TIF SYSTEM "US20030004713A1-20030102-M00003.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-M00004.NB SYSTEM "US20030004713A1-20030102-M00004.NB" NDATA NB>
<!ENTITY US20030004713A1-20030102-M00004.TIF SYSTEM "US20030004713A1-20030102-M00004.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00000.TIF SYSTEM "US20030004713A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00001.TIF SYSTEM "US20030004713A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00002.TIF SYSTEM "US20030004713A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00003.TIF SYSTEM "US20030004713A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00004.TIF SYSTEM "US20030004713A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00005.TIF SYSTEM "US20030004713A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00006.TIF SYSTEM "US20030004713A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00007.TIF SYSTEM "US20030004713A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00008.TIF SYSTEM "US20030004713A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00009.TIF SYSTEM "US20030004713A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00010.TIF SYSTEM "US20030004713A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00011.TIF SYSTEM "US20030004713A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00012.TIF SYSTEM "US20030004713A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00013.TIF SYSTEM "US20030004713A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004713A1-20030102-D00014.TIF SYSTEM "US20030004713A1-20030102-D00014.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004713</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10135106</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020429</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>P2001-136487</doc-number>
</priority-application-number>
<filing-date>20010507</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G10L019/02</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>704</class>
<subclass>230000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>704</class>
<subclass>229000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Signal processing apparatus and method, signal coding apparatus and method , and signal decoding apparatus and method</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Kenichi</given-name>
<family-name>Makino</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Jun</given-name>
<family-name>Matsumoto</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>Cooper &amp; Dunham LLP</name-1>
<name-2></name-2>
<address>
<address-1>1185 Avenue of the Americas</address-1>
<city>New York</city>
<state>NY</state>
<postalcode>10036</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A computation error of band-by-band bit allocation between an encoder and a decoder is prevented. On the encoder side, an input LSP coefficient is quantized by a quantization device, and a quantized output is output. In a codebook referring section, the look up of a codebook in which computation results are prestored is performed by using an LSP index of the first stage, and band-by-band bit allocation information is created. LSP indexes for each quantization stage are supplied to a decoder side. On the decoder side, the look up of the codebook is performed using the LSP index, and dequantization is performed on the basis of the created band-by-band bit allocation information. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to a signal processing apparatus and method for performing signal processing associated with quantization, on an input parameter, and to a signal coding apparatus and method in which the signal processing apparatus is used. Also, the present invention relates to a signal processing apparatus and method for inputting an index of a quantized output from quantization means and for performing signal processing associated with dequantization, and to a signal decoding apparatus and method in which the signal processing apparatus is used. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Hitherto, various coding methods for performing signal compression by using statistical properties in a time domain and a frequency domain of audio signals (including voice signals and musical signals) and auditory characteristics of a human being are known. Broadly speaking, examples of these coding methods include coding in a time domain, coding in a frequency domain, and analysis-synthesis coding. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In transform coding in which coding is performed by performing an orthogonal transform on an input signal on a time axis into a signal on a frequency axis, the following has been proposed that, with a view to achieving a lower bit rate, dynamic bit allocation corresponding to an input signal is performed and quantization of coefficient data on a frequency axis is performed. However, the calculation of this bit allocation is complex, and in particular, when coefficient data on a frequency axis is divided in units of several pieces and vector quantization is performed by using the divided data as subvectors, if the bit allocation for each coefficient is changed, the calculation of bit allocation for quantization is complicated. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Furthermore, when bit allocation changes dramatically for each frame, which is a transform unit for the orthogonal transform, there is a drawback in that reproduced sound is likely to become unstable. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> For this reason, the applicant of the present invention previously proposed in Japanese Unexamined Patent Application Publication No. 12-132194 (hereinafter referred to as &ldquo;the conventional art&rdquo;), a signal coding apparatus and method, and a signal decoding apparatus and method, in which the calculations of bit allocation can be easily performed while dynamic bit allocation corresponding to an input signal is performed during the coding associated with the orthogonal transform, and in which reproduced sound does not become unstable even if bit allocation dramatically changes between frames. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> In this conventional art, when coding is performed on an input signal on a time axis by using the orthogonal transform, a weight is computed according to the input signal, coefficient data obtained by being orthogonally transformed is assigned an order according to the order of this weight, and quantization with high accuracy is performed in accordance with this order. Therefore, even if bit allocation is performed dynamically according to the input signal, the calculation of the number of bits, which is assigned to each coefficient, can be performed simply. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Furthermore, by specifying parameters for calculating bit allocation in advance and by sending these parameters to a decoder side, it becomes unnecessary to send information of bit allocation to the decoder side, and thus the amount of additional information can be reduced, and a lower bit rate can be realized. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In the above-described conventional art, since there is a need that the results of a calculation of band-by-band bit allocation be completely the same between the coder and the decoder, the computation accuracy for this calculation needs to precisely agree between them. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> However, for example, in a case where a signal coded by a coder which is implemented in a DSP (Digital Signal Processor) which performs fixed-point calculations is to be decoded by a decoder which is implemented in a personal computer, etc., if the decoder uses floating-point calculations, in spite of the fact that completely the same LSP (Line Spectrum Pair) codebook is referred to and the same codeword is input, a discrepancy in band-by-band bit allocation, resulting from computation errors, occurs between the coder and the decoder. Therefore, in this case, fixed-point calculations similar to those of a DSP need to be realized on a personal computer so that accuracy agrees to eliminate errors. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> However, when computations to be performed by a fixed-point DSP having a general 40-bit accumulator is realized by a personal computer having a conventional 32-bit processor installed therein, a problem arises in that the number of computations becomes dramatically larger than when the same calculation is performed by floating-point calculation due to a limitation on the bit width of the processor. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The present invention has been proposed in view of the conventional situation. An object of the present invention is to provide a signal processing apparatus and method in which calculation results of band-by-band bit allocation are completely the same between a coder and a decoder, to provide a signal coding apparatus and method, and a signal decoding apparatus and method, in which the signal processing apparatus is used. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> To achieve the above-mentioned object, in one aspect, the present invention provides a signal processing apparatus for performing signal processing associated with quantization on a first input parameter, the signal processing apparatus comprising: quantization means for quantizing the first parameter; and table referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for determining a second parameter by referring to the table by using an index of a quantized output from the quantization means when the second parameter is to be determined on the basis of the first parameter quantized by the quantization means. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Such a signal processing apparatus prepares a table in which results of a conversion of each representative value of a codebook are prestored, and determines the second parameter by referring to the table using the index of the quantized output from the quantization means when a second parameter is determined on the basis of the first parameter quantized by the quantization means. Therefore, computations for parameter conversion do not need to be performed. Furthermore, since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal processing method for performing signal processing associated with quantization, on a first input parameter, the signal processing method comprising: a quantization step of quantizing the first parameter; and a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and determining a second parameter by referring to the table by using an index of a quantized output in the quantization step when the second parameter is to be determined on the basis of the first parameter quantized in the quantization step. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> Such a signal processing method prepares a table in which a result of a conversion of each representative value of a codebook is prestored and determines a second parameter by referring to the table by using an index of a quantized output in the quantization step when the second parameter is to be determined on the basis of the first parameter quantized in the quantization step. Therefore, computations for parameter conversion do not need to be performed. Furthermore, since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal coding apparatus for performing coding by performing an orthogonal transform on a signal based on an input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, the signal coding apparatus comprising: orthogonal transform means for performing an orthogonal transform on a signal based on the input signal; parameter quantization means for quantizing a parameter based on the input signal; table referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for determining bit allocation information by referring to the table by using an index of a quantized output from the quantization means when the bit allocation information is to be determined on the basis of the parameter quantized by the quantization means; and quantization means for performing bit allocation quantization on the orthogonal transform coefficient obtained by the orthogonal transform means on the basis of the bit allocation information determined by the table referring means. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Such a signal coding apparatus prepares a table in which a result of a conversion of each representative value of a codebook is prestored and determines bit allocation information by referring to the table by using an index of a quantized output from the quantization means when the bit allocation information is to be determined on the basis of the parameter quantized by the quantization means, and performs, in accordance with the bit allocation information, bit assignment quantization on the orthogonal transform coefficient obtained by performing an orthogonal transform on a signal based on the input signal. Therefore, computations for parameter conversion do not need to be performed. Furthermore, since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal coding method for performing coding by performing an orthogonal transform on a signal based on an input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, the signal coding method comprising: an orthogonal transform step of performing an orthogonal transform on a signal based on the input signal; a parameter quantization step of quantizing a parameter based on the input signal; a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and determining bit allocation information by referring to the table by using an index of a quantized output in the parameter quantization step when the bit allocation information is to be determined on the basis of the parameter quantized in the parameter quantization step; and a quantization step of performing bit allocation quantization on the orthogonal transform coefficient obtained in the orthogonal transform step on the basis of the bit allocation information determined in the table referring step. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Such a signal coding method prepares a table in which a result of a conversion of each representative value of a codebook is prestored and determines bit allocation information by referring to the table by using an index of a quantized output in the parameter quantization step when the bit allocation information is to be determined on the basis of the parameter quantized in the parameter quantization step, and performs bit allocation quantization on the orthogonal transform coefficient obtained by performing an orthogonal transform on a signal based on the input signal. Therefore, computations for parameter conversion do not need to be performed. Furthermore, since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal processing apparatus for inputting an index of a quantized output from the quantization means and for performing signal processing associated with dequantization, the signal processing apparatus comprising: dequantization means for dequantizing the index; andtable referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for creating a parameter by referring to the table by using the index. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Such a signal processing apparatus dequantizes an index of a quantized output, prepares a table in which a result of a conversion of each representative value of a codebook is prestored, and creates a parameter by referring to the table by using the index. Since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal processing method for inputting an index of a quantized output in quantization means and for performing signal processing associated with dequantization, the signal processing method comprising: a dequantization step of dequantizing the index; and a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and creating a parameter by referring to the table by using the index. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> Such a signal processing method dequantizes an index of a quantized output, prepares a table in which a result of a conversion of each representative value of a codebook is prestored, and creates a parameter by referring to the table by using the index. Since parameter conversion is also performed on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal decoding apparatus for inputting at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from a signal coding apparatus which quantizes the first parameter based on the input signal and which performs bit allocation quantization on an orthogonal transform coefficient on the basis of the created bit allocation information by referring to a table in which a result of a conversion of each representative value of a codebook is prestored on the basis of the first quantized parameter when coding is to be performed by performing an orthogonal transform on the input signal on a time axis and by performing bit assignment quantization on the obtained orthogonal transform coefficient, the signal decoding apparatus comprising: table referring means for creating bit allocation information by referring to the table on the basis of the index; dequantization means for dequantizing the orthogonal transform coefficient on the basis of the bit allocation information created by the table referring means; and inverse orthogonal transform means for performing an inverse orthogonal transform on the orthogonal transform coefficient which is dequantized by the dequantization means. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> Such a signal decoding apparatus inputs at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from the signal coding apparatus, creates bit allocation information by referring to the table on the basis of the index, dequantizes the orthogonal transform coefficient on the basis of the created bit allocation information, and performs an inverse orthogonal transform on the dequantized orthogonal transform coefficient. Since bit allocation information is also created on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> To achieve the above-mentioned object, in another aspect, the present invention provides a signal decoding method for inputting at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from a signal coding apparatus which quantizes the first parameter based on the input signal and which performs bit allocation quantization on an orthogonal transform coefficient on the basis of the created bit allocation information by referring to a table in which a result of a conversion of each representative value of a codebook is prestored when coding is performed by performing an orthogonal transform on the input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, and for decoding the orthogonal transform coefficient on the basis of the index, the signal decoding method comprising: a table referring step of creating bit allocation information by referring to the table on the basis of the index; a dequantization step of dequantizing the orthogonal transform coefficient on the basis of the bit allocation information created in the table referring step; and an inverse orthogonal transform step of performing an inverse orthogonal transform on the orthogonal transform coefficient which is dequantized in the dequantization step. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Such a signal decoding method inputs at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from the signal coding apparatus, creates bit allocation information by referring to the table on the basis of the index, dequantizes the orthogonal transform coefficient on the basis of the created bit allocation information, and performs an inverse orthogonal transform on the dequantized orthogonal transform coefficient. Since bit allocation information is also created on the encoder side in a similar manner, a computation error between the encoder side and the decoder side can be prevented.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates a construction in a case where a parameter is converted by using a quantized output up to a third stage in a conventional signal processing apparatus; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates a construction of a decoder side in a case where a parameter is converted on an encoder side by using a quantized output up to a third stage in a conventional signal processing apparatus; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a flowchart illustrating a parameter conversion procedure; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> illustrates a construction in a case where a parameter is converted by using a quantized output up to a first stage in a conventional signal processing apparatus; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> illustrates a construction of a decoder side in a case where a parameter is converted on an encoder side by using a quantized output up to a first stage in a conventional signal processing apparatus; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> illustrates the construction of a conventional signal coding apparatus; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> illustrates the construction of a conventional signal decoding apparatus; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> illustrates a creation of a codebook in a signal processing apparatus of this embodiment; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a flowchart illustrating a codebook creation procedure in the signal processing apparatus; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> illustrates an overall construction on an encoder side of the signal processing apparatus; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> illustrates a look-up of a codebook in a codebook referring section of the signal processing apparatus; </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> illustrates an overall construction on a decoder side of the signal processing apparatus; </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> illustrates a construction of the essential portions of a signal coding apparatus in which the signal processing apparatus is used; and </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> illustrates a construction of the essential portions of a signal decoding apparatus in which the signal processing apparatus is used. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Specific embodiments according to the present invention will be described below in detail with reference to the drawings. This embodiment is a signal processing apparatus according to the present invention, and a signal processing method in which the signal processing apparatus which quantizes an LSP coefficient by a multistage vector quantization and which determines band-by-band bit allocation information by parameter conversion from the quantized LSP coefficient is used. In the following, together with the description of this signal processing apparatus, a signal coding apparatus and a signal decoding apparatus in which the signal processing apparatus is used will also be described. In the following, for the sake of simplicity, a description is given by assuming that a multistage vector quantization of three stages is performed in the signal processing apparatus. However, of course, the present invention can be applied to a multistage vector quantization of N stages (N is an integer of 1 or more). </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> First, before the signal processing apparatus of this embodiment is described, a conventional signal processing apparatus is described. As the overall construction of the conventional signal processing apparatus is shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the signal processing apparatus comprises quantization devices <highlight><bold>101</bold></highlight> to <highlight><bold>103</bold></highlight>, a parameter conversion section <highlight><bold>104</bold></highlight>, subtractors <highlight><bold>105</bold></highlight> and <highlight><bold>106</bold></highlight>, and adders <highlight><bold>107</bold></highlight> and <highlight><bold>108</bold></highlight>. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> An LSP coefficient which is a first input parameter is quantized by the quantization device <highlight><bold>101</bold></highlight>, and a quantized output c<highlight><subscript>1 </subscript></highlight>is output. The quantized output c<highlight><subscript>1 </subscript></highlight>is subtracted from the input LSP coefficient by the subtractor <highlight><bold>105</bold></highlight>, and a quantized error thereof is quantized by the quantization device <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> Similarly, a quantized output c<highlight><subscript>2 </subscript></highlight>is subtracted from an input value of the quantization device <highlight><bold>102</bold></highlight>, and a quantized error thereof is quantized in the quantization device <highlight><bold>103</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The quantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by adders <highlight><bold>107</bold></highlight> and <highlight><bold>108</bold></highlight> and become a quantized LSP. Furthermore, the quantized LSP is converted into band-by-band bit allocation information d which is a second parameter on the basis of a parameter conversion function F in the parameter conversion section <highlight><bold>104</bold></highlight>. LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>for each quantization stage are supplied to a decoder side. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> As the overall construction of the decoder side is shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the decoder comprises dequantization devices <highlight><bold>111</bold></highlight> to <highlight><bold>113</bold></highlight>, a parameter conversion section <highlight><bold>114</bold></highlight>, and adders <highlight><bold>115</bold></highlight> and <highlight><bold>116</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>supplied from the encoder side are input to the dequantization devices <highlight><bold>111</bold></highlight> to <highlight><bold>113</bold></highlight>, and dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are output, respectively. The dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by the adders <highlight><bold>115</bold></highlight> and <highlight><bold>116</bold></highlight> and become a dequantized LSP. Furthermore, the dequantized LSP is converted into band-by-band bit allocation information d on the basis of a parameter conversion function in the parameter conversion section <highlight><bold>114</bold></highlight>. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Here, the parameter conversion sections <highlight><bold>104</bold></highlight> and <highlight><bold>114</bold></highlight> compute the band-by-band bit allocation information d by performing processing such as that shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. Initially, in step S<highlight><bold>10</bold></highlight>, an LSP coefficient is converted into an LPC (Linear Predictive Coding) coefficient. Next, in step S<highlight><bold>11</bold></highlight>, a frequency response is computed, and in the subsequent step S<highlight><bold>12</bold></highlight>, bit allocation information is computed. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> In the above description, parameter conversion is performed by using quantized results of three stages. However, when a quantized LSP is approximated satisfactorily by using only the quantized output c<highlight><subscript>1 </subscript></highlight>of the first stage, only the quantized output cl of the first stage may be subjected to parameter conversion. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> The circuit configuration of the signal processing apparatus in this case is shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. As shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, the input LSP coefficient is quantized by the quantization device <highlight><bold>101</bold></highlight>, and a quantized output c<highlight><subscript>1 </subscript></highlight>is output. A quantized error of the first stage is quantized by the quantization device <highlight><bold>102</bold></highlight>, and a quantized error of the second stage is quantized by the quantization device <highlight><bold>103</bold></highlight>. The quantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by the adders <highlight><bold>107</bold></highlight> and <highlight><bold>108</bold></highlight> and become a quantized LSP. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Here, the quantized output c<highlight><subscript>1 </subscript></highlight>is converted into band-by-band bit allocation information d on the basis of a parameter conversion function F in the parameter conversion section <highlight><bold>104</bold></highlight>. Furthermore, the LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>for each quantized stage are supplied to the decoder side. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>supplied from the encoder side to the dequantization devices <highlight><bold>111</bold></highlight> to <highlight><bold>113</bold></highlight> are input to the decoder side, and dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are output, respectively. The dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by the adders <highlight><bold>115</bold></highlight> and <highlight><bold>116</bold></highlight>, and become a dequantization LSP. Furthermore, the dequantized output c<highlight><subscript>1 </subscript></highlight>is converted into band-by-band bit allocation information d on the basis of a parameter conversion function in the parameter conversion section <highlight><bold>114</bold></highlight>. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Next, a signal coding apparatus in which the above-described signal processing apparatus is used is shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. This signal coding apparatus has the same construction as that of the signal coding apparatus in Japanese Unexamined Patent Application Publication No. 12-132194 which was previously filed for a patent by the applicant of the present invention. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 6, a</cross-reference> digital audio signal such that, for example, a so-called wide-band audio signal of approximately 0 to 8 kHz is converted from analog into digital form at a sampling frequency Fs&equals;16 kHz is supplied to an input terminal <highlight><bold>200</bold></highlight>. This input signal is sent to an LPC inverse filter <highlight><bold>202</bold></highlight> of a normalization (whitening) circuit section <highlight><bold>201</bold></highlight>. Furthermore, the input signal is extracted in units of, for example, 1024 samples, and these signals are sent to an LPC analysis/quantization section <highlight><bold>220</bold></highlight>. In this LPC analysis/quantization section <highlight><bold>220</bold></highlight>, after hamming windowing is performed, an LPC coefficient of approximately the twentieth order, that is, an &agr; parameter, is computed, and an LPC residue is determined by the LPC inverse filter <highlight><bold>202</bold></highlight>. During this LPC analysis, some of the 1024 samples per frame which is a unit of analysis, for example, <highlight><bold>512</bold></highlight> samples of a half thereof, are made to overlap with the next block, and the frame interval is 512 samples. This is for using aliasing cancellation of MDCT (Modified Discrete Cosine Transform) adopted as an orthogonal transform for later stages. In this LPC analysis/quantization section <highlight><bold>220</bold></highlight>, an &agr; parameter (an LPC coefficient) which is converted into an LSP parameter and which is quantized is transmitted. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> The &agr; parameter from the LPC analysis circuit <highlight><bold>222</bold></highlight> is sent to an &agr;-to-LSP conversion circuit <highlight><bold>223</bold></highlight>, where it is converted into an LSP parameter. For this conversion, the &agr; parameter determined as a direct-type filter coefficient is converted into, for example, 20, namely, 10 pairs of LSP parameters. The conversion is performed by using, for example, a Newton-Raphson method. The reason for the conversion into an LSP parameter is that the LSP parameter has interpolation characteristics superior to those of the a parameter. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The LSP parameter from the &agr;-to-LSP conversion circuit <highlight><bold>223</bold></highlight> is vector-quantized by an LSP quantization device <highlight><bold>224</bold></highlight>. At this time, the vector quantization may be performed after an intra-frame difference is calculated. This LSP quantization device <highlight><bold>224</bold></highlight> corresponds to the signal processing apparatus on the encoder side. However, the parameter conversion section within the signal processing apparatus corresponds to an LSP-to-&agr; conversion circuit <highlight><bold>228</bold></highlight> and a bit allocation computation circuit (bit allocation determination circuit) <highlight><bold>231</bold></highlight> (to be described later). </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> A quantized output from this LSP quantization device <highlight><bold>224</bold></highlight>, that is, an index of LSP vector quantization, is extracted via a terminal <highlight><bold>221</bold></highlight>. Furthermore, a quantized LSP vector or a dequantized output is sent to an LSP interpolation circuit <highlight><bold>226</bold></highlight> and the LSP-to-&agr; conversion circuit <highlight><bold>228</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The LSP interpolation circuit <highlight><bold>226</bold></highlight> is used to interpolate between the previous frame of the vector of the vector-quantized LSP and the current frame for each frame described above in the LSP quantization device <highlight><bold>224</bold></highlight> so as to reach a rate which is necessary for later processing, and in this example, the interpolation is performed to achieve an 8&times;rate. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In order to perform inverse filtering of input audio by using an LSP vector on which such interpolation is performed, the LSP-to-&agr; conversion circuit <highlight><bold>227</bold></highlight> converts the LSP parameter into an &agr; parameter which is a coefficient of a direct-type filter of, for example, approximately the twentieth order. An output from the LSP-to-&agr; conversion circuit <highlight><bold>227</bold></highlight> is sent to the LPC inverse filter <highlight><bold>202</bold></highlight> for determining the LPC residue. In this LPC inverse filter <highlight><bold>202</bold></highlight>, an inverse filtering process is performed on the basis of the &agr; parameter updated at an 8&times;rate, so that a smooth output is obtained. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> Furthermore, the 1&times;-rate LSP coefficient from the LSP quantization circuit <highlight><bold>224</bold></highlight> is sent to the LSP-to-&agr; conversion circuit <highlight><bold>228</bold></highlight>, where the 1&times;-rate LSP coefficient is converted into an &agr; parameter, and this is sent to the bit allocation computation circuit <highlight><bold>231</bold></highlight> for performing bit allocation. In the bit allocation computation circuit <highlight><bold>231</bold></highlight>, in addition to the calculation of allocation bits, the calculation of a weight w (&ohgr;) used for the quantization of an MDCT coefficient (to be described later) is also performed. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> An output from the LPC inverse filter <highlight><bold>202</bold></highlight> of the normalization (whitening) circuit section <highlight><bold>201</bold></highlight> is sent to a pitch inverse filter <highlight><bold>203</bold></highlight> and a pitch analysis circuit <highlight><bold>205</bold></highlight> for pitch prediction which is a long-term prediction. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> The long-term prediction is performed by determining pitch prediction residue by subtracting a waveform which is shifted on a time axis by the amount of a pitch period or a pitch lag, determined by pitch analysis, from the original waveform. In this example, the long-term prediction is performed by three-point pitch prediction. The &ldquo;pitch lag&rdquo; refers to the number of samples corresponding to the pitch period of the sampled time-axis data. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> More specifically, in the pitch analysis circuit <highlight><bold>205</bold></highlight>, pitch analysis is performed at the rate of once per frame, that is, at the rate of one frame of the analysis length. The pitch lag within the pitch analysis results is sent to the pitch inverse filter <highlight><bold>203</bold></highlight> and the bit allocation computation circuit <highlight><bold>231</bold></highlight>, and the pitch gain is sent to a pitch gain quantization device <highlight><bold>206</bold></highlight>. Furthermore, a pitch lag index from the pitch analysis circuit <highlight><bold>205</bold></highlight> is extracted from a terminal <highlight><bold>242</bold></highlight> and is sent to the decoder side. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In the pitch gain quantization device <highlight><bold>206</bold></highlight>, a pitch gain at the three points corresponding to the above-described three-point prediction is subjected to a vector quantization, a codebook index (pitch gain index) is extracted from an output terminal <highlight><bold>243</bold></highlight>, and a representative value vector or a dequantized output is sent to the pitch inverse filter <highlight><bold>203</bold></highlight>. The pitch inverse filter <highlight><bold>203</bold></highlight> outputs a pitch prediction residue which was predicted from three pitches on the basis of the pitch analysis results. This pitch prediction residue is sent to a divider circuit <highlight><bold>204</bold></highlight> and an envelope extraction circuit <highlight><bold>207</bold></highlight>. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> In addition, for the signal coding apparatus, in the normalization (whitening) circuit section <highlight><bold>201</bold></highlight>, a gain of intra-frame data is smoothed. In this processing, an envelope is extracted from the pitch inverse filter <highlight><bold>203</bold></highlight> by the envelope extraction circuit <highlight><bold>207</bold></highlight>, the extracted envelope is sent to an envelope quantization device <highlight><bold>210</bold></highlight> via a switch <highlight><bold>209</bold></highlight>, and the residue from the pitch inverse filter <highlight><bold>203</bold></highlight> is divided by the value of the quantized envelope, thereby obtaining the signal smoothed on a time axis. The signal from this divider <highlight><bold>204</bold></highlight> is sent as an output of the normalization (whitening) circuit section <highlight><bold>201</bold></highlight> to an orthogonal transform circuit section <highlight><bold>215</bold></highlight> at the next stage. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> As a result of this smoothing, causing the magnitude of the quantization error when the orthogonal transform coefficient after being quantized is inversely transformed into a time signal, to track the envelope of the original signal, that is, a so-called noise shaping, can be realized. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In the envelope extraction circuit <highlight><bold>207</bold></highlight>, when a signal supplied to the envelope extraction circuit <highlight><bold>207</bold></highlight>, that is, a residue signal on which a normalization process has been performed by the LPC inverse filter <highlight><bold>202</bold></highlight> and the pitch inverse filter <highlight><bold>203</bold></highlight>, is denoted as x(n), where n&equals;0 to N&minus;1 (N is the number of samples of one frame FR, an orthogonal transform window length, for example, N&equals;1024), the rms (root mean square) for each subblock or each subframe which is cut out by the window of a length M which is shorter than the conversion window length N, for example, M&equals;N/8, is assumed to be an envelope. In the envelope quantization device <highlight><bold>210</bold></highlight>, a vector quantization is performed by assuming rms<highlight><subscript>i </subscript></highlight>of the i-th subblock (i&equals;0 to M&minus;1) as one vector. The index thereof is extracted as a parameter for time-axis gain control, that is, an envelope index, from a terminal <highlight><bold>211</bold></highlight>, and this index is transmitted to the decoder side. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> The determination as to whether or not gain control should be performed is performed by a gain control ON/OFF determination circuit <highlight><bold>208</bold></highlight>. The determination output thereof (gain control SW) is sent as a switching control signal for a switch <highlight><bold>209</bold></highlight> on the input side of the envelope quantization device <highlight><bold>210</bold></highlight>, and is sent to a coefficient quantization circuit <highlight><bold>235</bold></highlight> within a coefficient quantization section <highlight><bold>230</bold></highlight> (to be described later), where the switching control signal is used to switch the number of allocation bits of a coefficient between when the gain control is ON and when it is OFF. Furthermore, this gain control ON/OFF determination output (gain control SW) is extracted via a terminal <highlight><bold>212</bold></highlight> and is sent to the decoder side. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> A signal x<highlight><subscript>8</subscript></highlight>(n) which is gain-controlled (or gain-compressed) by the divider <highlight><bold>204</bold></highlight> and which is smoothed on a time axis is sent as an output of the normalization circuit section <highlight><bold>201</bold></highlight> to the orthogonal transform circuit section <highlight><bold>215</bold></highlight>, where the signal is converted into a frequency-axis parameter (coefficient data) by, for example, MDCT. This orthogonal transform circuit section <highlight><bold>215</bold></highlight> is formed of a windowing circuit <highlight><bold>216</bold></highlight> and an MDCT circuit <highlight><bold>217</bold></highlight>. In the windowing circuit <highlight><bold>216</bold></highlight>, windowing by a window function such that aliasing cancellation of MDCT by &frac12; frame overlapping can be used is performed. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> The MDCT coefficient data obtained as a result of an MDCT process being performed by the MDCT circuit <highlight><bold>217</bold></highlight> of the orthogonal transform circuit section <highlight><bold>215</bold></highlight> is sent to a frame gain normalization circuit <highlight><bold>233</bold></highlight> and a frame gain computation/quantization circuit <highlight><bold>237</bold></highlight> of the coefficient quantization section <highlight><bold>230</bold></highlight>. In the coefficient quantization section <highlight><bold>230</bold></highlight> of this embodiment, first, a frame gain (block gain) of all the coefficients of one frame which is the MDCT transform block is computed, and gain normalization is performed thereon, after which the gain is divided into critical bands which are sub-bands in which the higher the frequency, the larger the band width in accordance with the sense of hearing. Then, a scale factor, that is, what is commonly called a Bark scale factor, for each band thereof is computed, and based on this factor, a normalization is performed again. For the Bark scale factor, a peak value of a coefficient within that band for each band, a root mean square (rms), etc., can be used, and the Bark scale factor for each band is subjected to a vector quantization collectively. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> More specifically, in the frame gain computation/quantization circuit <highlight><bold>237</bold></highlight> of the coefficient quantization section <highlight><bold>230</bold></highlight>, the gain for each frame which is the MDCT transform block is computed and is quantized. A codebook index (frame gain index) thereof is extracted via a terminal <highlight><bold>245</bold></highlight> and is sent to the decoder side. Furthermore, the frame gain of the quantized value is sent to the frame gain normalization circuit <highlight><bold>233</bold></highlight>, where a normalization based on the division of an input by a frame gain is performed. The output normalized by this frame gain is sent to a Bark scale factor computation/quantization circuit <highlight><bold>232</bold></highlight> and a Bark scale factor normalization circuit <highlight><bold>234</bold></highlight>. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> In the Bark scale factor computation/quantization circuit <highlight><bold>232</bold></highlight>, the Bark scale factor for each critical band is computed and quantized, and a codebook index (Bark scale factor index) is taken out via a terminal <highlight><bold>244</bold></highlight> and is sent to the decoder side. Furthermore, the Bark scale factor of the quantized value is sent to the bit allocation computation circuit <highlight><bold>231</bold></highlight> and the Bark scale factor normalization circuit <highlight><bold>234</bold></highlight>. In the Bark scale factor normalization circuit <highlight><bold>234</bold></highlight>, a normalization of the coefficient within the band is performed for each critical band, and the coefficient normalized by the Bark scale factor is sent to the coefficient quantization circuit <highlight><bold>235</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In the coefficient quantization circuit <highlight><bold>235</bold></highlight>, the number of quantization bits is assigned to each coefficient in accordance with the bit allocation information from the bit allocation computation circuit <highlight><bold>231</bold></highlight>, and a normalization is performed. At this time, the number of all the allocation bits is switched in accordance with the gain control SW information from the gain control ON/OFF determination circuit <highlight><bold>208</bold></highlight>. For this switching, for example, when a vector quantization is to be performed, two sets of codebooks for a case in which the gain control is ON and for a case in which the gain control is OFF may be prepared, so that these codebooks are switched in accordance with the gain control SW information. The coefficient index quantized by the coefficient quantization circuit <highlight><bold>235</bold></highlight> is extracted via a terminal <highlight><bold>241</bold></highlight> and is sent to the decoder side. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> The signal coding apparatus codes a signal which is input through such a construction as that described above. Next, an example of the construction of a signal decoding apparatus (the decoder side) corresponding to the signal coding apparatus (the encoder side) is shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, data from each of the output terminals in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is supplied to each of the input terminals <highlight><bold>250</bold></highlight> to <highlight><bold>257</bold></highlight>. An index of an orthogonal transform coefficient (for example, an MDCT coefficient) from the output terminal <highlight><bold>241</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is supplied to the input terminal <highlight><bold>250</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. An LSP index from the output terminal <highlight><bold>221</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is supplied to the input terminal <highlight><bold>251</bold></highlight>. Data from each of the output terminals <highlight><bold>242</bold></highlight> to <highlight><bold>245</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, that is, a pitch lag index, a pitch gain index, a Bark scale factor index, and a frame gain index, is supplied to the input terminals <highlight><bold>252</bold></highlight> to <highlight><bold>255</bold></highlight>, respectively. An envelope index and gain control SW from the output terminals <highlight><bold>211</bold></highlight> and <highlight><bold>212</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference> are supplied to the input terminals <highlight><bold>256</bold></highlight> and <highlight><bold>257</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> The coefficient index from the input terminal <highlight><bold>250</bold></highlight> is dequantized by a coefficient dequantization circuit <highlight><bold>261</bold></highlight> and is sent to an inverse orthogonal transform circuit <highlight><bold>264</bold></highlight>, such as an IMDCT (inverse MDCT), via a multiplier <highlight><bold>263</bold></highlight>. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> The LSP index from the input terminal <highlight><bold>251</bold></highlight> is sent to an inverse quantization device <highlight><bold>271</bold></highlight> of an LPC parameter reproduction section <highlight><bold>270</bold></highlight>, where the LSP index is dequantized, and this LSP index is sent to an LSP-to-&agr; conversion circuit <highlight><bold>272</bold></highlight> and an LSP interpolation circuit <highlight><bold>273</bold></highlight>. The &agr; parameter (LPC coefficient) from the LSP-to-&agr; conversion circuit <highlight><bold>272</bold></highlight> is sent to a bit allocation circuit <highlight><bold>262</bold></highlight>. The LSP data from the LSP interpolation circuit <highlight><bold>273</bold></highlight> is converted into an &agr; parameter (LPC coefficient) by an LSP-to-&agr; conversion circuit <highlight><bold>274</bold></highlight>, and this parameter is sent to an LPC synthesis circuit <highlight><bold>267</bold></highlight> (to be described later). </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> In addition to the LPC coefficient from the LSP-to-&agr; conversion circuit <highlight><bold>272</bold></highlight>, the pitch lag from the input terminal <highlight><bold>252</bold></highlight>, the pitch gain obtained from the input terminal <highlight><bold>253</bold></highlight> via a dequantization device <highlight><bold>281</bold></highlight>, and the Bark scale factor obtained from the input terminal <highlight><bold>254</bold></highlight> via a dequantization device <highlight><bold>282</bold></highlight> are supplied to the bit allocation circuit <highlight><bold>262</bold></highlight>. As a consequence, the bit allocation circuit <highlight><bold>262</bold></highlight> can reproduce the same bit allocation as that on the encoder side on the basis of only these parameters. The bit allocation information from the bit allocation circuit <highlight><bold>262</bold></highlight> is sent to the coefficient dequantization device <highlight><bold>261</bold></highlight>, where the bit allocation information is used to determine the quantization allocation bits of each coefficient. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> The frame gain index from the input terminal <highlight><bold>255</bold></highlight> is sent to a frame gain dequantization device <highlight><bold>276</bold></highlight>, where the frame gain index is dequantized, and the obtained frame gain is sent to the multiplier <highlight><bold>263</bold></highlight>. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> The envelope index from the input terminal <highlight><bold>256</bold></highlight> is sent via a switch <highlight><bold>277</bold></highlight> to an envelope dequantization device <highlight><bold>278</bold></highlight>, where the envelope index is dequantized, and the obtained envelope data is sent to an overlapping addition circuit <highlight><bold>265</bold></highlight>. Furthermore, the gain control SW information from the input terminal <highlight><bold>257</bold></highlight> is sent to the coefficient dequantization device <highlight><bold>261</bold></highlight> and the overlapping addition circuit <highlight><bold>265</bold></highlight>, and is used as a control signal for the switch <highlight><bold>277</bold></highlight>. The inverse quantization device <highlight><bold>271</bold></highlight> switches the number of all the allocation bits according to ON/OFF of gain control such as that described above. In the case of an inverse vector quantization, the codebook when the gain control is ON and the codebook when the gain control is OFF may be switched. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> The overlapping addition circuit <highlight><bold>265</bold></highlight> adds a signal returned to the time axis for each frame from the inverse orthogonal transform circuit <highlight><bold>264</bold></highlight> such as IMDCT while causing the signal to overlap in units of &frac12; frames. When the gain control is ON, the overlapping addition circuit <highlight><bold>265</bold></highlight> performs overlapping addition while performing a gain control (the above-described gain decompression or gain recovery) process on the basis of the envelope data from the envelope dequantization device <highlight><bold>278</bold></highlight>. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> The time-axis signal from the overlapping addition circuit <highlight><bold>265</bold></highlight> is sent to a pitch synthesis circuit <highlight><bold>266</bold></highlight>, where pitch components are recovered. This corresponds to a process reverse to the processing in the pitch inverse filter <highlight><bold>203</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, and the pitch lag from the terminal <highlight><bold>252</bold></highlight> and the pitch gain from the dequantization device <highlight><bold>281</bold></highlight> are used. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> The output from the pitch synthesis circuit <highlight><bold>266</bold></highlight> is sent to an LPC synthesis circuit <highlight><bold>267</bold></highlight>, where an LPC synthesis process corresponding to a process reverse to the processing in the LPC inverse filter <highlight><bold>202</bold></highlight> is performed, and the resulting data is taken out from an output terminal <highlight><bold>268</bold></highlight>. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> With such a construction, the signal decoding apparatus decodes a signal which is input from the encoder side. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> In the manner described above, in the signal processing apparatus, since there is a need that the results of a calculation of band-by-band bit allocation be completely the same between the coder and the decoder, the computation accuracy for this calculation needs to precisely agree between them. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> However, for example, in a case where a signal encoded by a coder which is implemented in a DSP (Digital Signal Processor) which performs fixed-point calculations is to be decoded by a decoder which is implemented in a personal computer, etc., if the decoder uses floating-point calculations, in spite of the fact that completely the same LSP codebook is referred to and the same codeword is input, a discrepancy in a quantization weight, caused by computation errors, occurs between the coder and the decoder. Therefore, in this case, fixed-point calculations similar to those of a DSP need to be realized on a personal computer so that accuracy agrees to eliminate errors. As a result, a problem arises in that the number of computations is dramatically increased. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> More specifically, if a codebook is denoted as C, a code vector of the codebook C is denoted as c, and a function for inputting c and converting it into a target parameter d is denoted as F, the following is satisfied: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>F</italic></highlight>(<highlight><italic>c</italic></highlight>)&equals;<highlight><italic>d </italic></highlight></in-line-formula></paragraph>
<paragraph id="P-0091" lvl="7"><number>&lsqb;0091&rsqb;</number> However, if a calculation is performed using a function F&prime; which is mathematically equivalent to F, a result containing an error &dgr;, such as that described below, is output: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>F</italic></highlight>&prime;(<highlight><italic>c</italic></highlight>)&equals;<highlight><italic>d&plus;&dgr;</italic></highlight></in-line-formula></paragraph>
<paragraph id="P-0092" lvl="7"><number>&lsqb;0092&rsqb;</number> At this time, compared to a case in which a conversion is performed by a certain processor on the basis of F, if a calculation having completely the same value without errors is made by another processor, a problem of the number of computations being dramatically increased arises. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> Therefore, the signal processing apparatus of this embodiment calculates F(c) in advance with respect to all the code vectors contained in the codebook C and stores the result d in another codebook. Then, during coding, by subtracting the code vector of a codebook D by using a quantized index from the codebook C, a parameter conversion from c to d is performed. Also, during decoding, by subtracting the code vector of the codebook D by using a quantized index of the codebook C, a parameter conversion from c to d is performed. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> When this method is used in a multistage vector quantization, for example, in a multistage vector quantization of three stages with each stage being, for example, 8 bits long, for the code vector to be output, 2<highlight><superscript>8*3 </superscript></highlight>(&equals;16777216) combinations exist. Therefore, conversions of code vectors must be performed for all these combinations. However, since the amount of the storage of the codebooks becomes enormous, this is not practical. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> Here, a quantized output c of a general multistage vector quantization of N stages is represented by a linear sum of a code vector c<highlight><subscript>i </subscript></highlight>of a codebook of each stage, as shown in the following equation (1):  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>c</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&Sum;</mo>
            <mrow>
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&it;</mo>
          <mstyle>
            <mtext>&emsp;</mtext>
          </mstyle>
          <mo>&it;</mo>
          <msub>
            <mi>c</mi>
            <mi>i</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030004713A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="24.97635" file="US20030004713A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> Therefore, when the function F which performs a parameter conversion is linear, the following equation (2) is satisfied:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>c</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munderover>
                      <mo>&Sum;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>N</mi>
                    </munderover>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <munderover>
                  <mo>&Sum;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mi>N</mi>
                </munderover>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <mi>F</mi>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <munderover>
                  <mo>&Sum;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mi>N</mi>
                </munderover>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <msub>
                  <mi>d</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030004713A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="77.0553" file="US20030004713A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> For this reason, if each codebook C<highlight><subscript>i </subscript></highlight>of each stage is converted by F in order to create a codebook D<highlight><subscript>i</subscript></highlight>, and the linear sum of d<highlight><subscript>i </subscript></highlight>from which the codebook D<highlight><subscript>i </subscript></highlight>is subtracted at the index of the first stage is calculated, the parameter of the conversion target can be obtained. In addition to a multistage vector quantization, this method can also be applied to a vector quantization such that a plurality of codebooks are provided and that the quantized result is output as a linear sum of the code vectors of each codebook. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> Here, in the general multistage vector quantization, since the quantization device of a later stage quantizes a quantized error of a previous stage, the above-described equation (2) can be approximated by using the quantized results up to the M-th stage as shown in the following equation (3):  
<math-cwu id="MATH-US-00003">
<number>3</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>c</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munderover>
                      <mo>&Sum;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>N</mi>
                    </munderover>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munderover>
                      <mo>&Sum;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>M</mi>
                    </munderover>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <munderover>
                  <mo>&Sum;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mi>M</mi>
                </munderover>
                <mo>&it;</mo>
                <mstyle>
                  <mtext>&emsp;</mtext>
                </mstyle>
                <mo>&it;</mo>
                <mrow>
                  <msub>
                    <mi>d</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&af;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mn>1</mn>
                      <mo>&leq;</mo>
                      <mi>M</mi>
                      <mo>&lt;</mo>
                      <mi>N</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00003" file="US20030004713A1-20030102-M00003.NB"/>
<image id="EMI-M00003" wi="216.027" he="77.0553" file="US20030004713A1-20030102-M00003.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> However, since the parameter conversion function F is non-linear, the codebook D cannot be created on the basis of equation (2). In this case, M is set to 1 in equation (3), and the codebook D is created based on the following equation (4):  
<math-cwu id="MATH-US-00004">
<number>4</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>c</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <munderover>
                      <mo>&Sum;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mn>1</mn>
                    </munderover>
                    <mo>&it;</mo>
                    <mstyle>
                      <mtext>&emsp;</mtext>
                    </mstyle>
                    <mo>&it;</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mrow>
                <mi>F</mi>
                <mo>&af;</mo>
                <mrow>
                  <mo>(</mo>
                  <msub>
                    <mi>c</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00004" file="US20030004713A1-20030102-M00004.NB"/>
<image id="EMI-M00004" wi="216.027" he="36.0045" file="US20030004713A1-20030102-M00004.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> As described above, in a case where the quantized result c is approximated satisfactorily using only the quantized result of the first stage, this method can be applied even if the parameter conversion function is non-linear. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> In the following, a description is given of a signal processing apparatus in a case where only the quantized result of the first stage is used. Initially, parameter conversions are performed in advance for all the code vectors c contained in the code vector c<highlight><subscript>1 </subscript></highlight>of the first stage of an LSP quantization, thereby creating a codebook D<highlight><subscript>1</subscript></highlight>. When the number of quantization bits is denoted as b, as shown in <cross-reference target="DRAWINGS">FIG. 8, a</cross-reference> codebook D<highlight><subscript>1 </subscript></highlight>is created. That is, a code vector at a certain index position of the codebook C<highlight><subscript>1 </subscript></highlight>is extracted, this code vector is converted by the parameter conversion function F, and this is stored at the same index position as that of the codebook D<highlight><subscript>1</subscript></highlight>. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> The procedure of creating this codebook D<highlight><subscript>1 </subscript></highlight>is shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. Initially, in step Si, the initial value of i is set to 0. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> Next, in step S<highlight><bold>2</bold></highlight>, the i-th code vector c<highlight><subscript>i </subscript></highlight>of the codebook C<highlight><subscript>1 </subscript></highlight>is extracted. In step S<highlight><bold>3</bold></highlight>, the code vector c<highlight><subscript>i </subscript></highlight>is converted by the parameter conversion function F in order to create a code vector d<highlight><subscript>i</subscript></highlight>. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> Next, in step S<highlight><bold>4</bold></highlight>, the code vector c<highlight><subscript>i </subscript></highlight>is added to the i-th code vector of the codebook D<highlight><subscript>1</subscript></highlight>. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> Next, in step S<highlight><bold>5</bold></highlight>, 1 is added to i. In the subsequent step S<highlight><bold>6</bold></highlight>, a determination is made as to whether or not i has reached 2<highlight><superscript>b</superscript></highlight>. When it is determined in step S<highlight><bold>6</bold></highlight> that i has not reached 2<highlight><superscript>b</superscript></highlight>, the process returns to step S<highlight><bold>2</bold></highlight>, where the same processes are repeated. When it is determined in step S<highlight><bold>6</bold></highlight> that i has reached 2<highlight><superscript>b</superscript></highlight>, the creation of the codebook D<highlight><subscript>i </subscript></highlight>is terminated. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> In the signal processing apparatus of this embodiment, a conversion of a parameter is performed by a look-up of the codebook D<highlight><subscript>i </subscript></highlight>which is created in the above-described manner. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> The overall construction of this signal processing apparatus is shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. As shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, the signal processing apparatus of this embodiment comprises quantization devices <highlight><bold>10</bold></highlight> to <highlight><bold>12</bold></highlight>, a codebook referring section <highlight><bold>13</bold></highlight>, subtractors <highlight><bold>14</bold></highlight> and <highlight><bold>15</bold></highlight>, and adders <highlight><bold>16</bold></highlight> and <highlight><bold>17</bold></highlight>. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> The LSP coefficient which is a first input parameter is quantized by the quantization device <highlight><bold>10</bold></highlight>, and a quantized output c<highlight><subscript>1 </subscript></highlight>is output. The quantized output c<highlight><subscript>1 </subscript></highlight>is subtracted from the input LSP coefficient in the subtractor <highlight><bold>14</bold></highlight>, and a quantized error thereof is quantized by the quantization device <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> Similarly, a quantized output c<highlight><subscript>2 </subscript></highlight>is subtracted from the input value of the quantization device <highlight><bold>11</bold></highlight>, and a quantized error thereof is quantized by the quantization device <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> The quantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by the adders <highlight><bold>16</bold></highlight> and <highlight><bold>17</bold></highlight> and become a quantized LSP. Furthermore, in the codebook referring section <highlight><bold>13</bold></highlight>, the look-up of the codebook D<highlight><subscript>1 </subscript></highlight>is performed by the LSP index n<highlight><subscript>1 </subscript></highlight>of the first stage, and band-by-band bit allocation information d which is a second parameter is created. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> The LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>for each quantization stage are supplied to the decoder side. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> Here, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the look-up of the codebook D<highlight><subscript>1 </subscript></highlight>in the codebook referring section <highlight><bold>13</bold></highlight> is performed by looking up the codebook D<highlight><subscript>1 </subscript></highlight>by the LSP index n<highlight><subscript>1 </subscript></highlight>at which the quantized output c<highlight><subscript>1 </subscript></highlight>is output in the quantization device <highlight><bold>10</bold></highlight>, and band-by-band bit allocation information d is created. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> As the overall construction of the decoder side is shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the decoder comprises dequantization devices <highlight><bold>20</bold></highlight> to <highlight><bold>22</bold></highlight>, a codebook referring section <highlight><bold>23</bold></highlight>, and adders <highlight><bold>24</bold></highlight> and <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> LSP indexes n<highlight><subscript>1</subscript></highlight>, n<highlight><subscript>2</subscript></highlight>, n<highlight><subscript>3 </subscript></highlight>supplied from the encoder side are input to the dequantization devices <highlight><bold>20</bold></highlight> to <highlight><bold>22</bold></highlight>, and dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are output, respectively. The dequantized outputs c<highlight><subscript>1</subscript></highlight>, c<highlight><subscript>2</subscript></highlight>, c<highlight><subscript>3 </subscript></highlight>are added by the adders <highlight><bold>24</bold></highlight> and <highlight><bold>25</bold></highlight>, and become a dequantized LSP. Furthermore, the LSP index n<highlight><subscript>1 </subscript></highlight>is input to the codebook referring section <highlight><bold>23</bold></highlight>, and by looking up the codebook D<highlight><subscript>1</subscript></highlight>, band-by-band bit allocation information d is created. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> As described above, according to the signal processing apparatus in this embodiment, since calculations for parameter conversions are not performed, computation errors do not occur between the encoder side and the decoder side. Furthermore, the number of computations in the signal processing apparatus can be reduced. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> Next, a description is given of an example in which the signal processing apparatus of this embodiment is used in the signal coding apparatus and the signal decoding apparatus shown in <cross-reference target="DRAWINGS">FIGS. 6 and 7</cross-reference>. Of course, in addition to the signal coding apparatus and the signal decoding apparatus shown in <cross-reference target="DRAWINGS">FIGS. 6 and 7</cross-reference>, the signal processing apparatus can be used in other signal coding apparatuses and signal decoding apparatuses. In the following, only the essential portions are described. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> First, the overall construction of the essential portions of the signal coding apparatus is shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> corresponds to the construction of the coefficient quantization circuit <highlight><bold>235</bold></highlight> of the signal coding apparatus shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. In <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, coefficient data on a frequency axis, obtained by performing an orthogonal transform on a time-axis signal, is supplied to an input terminal <highlight><bold>30</bold></highlight>. A weight w calculated on the basis of parameters, such as an LPC coefficient, a pitch parameter, and a Bark scale factor, is input to an input terminal <highlight><bold>31</bold></highlight>. Furthermore, band-by-band bit allocation information d created in the codebook referring section <highlight><bold>13</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is input to an input terminal <highlight><bold>32</bold></highlight>. Here, a coefficient for one frame of an orthogonal transform is denoted as vector y, and a weight for one frame is denoted as vector w. Furthermore, bit allocation information for one frame is denoted as vector d. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> The coefficient vector y and the weight vector w are sent to a band dividing circuit <highlight><bold>33</bold></highlight> as necessary so that these are divided into M (M&gE;1) bands. Examples of the number of bands are approximately 3 bands (M&equals;3) of low frequencies, medium frequencies, and high frequencies. However, the number of bands is not limited to this example, and the band division does not need to be performed. When the coefficient for each of these bands, for example, the coefficient of the k-th band, is denoted as y<highlight><subscript>k </subscript></highlight>and the weight as w<highlight><subscript>k </subscript></highlight>(0&lE;k&lE;M&minus;1), the following are satisfied: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>y&equals;</italic></highlight>(<highlight><italic>Y</italic></highlight><highlight><subscript>0</subscript></highlight><highlight><italic>, y</italic></highlight><highlight><subscript>1</subscript></highlight><highlight><italic>, . . . , y</italic></highlight><highlight><subscript>M&minus;1</subscript></highlight>) </in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>w&equals;</italic></highlight>(<highlight><italic>w</italic></highlight><highlight><subscript>0</subscript></highlight><highlight><italic>, w</italic></highlight><highlight><subscript>1</subscript></highlight><highlight><italic>, . . . , w</italic></highlight><highlight><subscript>M&minus;1</subscript></highlight>) </in-line-formula></paragraph>
<paragraph id="P-0119" lvl="7"><number>&lsqb;0119&rsqb;</number> The number of bands for this band division and the number of coefficients for each band are fixed to preset numerical values. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> Next, the coefficient vectors y<highlight><subscript>0</subscript></highlight>, Y<highlight><subscript>1</subscript></highlight>, . . . , y<highlight><subscript>M&minus;1 </subscript></highlight>of each band are sent to sort circuits <highlight><bold>34</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>34</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>34</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively, where an order is assigned, for each band, to the coefficient within each band according to the order of the weight. For this ordering, the coefficients themselves within each band may be rearranged (sorted) in accordance with the order of weight. Additionally, only the indexes indicating the position or the order on a frequency axis of each coefficient may be sorted according to the order of weight. When the coefficients themselves are sorted, with respect to the arbitrary k-th band, the respective coefficients of the coefficient vector y<highlight><subscript>k </subscript></highlight>are sorted in weight order, and a coefficient vector y&prime;<highlight><subscript>k </subscript></highlight>sorted in weight order is obtained. </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> Next, the coefficient vectors y&prime;<highlight><subscript>0</subscript></highlight>, y&prime;<highlight><subscript>1</subscript></highlight>, . . . , y&prime;<highlight><subscript>M&minus;1 </subscript></highlight>which are sorted for each band according to the weight order are sent to vector quantization devices <highlight><bold>35</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>35</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>35</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively. Vectors d<highlight><subscript>0</subscript></highlight>, d<highlight><subscript>1</subscript></highlight>, . . . , d<highlight><subscript>M&minus;1 </subscript></highlight>of bit allocation information, input to the input terminal <highlight><bold>32</bold></highlight>, are also input to vector quantization devices <highlight><bold>35</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>35</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>35</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively, and vector quantizations are performed in accordance with the bit allocation information d<highlight><subscript>0</subscript></highlight>, d<highlight><subscript>1</subscript></highlight>, . . . , d<highlight><subscript>M&minus;1</subscript></highlight>. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> Next, vectors c<highlight><subscript>0</subscript></highlight>, c<highlight><subscript>1</subscript></highlight>, . . . , c<highlight><subscript>M&minus;1 </subscript></highlight>of the coefficient index for each band from the vector quantization devices <highlight><bold>35</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>35</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>35</bold></highlight><highlight><subscript>M&minus;1 </subscript></highlight>of <cross-reference target="DRAWINGS">FIG. 13</cross-reference> are collectively denoted as a vector c of the coefficient indexes of all the bands, and this vector is taken out from a terminal <highlight><bold>36</bold></highlight>. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> With such a construction, the signal coding apparatus quantizes the input coefficient data in accordance with the bit allocation information. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> Although this signal coding apparatus of <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is shown as hardware construction, the signal coding apparatus can also be realized by software means by using a commonly-called DSP (Digital Signal Processor), etc. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> Next, the construction of the essential portions of the signal decoding apparatus is shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>. <cross-reference target="DRAWINGS">FIG. 14</cross-reference> corresponds to the construction of the coefficient dequantization circuit <highlight><bold>261</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. In <cross-reference target="DRAWINGS">FIG. 14, a</cross-reference> coefficient index (a codebook index obtained by quantizing an orthogonal transform coefficient, such as an MDCT coefficient) is input to an input terminal <highlight><bold>40</bold></highlight>. Furthermore, a weight W (&ohgr;) calculated on the basis of an &agr; parameter (LPC coefficient), a pitch lag, a pitch gain, a Bark scale factor, etc., is input to an input terminal <highlight><bold>41</bold></highlight>. An index indicating the position or the order of a coefficient on a frequency axis, that is, a numerical value of 0 to N&minus;1 (this is denoted as a vector I) when there are N pieces of coefficient data in all the bands, is supplied to an input terminal <highlight><bold>42</bold></highlight>. N weights for the N coefficients, input to the input terminal <highlight><bold>41</bold></highlight>, are denoted as vector w. Furthermore, band-by-band bit allocation information d created by the codebook referring section <highlight><bold>23</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is input to an input terminal <highlight><bold>43</bold></highlight>. N pieces of bit allocation information for each of the N coefficients input to the input terminal <highlight><bold>43</bold></highlight> are denoted as vector d. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> The weight w and the index I are sent to a band dividing circuit <highlight><bold>44</bold></highlight>, where these are divided into M bands similarly to the encoder side. If these are divided into three bands (M&equals;3) of low frequencies, medium frequencies, and high frequencies on the encoder side, similarly, these are also divided into three bands on the decoder side. The index and the weight for each band, divided into three bands, are sent to the sort circuits <highlight><bold>45</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>45</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>45</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively. For example, the index I<highlight><subscript>k </subscript></highlight>and the weight w<highlight><subscript>k </subscript></highlight>within the k-th band are sent to the k-th sort circuit <highlight><bold>45</bold></highlight><highlight><subscript>k</subscript></highlight>. In the sort circuit <highlight><bold>45</bold></highlight><highlight><subscript>k</subscript></highlight>, the index I<highlight><subscript>k </subscript></highlight>within the k-th band is rearranged (sorted) according to the order of the weight w<highlight><subscript>k </subscript></highlight>of each coefficient, and the sorted index I&prime;<highlight><subscript>k </subscript></highlight>is output. The indexes I<highlight><subscript>0</subscript></highlight>, I<highlight><subscript>1</subscript></highlight>, . . . , I<highlight><subscript>M&minus;1 </subscript></highlight>which are sorted for each band from the sort circuits <highlight><bold>45</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>45</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>45</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively, are supplied to a coefficient reconstruction circuit <highlight><bold>47</bold></highlight>. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> The index of the orthogonal transform coefficient input to the input terminal <highlight><bold>40</bold></highlight> is obtained in such a way that a coefficient which is divided into M bands and which is sorted in weight order for each band when the coefficient is quantized on the encoder side is subjected to a vector quantization for each subvector which is divided in units of a number of pieces based on a predetermined rule within one band. Specifically, for M bands, a set of coefficient indexes for each band is denoted as vectors c<highlight><subscript>0</subscript></highlight>, c<highlight><subscript>1</subscript></highlight>, . . . , c<highlight><subscript>M&minus;1</subscript></highlight>, respectively. The vectors c<highlight><subscript>0</subscript></highlight>, c<highlight><subscript>1</subscript></highlight>, . . . , c<highlight><subscript>M&minus;1 </subscript></highlight>of the coefficient indexes of each of these bands are sent to dequantization devices <highlight><bold>46</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>46</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>46</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively. The vectors d<highlight><subscript>0</subscript></highlight>, d<highlight><subscript>1</subscript></highlight>, . . . , d<highlight><subscript>M&minus;1 </subscript></highlight>of the bit allocation information input to the input terminal <highlight><bold>43</bold></highlight> are also input to the dequantization devices <highlight><bold>46</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>46</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>46</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, respectively, and dequantizations are performed in accordance with the bit allocation information d<highlight><subscript>0</subscript></highlight>, d<highlight><subscript>1</subscript></highlight>, . . . , d<highlight><subscript>M&minus;1</subscript></highlight>. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> The coefficient data obtained as a result of dequantization being performed by the dequantization devices <highlight><bold>46</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>46</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>46</bold></highlight><highlight><subscript>M&minus;1 </subscript></highlight>corresponds to that which is sorted in the weight order within each band, that is, the coefficient vectors y&prime;<highlight><subscript>0</subscript></highlight>, y&prime;<highlight><subscript>1</subscript></highlight>, . . . , y&prime;<highlight><subscript>M&minus;1 </subscript></highlight>from the sort circuits <highlight><bold>34</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>34</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>34</bold></highlight><highlight><subscript>M&minus;1 </subscript></highlight>of <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, and the arrangement order differs from the position on the frequency axis. Therefore, the coefficient reconstruction circuit <highlight><bold>47</bold></highlight> has the functions such that the index I indicating the position on the frequency axis is sorted in advance according to the weight, and the arrangement order is returned to the original order on the time axis in such a manner as to cause this sorted index to correspond to the coefficient data obtained by dequantization. That is, in the coefficient reconstruction circuit <highlight><bold>47</bold></highlight>, the index sorted for each of the bands, from each of the sort circuits <highlight><bold>45</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>45</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>45</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, is made to correspond to the coefficient data sorted in weight order within each band, from each of the dequantization devices <highlight><bold>46</bold></highlight><highlight><subscript>0</subscript></highlight>, <highlight><bold>46</bold></highlight><highlight><subscript>1</subscript></highlight>, . . . , <highlight><bold>46</bold></highlight><highlight><subscript>M&minus;1</subscript></highlight>, and the coefficient data dequantized according to this sorted index is rearranged (inversely sorted), thereby obtaining the coefficient data y arranged in the original order on the time axis, and this data is taken out from an output terminal <highlight><bold>48</bold></highlight>. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> As described above, according to the signal coding apparatus and the signal decoding apparatus in which the signal processing apparatus of this embodiment is used, since calculations for parameter conversions are not performed, computation errors do not occur between the encoder side and the decoder side, and the number of computations can be reduced. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> The present invention is not limited to the above-described embodiments, and of course, various modifications are possible within the spirit and scope of the present invention. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> For example, in the foregoing, a description is given by distinguishing a weight w for sorting and band-by-band bit allocation information d. In addition, the signal processing apparatus of this embodiment can be used in a signal coding apparatus which quantizes an orthogonal transform coefficient to which a weight is assigned and which codes the orthogonal transform coefficient. In this case, when a weight for a weight quantization as a second parameter is to be determined, a table can be referred to. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> In addition, in the foregoing, band-by-band bit allocation information is determined on the basis of an LSP coefficient. In addition, band-by-band bit allocation information may be determined on the basis of another parameter, such as an LPC coefficient. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A signal processing apparatus for performing signal processing associated with quantization on a first input parameter, the signal processing apparatus comprising: 
<claim-text>quantization means for quantizing the first parameter; and </claim-text>
<claim-text>table referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for determining a second parameter by referring to the table by using an index of a quantized output from the quantization means when the second parameter is to be determined on the basis of the first parameter quantized by the quantization means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A signal processing apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein quantization in the quantization means is a multistage vector quantization of N stages, and the table referring means determines the second parameter by referring to the table by using indexes of quantized outputs up to the M-th (M&lE;N) stage. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A signal processing apparatus according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein, when the conversion is non-linear, the table referring means determines the second parameter by referring to the table by using an index of a quantized output of the first stage. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A signal processing apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the first parameter is an LSP parameter, and the second parameter is bit allocation information of coefficient quantization. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A signal processing method for performing signal processing associated with quantization on a first input parameter, the signal processing method comprising: 
<claim-text>a quantization step of quantizing the first parameter; and </claim-text>
<claim-text>a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and determining a second parameter by referring to the table by using an index of a quantized output in the quantization step when the second parameter is to be determined on the basis of the first parameter quantized in the quantization step. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A signal processing method according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein quantization in the quantization step is a multistage vector quantization of N stages, and in the table referring step, the second parameter is determined by referring to the table by using indexes of quantized outputs up to the M-th (M&lE;N) stage. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A signal processing method according to <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein, when the conversion is non-linear, in the table referring step, the second parameter is determined by referring to the table by using an index of a quantized output of the first stage. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A signal processing method according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein the first parameter is an LSP parameter, and the second parameter is bit allocation information of coefficient quantization. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A signal coding apparatus for performing coding by performing an orthogonal transform on a signal based on an input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, the signal coding apparatus comprising: 
<claim-text>orthogonal transform means for performing an orthogonal transform on a signal based on the input signal; </claim-text>
<claim-text>parameter quantization means for quantizing a parameter based on the input signal; </claim-text>
<claim-text>table referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for determining bit allocation information by referring to the table by using an index of a quantized output from the quantization means when the bit allocation information is to be determined on the basis of the parameter quantized by the quantization means; and </claim-text>
<claim-text>quantization means for performing bit allocation quantization on the orthogonal transform coefficient obtained by the orthogonal transform means on the basis of the bit allocation information determined by the table referring means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A signal coding apparatus according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, further comprising, on the input side of the orthogonal transform means, an LPC inverse filter for outputting an LPC predicative residue of the input signal on the basis of the LPC coefficient obtained by performing linear predicative coding (LPC) on the input signal. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A signal coding apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein the parameter is an LSP parameter based on the LPC coefficient. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A signal coding apparatus according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein quantization in the quantization means is a multistage vector quantization of N stages, and the table referring means determines the bit allocation information by referring to the table by using indexes of quantized outputs up to the M-th (M&lE;N) stage. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A signal coding apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, wherein, when the conversion is non-linear, the table referring means determines the bit allocation information by referring to the table by using an index of a quantized output of the first stage. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A signal coding method for performing coding by performing an orthogonal transform on a signal based on an input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, the signal coding method comprising: 
<claim-text>an orthogonal transform step of performing an orthogonal transform on a signal based on the input signal; </claim-text>
<claim-text>a parameter quantization step of quantizing a parameter based on the input signal; </claim-text>
<claim-text>a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and determining bit allocation information by referring to the table by using an index of a quantized output in the parameter quantization step when the bit allocation information is to be determined on the basis of the parameter quantized in the parameter quantization step; and </claim-text>
<claim-text>a quantization step of performing bit allocation quantization on the orthogonal transform coefficient obtained in the orthogonal transform step on the basis of the bit allocation information determined in the table referring step. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A signal coding method according to <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference>, further comprising a step of outputting an LPC predicative residue of the input signal on the basis of the LPC coefficient obtained by performing linear predicative coding (LPC) on the input signal prior to the orthogonal transform step. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A signal coding method according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein the parameter is an LSP parameter based on the LPC coefficient. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A signal coding method according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein quantization in the quantization means is a multistage vector quantization of N stages, and in the table referring step, the bit allocation information is determined by referring to the table by using indexes of quantized outputs up to the M-th (M&lE;N) stage. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A signal coding method according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein, when the conversion is non-linear, in the table referring step, the bit allocation information is determined by referring to the table by using an index of a quantized output of the first stage. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A signal processing apparatus for inputting an index of a quantized output from the quantization means and for performing signal processing associated with dequantization, the signal processing apparatus comprising: 
<claim-text>dequantization means for dequantizing the index; and </claim-text>
<claim-text>table referring means for preparing a table in which a result of a conversion of each representative value of a codebook is prestored and for creating a parameter by referring to the table by using the index. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A signal processing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, wherein quantization in the quantization means is a multistage vector quantization of N stages, and the table referring means creates the parameter by referring to the table by using the indexes up to the M-th (M&lE;N) stage among the indexes up to the N-th stage. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A signal processing apparatus according to claim <highlight><bold>20</bold></highlight>, wherein, when the conversion is non-linear, the table referring means creates the parameter by referring to the table by using an index of the first stage. </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. A signal processing method for inputting an index of a quantized output in quantization means and for performing signal processing associated with dequantization, the signal processing method comprising: 
<claim-text>a dequantization step of dequantizing the index; and </claim-text>
<claim-text>a table referring step of preparing a table in which a result of a conversion of each representative value of a codebook is prestored and creating a parameter by referring to the table by using the index. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. A signal processing method according to <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein quantization in the quantization means is a multistage vector quantization of N stages, and in the table referring step, the parameter is created by referring to the table by using the indexes up to the M-th (M&lE;N) stage among the indexes up to the N-th stage. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. A signal processing method according to <dependent-claim-reference depends_on="CLM-00022">claim 23</dependent-claim-reference>, wherein, when the conversion is non-linear, in the table referring step, the parameter is created by referring to the table by using the index of the first stage. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. A signal decoding apparatus for inputting at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from a signal coding apparatus which quantizes the first parameter based on the input signal and which performs bit allocation quantization on an orthogonal transform coefficient on the basis of the created bit allocation information by referring to a table in which a result of a conversion of each representative value of a codebook is prestored on the basis of the first quantized parameter when coding is to be performed by performing an orthogonal transform on the input signal on a time axis and by performing bit assignment quantization on the obtained orthogonal transform coefficient, the signal decoding apparatus comprising: 
<claim-text>table referring means for creating bit allocation information by referring to the table on the basis of the index; </claim-text>
<claim-text>dequantization means for dequantizing the orthogonal transform coefficient on the basis of the bit allocation information created by the table referring means; and </claim-text>
<claim-text>inverse orthogonal transform means for performing an inverse orthogonal transform on the orthogonal transform coefficient which is dequantized by the dequantization means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. A signal decoding apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein the first parameter is an LSP coefficient, the signal decoding apparatus further comprising: 
<claim-text>parameter dequantization means for creating an LSP coefficient by dequantizing the index; </claim-text>
<claim-text>coefficient conversion means for converting the LSP coefficient into an LPC coefficient; and </claim-text>
<claim-text>LPC synthesis means for performing LPC synthesis on the coefficient which is subjected to inverse orthogonal transform on the basis of the LPC coefficient by the inverse orthogonal transform means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. A signal decoding apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, wherein quantization of the first parameter is a multistage vector quantization of N stages, and the table referring means creates the bit allocation information by referring to the table by using the indexes up to the M-th (M&lE;N) stage among the indexes up to the N-th stage. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. A signal decoding apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 27</dependent-claim-reference>, wherein, when the conversion is non-linear, the table referring means creates the bit allocation information by referring to the table by using the index of the first stage. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. A signal decoding method for inputting at least an index of a quantized output of a first parameter and a coded orthogonal transform coefficient from a signal coding apparatus which quantizes the first parameter based on the input signal and which performs bit allocation quantization on the orthogonal transform coefficient on the basis of the created bit allocation information by referring to a table in which a result of a conversion of each representative value of a codebook is prestored when coding is performed by performing an orthogonal transform on the input signal on a time axis and by performing bit allocation quantization on the obtained orthogonal transform coefficient, and for decoding the orthogonal transform coefficient on the basis of the index, the signal decoding method comprising: 
<claim-text>a table referring step of creating bit allocation information by referring to the table on the basis of the index; </claim-text>
<claim-text>a dequantization step of dequantizing the orthogonal transform coefficient on the basis of the bit allocation information created in the table referring step; and </claim-text>
<claim-text>an inverse orthogonal transform step of performing an inverse orthogonal transform on the orthogonal transform coefficient which is dequantized in the dequantization step. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. A signal decoding method according to <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference>, wherein the first parameter is an LSP coefficient, the signal decoding method further comprising: 
<claim-text>a parameter dequantization step of creating an LSP coefficient by dequantizing the index; </claim-text>
<claim-text>a coefficient conversion step of converting the LSP coefficient into an LPC coefficient; and </claim-text>
<claim-text>an LPC synthesis step of performing LPC synthesis on the orthogonal transform coefficient which is subjected to inverse orthogonal transform on the basis of the LPC coefficient in the inverse orthogonal transform step. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. A signal decoding method according to <dependent-claim-reference depends_on="CLM-00022">claim 29</dependent-claim-reference>, wherein quantization of the first parameter is a multistage vector quantization of N stages, and in the table referring step, the bit allocation information is created by referring to the table by using the indexes up to the M-th (M&lE;N) stage among the indexes up to the N-th stage. </claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. A signal decoding method according to claim <highlight><bold>31</bold></highlight>, wherein, when the conversion is non-linear, in the table referring step, the bit allocation information is created by referring to the table by using the index of the first stage.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004713A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004713A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004713A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004713A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004713A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004713A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004713A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004713A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004713A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004713A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004713A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004713A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004713A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004713A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004713A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
