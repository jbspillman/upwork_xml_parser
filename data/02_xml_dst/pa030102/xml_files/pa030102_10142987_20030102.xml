<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001174A1-20030102-D00000.TIF SYSTEM "US20030001174A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00001.TIF SYSTEM "US20030001174A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00002.TIF SYSTEM "US20030001174A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00003.TIF SYSTEM "US20030001174A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00004.TIF SYSTEM "US20030001174A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00005.TIF SYSTEM "US20030001174A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00006.TIF SYSTEM "US20030001174A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00007.TIF SYSTEM "US20030001174A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00008.TIF SYSTEM "US20030001174A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00009.TIF SYSTEM "US20030001174A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00010.TIF SYSTEM "US20030001174A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00011.TIF SYSTEM "US20030001174A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030001174A1-20030102-D00012.TIF SYSTEM "US20030001174A1-20030102-D00012.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001174</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10142987</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020513</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-197714</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H01L029/80</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>257</class>
<subclass>275000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Modulation semiconductor integrated circuit device and electronic system</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Takaaki</given-name>
<family-name>Henmi</family-name>
</name>
<residence>
<residence-non-us>
<city>Musashino</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Masaru</given-name>
<family-name>Kokubo</family-name>
</name>
<residence>
<residence-non-us>
<city>Hannou</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>Hitachi, Ltd.</organization-name>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>Stanley P. Fisher</name-1>
<name-2>Reed Smith Hazel LLP</name-2>
<address>
<address-1>3110 Fairview Park Drive, Suite 1400</address-1>
<city>Falls Church</city>
<state>VA</state>
<postalcode>22042-4503</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A filter that can achieve miniaturization and low power consumption at the same time without reducing operation precision, and a modulation semiconductor integrated circuit suitable for a wireless communication system using the filter are realized. In a modulation semiconductor integrated circuit including a digital filter that sample a digital transmission data signal an odd number of times for each two symbol cycles to perform product-sum operations, and a DA conversion circuit that subjects the output of the digital filter to DA conversion, a compensating circuit is provided which inserts predetermined values different from two types of symbols to the input of the digital filter. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to technology effectively applied to miniaturization of a digital filter circuit, particularly a FIR-(Finite Impulse Response) filter, and technology effectively used for a Gauss filter provided in a transmission system of a wireless communication system such as, e.g., Bluetooth. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> A wireless communication LSI (large-scale semiconductor integrated circuit) is developed with the greatest emphasis on low power consumption and miniaturization, particularly with LSI used for carriage. By the way, a wireless communication system, which processes analog signals, requires the introduction of a filter for which miniaturization and low power consumption are also demanded. On the other hand, with the advance of digital communication technology, digital filters are increasingly adopted in a wireless communication system. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Digital filters are classified as FIR filters not subjected to feedback and IIR (Infinite Impulse Response) filters subjected to feedback. <cross-reference target="DRAWINGS">FIG. 12</cross-reference> shows a basic configuration of a digital FIR filter. As shown in the drawing, a digital FIR filter comprises an input register part REG that gets input data, and a product-sum operation part MAC that multiplies the got input data by filter coefficients and sums the results. The filter coefficients multiplied by the input data are generally referred to as tap coefficients and the number of stages of the register part is referred to as tap length. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In the case of a general digital FIR filter, the logical scale of circuit depends on tap length, a quantization number of tap coefficients, and the number of bits handled by a product-sum computing unit. Filter power consumption depends on the logical scale of a circuit and a sampling frequency of input data. Therefore, making the values of these parameters as small as possible is a key factor for achieving the miniaturization and low power consumption of the digital filter. However, making the values of these parameters small reduces filter precision. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> As conventional technology for miniaturizing a digital FIR filter, for example, there is proposed the invention that performs sampling at a frequency N times an operating frequency and performs product-sum operations on individual tap coefficients in time-sharing mode to thereby reduce the number of product-sum computing units (Japanese Published Unexamined Patent Application No. 2000-40942). However, the prior invention has a problem in that the number of product-sum computing units can be reduced without reducing operation precision but power consumption cannot be reduced because of an increased sampling frequency. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Accordingly, the inventor et al. contemplated reducing a sampling frequency and reducing the tap length of a digital FIR filter, that is, the number of stages for getting input data. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> To reduce a sampling frequency, it is divided by the n-th power of 2 such as half frequency division, quarter frequency division, and so forth. This is a technique of easiest minimizing an increase in a logical circuit. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Where a sampling count for input data is odd, further frequency-dividing it by two corresponds to the case of performing sampling an odd number of times per two symbol cycle. The present invention describes a technique effective for such a case. An example of this occurs when a 13-MHz sampling frequency used under the GSM (Global System for Mobile Communication) standard is halved to 6.5 MHz. Where Bluetooth is adopted for GSM, since a clock generally operates based on 13 MHz, which is the same as the frequency of a source clock of the GSM system (shares the crystal oscillator of the source clock), we contemplated finding a tap count and tap quantization number complying with the Bluetooth standard for a sampling frequency of 6.5 MHz, which is half the frequency of 13-MHz clock. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> As a result of conducting a study of the existence of a possible solution of tap length of an FIR filter satisfying specifications of a transmission system of Bluetooth regarding the above 6.5-MHz sampling frequency, we learned that specifications of transmission power can be satisfied depending on tap count and bit quantization even if the sampling frequency of the digital FIR filter is 6.5 MHz. However, there was a problem in that the above digital FIR filter configuration caused a deviation in a carrier frequency. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In characteristics called an eye pattern (reflecting the accuracy of evaluation of whether receive data is &ldquo;1&rdquo; or &ldquo;0&rdquo;), there occurred the phenomenon that eye aperture changing depending on the magnitude of waveform distortion deteriorated remarkably. As a result of pursuit for the cause of it, it was found that there was a bias in data sampling count within any two symbols and the bias caused an apparent central position of filter output to deviate from 0. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The eye pattern is a pattern as shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>(B) appearing when signals of one symbol cycle each representing 1-bit data are extracted for each two symbol cycle and superimposed on one another when a data string of &plus;1 and &minus;1 as shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>(A) is transmitted. An eye aperture is a value represented by &Dgr;f<highlight><bold>2</bold></highlight>/&Dgr;f<highlight><bold>1</bold></highlight>, where &Dgr;f<highlight><bold>1</bold></highlight> is a displacement amount from a center during continuous transmission of &plus;1 or &minus;1 in the eye pattern, and &Dgr;f<highlight><bold>2</bold></highlight> is a displacement amount at peak when data changes from &plus;1 to &minus;1 or from &plus;1 to &minus;1. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows, as one example, a case where, for a 2.4-GHz carrier frequency, data &plus;1 is transmitted with a signal with the carrier frequency subjected to frequency modulation by plus 160 kHz, and data &minus;1 is transmitted with a signal with the carrier frequency subjected to frequency modulation by minus 160 kHz. Representation by an eye pattern is not limited to such a case but is widely used in the field of wireless communications using frequency modulation. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The present invention has been made to solve the above problems and its object is to provide a filter that can achieve miniaturization and low power consumption at the same time without reducing operation precision, and a modulation semiconductor integrated circuit suitable for a wireless communication system using the filter. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Another object of the present invention is to provide a small-scale and low-power-consumption wireless communication system suitable for cellular electronic equipment. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> The foregoing and other objects and novel characteristics of the present invention will become apparent from the foregoing description of the specifications and the accompanying drawings. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> Typical ones of inventions disclosed in this patent application will be outlined below. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> In a modulation semiconductor integrated circuit including a digital filter that samples a digital transmission data signal an odd number of times for each two symbol cycles to perform predetermined operations, and a DA conversion circuit that subjects the output of the digital filter to DA conversion, a compensating circuit is provided which inserts predetermined values different from two types of symbols to the input of the digital filter. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> According to the above described means, data can be sampled without bias and an apparent center of filter outputs can be positioned in the vicinity of 0. Thereby, eye aperture can be increased and the extent of frequency variations can be reduced. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Preferably, the compensating circuit samples input data signals at a frequency N times a sampling frequency of the digital filter and outputs the average of two values sampled before and after. Thereby, addition of a relatively simple circuit enables predetermined values different from two types of symbols to be inserted to the input of digital filter. N is an integer of 2 or greater. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> Furthermore, preferably, the compensating circuit comprises a delay means that samples input data signals at a frequency N times a sampling frequency of the digital filter and provides a delay of one cycle, an adder that adds a signal delayed by the delay means and an input signal at that time, an operation means that halves the output of the adder, and a delay means for bringing an output of the operation means into line with the sampling frequency of the digital filter. Thereby, as predetermined values inputted to the digital filter, the average value of two types of symbols can be created and inserted. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> The digital filter comprises an input shift register that successively samples and shifts outputs of the compensating circuit, plural first means that output a value corresponding to the product of data held at each stage of the register and a predetermined filter coefficient, and plural second means that successively add outputs of the first means and outputs the added value. Thereby, existing digital FIR filters can be used, facilitating a circuit design. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> Furthermore, the number of stages of the digital filter is seven. Thereby, the number of stages of a register can be reduced, so that a filter that can achieve miniaturization and low power consumption at the same time, and a modulation semiconductor integrated circuit suitable for a wireless communications using the filter are realized. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The filter coefficients are 5 bits. Thereby, the scale of an operation means to perform operations between input data and the filter coefficients can be reduced, so that a filter that can achieve miniaturization and low power consumption at the same time, and a modulation semiconductor integrated circuit suitable for a wireless communications using the filter are realized. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> Furthermore, there is provided an oscillating circuit whose oscillation frequency is controlled by the output of the DA conversion circuit for the output of a digital FIR filter. Thereby, a modulation semiconductor integrated circuit of the frequency modulation system can be realized which subjects an input data signal to frequency modulation and outputs a resulting signal. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> Also, preferably, in the case where a 2.4-GHz oscillation signal is used as a carrier frequency signal and outputted after frequency modulation in a range of &plusmn;160 kHz by an input data signal, a sampling frequency of the digital filter is set at 6.5 MHz. Thereby, circuits satisfying conditions defined under the Bluetooth standard can be brought into miniaturization and low power consumption. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Furthermore, an electronic system according to the present invention comprises a modulation semiconductor integrated circuit configured as described above, a wireless communication means that converts signals to digital data and modulates the digital data for wireless communications, and a crystal oscillating circuit that generates a clock signal required for operation of the wireless communication means, wherein a clock signal generated derivatively from a clock signal generated by the crystal oscillating circuit is used as a sampling clock of the digital filter. Thereby, the sharing of the crystal oscillating circuit can be achieved, contributing to reduction in system costs. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> The wireless communication means may comprise a base band circuit that converts signals to digital data signals suitable for wireless communications, and a high-frequency modulation circuit that modulates digital data signals from the base band circuit to high-frequency signals and outputs the high-frequency signals, wherein a clock signal generated in the crystal oscillating circuit is supplied to the high-frequency modulation circuit and a clock signal whose frequency is halved by the high-frequency modulation circuit is supplied to the base band circuit and the modulation semiconductor integrated circuit. Also in this way, the sharing of the crystal oscillating circuit can be achieved and system costs can be reduced, while existing high-frequency modulation circuits can be used to inexpensively provide electronic equipment such as cellular telephones having wireless communication functions defined under, e.g., the Bluetooth standard.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing the configuration of a wireless communication system suitably using a modulation semiconductor integrated circuit of the present invention; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram showing an embodiment of a digital FIR filter used in a modulation semiconductor integrated circuit of the present invention; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a conceptual diagram showing a digital FIR filter used in an embodiment; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> FIGS. <highlight><bold>4</bold></highlight>(A) to <highlight><bold>4</bold></highlight>(F) show timing chart of one example of operation timing of a digital FIR filter provided with an offset compensating circuit of an embodiment; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> FIGS. <highlight><bold>5</bold></highlight>(A) to <highlight><bold>5</bold></highlight>(F) show a timing chart of other operation timing of a digital FIR filter provided with an offset compensating circuit of an embodiment; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> FIGS. <highlight><bold>6</bold></highlight>(A) to <highlight><bold>6</bold></highlight>(D) show a timing chart of operation timing of a conventional digital FIR filter not having an offset compensating circuit; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> FIGS. <highlight><bold>7</bold></highlight>(A) to <highlight><bold>7</bold></highlight>(D) show a timing chart of other operation timing of a conventional digital FIR filter not having an offset compensating circuit; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> FIGS. <highlight><bold>8</bold></highlight>(A) and <highlight><bold>8</bold></highlight>(B) are waveform diagrams showing an eye pattern of a conventional digital FIR filter not having an offset compensating circuit and an eye pattern of a digital FIR filter of an embodiment; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a frequency characteristic diagram showing the specification of transmission power in the Bluetooth standard to which the present invention is suitably applied; </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> FIGS. <highlight><bold>10</bold></highlight>(A) and <highlight><bold>10</bold></highlight>(B) are conceptual diagrams showing a configuration of multipliers of input data and filter coefficients used in a digital FIR filter of an embodiment; </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a block diagram showing an overall configuration of a cellular telephone to which the wireless communication LSI of the embodiment is applied; </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram showing a configuration of a conventional FIR filter; </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> FIGS. <highlight><bold>13</bold></highlight>(A) and <highlight><bold>13</bold></highlight>(B) are waveform diagrams showing a transmission data string and an eye pattern in communications of the Bluetooth standard.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Hereinafter, preferred embodiments of the present invention will be described with reference to the accompanying drawings. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a configuration of a wireless communication system suitably using a modulation semiconductor integrated circuit of the present invention. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, AT designates a transmitting/receiving antenna for signal radio waves; SW, a switch for switching between transmission and reception; <highlight><bold>110</bold></highlight>, a receiving circuit that down-converts a signal received from the antenna AT into an intermediate frequency before amplifying and demodulating it, and converts it into a base band signal; and <highlight><bold>130</bold></highlight>, a transmitting circuit that modulates a base band signal transmitted from the antenna AT for frequency conversion. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The transmitting circuit <highlight><bold>130</bold></highlight> comprises: a Gauss filter <highlight><bold>131</bold></highlight> that samples an input rectangular wave signal and generates code for modulation; a DA conversion circuit <highlight><bold>132</bold></highlight> that performs DA conversion for the output of the filter to generate a signal of stepped waveform; a low pass filter <highlight><bold>133</bold></highlight> that turns the generated signal of stepped waveform into a smooth waveform; a frequency conversion circuit <highlight><bold>134</bold></highlight>, composed of a voltage control oscillating circuit (VCO), that performs modulation by an oscillation frequency being controlled by an output voltage of the low pass filter <highlight><bold>133</bold></highlight>; and a power amplifier <highlight><bold>135</bold></highlight> that amplifies a signal subjected to frequency conversion to such an extent as to correspond to transmission power to transmit the signal. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Moreover, the transmitting circuit <highlight><bold>130</bold></highlight> of this embodiment is provided with a counter <highlight><bold>136</bold></highlight> that frequency-divides the output of the VCO <highlight><bold>134</bold></highlight>, and a phase comparator <highlight><bold>137</bold></highlight> that compares the phase of output of the counter <highlight><bold>136</bold></highlight> and the phase of reference clock &phgr;c such as e.g., 13 MHz and generates voltage corresponding to a phase difference to control the oscillation frequency of the VCO <highlight><bold>134</bold></highlight>. A PLL circuit is formed by the VCO <highlight><bold>134</bold></highlight>, the counter <highlight><bold>136</bold></highlight>, and the phase comparator <highlight><bold>137</bold></highlight> and produces a carrier frequency. A control voltage to the VCO <highlight><bold>134</bold></highlight> is changed by an output voltage of the low pass filter <highlight><bold>133</bold></highlight> reflecting transmit data, whereby an oscillation frequency signal is modulated. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In the wireless communication system of this embodiment, a carrier frequency can be made variable by changing a count value counted by the counter <highlight><bold>136</bold></highlight> according to a command from the base band circuit <highlight><bold>350</bold></highlight>. The carrier frequency can be shifted in units of, e.g., 1 MHz (made variable) so that spread spectrum data transmission based on so-called frequency hopping can be performed. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> The receiving circuit <highlight><bold>110</bold></highlight> comprises: a low-noise amplifier (LNA) <highlight><bold>111</bold></highlight> that amplifies a signal received from the antenna AT; a mixer (MIX) <highlight><bold>112</bold></highlight> that down-converts an amplified receive signal into a signal of an intermediate frequency (e.g., 2 MHz) by synthesizing the amplified receive signal and an oscillation signal from the VCO of the transmission side; a bandpass <highlight><bold>113</bold></highlight> that eliminates a leak signal from an adjacent channel to extract a signal component of the channel; a gain-controllable programmable gain amplifier (AGC) <highlight><bold>114</bold></highlight> that amplifies a signal to a proper amplitude; an AD conversion circuit <highlight><bold>115</bold></highlight> that converts an analog signal to a digital signal; a demodulating circuit <highlight><bold>116</bold></highlight> that demodulates receive data; and a low pass filter (LPF) <highlight><bold>117</bold></highlight> that eliminates high-frequency components (noise) from a demodulated signal and passes receive data to the base band circuit <highlight><bold>350</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows an embodiment of a digital FIR filter used as a Gauss filter <highlight><bold>131</bold></highlight> constituting the transmitting circuit <highlight><bold>130</bold></highlight>. In the filter of this embodiment, as shown in <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> frequency offset compensating circuit <highlight><bold>31</bold></highlight> is provided at a stage preceding the digital FIR filter <highlight><bold>32</bold></highlight>, signals that brought <highlight><bold>311</bold></highlight> and <highlight><bold>312</bold></highlight> of the frequency offset compensating circuit <highlight><bold>31</bold></highlight> into operation by an input sampling clock &phgr;s are reoutputted by an input sampling clock &phgr;s/2 of the digital FIR filter, input data is compensated by the frequency offset compensating circuit <highlight><bold>31</bold></highlight> and inputted to the digital FIR filter <highlight><bold>32</bold></highlight>, and the digital FIR filter <highlight><bold>32</bold></highlight> is brought into operation by a clock &phgr;s&prime; produced by halving the frequency of the input sampling clock &phgr;s by the frequency divider <highlight><bold>33</bold></highlight>. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The frequency offset compensating circuit <highlight><bold>31</bold></highlight> comprises: a delay circuit <highlight><bold>311</bold></highlight> composed of a D type flip-flop that latches input data synchronously with a rising edge or falling edge of an input sampling clock &phgr;s; an adder <highlight><bold>312</bold></highlight> that adds one-cycle-old input data delayed by the delay circuit <highlight><bold>311</bold></highlight> and current input data; a divider <highlight><bold>313</bold></highlight> that halves an added value; and a delay means <highlight><bold>314</bold></highlight> that brings the output of the divider into line with a sampling cycle of the filter in a following stage. A 2-bit signal Dr indicating that the output of the divider <highlight><bold>313</bold></highlight> is &ldquo;1&rdquo;, &ldquo;&minus;1&rdquo;, or &ldquo;0&rdquo; designating &frac12; is inputted to the digital FIR filter <highlight><bold>32</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> On the other hand, the digital FIR filter used in this embodiment comprises: as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, an input register part REG formed by two shift registers with the respective six flip-flops FF<highlight><bold>11</bold></highlight> to FF<highlight><bold>16</bold></highlight>, and FF<highlight><bold>21</bold></highlight> to FF<highlight><bold>26</bold></highlight> connected in series; and a product-sum operation part MAC that comprises seven multipliers MLT<highlight><bold>1</bold></highlight> to MLT<highlight><bold>7</bold></highlight> performing multiplication with filter coefficients correspondingly to the flip-flops FF<highlight><bold>11</bold></highlight>, FF<highlight><bold>12</bold></highlight> to FF<highlight><bold>16</bold></highlight>, and FF<highlight><bold>26</bold></highlight> of the different stages, and adders ADD<highlight><bold>1</bold></highlight> to ADD<highlight><bold>6</bold></highlight> successively summing the outputs of the multipliers MLT<highlight><bold>1</bold></highlight>, MLT<highlight><bold>2</bold></highlight>, . . . MLT<highlight><bold>7</bold></highlight>. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The filter coefficients are signed tap coefficients consisting 5 bits in this embodiment, one of which is used as a positive or negative sign. Multiplying a positive filter coefficient and input data increases operation results, and multiplying a negative filter coefficient and input data decreases operation results. Thereby, subjecting filter outputs to DA conversion results in a stepped waveform being produced. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows an operation timing chart of the frequency offset compensating circuit <highlight><bold>31</bold></highlight>. In <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, (A) designates input Din; (B), a sampling clock &phgr;s such as, e.g., 13 MHz; (C), output Dr of the frequency offset compensating circuit <highlight><bold>31</bold></highlight>; (D), a frequency dividing clock &phgr;s&prime; such as, e.g., 6.5 MHz; and (E), a substantial input waveform to the digital FIR filter <highlight><bold>32</bold></highlight>. &phgr;s&prime;&equals;&phgr;s/2. If &phgr;s is odd, &phgr;s&equals;&phgr;s/2 corresponds to the case where sampling is performed an odd number of times within two symbols. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Consider the case where, for a digital FIR filter of tap length n, a sampling frequency &phgr;s in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(B) is equal to 2 m&plus;1 (m is a nonzero integer), where m&lt;n. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> If, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(A), input data Din (e.g., 1/1 Mbps data in Bluetooth) changing to &plus;1 or &minus;1 with data width 1 &mgr;s (transfer speed 1 Mbps) is captured into the frequency offset compensating circuit <highlight><bold>31</bold></highlight> at a sampling clock &phgr;s of 13 MHz of <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(B) to perform compensation operation, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(C), a value of 0, which is the average of the input data, is outputted at change points from &minus;1 to &plus;1 and from &plus;1 to &minus;1 from the frequency offset compensating circuit <highlight><bold>31</bold></highlight>. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> If the output values of the frequency offset compensating circuit <highlight><bold>31</bold></highlight> are captured into the digital FIR filter <highlight><bold>32</bold></highlight> at a clock &phgr;s&prime; of <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(D) produced by halving the frequency of the sampling clock &phgr;s, a substantial input waveform FLTin of the digital FIR filter <highlight><bold>32</bold></highlight> takes such a form that, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(E), &plus;1 and &minus;1 each continue at an identical cycle (m), and when data changes from &ldquo;&plus;1&rdquo; to &ldquo;&minus;1&rdquo;, the data becomes &ldquo;0&rdquo; for only one cycle of &phgr;s&prime;. It is understood from this that there occurs no bias between capturing of input data &plus;1 to the digital FIR filter <highlight><bold>32</bold></highlight> and capturing of &minus;1. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a timing in which the output &ldquo;0&rdquo; of the frequency offset compensating circuit <highlight><bold>31</bold></highlight> is captured into the filter when data changes from &ldquo;&plus;&rdquo; to &ldquo;&minus;&rdquo;. Depending on a positional relationship between (B) and (D), as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(E), when data changes from &ldquo;&minus;1&rdquo; to &ldquo;&plus;1&rdquo;, the output &ldquo;0&rdquo; of the frequency offset compensating circuit <highlight><bold>31</bold></highlight> may be captured into the filter. However, such operation continues when note is taken of a certain short time. Also in this case, there occurs no bias between capturing of input data &plus;1 to the digital FIR filter <highlight><bold>32</bold></highlight> and capturing of &minus;1. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> On the other hand, in the case where the frequency offset compensating circuit <highlight><bold>31</bold></highlight> is not provided, if input data Din changing to &plus;1 or &minus;1 with data width 1 &mgr;s (transfer speed 1 Mbps) were captured into the digital FIR filter <highlight><bold>32</bold></highlight> at a sampling clock &phgr;s&prime; (&equals;&phgr;s/2) of 6.5 MHz, within a certain short time, there would occur a case as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>(C) where data &ldquo;&plus;1&rdquo; is captured for m&plus;1 cycles and data &ldquo;&minus;1&rdquo; is captured for m cycles, and a case shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(C) where data &ldquo;&plus;1&rdquo; is captured for m cycles and data &ldquo;&minus;1&rdquo; is captured for m&plus;1 cycles. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> In such a case, an output waveform of the DA converter <highlight><bold>132</bold></highlight> subjecting the output of the digital FIR filter <highlight><bold>32</bold></highlight> to DA conversion shifts to the plus side on the whole in the case of <cross-reference target="DRAWINGS">FIG. 6</cross-reference> in which &ldquo;&plus;1&rdquo; is captured more frequently. In other words, an output waveform of the DA converter becomes, as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>(D), a stepped waveform like a sine wave with a maximum value MAX (m&plus;1), a minimum value MIN &minus;(m&minus;1), and an apparent center position shifted to the plus side. In other words, an output waveform of the DA converter becomes, as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(D), a stepped waveform like a sine wave with a maximum value MAX (m&minus;1), a minimum value MIN &minus;(m&plus;1), and an apparent center position shifted to the minus side. Where the digital FIR filter <highlight><bold>32</bold></highlight> continues to capture &ldquo;&plus;1&rdquo; or &ldquo;&minus;1&rdquo;, its output value does not continue to rise or fall; the filter coefficients are set so that the output value becomes saturated in a maximum value corresponding to &plus;160 kHz or &minus;160 kHz as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>(D) or <highlight><bold>7</bold></highlight>(D). </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> On the other hand, in the case where the frequency offset compensating circuit <highlight><bold>31</bold></highlight> is provided as in this embodiment, since there occurs no bias between capturing of &plus;1 and capturing of &minus;1 of input data to the digital FIR filter <highlight><bold>32</bold></highlight> as described previously, an output waveform of the DA converter becomes, as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>(F) or <cross-reference target="DRAWINGS">FIG. 5</cross-reference>(F), a stepped waveform like a sine wave with a maximum value MAX m, a minimum value MIN &minus;m, and an apparent center position &ldquo;0&rdquo;. As a result, for a certain parameter of the digital FIR filter, where the frequency offset compensating circuit <highlight><bold>31</bold></highlight> is not provided, an eye pattern deteriorates with an aperture below 80% as shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>(A), while, where the frequency offset compensating circuit <highlight><bold>31</bold></highlight> is provided, with an aperture improved to 80% or more, an eye pattern is formed as shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference> (B). It is therefore understood that it is effective to provide the frequency offset compensating circuit <highlight><bold>31</bold></highlight>. The output of the frequency offset compensating circuit <highlight><bold>31</bold></highlight> consists of 2 bits to discriminate among &ldquo;&plus;1&rdquo;, &ldquo;&minus;1&rdquo;, and &ldquo;0&rdquo;. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Next, a description will be made of a sampling frequency, tap length, and the number of bits of filter coefficients of the digital FIR filter <highlight><bold>32</bold></highlight> of this embodiment. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The Bluetooth standard dictates the following three conditions on transmission power: (1) relative attenuation at &plusmn;0.55 MHz (&equals;550 kHZ) with respect to a carrier frequency (e.g., 2.4 GHz) is &minus;20 dB/0.1 MHz or more as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>; (2) absolute attenuation at &plusmn;2 MHz with respect to a carrier frequency 2.4 GHz is &minus;20 dB/1 MHz or more; and (3) absolute attenuation at &plusmn;3 MHz with respect to a carrier frequency 2.4 GHz is &minus;40 dB/1 MHz or more. This is because the Bluetooth standard adopts, as a transmission method, the spread spectrum method based on frequency hopping in units of 1 MHz in a frequency band of 2.4 to 2.48 GHz to prevent interference with signals in adjacent frequency bands. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> To satisfy the above described conditions defined in the Bluetooth standard on transmission power, a study was conducted of requirements for the Gauss filter <highlight><bold>131</bold></highlight> in the transmission system <highlight><bold>130</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> First, a sampling frequency of the Gauss filter was selected from 26, 13, 6.5, and 3.25 MHz. This is because, since the GSM (Global System for Mobile Communication) standard adopts a 13-MHz frequency clock, it is easy to unify clock frequencies when configuring a combined system of the GSM standard and the Bluetooth standard. By the way, as described previously, lower sampling frequencies contribute to reduction in power consumption. Accordingly, in this embodiment, 6.5 MHz was selected as a sampling frequency of the Gauss filter. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Next, for tap length and filter coefficients (tap coefficients), a study was conducted of values that satisfy the above described conditions and are effective for circuit miniaturization. Shorter tap length contributes to smaller circuit scale and reduction in power consumption. Accordingly, in this embodiment, tap length was set at 7. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Smaller tap coefficients contribute to smaller circuit scale and reduction in power consumption. Accordingly, in this embodiment, tap coefficients were decided as 5 bits. Since tap coefficients were set at 5 bits, the number of bits of the DA conversion circuit was also set at 5 bits. Therefore, for the Gauss filter of this embodiment, a sampling frequency is set at 6.5 MHz, tap length at 7 taps, and tap coefficients at 5 bits. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> A circuit that determines whether a value calculated by the operation circuit <highlight><bold>313</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is &ldquo;&plus;1&rdquo;, &ldquo;&minus;1&rdquo;, or &ldquo;0&rdquo;, and converts the value into a 2-bit signal, and the multipliers MLT<highlight><bold>1</bold></highlight> to MLT<highlight><bold>7</bold></highlight> constituting the product-sum computing unit MAC shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> that performs operations (so-called rounding) between 2-bit data captured into the input register part REG and tap coefficients can be realized by an example of hardware as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> To be more specific, an output value Dr of the offset compensating circuit <highlight><bold>31</bold></highlight> is inputted to noninverting input terminals of two comparators CMP<highlight><bold>1</bold></highlight> and CMP<highlight><bold>2</bold></highlight>, outputs of the comparators CMP<highlight><bold>1</bold></highlight> and CMP<highlight><bold>2</bold></highlight> are inputted to AND gate G<highlight><bold>1</bold></highlight> to find a logical product of them, and inputted to exclusive OR gate G<highlight><bold>2</bold></highlight> to find an exclusive logical add of them, output of the AND gate G<highlight><bold>1</bold></highlight> is captured into flip-flop FF<highlight><bold>11</bold></highlight> of the first stage of one shift register of the input register part REG, and output of the exclusive OR gate G<highlight><bold>2</bold></highlight> is captured into flip-flop FF<highlight><bold>21</bold></highlight> of the first stage of another shift register of the input register part REG. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> A voltage Va that is lower than a voltage corresponding to &ldquo;&plus;1&rdquo; and higher than a voltage corresponding to &ldquo;0&rdquo; is inputted to a noninverting input terminal of the comparator CMP<highlight><bold>1</bold></highlight>, and a voltage Vb(&minus;) that is lower than a voltage corresponding to &ldquo;0&rdquo; and higher than a voltage corresponding to &ldquo;&minus;1&rdquo; is inputted to a noninverting input terminal of the comparator CMP<highlight><bold>2</bold></highlight>. Thereby, when both outputs of the comparators CMP<highlight><bold>1</bold></highlight> and CMP<highlight><bold>2</bold></highlight> are at high level, it indicates that the output value Dr of the offset compensating circuit <highlight><bold>31</bold></highlight> is &ldquo;&plus;1&rdquo;, so that the output of G<highlight><bold>1</bold></highlight> is &ldquo;1&rdquo; and the output of G<highlight><bold>2</bold></highlight> is &ldquo;0&rdquo;. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> When both outputs of the comparators CMP<highlight><bold>1</bold></highlight> and CMP<highlight><bold>2</bold></highlight> are at low level, it indicates that the output value Dr of the offset compensating circuit <highlight><bold>31</bold></highlight> is &ldquo;&minus;1&rdquo;, so that the output of G<highlight><bold>1</bold></highlight> is &ldquo;0&rdquo; and the output of G<highlight><bold>2</bold></highlight> is &ldquo;0&rdquo;. Furthermore, when the output of CMP<highlight><bold>1</bold></highlight> is at low level and the output of CMP<highlight><bold>2</bold></highlight> is at high level, it indicates that the output value Dr of the offset compensating circuit <highlight><bold>31</bold></highlight> is &ldquo;0&rdquo;, so that the output of G<highlight><bold>1</bold></highlight> is &ldquo;0&rdquo; and the output of G<highlight><bold>2</bold></highlight> is &ldquo;1&rdquo;. The outputs of the gates G<highlight><bold>1</bold></highlight> and G<highlight><bold>2</bold></highlight> are captured into the flip-flops F<highlight><bold>11</bold></highlight> and F<highlight><bold>21</bold></highlight> by a clock &phgr;s&prime; whose frequency is half that of the sampling clock &phgr;s, and are successively shifted. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> The multiplier MLT can be configured with two selectors SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>2</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. Data input terminals A and B of the selector SELL are respectively presented with tap coefficient Ta corresponding to data &ldquo;&plus;1&rdquo; and tap coefficient Tb corresponding to data &ldquo;&minus;1&rdquo;, latch data D<highlight><bold>1</bold></highlight> of the flip-flop FF<highlight><bold>11</bold></highlight> of the first shift register is inputted to a selection terminal S, and one of the tap coefficients Ta and Tb is outputted with the data D<highlight><bold>1</bold></highlight> (&plus;1 or &minus;1). </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> On the other hand, data input terminals D and C of the selector SEL<highlight><bold>2</bold></highlight> are respectively presented with the output of the selector SEL<highlight><bold>1</bold></highlight> and tap coefficient Tc corresponding to data &ldquo;0&rdquo;, latch data D<highlight><bold>2</bold></highlight> of the flip-flop FF<highlight><bold>21</bold></highlight> of the second shift register is inputted to a selection terminal S, and output of the selector SEL<highlight><bold>1</bold></highlight> or tap coefficient Tc is outputted by the data D<highlight><bold>2</bold></highlight>. The tap coefficients consist of 5 bits, one of which is used as a positive or negative sign. Bit coefficients Ta, Tb, and Tc take different values in each of the multipliers MLT<highlight><bold>1</bold></highlight> to MLT<highlight><bold>5</bold></highlight>. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> Furthermore, the selector SEL<highlight><bold>2</bold></highlight> can, as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>(B), be configured with five unit selectors U-SELi that each pull up one input terminal Ai to the power supply voltage Vcc and pull down another input terminal Bi to the ground terminal GND according to bits of inputted coefficients Ta and Tb, or five unit selectors U-SELj that each pull down one input terminal Aj to the ground terminal GND and pull up another input terminal Bj to the power supply voltage terminal Vcc. In this way, instead of a circuit in which input terminals of the selectors are fixed to Vcc or GND, registers holding filter coefficients may be provided so that the registers are switched by the selectors. Use of the registers has the advantage that filter coefficients can be made variable depending on the system. Furthermore, the number of stages of the input data register REG may be made variable. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> As seen from the embodiment of <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, if the present invention is applied, in comparison with a conventional digital filter shown in <cross-reference target="DRAWINGS">FIG. 12, a</cross-reference> circuit is increased by the frequency offset compensating circuit <highlight><bold>31</bold></highlight>, the comparators CMP<highlight><bold>1</bold></highlight> and CMP<highlight><bold>2</bold></highlight> evaluating the output of the divider <highlight><bold>313</bold></highlight>, and the logical gates G<highlight><bold>1</bold></highlight> and G<highlight><bold>2</bold></highlight>, while, although the flip-flops and the multipliers of the input register part REG are halved in terms of number of stages but unchanged in total number because of the two-row configuration, the number of adders is halved. As a result, although the scale of the whole circuit is unchanged, the circuit scale becomes slightly small because of the halved number of adders, and the operation frequencies of the filter circuit and the DA conversion circuit to perform DA conversion operation upon receipt of output of the filter can be approximately halved in comparison with conventional methods, with the result that power consumption of the digital control part of the DA conversion circuit can be halved. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a block diagram showing the overall configuration of a cellular telephone to which the wireless communication LSI of the above embodiment is applied. The cellular telephone of this embodiment comprises: a liquid crystal panel <highlight><bold>200</bold></highlight> as a display part; an antenna <highlight><bold>321</bold></highlight> for transmission and reception; a loudspeaker <highlight><bold>322</bold></highlight> for audio output; a microphone <highlight><bold>323</bold></highlight> for audio input; a liquid crystal control driver <highlight><bold>310</bold></highlight> that drives the liquid crystal panel <highlight><bold>200</bold></highlight> into display operation; an audio interface <highlight><bold>330</bold></highlight> through which signals of the loudspeaker <highlight><bold>322</bold></highlight> and the microphone are inputted and outputted; a high-frequency interface <highlight><bold>340</bold></highlight> through which cellular telephone communications are conducted by the GSM standard through the antenna <highlight><bold>321</bold></highlight>; a wireless communication LSI <highlight><bold>100</bold></highlight>, to which the present invention is applied, for conducting communications by the Bluetooth standard through the antenna <highlight><bold>321</bold></highlight>; DSP (Digital Signal Processor) <highlight><bold>351</bold></highlight> for processing signals related to audio signals and transmission/reception signals; ASIC (Application Specific Integrated Circuits) <highlight><bold>352</bold></highlight> providing custom functions (user logic); a system control unit <highlight><bold>353</bold></highlight> comprising a microprocessor, microcomputer, or the like to control the whole apparatus, including display control; a memory <highlight><bold>360</bold></highlight> for storing data and programs; and an oscillating circuit (OSC) <highlight><bold>370</bold></highlight>. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> A so-called base band part <highlight><bold>350</bold></highlight> is composed of the DSP <highlight><bold>351</bold></highlight>, ASIC <highlight><bold>352</bold></highlight>, and the microcomputer <highlight><bold>353</bold></highlight> as a system control unit. Although only one base band part <highlight><bold>350</bold></highlight> is shown in the drawing, a base band part for the high-frequency interface <highlight><bold>340</bold></highlight> and a base band part for the wireless communication LSI <highlight><bold>100</bold></highlight> of the Bluetooth standard can be configured separately. In <cross-reference target="DRAWINGS">FIG. 11, 371</cross-reference> designates an oscillation element such as crystal oscillator, and the oscillating circuit <highlight><bold>370</bold></highlight> generates a clock of a frequency such as, e.g., 26 MHz. Crystal oscillators serving as a system clock source of the GSM system, which are distributed in large quantity and are available inexpensively, contribute to reduction in system costs. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The cellular telephone system of this embodiment includes the high-frequency interface <highlight><bold>340</bold></highlight> through which cellular telephone communications are conducted by the GSM standard, and the wireless communication LSI <highlight><bold>100</bold></highlight> of the above embodiment that conducts communications by the Bluetooth standard. Some cellular telephone systems of the present GSM standard use a 26-MHz system clock as an operation clock of a high-frequency LSI and supply a 13-MHz clock produced by halving the frequency of the 26-MHz system clock to the base band part. On the other hand, it is general that the wireless communication LSI <highlight><bold>100</bold></highlight> of the above embodiment that conducts communications by the Bluetooth standard also shares the system clock for operation when mounted in a GSM system. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> Therefore, a system clock &phgr;c generated by the common oscillating circuit (OSC) <highlight><bold>370</bold></highlight> is supplied to the high-frequency interface <highlight><bold>340</bold></highlight> and a 13-MHz clock &phgr;c supplied from the high-frequency interface <highlight><bold>340</bold></highlight> to the base band part <highlight><bold>350</bold></highlight> is also supplied to the wireless communication LSI <highlight><bold>100</bold></highlight> of the above embodiment of the Bluetooth standard to drive it into operation. Alternatively, a 26-MHz clock generated in the oscillating circuit <highlight><bold>370</bold></highlight> is supplied to the high-frequency interface <highlight><bold>340</bold></highlight> of the GSM standard to drive it into operation, while a 13-MHz clock produced by the halving the frequency of the 26-MHz clock is supplied to the base band part <highlight><bold>350</bold></highlight> and the wireless communication LSI <highlight><bold>100</bold></highlight> of the Bluetooth standard to drive it into operation. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> Thereby, a special oscillating circuit for the Bluetooth standard does not need to be provided and an LSI for wireless communications of the Bluetooth standard can be added to existing cellular telephones with an extremely small amount of hardware to be added. Thus mounting the wireless communication LSI <highlight><bold>100</bold></highlight> of the Bluetooth standard can provide the cellular telephone with diversified functions such as using the cellular telephone as a transceiver, outputting data received over the cellular telephone to a printer, and transmitting image data and audio data from a personal computer to the cellular telephone. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> If the high-frequency interface <highlight><bold>340</bold></highlight> and the wireless communication LSI <highlight><bold>100</bold></highlight> of the above embodiment of the Bluetooth standard are mounted in a notebook size personal computer, hand-held PC, palmtop PC, and the like, data transmission with personal computers and peripheral equipment of the Bluetooth standard, and connection with the Internet are enabled. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> The invention made by the inventor has been specifically described based on embodiments. It goes without saying that the present invention is not limited to the above embodiment and can be modified in various ways without departing from the spirit and scope of the present invention. For example, although, in the above embodiment, a description is made of a system that subjects data passing through a Gauss filter to frequency modulation before transmitting it, the present invention can also apply to a digital filter in a system that subjects data passing through a Gauss filter to phase modulation or amplitude modulation before transmitting it. The offset compensating circuit <highlight><bold>31</bold></highlight> of the embodiment shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> drives delay flip-flops of the offset compensating circuit <highlight><bold>31</bold></highlight> into latch operation by a clock &phgr;s and a clock &phgr;s&prime; produced by halving the frequency of the clock &phgr;s by the frequency divider <highlight><bold>33</bold></highlight>, and drives the digital FIR filter <highlight><bold>32</bold></highlight> into operation by the clock &phgr;s&prime;. However, delay flip-flops of a portion driven into operation by the &phgr;s clock in the offset compensating circuit <highlight><bold>31</bold></highlight> may be driven into latch operation both on the rising edge and falling edge of clock to thereby drive the offset compensating circuit <highlight><bold>31</bold></highlight> and the digital FIR filter <highlight><bold>32</bold></highlight> into operation by an identical clock. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> Moreover, depending on a phase relationship between clock f<highlight><bold>1</bold></highlight> of the digital FIR filter and clock f<highlight><bold>2</bold></highlight> of the offset compensating circuit, f<highlight><bold>1</bold></highlight>&equals;Nf<highlight><bold>2</bold></highlight> (N is an integer of 2 or greater) can be satisfied. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Although the foregoing description centers on the case where the invention made by the inventor applies to a Gauss filter used in a wireless communication system, which is an application field of the invention, the present invention, without being limited to it, can be used for general digital filters. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Effects obtained by typical ones of inventions disclosed in the present patent application will be briefly described below. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> A filter that can achieve miniaturization and low power consumption at the same time can be formed without reducing operation precision, whereby a small-scale and low-power-consumption wireless communication system suitable for cellular electronic equipment can be realized. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A modulation semiconductor integrated circuit, comprising: 
<claim-text>a digital filter that samples a digital transmission data signal an odd number of times for each two symbol cycles to perform predetermined operations; </claim-text>
<claim-text>a DA conversion circuit that subjects the output of the digital filter to DA conversion; and </claim-text>
<claim-text>a compensating circuit that inserts predetermined values different from two types of symbols to the input of the digital filter. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the compensating circuit samples input data signals at a frequency N (N is an integer of 2 or greater) times a sampling frequency of the digital filter and outputs the average of two values sampled before and after. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the compensating circuit comprises a delay means that samples input data signals at a frequency N times a sampling frequency of the digital filter and provides a delay of one cycle, an adder that adds a signal delayed by the delay means and an input signal, an operation means that halves the output of the adder, and a delay means for bringing an output of the operation means into line with the sampling frequency of the digital filter. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein the digital filter comprises an input shift register that successively samples and shifts outputs of the compensating circuit, plural first means that output a value corresponding to the product of data held at each stage of the register and a predetermined filter coefficient, and plural second means that successively add outputs of the first means and outputs the added value. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein the number of stages of the digital filter is seven. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein the filter coefficients are 5 bits. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, further including an oscillating circuit whose oscillation frequency is controlled by the output of the DA conversion circuit, to subject an input data signal to frequency modulation and output a resulting signal. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The modulation semiconductor integrated circuit according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein, in the case where a 2.4-GHz oscillation signal is used as a carrier frequency signal and outputted after frequency modulation in a range of &plusmn;160 kHz by an input data signal, a sampling frequency of the digital filter is set at approximately 6.5 MHz. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. An electronic system comprising: 
<claim-text>the modulation semiconductor integrated circuit of claim <highlight><bold>1</bold></highlight>; </claim-text>
<claim-text>a wireless transmission means that converts signals to digital data and modulates the digital data for wireless transmission; and </claim-text>
<claim-text>an oscillating circuit that generates a clock signal required for operation of the wireless transmission means, </claim-text>
<claim-text>wherein a clock signal generated derivatively from a clock signal generated by the oscillating circuit is used as a sampling clock of the digital filter. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The electronic system of <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein the wireless transmission means comprises a base band circuit that converts signals to digital data signals suitable for wireless communications, and a high-frequency modulation circuit that modulates digital data signals from the base band circuit to high-frequency signals and outputs the high-frequency signals, wherein a clock signal generated in the oscillating circuit is supplied to the high-frequency modulation circuit and a clock signal whose frequency is halved by the high-frequency modulation circuit is supplied to the base band circuit and the modulation semiconductor integrated circuit.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001174A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001174A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001174A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001174A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001174A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001174A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001174A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001174A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001174A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001174A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001174A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030001174A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030001174A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
