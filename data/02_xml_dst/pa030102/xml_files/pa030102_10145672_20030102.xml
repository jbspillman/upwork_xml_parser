<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004883A1-20030102-D00000.TIF SYSTEM "US20030004883A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00001.TIF SYSTEM "US20030004883A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00002.TIF SYSTEM "US20030004883A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00003.TIF SYSTEM "US20030004883A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00004.TIF SYSTEM "US20030004883A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00005.TIF SYSTEM "US20030004883A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00006.TIF SYSTEM "US20030004883A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00007.TIF SYSTEM "US20030004883A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00008.TIF SYSTEM "US20030004883A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00009.TIF SYSTEM "US20030004883A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00010.TIF SYSTEM "US20030004883A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00011.TIF SYSTEM "US20030004883A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00012.TIF SYSTEM "US20030004883A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00013.TIF SYSTEM "US20030004883A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00014.TIF SYSTEM "US20030004883A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00015.TIF SYSTEM "US20030004883A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00016.TIF SYSTEM "US20030004883A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00017.TIF SYSTEM "US20030004883A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00018.TIF SYSTEM "US20030004883A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00019.TIF SYSTEM "US20030004883A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00020.TIF SYSTEM "US20030004883A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00021.TIF SYSTEM "US20030004883A1-20030102-D00021.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00022.TIF SYSTEM "US20030004883A1-20030102-D00022.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00023.TIF SYSTEM "US20030004883A1-20030102-D00023.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00024.TIF SYSTEM "US20030004883A1-20030102-D00024.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00025.TIF SYSTEM "US20030004883A1-20030102-D00025.TIF" NDATA TIF>
<!ENTITY US20030004883A1-20030102-D00026.TIF SYSTEM "US20030004883A1-20030102-D00026.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004883</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10145672</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020515</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-148454</doc-number>
</priority-application-number>
<filing-date>20010517</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-148455</doc-number>
</priority-application-number>
<filing-date>20010517</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F017/60</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>705</class>
<subclass>051000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Data distribution system, terminal apparatus, distribution center apparatus, high-efficiency encoding method, high-efficiency encoding method, high-efficiency encoding apparatus, encoded data decoding method, encoded data decoding apparatus, data transmission method, data transmission apparatus, sub information attaching method, sub information attaching apparatus, and recording medium</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Tomohiro</given-name>
<family-name>Koyata</family-name>
</name>
<residence>
<residence-non-us>
<city>Tokyo</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Taro</given-name>
<family-name>Konno</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>FROMMER LAWRENCE &amp; HAUG LLP</name-1>
<name-2></name-2>
<address>
<address-1>745 FIFTH AVENUE</address-1>
<city>NEW YORK</city>
<state>NY</state>
<postalcode>10151</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">The present invention is intended to provide a high-efficiency encoding method and apparatus, sub information attaching method and apparatus, an encoded data transmission method and apparatus, and a recording medium for recording encoded data for imbedding sub information into an excess bit portion of encoded data without arranging an area dedicated to the attachment of sub information to encoded data. The present invention is also intended to provide an encoded data decoding method and apparatus for decoding encoded data imbedded with sub information. The present invention is also intended to provide a data distribution system, a terminal apparatus, and a distribution center apparatus for providing a variety of services by identifying destinations to which input digital signals are downloaded by use of at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, and a device information identifier. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates generally to an encoding method of and an encoding apparatus for performing high-efficiency encoding on digital signals such as digital audio data, an encoded data decoding method of and an encoded data decoding apparatus for decoding data encoded by high-efficiency encoding, a transmission method of and a transmission apparatus for transmitting data encoded by high-efficiency encoding, a sub information attaching method of and a sub information attaching apparatus for attaching sub information to data encoded by high-efficiency encoding, a recording medium in which data encoded by high-efficiency encoding are recorded, a data distribution system for distributing data encoded by high-efficiency encoding, and a terminal apparatus for and a distribution center for use in this data distribution system. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Several methods are known for obtaining audio data such as music. One of them is to purchase recording media themselves. These media are phonograph records and CDs (Compact Disks) for example. In another known method, desired audio data in received broadcast programs are recorded on recording media. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Recently, a method based on a server system is also known in which large quantities of audio data (music data (music information)) are stored in on a hard disk for example and customers transfer the music data from the hard disk to their external recording media. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In the above-mentioned server-system based method, each server is installed at the store for example. A customer goes to the store with his own recording medium (external recording medium), pays a predetermined amount of money, and records desired music data from the server system to the recording medium, thereby realizing the purchase of music. The above-mentioned server installed at the store is generally called a kiosk terminal or a content vending machine. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Generally, the music data stored in a server system are compressed in consideration of the storage capacity and transfer capacity for example of the server system. Therefore, the server system is adapted to transfer and record demanded music data to the medium of a customer (purchaser) in a time shorter than the actual play time of that music data. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> For the selection of music data to be purchased, each customer enters the sub information such as the title, player, and play time of the music into the server system in the form of text or image. The server system is adapted to allow each customer to check these entries, so that the customer can simply select desired music data, record the selected music data to his own recording medium, and use the recorded music data as desired. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Generally, the above-mentioned server system is compatible with external recording media of plural types. For example, customers can record music data to a small-size magneto-optical disk such as an MD (MiniDisc) (trademark) and a semiconductor device such as a memory card. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Sometimes, it occurs that the music data recorded to an MD for example from the server system are recorded again to another medium a memory card for example, because of the unavailableness of an MD player for example. In this case, the user may not copy the music data from his own predetermined recording medium to another recording medium of his own due to the problems of copyright or deterioration of tone quality for example. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> If this happens, the customer must newly purchase from the server system the music data which are compatible with another recording medium (or a new recording medium). However, this brings the customer a disadvantage that the same music data must be purchased again while the recording medium in which these music data have been stored is used no longer. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In the case where, with the same recording medium, music data with the compression with enhanced tone quality as compared with the compression at a previous purchase are purchased, the customer has to pay for the music data again. In this case, too, it brings the customer a disadvantage that same music data must be purchased again even if the recording medium in which these music data of lower music quality have been stored is used no longer. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> If, for example, a recording medium is defective and therefore it is necessary to record the same music data to another recording medium, these music data must be purchased from a server system for plural times. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> One of the methods proposed for solving the above-mentioned problems is to record the identification information of the generation source (purchase destination) of music data purchased before and, when purchasing the same music data again from the original purchase destination, the repurchasing of the same music data from the original purchase destination is made free of charge or at a lower cost than that at the initial purchase. However, this method is impracticable because related-art recording media have no area in which to record information about the generation source (purchase destination) of music data. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> Consequently, the applicant hereof disclosed, in a patent application (Japanese Patent Laid-open No. 2001-56469, a method of and apparatus for determining whether or not the generation source of the music data recorded on a recording medium is a predetermined distributor by use of the identity of the encoded data formed by a high-efficiency encoding apparatus. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The above-mentioned disclosed method and apparatus are based on the following points. Namely, the encoded data (binary data) which are high-efficiency encoded by the predetermined high-efficiency encoding apparatus remain unchanged when the encoded data are recorded as they are. However, for the same music data, if high-efficiency encoding apparatuses for encoding the data are different from one another, the encoded data (binary data) formed by high-efficiency encoding completely differ from one another due to the difference between encoding processing timings for example. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> By use of this difference, matching is performed between the high-efficiency encoded data (binary data) to determine whether these data have been encoded by the same encoding apparatus in the same timed relation, thereby making it possible to determine whether the particular encoded data have been provided by a particular music data distributing server system. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> However, in the case of the above-mentioned disclosed method and apparatus, whether or not the music data distributed so as to be recorded to a recording medium of a customer have been provided by a same server system (device) can be surely and easily determined but, if different providers (business entities) distribute music data by use of a same server system (device), the customer of particular music data to be distributed to a recording medium of a purchaser cannot be identified. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> In this case, the term the same server system includes both cases in which two or more providers distribute music data through one server system and two or more different providers distribute music data by use of identical server systems manufactured by one manufacturer. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Consequently, new services such as the movement of music data between recording media and the upgrading of the compression processing of music data cannot be provided by each different provider of the music data. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> The number of providers of music data is expected to increase in the future and therefore it is required to surely and easily determine which provider has distributed particular music data through a server system, thereby making it possible to provide various new services by different providers. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> It is therefore an object of the present invention to provide a data distribution system, a terminal apparatus, and a distribution center apparatus that allow the sure and easy determination of which provider has distributed encoded data such as music data recorded on recorded media, thereby making is possible to provide various new services by different providers which provide digital signals. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> According to a first aspect of the present invention, there is provided a data distribution system including: </paragraph>
<paragraph id="P-0022" lvl="2"><number>&lsqb;0022&rsqb;</number> a distribution center apparatus for dividing digital content data into parts in many bands, converting the divided part of digital content data included in each of the many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and transmitting the encoded data in such a manner as to superimpose, if an excess portion exists in each of the many blocks, a part or all of an identifier for identifying a provider of the digital content data onto the excess portion; and </paragraph>
<paragraph id="P-0023" lvl="2"><number>&lsqb;0023&rsqb;</number> a terminal apparatus connected to the distribution center apparatus through a predetermined communication line, the terminal apparatus including recording means for recording the digital content data provided as the encoded data from the distribution center apparatus to a recording medium loaded in the terminal apparatus, </paragraph>
<paragraph id="P-0024" lvl="2"><number>&lsqb;0024&rsqb;</number> the data distribution system including: </paragraph>
<paragraph id="P-0025" lvl="3"><number>&lsqb;0025&rsqb;</number> reader for sequentially reading the blocked encoded data from the recording medium loaded in the terminal apparatus; </paragraph>
<paragraph id="P-0026" lvl="3"><number>&lsqb;0026&rsqb;</number> first discriminator for discriminating whether each block of the encoded data read by the reader has the excess portion; </paragraph>
<paragraph id="P-0027" lvl="3"><number>&lsqb;0027&rsqb;</number> extractor for extracting data of the excess portion from the each block found as having the excess portion by the first discriminator; </paragraph>
<paragraph id="P-0028" lvl="3"><number>&lsqb;0028&rsqb;</number> demodulator for demodulating the identifier for identifying the provider on the basis of the data extracted by the extractor; </paragraph>
<paragraph id="P-0029" lvl="3"><number>&lsqb;0029&rsqb;</number> second discriminator for discriminating whether the digital content data, which are the encoded data read from the recording medium loaded in the terminal apparatus, are those provided by the distribution center apparatus, which is legitimate, on the basis of the identifier for identifying the provider demodulated by the demodulator; and </paragraph>
<paragraph id="P-0030" lvl="3"><number>&lsqb;0030&rsqb;</number> controller for performing predetermined control processing if the digital content data, which are the encoded data read from the recording medium loaded in the terminal apparatus, are found provided from the legitimate distribution center apparatus. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> According to a second aspect of the present invention, there is provided a terminal apparatus for receiving encoded data, the terminal apparatus including recording means for recording the encoded data in a recording medium loaded in the terminal apparatus, </paragraph>
<paragraph id="P-0032" lvl="2"><number>&lsqb;0032&rsqb;</number> wherein the encoded data have been created by a manner of dividing digital content data into parts in many bands, converting the divided part of the digital content data included in each of the many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and superimposing, if an excess portion exists in each of the many blocks, a part or all of an identifier for identifying a provider of the digital content data onto the excess portion, </paragraph>
<paragraph id="P-0033" lvl="2"><number>&lsqb;0033&rsqb;</number> the terminal apparatus including: </paragraph>
<paragraph id="P-0034" lvl="3"><number>&lsqb;0034&rsqb;</number> reader for sequentially reading the blocked encoded data from the recording medium loaded in the terminal apparatus; </paragraph>
<paragraph id="P-0035" lvl="3"><number>&lsqb;0035&rsqb;</number> discriminator for discriminating whether each block of the encoded data read by the reader has the excess portion; </paragraph>
<paragraph id="P-0036" lvl="3"><number>&lsqb;0036&rsqb;</number> extractor for extracting data of the excess portion from the each block found as having the excess portion by the discriminator; </paragraph>
<paragraph id="P-0037" lvl="3"><number>&lsqb;0037&rsqb;</number> demodulator for demodulating the identifier for identifying the provider on the basis of the data extracted by the extractor; </paragraph>
<paragraph id="P-0038" lvl="3"><number>&lsqb;0038&rsqb;</number> connector for connecting a communication line with a distributor for distributing the digital content data through a predetermined communication network; and </paragraph>
<paragraph id="P-0039" lvl="3"><number>&lsqb;0039&rsqb;</number> controller for controlling reception of new digital content data supplied from the provider through the predetermined communication network on the basis of the identifier for identifying the provider of the digital content data demodulated by the demodulator. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> According to a third aspect of the present invention, there is provided a terminal apparatus including: </paragraph>
<paragraph id="P-0041" lvl="2"><number>&lsqb;0041&rsqb;</number> receiver for receiving digital content data supplied from a predetermined distributor through a predetermined communication network, wherein the digital content data are composed of encoded data having many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and if each of the many blocks has an excess portion, the excess portion is superimposed with a part or all of identifier for identifying a provider of the digital content data; and </paragraph>
<paragraph id="P-0042" lvl="2"><number>&lsqb;0042&rsqb;</number> first recorder for recording the received digital content data in a recording medium loaded in the first recorder, </paragraph>
<paragraph id="P-0043" lvl="2"><number>&lsqb;0043&rsqb;</number> the terminal apparatus including: </paragraph>
<paragraph id="P-0044" lvl="3"><number>&lsqb;0044&rsqb;</number> reader for sequentially reading the blocked encoded data from the recording medium loaded in the first recorder; </paragraph>
<paragraph id="P-0045" lvl="3"><number>&lsqb;0045&rsqb;</number> discriminator for discriminating whether each block of the encoded data read by the reader has the excess portion; </paragraph>
<paragraph id="P-0046" lvl="3"><number>&lsqb;0046&rsqb;</number> extractor for extracting data of the excess portion from the each block found as having the excess portion by the discriminator; </paragraph>
<paragraph id="P-0047" lvl="3"><number>&lsqb;0047&rsqb;</number> demodulator for demodulating the identifier for identifying the provider on the basis of the data extracted by the extractor; </paragraph>
<paragraph id="P-0048" lvl="3"><number>&lsqb;0048&rsqb;</number> transmitter for transmitting the identifier for identifying the provider demodulated by the demodulator to the provider through the predetermined communication network; and </paragraph>
<paragraph id="P-0049" lvl="3"><number>&lsqb;0049&rsqb;</number> controller for controlling for, after transmitting the identifier through the transmitter, controlling each component to perform processing in accordance with control information received by the receiver from the provider. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> According to a fourth aspect of the present invention, there is provided a terminal apparatus including: </paragraph>
<paragraph id="P-0051" lvl="2"><number>&lsqb;0051&rsqb;</number> receiver for receiving digital content data supplied from a predetermined distributor through a predetermined communication network, wherein the digital content data are composed of encoded data having many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and if each of the many blocks has an excess portion, the excess portion is superimposed with a part or all of identifier for identifying a provider of the digital content data; and </paragraph>
<paragraph id="P-0052" lvl="2"><number>&lsqb;0052&rsqb;</number> first recorder for recording the received digital content data in a recording medium loaded in the first recorder, </paragraph>
<paragraph id="P-0053" lvl="2"><number>&lsqb;0053&rsqb;</number> the terminal apparatus including: </paragraph>
<paragraph id="P-0054" lvl="3"><number>&lsqb;0054&rsqb;</number> reader for sequentially reading the blocked encoded data from the recording medium loaded in the first recorder; </paragraph>
<paragraph id="P-0055" lvl="3"><number>&lsqb;0055&rsqb;</number> discriminator for discriminating whether each block of the encoded data read by the reader has the excess portion; </paragraph>
<paragraph id="P-0056" lvl="3"><number>&lsqb;0056&rsqb;</number> extractor for extracting data of the excess portion from the each block found as having the excess portion by the discriminator; </paragraph>
<paragraph id="P-0057" lvl="3"><number>&lsqb;0057&rsqb;</number> demodulator for demodulating the identifier for identifying the provider on the basis of the data extracted by the extractor; </paragraph>
<paragraph id="P-0058" lvl="3"><number>&lsqb;0058&rsqb;</number> comparator for comparing the identifier for identifying the provider demodulated by the demodulator with an identifier for identifying the provider held in the terminal apparatus; and </paragraph>
<paragraph id="P-0059" lvl="3"><number>&lsqb;0059&rsqb;</number> controller for, if a match is found between these identifiers, controlling each component to perform predetermined processing. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> According to a fifth aspect of the present invention, there is provided a distribution center apparatus including: </paragraph>
<paragraph id="P-0061" lvl="2"><number>&lsqb;0061&rsqb;</number> first memory for storing encoded data, the encoded data having been created by a manner of dividing digital content data into parts in many bands, converting the divided part of the digital content data included in each of the many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and superimposing, if an excess portion exists in each of the many blocks, a part or all of an identifier for identifying a provider of the digital content data onto the excess portion; </paragraph>
<paragraph id="P-0062" lvl="2"><number>&lsqb;0062&rsqb;</number> transmitter for transmitting, to a predetermined terminal apparatus, desired digital content selected from a plurality of digital content data stored in the first memory as encoded data; </paragraph>
<paragraph id="P-0063" lvl="2"><number>&lsqb;0063&rsqb;</number> second memory for storing an identifier for identifying the provider of the distribution center apparatus; </paragraph>
<paragraph id="P-0064" lvl="2"><number>&lsqb;0064&rsqb;</number> receiver for receiving an identifier for identifying a distributor supplied from the predetermined terminal apparatus; </paragraph>
<paragraph id="P-0065" lvl="2"><number>&lsqb;0065&rsqb;</number> comparator for comparing the identifier for identifying the distributor supplied from the receiver with the identifier for identifying the provider of the distribution center apparatus stored in the second memory; and </paragraph>
<paragraph id="P-0066" lvl="2"><number>&lsqb;0066&rsqb;</number> permitter for, if a match is found by the comparator, permitting transmission of the desired predetermined digital content from the transmitter. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> According to a sixth aspect of the present invention, there is provided a high-efficiency encoding apparatus for dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on the divided part of the input digital signal included in each of the plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, including: </paragraph>
<paragraph id="P-0068" lvl="2"><number>&lsqb;0068&rsqb;</number> discriminator for discriminating each of the many blocks for an excess portion equivalent to a difference between the predetermined length and a total value of the bit distribution information, the normalize data and the quantized data; </paragraph>
<paragraph id="P-0069" lvl="2"><number>&lsqb;0069&rsqb;</number> sub information generator for generating sub information; and </paragraph>
<paragraph id="P-0070" lvl="2"><number>&lsqb;0070&rsqb;</number> mixer for superimposing a part or all of the generated sub information onto the excess portion of each block found by the discriminator having the excess portion. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> According to a seventh aspect of the present invention, there is provided an encoded data transmission apparatus for dividing an input digital signal into parts in a plurality of bands, performing predetermined conversion on the divided part of the input digital signal included in each of the plurality of bands to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and transmitting the formed encoded data, </paragraph>
<paragraph id="P-0072" lvl="2"><number>&lsqb;0072&rsqb;</number> the transmission apparatus including: </paragraph>
<paragraph id="P-0073" lvl="3"><number>&lsqb;0073&rsqb;</number> discriminator for discriminating each of the many blocks for an excess portion equivalent to a difference between the predetermined length and a total value of the bit distribution information, the normalize data and the quantized data; </paragraph>
<paragraph id="P-0074" lvl="3"><number>&lsqb;0074&rsqb;</number> sub information generator for generating sub information; </paragraph>
<paragraph id="P-0075" lvl="3"><number>&lsqb;0075&rsqb;</number> mixer for superimposing a part or all of the generated sub information onto the excess portion of each block found by the discriminator having the excess portion; and </paragraph>
<paragraph id="P-0076" lvl="3"><number>&lsqb;0076&rsqb;</number> transmitter for sequentially transmitting the encoded data superimposed of the sub information. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> According to an eighth aspect of the present invention, there is provided a sub information attaching apparatus for receiving encoded data, the encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on the divided part of the input digital signal included in each of the plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and attaching additional data to the received encoded data, </paragraph>
<paragraph id="P-0078" lvl="2"><number>&lsqb;0078&rsqb;</number> the attaching apparatus including: </paragraph>
<paragraph id="P-0079" lvl="3"><number>&lsqb;0079&rsqb;</number> discriminator for discriminating each of the many blocks for an excess portion equivalent to a difference between the predetermined length and a total value of the bit distribution information, the normalize data and the quantized data; </paragraph>
<paragraph id="P-0080" lvl="3"><number>&lsqb;0080&rsqb;</number> sub information generator for generating sub information; and </paragraph>
<paragraph id="P-0081" lvl="3"><number>&lsqb;0081&rsqb;</number> mixer for superimposing a part or all of the generated sub information onto the excess portion of each block found as having the excess portion by the discriminator. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> According to a ninth aspect of the present invention, there is provided a recording medium for recording encoded data, the encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on the divided part of the input digital signal included in each of the plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, </paragraph>
<paragraph id="P-0083" lvl="2"><number>&lsqb;0083&rsqb;</number> wherein for each of the blocks in which there occurs an excess portion equivalent to a difference between the predetermined length and a total value of the bit distribution information, the normalize data and the quantized data, a part or all of the generated sub information is superimposed onto the excess portion.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> These and other objects of the invention will be seen by reference to the description, taken in connection with the accompanying drawing, in which: </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram illustrating the outline of a music distribution system and a main server according to the invention; </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram illustrating the outline of a music server system according to the invention; </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram illustrating an exemplary digital audio data high-efficiency encoding apparatus; </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4A</cross-reference> illustrates a relationship between orthogonal transform block (long mode) length and frequency band in bit compression; </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4B</cross-reference> illustrates a relationship between orthogonal transform block (short mode) length and frequency band in bit compression; </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4C</cross-reference> illustrates a relationship between orthogonal transform block (middle mode A) length and frequency band in bit compression; </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4D</cross-reference> illustrates a relationship between orthogonal transform block (middle mode B) length and frequency band in bit compression; </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> illustrates a high-efficiency encoding format; </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> illustrates the details of the data at the first byte shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>; </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a block diagram illustrating an exemplary high-efficiency encoding decoder for decoding digital audio data encoded by the high-efficiency encoding apparatus shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8A</cross-reference> shows an equation for obtaining the total number of bits SPsum to be used for spectrum data; </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8B</cross-reference> shows an equation for obtaining the actual number of bits for use in encoding; </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8C</cross-reference> shows an equation for obtaining encoding unused bit REM; </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> illustrates a portion of generating encoding unused bits (a fractional portion) which are generated in encoded data formed by the high-efficiency encoding apparatus shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a block diagram illustrating a configuration of an encoder of the main server shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> illustrates a status of adding sub information to the encoding unused bits (a fractional portion) of the encoded data encoded in the encoder shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>; </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a flowchart describing the processing of adding sub information to the encoded data encoded in the encoder shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>; </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram illustrating a specific exemplary configuration of the main server shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram illustrating a specific exemplary configuration of a music server system according to the invention shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> illustrates an information relationship control table in the main server or the music server system shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>; </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart describing the processing to be executed at the time of music data movement between recording media in the music server system shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>; </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a flowchart describing the processing to be executed at the time of music data movement between recording media in the main server shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>; </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> illustrates control information (control codes) for use when there are three encoding unused bits; </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a flowchart describing the processing to be executed when control information and sub information are written to the encoding unused bits of encoded data; </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a block diagram illustrating the processes in an encoder of the main server shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>; </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a flowchart describing the processing of adding sub information to the encoded data encoded in the encoder shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>; </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is a block diagram illustrating the outline of other exemplary music distribution system and main server according to the invention; </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is a block diagram illustrating the outline of another exemplary music server system according to the invention; </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is a flowchart describing the processing to be executed at the time of music data movement between recording media in the music distribution system shown in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>; </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> illustrates data flows at the time of music data movement between recording media as a service which becomes newly providable; </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> illustrates data flows at the time of using a music data encoding computation upgrading processing service which becomes newly providable; </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> illustrates data flows at the time of using a partially destroyed music data writing retry service which becomes newly providable; </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> illustrates data flows at the time of using a music data bit rate change service which becomes newly providable; and </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> illustrates data flows at the time of using a music data adding service which becomes newly providable.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> This invention will be described in further detail by way of example with reference to the accompanying drawings. In what follows, the description of the embodiments of the invention will be made by use of examples in which the present invention is applied to the corresponding portions of a music distribution system for distributing (or delivering) music data as digital content. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> First Embodiment: </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> Outline of Music Distribution System: </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> First, a music distribution system practiced as a first embodiment of the invention will be outlined. Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, there is shown a block diagram illustrating the outlines of the music distribution system practiced as the first embodiment of the invention and the outline of the configuration of each main server. <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram illustrating the outline of the configuration of each music server system of the first embodiment. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> The music distribution system according to the first embodiment includes a plurality of main servers (or information centers) <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on and a plurality of music server systems (or terminals) <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) (Z being a positive integer) which are interconnected through a communication network as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on owns the rights such as music data distributorship and provides a server system of a so-called legitimate dealer (or distributor) who sells music data. Each main server provides music data to the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on via a communication network and instructs these music server systems to delete obsolete or unpopular music data stored therein. Namely, each main server can manage many music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> The basic configuration of each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on, managed by a different business entity for example, is that of the server system <highlight><bold>10</bold></highlight> (<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. In order to distribute music data to the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on compresses an audio PCM (Pulse Code Modulation) signal, which is source data, by high-efficiency encoding through the encoder <highlight><bold>11</bold></highlight> and stores the resultant compressed music data (or encoded data) into a hard disk <highlight><bold>12</bold></highlight>, which is an incorporated mass storage memory. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> A controller <highlight><bold>13</bold></highlight> reads necessary music data from the hard disk <highlight><bold>12</bold></highlight> in each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on and sends the retrieved music data to a corresponding music server system managed by the above-mentioned main server among many music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on through a communicator <highlight><bold>14</bold></highlight>, thereby executing music data provision. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> By sending a control signal formed by the controller <highlight><bold>13</bold></highlight> to the music server system managed by the above-mentioned main server through the communicator <highlight><bold>14</bold></highlight>, the controller can control that music server system. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> Each of the main servers <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) is installed at the store for example as will also be described and has a mass storage recording medium such as a hard disk which stores music data supplied from a predetermined main server among many main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> Then, under the condition that the user (or customer) accept the fee charging, each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on reads the music data requested by the user from the mass storage recording medium and records the music data into a user&apos;s external recording medium such as MD or memory card, thereby achieving the music data distribution to the user. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> In the first embodiment, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on attaches as sub information a business entity identifier at least capable of identifying the music data providing business entity to the music data compressed by high-efficiency encoding as described above and provides the music data attached with the sub information to the requesting music server system. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> In this case, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), and so on attaches the sub information to the music data by use of the fact that the music data are high-efficiency encoded data, which will be detailed later, without newly arranging a particular area for attaching sub information in the compressed music data (encoded music data). </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> Then, in order to permit the movement of the music data from a particular recording medium of the user to another recording medium or the replacement of the music data recorded to a user&apos;s recording medium by the music data compressed by an upgraded high-efficiency encoding algorithm through the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z), when a user&apos;s external recording medium recorded with the target music data is carried in to any one of the music server systems, each of the music server systems extracts the business entity identifier, which is the sub information attached to the target music data. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> The above-mentioned upgrading denotes the enhancement in the performance of high-efficiency encoding software and/or the enhancement in tone quality. </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> The music server system sends the extracted sub information to the main server which provides music data to this main server and the main server determines whether or not the music data stored in the user&apos;s external recording medium loaded in this music server system are those provided by this main server. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> If the music data stored in the user&apos;s external recording medium loaded in the music server system are found those provided by this main server, then this main server controls the music server system in which the external recording medium is loaded, thereby providing new services such as moving the music data between recording media and replacing the music data stored in the user&apos;s external recording medium by the upgraded music data for example free of charge or at low cost. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> In the music distribution system according to the first embodiment, the music data stored in a user&apos;s external recording medium through a music server system provided by the main server of another business entity and the music data stored in a user&apos;s external recording medium through a music server system provided by the own main server are surely and clearly distinguished therebetween. Only the music data provided by the own main server are subject to new services such as the movement between recording media and the upgrading of music data for example. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> The following describes the above-mentioned extraction of sub information and the above-mentioned distinction between the music data provided by the main server of another business entity and the main server of the own business entity by use of information transfer between the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) and the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) for example. As shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) includes a reader <highlight><bold>1</bold></highlight>, recorder <highlight><bold>2</bold></highlight>, an identifier extractor <highlight><bold>3</bold></highlight>, an identifier transmitter <highlight><bold>4</bold></highlight>, and a receiver <highlight><bold>5</bold></highlight>. Through the reader <highlight><bold>1</bold></highlight>, the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) reads the target music data from an external recording medium <highlight><bold>1</bold></highlight>X loaded by a user and supplies the target music data to the identifier extractor <highlight><bold>3</bold></highlight>. </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> The identifier extractor <highlight><bold>3</bold></highlight> extracts a business entity identifier which is sub information attached to the supplied music data and capable of identifying the business entity which is the provider of these music data. The business entity identifier extracted by the identifier extractor <highlight><bold>3</bold></highlight> is sent to the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) which is the main server for that music server system, through the identifier transmitter <highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> The main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) receives a business entity identifier code and a service provision request such as a request for the movement of music data between recording media from the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) through the communicator <highlight><bold>14</bold></highlight>. The received business entity identifier is supplied to a comparator <highlight><bold>15</bold></highlight> to be compared with the own business entity identifier stored in a business entity identifier memory <highlight><bold>16</bold></highlight>. The comparison result obtained in the comparator <highlight><bold>15</bold></highlight> is sent to the controller <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> If the comparison result from the comparator <highlight><bold>15</bold></highlight> indicates a match between the identifiers and the target music data recorded in the external recording medium <highlight><bold>1</bold></highlight>X loaded in the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) are those supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), then the controller <highlight><bold>13</bold></highlight> reads the target music data from the hard disk <highlight><bold>12</bold></highlight> in which various high-efficiency encoded music data are stored and sends the target music data to the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) which is the source of the business entity identifier, through the communicator <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> At this moment, the music data (content) supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) are received by the receiver <highlight><bold>5</bold></highlight> of the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) which is the transmission source of the business entity identifier, as shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> to be recorded to the recording medium <highlight><bold>1</bold></highlight>X or another recording medium through the recorder <highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> It should be noted that, in the case of the movement of music data between recording media, the music data recorded in the recording medium <highlight><bold>1</bold></highlight>X are deleted by the operation of the recorder <highlight><bold>2</bold></highlight> for example. In the case of the version upgrading of music data, the newly provided music data are written over the target music data stored in the external recording medium <highlight><bold>1</bold></highlight>X. Namely, in either case, the original music data recorded in the external recording medium <highlight><bold>1</bold></highlight>X are deleted so as to be unavailable any further. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> As described above, if fee charging is performed in the case of the movement of music data between recording media or the version upgrading of music data, a fee charging process is executed by a fee charger <highlight><bold>17</bold></highlight> on the main server side in the case of the music distribution system shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> To be more specific, if there is a match between the business entity identifiers in the comparison therebetween and music data are newly provided, an amount of fee for the new music data is computed by the fee charger <highlight><bold>17</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), the computed amount fee is sent to the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), the payment by the user is accepted through the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) or, if the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) has the information which can identify users, the amount of fee is added up as account receivable, which will be billed later to receive the payment or settled through credit card or bank account. Namely, the actual fee charging process (settlement process) is managed by the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> It should be noted that, in the description of the outline of the music distributing system according to the first embodiment, if a match is found between the business entity identifiers, the music data which are target content data are provided from the main server to the music server system; it will be apparent that the main server may control the music server system to provide the music data from the mass storage memory device of the music server system. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> It should also be noted that each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on can provide music data to customers through a dedicated music server system connectable only to the music server systems belonging to a group managed by each main server or through music server systems installed at various locations and shared by two or more business entities. </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> Accordingly, each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) may be configured to receive the provision of music data only from a particular main server or receive the provision of music data from the main server systems of two or more business entities. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> However, in what follows, for the brevity of description, it is assumed that each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(z) receive music data only from a predetermined particular main server and be controlled thereby. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> High-Efficiency Encoding of Digital Audio Data: </paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> The following describes a specific example of the high-efficiency encoding used in the encoder <highlight><bold>11</bold></highlight> of each of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The following also describes, on the basis of this specific example, the processing of attaching sub information to the encoded data (compressed music data) obtained by high-efficiency encoding. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> It should be noted that the high-efficiency encoding based on ATRAC (Adaptive Transform Acoustic Coding) for use in digital audio data recorded on the MD widely used for music recording is used for example herein. </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram illustrating an exemplary high-efficiency encoding apparatus for performing the high-efficiency encoding based on ATRAC on digital audio data. A high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is installed in the encoder <highlight><bold>11</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> The high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> divides an input digital audio signal into plural frequency bands, performs orthogonal transform on each of the frequency bands, and, for the low frequency range, encodes the obtained frequency axis spectrum data by adaptive bit allocation for each so-called critical band considering the human auditory characteristics to be described later, and encodes the obtained frequency axis spectrum data by adaptive bit allocation for each of the bands obtained by dividing the critical band by considering block floating efficiency for middle and high frequency ranges. </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> Normally, a block on which this bit allocation is performed becomes a quantization noise generating block. Further, in the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> of the present embodiment, the block size (block length) subject to the bit allocation is adaptively varied in accordance with an input signal before orthogonal transform. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> To be more specific, referring to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, digital audio data (an audio PCM signal) of 0 to 22 KHz is supplied to an input terminal <highlight><bold>100</bold></highlight> when the sampling frequency is 44.1 KHz for example. This input signal is split by a band split filter <highlight><bold>101</bold></highlight> such as QMF (Quadrature Mirror Filter) for example into signals having 0 to 11 KHz band and 11 to 22 KHz band, the signal having 0 to 11 KHz is further split by a band split filter <highlight><bold>102</bold></highlight> such as QMF into signals having 0 to 5.5 KHz band and 5.5 to 11 KHz band. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> The signal of 11 to 22 KHz band obtained by the band split filter <highlight><bold>101</bold></highlight> is supplied to an MDCT (Modified Discrete Cosine Transform) circuit <highlight><bold>103</bold></highlight> which is an exemplary orthogonal transform circuit, and, at the same time, to block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight>. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> The signal of 5.5 to 11 KHz band from the band split filter <highlight><bold>102</bold></highlight> is supplied to the MDCT circuit <highlight><bold>104</bold></highlight> and, at the same time, to the block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight>. The signal of 0 to 5.5 KHz band from the band split filter <highlight><bold>102</bold></highlight> is supplied to the MDCT circuit <highlight><bold>105</bold></highlight> and, at the same time, to the block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight>. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> On the basis of the supplied signals, the block discriminator <highlight><bold>109</bold></highlight> determines a block size and supplies the information representative of the determined block size to the MDCT circuit <highlight><bold>103</bold></highlight>, an adaptive bit allocation encoder <highlight><bold>106</bold></highlight>, a bit allocation calculator <highlight><bold>118</bold></highlight>, and an output terminal <highlight><bold>113</bold></highlight>. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> Likewise, on the basis of the supplied signals, the block discriminator <highlight><bold>110</bold></highlight> determines a block size and supplies the information representative of the determined block size to an MDCT circuit <highlight><bold>104</bold></highlight>, an adaptive bit allocation encoder <highlight><bold>107</bold></highlight>, the bit allocation calculator <highlight><bold>118</bold></highlight>, and an output terminal <highlight><bold>115</bold></highlight>. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> On the supplied signals, the block discriminator <highlight><bold>111</bold></highlight> determines a block size and supplies the information indicative of the determined block size to an MDCT circuit <highlight><bold>105</bold></highlight>, an adaptive bit allocation encoder <highlight><bold>108</bold></highlight>, the bit allocation calculator <highlight><bold>118</bold></highlight>, and an output terminal <highlight><bold>117</bold></highlight>. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> Each of the block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight> sets a block size (block length) in accordance with the time characteristic and frequency distribution of the supplied signals. Also, each of the MDCT circuits <highlight><bold>103</bold></highlight>, <highlight><bold>104</bold></highlight>, and <highlight><bold>105</bold></highlight> performs MDCT processing on the signal supplied from the QMF <highlight><bold>101</bold></highlight> or the QMF <highlight><bold>102</bold></highlight> under the block size supplied from each of the block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight>. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4A through 4D</cross-reference> show the specific examples of the standard input signals for the blocks of the above-mentioned bands to be supplied to the MDCT circuits <highlight><bold>103</bold></highlight>, <highlight><bold>104</bold></highlight>, and <highlight><bold>105</bold></highlight>. In these examples, the three filter output signals, namely the signal of 11 to 22 KHz band from the QMF <highlight><bold>101</bold></highlight> and the signal of 5.5 to 11 KHz band and the signal of 0 to 5.5 KHz band from the QMF <highlight><bold>102</bold></highlight> have plural orthogonal transform block sizes independent of each band, their time resolutions being switched by signal time characteristic and frequency distribution for example. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> Namely, if the signal subject to orthogonal transform is a quasi-steady signal which does not present a drastic variation in time, the orthogonal transform block size is set to a large level of 11.6 ms, or the long mode shown in <cross-reference target="DRAWINGS">FIG. 4A</cross-reference>. If this signal is a non-steady signal which drastically varies in time, the orthogonal transform block size is further divided by 2 or 4. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> Therefore, if the signal is a non-steady signal, as with the short mode shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>B, all orthogonal transform block sizes are divided by 4 to 2.9 ms or, as with the middle mode A shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>C and the middle mode B shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>D, some block sizes are divided by 2 into a time resolution of 5.8 ms and others by 4 into a time resolution of 2.8 ms, thereby providing adaptation to actual complicated input signals. If the scale of the processor concerned permits, this orthogonal block size division may be further divided for more effective processing. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the spectrum data on frequency axis or MDCT coefficient data obtained by MDCT processing in each of the MDCT circuits <highlight><bold>103</bold></highlight>, <highlight><bold>104</bold></highlight>, and <highlight><bold>105</bold></highlight> are supplied to the adaptive bit allocation encoders <highlight><bold>106</bold></highlight>, <highlight><bold>107</bold></highlight>, and <highlight><bold>108</bold></highlight> and the bit allocation calculator <highlight><bold>118</bold></highlight> with the low range put together for each critical band and with the middle and high frequency ranges considered with the effectiveness of block floating. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> The critical band as used herein denotes a frequency band obtained by dividing a band by considering the human auditory characteristics; to be more specific, the critical band is a band of a noise given at the time when a pure tone is masked by a narrow-band noise having the same intensity as the pure tone in the frequency proximity thereof. This critical band becomes wider toward the high frequency range and the overall frequency band of 0 to 22 KHz is divided into 25 critical bands for example. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, by considering a so-called masking effect for example on the basis of the information indicative of block size and the spectrum data or MDCT coefficient data, the bit allocation calculator <highlight><bold>118</bold></highlight> calculates a masking quantity for each divided band with the above-mentioned critical band and block floating considered and an energy and a peak value for example for each divided band. On the basis of the obtained values, the bit allocation calculator <highlight><bold>118</bold></highlight> obtains the number of allocation bits for each band and supplies the obtained values to the adaptive bit allocation encoders <highlight><bold>106</bold></highlight>, <highlight><bold>107</bold></highlight>, and <highlight><bold>108</bold></highlight>. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> The adaptive bit allocation encoders <highlight><bold>106</bold></highlight>, <highlight><bold>107</bold></highlight>, and <highlight><bold>108</bold></highlight> re-quantize (normalize and then quantize) the spectrum data or MDCT coefficient data in accordance with the number of bits allocated for each divided band with the information indicative of block size and the critical band and the block floating considered. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> The resultant encoded data (or quantized data) are outputted through the output terminals <highlight><bold>112</bold></highlight>, <highlight><bold>114</bold></highlight>, and <highlight><bold>116</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> to be supplied to a processing system for recording the data to a recording medium and a processing system for transmitting digital audio data from the main server <highlight><bold>10</bold></highlight> to the music server system <highlight><bold>30</bold></highlight> for example. It should be noted that, in what follows, each divided band with critical band and block floating considered providing a unit of bit allocation is referred to as a unit block. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> analyzes the status of tone component for example on the basis of spectrum data or MDCT coefficient data and calculates a bit allocation quantity for each unit block by considering a so-called masking effect and existing effects such as the lowest audible curve and equal loudness curve associated with human auditory sense, thereby determining information distribution. At this time, the above-mentioned information indicative of block size is also considered. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> The bit allocation calculator <highlight><bold>118</bold></highlight> also determines a scale factor value which is the normalized data indicative of the status of block floating of unit block. To be more specific, several positive values are prepared as scale factor value candidates for example and the value which is the lowest among those higher than the maximum value of the absolute value of the spectrum data or MDCT coefficient data is selected from those candidates as the scale factor value of that unit block. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> The scale factor values are numbered by use of several bits in correspondence with actual values and these numbers may be stored in a ROM (Read Only Memory) for example, not shown. The scale factor values corresponding to the numbers are specified beforehand so that they have values at the intervals of 2 dB for example. For a scale factor value determined by the above-mentioned method in a certain unit block, the number corresponding to the determined value is used as sub information indicative of the scale factor of that unit block. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> High-Efficiency Encoding Format of Digital Audio Data: </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> The following describes an encoding format which is the format of actually encoded digital audio data with reference to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. Referring to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the values shown on the left side and the right side represent the number of bytes. In the present embodiment, 212 bytes constitute one frame (one sound frame). </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the block size information for each band determined by the block discriminators <highlight><bold>109</bold></highlight>, <highlight><bold>110</bold></highlight>, and <highlight><bold>111</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is recorded to the position of byte <highlight><bold>0</bold></highlight>. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> At the position of byte <highlight><bold>1</bold></highlight>, the information about the number of unit blocks to be recorded is recorded. This recording is made because, as the high frequency range is reached, bit allocation becomes 0 due to the series of bit allocation calculators for example, thereby often making the recording unnecessary; therefore, the number of recorded unit blocks is set accordingly to distribute many bits in the medium to low frequency ranges in which the effects of human auditory sense is significant. </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> The position of byte <highlight><bold>1</bold></highlight> is also recorded with the number of unit blocks in which bit allocation information is duplicatively written and the number of unit blocks in which scale factor information is duplicatively written. The duplicate writing records the same data as the data recorded at a certain byte position to another position for error correction. As the duplicate writing information increases, the resistance to error increases; as the duplicate writing information decreases, the number of bits usable for spectrum data which are actual digital audio data increases. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> In the present embodiment, the resistance to error and the number of bits usable for spectrum data are adjusted by setting the number of duplicatively written unit blocks independently for the above-mentioned bit allocation information and scale factor information. It should be noted that, for each information, the correspondence between each code in specified bits and the number of unit blocks is predetermined as a format. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> shows one example of the contents of the information recorded in the 8 bits at the position of byte <highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. As shown in <cross-reference target="DRAWINGS">FIG. 6, </cross-reference>3 bits of the 8 bits at the position of byte <highlight><bold>1</bold></highlight> provide the information about the number of unit blocks to be actually recorded, 2 bits of the remaining 5 bits provide the information about the number of unit blocks in which bit allocation information is duplicatively written, and the remaining 3 bits provide the information about the number of bits in which scale factor information is duplicatively written. </paragraph>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> At the position of byte <highlight><bold>2</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, unit block bit allocation information is recorded. For the recording of bit allocation information, a format is specified beforehand in which 4 bits for example are used for one unit block. Consequently, the pieces of bit allocation information for the number of unit blocks to be actually recorded as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> are sequentially recorded starting with the unit block at the position of byte <highlight><bold>0</bold></highlight>. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> The data of the bit allocation information recorded as described above are followed by unit block scale factor information. For the recording of scale factor information, a format is specified beforehand in which 6 bits for example are used for one unit block. Consequently, as with the recording of bit allocation information, the pieces of scale factor information for the number of unit blocks to be actually recorded are sequentially recorded starting with the unit block at the position of byte <highlight><bold>0</bold></highlight>. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> The sale factor information is followed by unit block spectrum data (or quantization data). The spectrum data are also sequentially recorded for the number of unit blocks to be actually recorded, starting with the unit block at the position of byte <highlight><bold>0</bold></highlight>. How many pieces of spectrum data are given for each unit block is predetermined in the format, so that the data correspondence can be provided by the above-mentioned bit allocation information. It should be noted that any unit blocks for which no bit is allocated are not recorded. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> The spectrum information is followed by the above-mentioned duplicate writing of scale factor information and duplicate writing of bit allocation information. The recording of these information is performed in generally the same method as the above-mentioned recording of scale factor and bit allocation information except that the number of unit blocks is related to the duplicate writing information shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> For the last 2 bytes, the information at byte <highlight><bold>0</bold></highlight> and the information at byte <highlight><bold>1</bold></highlight> are duplicatively written respectively as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. The duplicate writing for these 2 bytes is specified as format beforehand, so that the quantity of duplicate writing is not variable unlike the duplicate writing of scale factor information and bit allocation information. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> Namely, in the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, as main data, the data obtained by processing orthogonal transform output spectrum by sub information are obtained and, sub information, a scale factor indicative of the status of block floating and a word length are obtained. On the basis of these information, re-quantization is actually performed in the adaptive bit allocation encoders <highlight><bold>106</bold></highlight>, <highlight><bold>107</bold></highlight>, and <highlight><bold>108</bold></highlight> to perform encoding in accordance with the encoding format. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> In the present embodiment, high-efficiency encoded digital data are provided to each music server system in the encoded format described above with reference to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, stored in the music server system, and, on demand by user, recorded to a user&apos;s external recording medium such as MD. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> Decoding of High-Efficiency Encoded Digital Audio Data: </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> The following describes the decoding of the digital audio data which are high-efficiency encoded as described above. <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a block diagram illustrating a decoder for decoding the digital audio data encoded by the above-mentioned high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> described with reference to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. This decoder is installed on the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) and high-efficiency encoded data reproducing apparatuses such as MD players for example. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> The quantized MDCT coefficient for each band, namely the data (spectrum data) equivalent to the output signals from the output terminals <highlight><bold>112</bold></highlight>, <highlight><bold>114</bold></highlight>, and <highlight><bold>116</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are supplied to the adaptive bit allocation decoder <highlight><bold>706</bold></highlight> via a decoder input terminal <highlight><bold>707</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. The used block size information, namely the data equivalent to the output signals from the output terminals <highlight><bold>113</bold></highlight>, <highlight><bold>115</bold></highlight>, and <highlight><bold>117</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are supplied to inverse modified discrete cosine transform (IMDCT) circuits <highlight><bold>703</bold></highlight>, <highlight><bold>704</bold></highlight>, and <highlight><bold>705</bold></highlight> via an input terminal <highlight><bold>708</bold></highlight>. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> The adaptive bit allocation decoder <highlight><bold>706</bold></highlight> clears the bit allocation of the supplied spectrum data by use of adaptive bit allocation information and supplies the resultant data to the IMDCT circuits <highlight><bold>703</bold></highlight>, <highlight><bold>704</bold></highlight>, and <highlight><bold>705</bold></highlight> to which the spectrum data of high, middle, and low frequency bands correspond. The IMDCT circuits <highlight><bold>703</bold></highlight>, <highlight><bold>704</bold></highlight>, and <highlight><bold>705</bold></highlight> perform inverse orthogonal transform on the spectrum data which are a signal on frequency axis, thereby obtaining a signal on time axis. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> The time axis signal of each band is supplied to inverse quadrature mirror filters (IQMFs) <highlight><bold>702</bold></highlight> and <highlight><bold>701</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. These filters synthesize the supplied time axis signals to decode the signals into digital audio data of all-band signal. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> As described, the high-efficiency encoded digital audio data undergo the steps of bit allocation decoding, IMDCT, and band synthesis to be decoded into the original digital audio data as they were before high-efficiency encoding. Then, the decoded audio data are reproduced for sounding. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> Also, in an MD recording/reproducing apparatus which uses an MD as a recording medium, the high-efficiency encoding of audio data and the decoding of high-efficiency encoded audio data are performed in generally the same manner as described above. </paragraph>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> Specific Method of Attaching Sub Information to Encoded Data: </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> The following describes a specific method of attaching sub information such as business entity identification code to music data which are encoded data having the format shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> by means of the high-efficiency encoding based on ATRAC. This method has been realized by use of the fact that encoded data become the data having the predetermined format shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> As described with reference to <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the size of data for one frame which provides the minimum unit of encoded data is 212 bytes or 1696 bits. Depending on frames, bits which are not used in actually encoding and decoding may occur (these bits are referred to as encoding unused bits). These encoding unused bits are embedded in the sub information. </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> First, a process in which encoding unused bits are generated will be described by use of an example in which bit allocation information and scale factor information are not duplicatively written. Portions which are regularly generated in encoding include block size mode information (byte <highlight><bold>0</bold></highlight>) in one frame of encoded data, the number of recorded unit blocks and duplicate writing information (byte <highlight><bold>1</bold></highlight>), and information about the duplicate writing of these information (byte <highlight><bold>210</bold></highlight> and byte <highlight><bold>211</bold></highlight>). A total of 4 bytes or 32 bits, namely byte <highlight><bold>0</bold></highlight>, byte <highlight><bold>1</bold></highlight>, byte <highlight><bold>210</bold></highlight>, and byte <highlight><bold>211</bold></highlight>, are always used. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> As described, the information shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is recorded to byte <highlight><bold>1</bold></highlight> of one frame of encoded data shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. It is assumed here that the number of unit blocks indicated by the recorded information be M. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> At this moment, the number of bits for use in bit allocation information is 4&times;M because the number of bits for use in one unit block is 4. It should be noted that symbol &ldquo;&times;&rdquo; as used herein denotes the notation of multiplication. Likewise, the number of bits for use in scale factor information is 6&times;M because the number of bits for use in one unit block is 6. </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> The number of bits for use in spectrum data is obtained as follows. Let the number of spectrum data of k-th unit block be SPk and the bit allocation count of k-th unit block be WLk, then a total number of bits SPsum for use in spectrum data is obtained from equation (1) shown on <cross-reference target="DRAWINGS">FIG. 8A</cross-reference>. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> If audio PCM data for one sound frame are encoded and let the actual number of bits for use in encoding be Bsum, then Bsum is obtained from equation (2) shown in <cross-reference target="DRAWINGS">FIG. 8B</cross-reference> on the basis the number of bits necessary for each of the above-mentioned information. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> The number of unit blocks M and the bit allocation count WLk of k-th unit block are calculated for each frame. The number of spectrum data SPk of k-th unit block depends on the number of each unit block. Therefore, the actual number of bits Bsum for use in encoding does not always match 1696 bits, the size of one frame. The remainder generated at this time becomes an encoding unused bit. Let the remainder be REM, then encoding unused bit REM is obtained from equation (3) shown in <cross-reference target="DRAWINGS">FIG. 8C</cross-reference>. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows how encoding unused bit REM exists in one frame of encoded data. As shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, encoding unused bit REM occurs in the last portion of an area to which spectrum data are recorded. </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> Generally, bits are allocated to unit blocks as far as possible by the bit allocation calculator <highlight><bold>118</bold></highlight> in the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, so that the value of encoding unused bit REM often becomes less than the minimum value of the number of spectrum data SPk of k-th unit block shown in a format. Hence, if the number of spectrum data SPk of unit block is not more than the minimum value of 8, then it is highly probable for encoding unused bit REM to appear in the last portion of byte <highlight><bold>209</bold></highlight> of one frame of encoded data as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> If an encoding unused bit REM occurs in a frame, sub information such as business entity identifier (business entity code) is embedded in the portion of the occurrence. Thus, sub information is attached to the unused portion (or remaining bits) in an area allocated to the original format without arranging a new area for the attachment in encoded data, so that sub information can be attached to encoded data without changing the absolute quantity of the encoded data. </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> Further, as described above, the attachment of sub information to encoded data is performed immediately after high-efficiency encoding on the side of the main server <highlight><bold>10</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows the attachment of sub information to encoded data by the sub information writer <highlight><bold>130</bold></highlight>. </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> is that shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. The sub information writer <highlight><bold>130</bold></highlight> is arranged as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> at the rear stage of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight>. Namely, in the present first embodiment, the configuration of the encoder <highlight><bold>11</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> As described with reference to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the data outputted from the output terminals <highlight><bold>112</bold></highlight> through <highlight><bold>117</bold></highlight> of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> provide one frame of information shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> to be supplied to the sub information writer <highlight><bold>130</bold></highlight>. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> The bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> having the configuration shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> performs calculations in accordance with the equations shown in <cross-reference target="DRAWINGS">FIGS. 8A, 8B</cross-reference>, and <highlight><bold>8</bold></highlight>C by use of various information supplied to the bit allocation calculator <highlight><bold>118</bold></highlight> to detect an encoding unused bit REM in each frame of the encoded data. The information indicative of the detected encoding unused bit REM is outputted from an output terminal <highlight><bold>119</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> to be supplied to the subsequent sub information writer <highlight><bold>130</bold></highlight>. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> On the basis of the information indicative of encoded unused bit REM supplied from the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight>, the sub information writer <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> determines checks the frames of spectrum data supplied thereto for any frame in which an encoding unused bit REM occurred. Then, the sub information writer <highlight><bold>130</bold></highlight> attaches sub information to the portion of the frame in which the REM occurred in accordance with the number of REMs. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> shows an image of writing sub information to be performed by the sub information writer <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. Shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is an example in which 4-bit sub information &ldquo;1011&rdquo; is stored sequentially from the least significant bit into n and subsequent frames of encoded data. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> It is assumed as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> that the values of the encoding unused bits REM supplied from the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> be 1, 0, 2, 0, and 1 sequentially from n-th frame and encoding unused bits occur in n-th frame, (n&plus;2)-th frame, and (n&plus;4)-th frame. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> In this case, first in the n-th frame, the bit allocation calculator <highlight><bold>118</bold></highlight> determines that the value of encoding unused bit REM is 1, which is supplied to the sub information writer <highlight><bold>130</bold></highlight>, so that, on the basis of the supplied REM value, the sub information writer <highlight><bold>130</bold></highlight> records the least significant bit of the sub information to the encoding unused bit portion of the n-th frame. </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> In the (n&plus;1)-th frame, the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> determines that the value of encoding unused bit REM is 0, so that the sub information writer <highlight><bold>130</bold></highlight> does not record the sub information. Likewise, in the (n&plus;2)-th frame, the value of encoding unused bit REM supplied from the bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus is 2, so that the sub information writer <highlight><bold>130</bold></highlight> records 2-bit sub information to the encoding unused bits of the (n&plus;2)-th frame. </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> In the (n&plus;3)-th frame, the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> determines that the value of encoding unused bit REM is 0, so that the sub information writer <highlight><bold>130</bold></highlight> does not record the sub information. In the (n&plus;4)-th frame, the value of the encoding unused bit REM supplied from the bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus is 1, so that the sub information writer <highlight><bold>130</bold></highlight> records 1 bit sub information to the encoding unused bit in the (n&plus;4)-th frame. </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> Consequently, writing the sub information to the 3 frames in which encoding unused bits occur among the 5 frames allows the attachment of 4-bit sub information to the encoded data. In this example, the attachment of 4 bit sub information is used for example; it will be apparent that sub information of more bits may be attached in accordance with the number of frames. Moreover, if a frame with which the recording of sub information is performed is determined beforehand, this sub information may be extracted from the sequence of created frames. </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> Processing in the Encoder <highlight><bold>11</bold></highlight>: </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> The following describes the details of the operations of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> with reference to the flowchart shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. In this flowchart, variable i denotes a counter value indicative of a frame number. Variable w_done denotes a value indicative of how many bits of sub information has been written, namely the number of recorded sub information bits. Encoding unused bit REM(i) denotes the value of the encoding unused bit REM in the i-th frame. </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> The processing shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference> starts in the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> when high-efficiency encoding on audio PCM data starts. First, in the sub information writer <highlight><bold>130</bold></highlight>, variable i is initialized to 0 (step S<highlight><bold>101</bold></highlight>) and variable w_done is initialized to 0 (step S<highlight><bold>102</bold></highlight>). </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> Next, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> determines whether there still remain audio PCM data to be encoded (step S<highlight><bold>103</bold></highlight>). In step S<highlight><bold>103</bold></highlight>, if audio PCM data are processed every 512 samples for example, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> monitors how many samples of the source audio PCM file have been processed to determine whether the audio PCM data subject to high-efficiency encoding have all been processed. </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> If the audio PCM data subject to high-efficiency encoding are found all processed in step S<highlight><bold>103</bold></highlight>, then the processing shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference> comes to an end. On the contrary, if the audio PCM data subject to high-efficiency encoding are found not all processed, then the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> executes the high-efficiency encoding on the remaining audio PCM data (step S<highlight><bold>104</bold></highlight>). </paragraph>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> In the high-efficiency encoding to be executed in step S<highlight><bold>104</bold></highlight>, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> forms the encoded data shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> and, at the same time, computes the encoding unused bit REM(i) for each frame. Subsequently, the sub information writer <highlight><bold>130</bold></highlight> determines whether variable i is greater than a predetermined initial shift (step S<highlight><bold>105</bold></highlight>) for example. The initial shift is a value predetermined at the recording of sub information, which denotes a shift for determining a frame with which the recording (or attachment) of sub information starts. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> If the specified frame is found not reached in step S<highlight><bold>105</bold></highlight>, then variable i is incremented (step S<highlight><bold>111</bold></highlight>), after which the processing is repeated from step S<highlight><bold>103</bold></highlight>. It should be noted that the incrementing of variable i in step S<highlight><bold>111</bold></highlight> denotes the incrementing of the number of frames. In <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, notation i&plus;&plus; in step S<highlight><bold>111</bold></highlight> denotes the incrementing of variable i. </paragraph>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> If the specified frame is found reached in step S<highlight><bold>105</bold></highlight>, then it is determined whether the bit length of write data (or sub information) is greater than variable w_done (step S<highlight><bold>106</bold></highlight>). The processing of step S<highlight><bold>106</bold></highlight> determines whether the sub information has all been attached; to be exact, this step determines how many bits of sub information has been recorded. </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> If the sub information is found all attached, namely the bit length of write data is found not greater than variable w_done, it indicates that all of the sub information has been written, upon which the procedure goes to step S<highlight><bold>111</bold></highlight> to increment variable i. Subsequently, the processing is repeated from step S<highlight><bold>103</bold></highlight>. </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the decision process of step S<highlight><bold>106</bold></highlight> is always executed. However, if the decision is NO in step S<highlight><bold>106</bold></highlight>, namely the sub information is found all attached, then a flag may be set up to subsequently prevent the procedure from going to steps S<highlight><bold>107</bold></highlight> and on, which are associated with the writing of sub information. </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> If the sub information is found not all attached in step S<highlight><bold>106</bold></highlight>, namely the bit length of the write data is found greater than variable w_done, then it is determined whether encoding unused bit REM(i) is greater than 0 (step S<highlight><bold>107</bold></highlight>). The decision process of step S<highlight><bold>107</bold></highlight> determines whether an encoding unused bit has actually occurred as described with reference to <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> If encoding unused bit REM(i) is found 0, namely no encoding unused bit is found occurring in step S<highlight><bold>107</bold></highlight>, it indicates that no sub information can be written, so that the procedure goes to step S<highlight><bold>111</bold></highlight> to increment variable i, upon which the processing is repeated from step S<highlight><bold>103</bold></highlight>. </paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> If encoding unused bit REM(i) is found not 0 in step S<highlight><bold>107</bold></highlight>, namely an encoding unused bit is found occurring, then the data for the lower REM(i) of the sub information are written to the encoding unused bit portion of the frame of the encoded data supplied from the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> (step S<highlight><bold>108</bold></highlight>). </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> Next, the write data of the sub information after the writing are shifted by REM(i) in the down direction (step S<highlight><bold>109</bold></highlight>). Namely, the written sub information is prevented from being written again. In the example shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the write data are written to the encoded unused bit portion of the encoded data always starting with the least significant bit in steps S<highlight><bold>108</bold></highlight> and S<highlight><bold>109</bold></highlight>. However, it will be apparent that, if integrity is secured, the write data may be written starting with any other bits. </paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> Subsequently, encoded unused bit REM(i) is added to variable w_done as the number of processed bits (step S<highlight><bold>110</bold></highlight>) and variable i is incremented (step S<highlight><bold>111</bold></highlight>), upon which the processing is repeated from step S<highlight><bold>103</bold></highlight>. Thus, the sub information is attached by the sub information writer <highlight><bold>130</bold></highlight> to the encoded data formed by the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight>. </paragraph>
<paragraph id="P-0232" lvl="0"><number>&lsqb;0232&rsqb;</number> As described, this sub information includes the business entity identifier (identification code) of a business entity which supplies these encoded data and the identifier (music identifier) for the encoded data which are music data. Detection of the sub information attached to the encoded data surely allows the discrimination of the business entity which is the supplier of these encoded data as well as the discrimination of the music data. </paragraph>
<paragraph id="P-0233" lvl="0"><number>&lsqb;0233&rsqb;</number> In the method shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the sub information is recorded to the encoded data only once. However, a different arrangement may be made that, after recording all sub information once, the same sub information be recorded again or different sub information be recorded by a same method for example. In this case, i providing a frame number with which recording started and the type of sub information may be outputted in the form of a so-called log for example, thereby outputting a table file indicative of a frame with which the recording of the sub information starts and the number of bits recorded to this and subsequent frames. </paragraph>
<paragraph id="P-0234" lvl="0"><number>&lsqb;0234&rsqb;</number> If the information about the above-mentioned table file is managed by the music server systems <highlight><bold>30</bold></highlight> as a detection frame of the database information for executing distribution business, the table file information may be available for the detection of sub information. </paragraph>
<paragraph id="P-0235" lvl="0"><number>&lsqb;0235&rsqb;</number> By use of the method described above, sub information can be recorded into encoded data. The recorded sub information may be sequentially extracted by identifying the starting frame by use of the above-mentioned predetermined initial shift and the detection frame number and so on recorded to the database of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) and, on the basis of the starting frame, using the above-mentioned method of calculating encoding unused bit REM. </paragraph>
<paragraph id="P-0236" lvl="0"><number>&lsqb;0236&rsqb;</number> It should be noted that the sub information is attached to the encoding used bit as described above, so that the sub information does not affect in any manner the audio PCM data generated by executing decoding by the decoder described with reference to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0237" lvl="0"><number>&lsqb;0237&rsqb;</number> The sub information to be attached to the encoded data, which are music data, may include a business entity identifier indicative of the supplier of the encoded data concerned, an identifier indicative of the producer of these encoded data, an encoded data identifier (music identifier) for identifying individual encoded data, and other various necessary information. </paragraph>
<paragraph id="P-0238" lvl="0"><number>&lsqb;0238&rsqb;</number> Thus, in attaching plural pieces of various information, if the number of digits of each piece of sub information is known beforehand, the plural pieces of sub information may be separated from each other by the known number of digits. Otherwise, for the separation of plural pieces of sub information, a particular code, a separation code which handles several digits all as &ldquo;1&rdquo; for example, may be attached to each piece of sub information. </paragraph>
<paragraph id="P-0239" lvl="0"><number>&lsqb;0239&rsqb;</number> Specific Example of Main Server: </paragraph>
<paragraph id="P-0240" lvl="0"><number>&lsqb;0240&rsqb;</number> The following describes a specific example of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> as a main server <highlight><bold>10</bold></highlight>, which is equivalent to a database server on the distributor side. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram illustrating an exemplary configuration of the main server <highlight><bold>10</bold></highlight>. As shown, the main server <highlight><bold>10</bold></highlight> includes an encoder <highlight><bold>80</bold></highlight>, a main controller <highlight><bold>81</bold></highlight>, a hard disk <highlight><bold>82</bold></highlight>, a display section <highlight><bold>83</bold></highlight>, an operator section <highlight><bold>84</bold></highlight>, a fee charger <highlight><bold>85</bold></highlight>, a communicator <highlight><bold>86</bold></highlight>, a decoder <highlight><bold>87</bold></highlight>, and a reproducer <highlight><bold>88</bold></highlight>. </paragraph>
<paragraph id="P-0241" lvl="0"><number>&lsqb;0241&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the encoder <highlight><bold>80</bold></highlight> is equivalent to the encoder <highlight><bold>11</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in FIG. <highlight><bold>1</bold></highlight> and includes the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. The high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> has the configuration as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, in which the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> cooperates to execute the processing shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference> under the control of the main controller <highlight><bold>81</bold></highlight> to perform high-efficiency encoding on audio PCM signals, thereby attaching sub information such as a business entity identifier to the encoded data formed by high-efficiency encoding. </paragraph>
<paragraph id="P-0242" lvl="0"><number>&lsqb;0242&rsqb;</number> The encoder <highlight><bold>80</bold></highlight> performs high-efficiency encoding on music data and attaches sub information thereto, the resultant music data being stored in the hard disk <highlight><bold>82</bold></highlight>. The hard disk <highlight><bold>82</bold></highlight> is equivalent to the hard disk <highlight><bold>12</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. Referring to <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the main controller <highlight><bold>81</bold></highlight> controls the other components of the main server <highlight><bold>10</bold></highlight> of the present embodiment and is equivalent to the controller <highlight><bold>13</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0243" lvl="0"><number>&lsqb;0243&rsqb;</number> The main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> inherits all the capabilities of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the capability of the comparator <highlight><bold>15</bold></highlight> for comparing business entity identifiers shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> being implemented by software for example in the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. In this case, the business entity identifier of the main server <highlight><bold>10</bold></highlight> itself is stored in a non-volatile memory such as ROM or EEPROM or in the hard disk <highlight><bold>82</bold></highlight> to be retrieved as required. </paragraph>
<paragraph id="P-0244" lvl="0"><number>&lsqb;0244&rsqb;</number> The communicator <highlight><bold>86</bold></highlight> is equivalent to the communicator (transmitter/receiver) <highlight><bold>14</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The communicator <highlight><bold>86</bold></highlight> connects communication lines with the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(z) to transfer music data, various sub information, control information, and fee charging information and so on between these music server systems and the main server <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0245" lvl="0"><number>&lsqb;0245&rsqb;</number> The fee charger <highlight><bold>85</bold></highlight> is equivalent to the fee charger <highlight><bold>17</bold></highlight> of the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> and processes fee charging information supplied from the music server systems through the communicator <highlight><bold>86</bold></highlight>. As shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the main server <highlight><bold>10</bold></highlight> of this example has the display section <highlight><bold>83</bold></highlight> for displaying various display information such as guidance information and warning information and the operator section <highlight><bold>84</bold></highlight> through which the user enters various commands and information. </paragraph>
<paragraph id="P-0246" lvl="0"><number>&lsqb;0246&rsqb;</number> In addition, the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> has the decoder <highlight><bold>87</bold></highlight> and the reproducer <highlight><bold>88</bold></highlight> for the user to listen to music data stored in the hard disk <highlight><bold>82</bold></highlight>. The decoder <highlight><bold>87</bold></highlight> has the same configuration as that of the decoder described with reference to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0247" lvl="0"><number>&lsqb;0247&rsqb;</number> As described above, in the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, an audio PCM signal is encoded by the encoder <highlight><bold>80</bold></highlight> and attached with sub information, the resultant signal being stored in the hard disk <highlight><bold>82</bold></highlight>. There are two methods of implementing a high-efficiency encoding apparatus (or a high-efficiency encoder). In one method, the implementation is achieved by a hardware device (an MD deck) installed with a so-called encoding LSI. In the other, the implementation is achieved by the computation of a PCM file on the basis of software. </paragraph>
<paragraph id="P-0248" lvl="0"><number>&lsqb;0248&rsqb;</number> Generally, the encoding in the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> requires to automatically and efficiently process a large amount of music data in order to achieve digital audio data providing business. In the main server <highlight><bold>10</bold></highlight> of the present embodiment shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, this processing is implemented by computer software. </paragraph>
<paragraph id="P-0249" lvl="0"><number>&lsqb;0249&rsqb;</number> Difference Between Encoding by Hardware and Encoding by Software: </paragraph>
<paragraph id="P-0250" lvl="0"><number>&lsqb;0250&rsqb;</number> The following describes the difference in nature between the high-efficiency encoding by a hardware device (an MD deck) and that by a software program. </paragraph>
<paragraph id="P-0251" lvl="0"><number>&lsqb;0251&rsqb;</number> As for the recording by use of a hardware device (an MD deck), every user can realize high-efficiency encoding by purchasing the corresponding hardware, the computational accuracy involved in high-efficiency encoding being dependent on the installed encoding LSI. Generally, when a PCM file is used, a digital output of so-called PCM data is digitally inputted for encoding, which causes the input position (encoding start position) of the digitally inputted PCM data unsteady depending on the timing of starting recording operations even with the encoding of same music data, eventually resulting in totally different music data after high-efficiency encoding. </paragraph>
<paragraph id="P-0252" lvl="0"><number>&lsqb;0252&rsqb;</number> In order to describe this phenomenon, the following details a unit time in which the processing of high-efficiency encoding is executed also with reference to <cross-reference target="DRAWINGS">FIG. 3</cross-reference> which shows an example of the high-efficiency encoding apparatus. In the high-efficiency encoding apparatus shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, digital audio data (PCM data) are inputted at the input terminal <highlight><bold>100</bold></highlight>. In the MDCT processing to be executed in the MDCT circuits <highlight><bold>103</bold></highlight>, <highlight><bold>104</bold></highlight>, and <highlight><bold>105</bold></highlight> after the inputting, the number of samples for executing so-called orthogonal transform processing is specified, which forms one unit for repeated processing. </paragraph>
<paragraph id="P-0253" lvl="0"><number>&lsqb;0253&rsqb;</number> In the high-efficiency encoding apparatus shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the PCM data of 1024 samples inputted through the input terminal <highlight><bold>100</bold></highlight> are outputted from the MDCT circuits <highlight><bold>103</bold></highlight>, <highlight><bold>104</bold></highlight>, and <highlight><bold>105</bold></highlight> as 512 MDCT coefficients or spectrum data. To be more specific, 1024 pieces of PCM data (or PCM sample data) inputted from the input terminal <highlight><bold>100</bold></highlight> are divided by the QMF <highlight><bold>101</bold></highlight> into 512 high range samples and 512 low range samples, the 512 low range samples being further divided by the QMF <highlight><bold>102</bold></highlight> into 256 low range samples and 256 mid range samples. </paragraph>
<paragraph id="P-0254" lvl="0"><number>&lsqb;0254&rsqb;</number> Subsequently, the 256 low range samples outputted from the QMF <highlight><bold>102</bold></highlight> are converted by the MDCT circuit <highlight><bold>105</bold></highlight> into 128 pieces of low range spectrum data, the 256 mid range samples outputted from the QMF <highlight><bold>102</bold></highlight> are converted by the MDCT circuit <highlight><bold>104</bold></highlight> into 128 pieces of mid range spectrum data, and the 512 high range samples outputted from the QMF <highlight><bold>101</bold></highlight> are converted by the MDCT circuit <highlight><bold>103</bold></highlight> into 256 pieces of high range spectrum data, a total of 512 pieces of spectrum data being created by 1024 PCM samples. </paragraph>
<paragraph id="P-0255" lvl="0"><number>&lsqb;0255&rsqb;</number> The 1024 pieces of PCM sample data, which are the input data in this case, provide a time unit in which the above-mentioned high-efficiency encoding is executed once, which is referred to as 1 frame (or 1 sound frame). One high-efficiency encoded frame consists of 212 bytes as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0256" lvl="0"><number>&lsqb;0256&rsqb;</number> It should be noted that, as for the PCM sample data inputted from the input terminal <highlight><bold>100</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3, </cross-reference>1 frame consists of 1024 samples, the preceding 512 samples and succeeding 512 samples being also used by both adjacent frames. This is to achieve correct encoding in consideration of the overlap in MDCT processing. </paragraph>
<paragraph id="P-0257" lvl="0"><number>&lsqb;0257&rsqb;</number> As described, in order to form high-efficiency encoded digital audio data for 1 frame, the PCM data of the 1024 samples first inputted at the starting of a recording operation are determined and, subsequently, the high-efficiency encoded frames are generated accordingly. </paragraph>
<paragraph id="P-0258" lvl="0"><number>&lsqb;0258&rsqb;</number> Taking an overlap into consideration, 512 input patterns are generated theoretically. For this reason, in generally available hardware devices (or MD decks), the encoding (or recording) of same music data results in varied high-efficiency encoded data depending on the start timing of recording operations. An analog recording method may also be available. In this case, however, it is still more difficult to obtain data matching because of the dependencies on noise and so-called A/D conversion error for example. </paragraph>
<paragraph id="P-0259" lvl="0"><number>&lsqb;0259&rsqb;</number> On the contrary, with the method of encoding based on the computation by computer (PC) software, the PCM file stored in the hard disk is processed and therefore the above-mentioned encoding timing offset is not caused, thereby always generating same high-efficiency encoded data for the encoding of same music data. </paragraph>
<paragraph id="P-0260" lvl="0"><number>&lsqb;0260&rsqb;</number> Generally, the computational accuracy of the encoding LSI mounted on a hardware device (an MD deck) is lower than that of the CPU of a processor such as personal computer for executing encoding software. If a timing match is obtained for the same PCM sample data by use of the encoding LSI, namely, if encoding is started with exactly the same PCM sample, high-efficiency encoded digital audio data are bound to vary for the low computational accuracy of the encoding LSI. </paragraph>
<paragraph id="P-0261" lvl="0"><number>&lsqb;0261&rsqb;</number> For these reasons, if the software method is used only in the encoder on the distributor side as a prerequisite, a match between the high-efficiency encoded data recorded to an external recording medium and the high-efficiency encoded data recorded to the hard disk of the main server <highlight><bold>10</bold></highlight> or the music server system <highlight><bold>30</bold></highlight> to be described later allows theoretically the determination whether the high-efficiency encoded data (digital audio data) recorded to an MD were encoded (or recorded) by a hardware device (or an MD deck) at home or purchased from a distributor through the use of the music server system. </paragraph>
<paragraph id="P-0262" lvl="0"><number>&lsqb;0262&rsqb;</number> In addition, for recordable MDs brought by users to music server systems, an area for recording the information about music data producer and distributor is not prepared beforehand; however, by use of the method in which sub information is written to the unused bits in a frame of encoded data described above, it can be surely known from which distributor the user (or the purchaser of music data) purchased music data. </paragraph>
<paragraph id="P-0263" lvl="0"><number>&lsqb;0263&rsqb;</number> Thus, by correctly identifying the distributor (or distributing business entity) of music data, such new services hitherto unrealized due to the inability of identifying distributors as the movement of music data between recording media, the upgrading of high-efficiency encoding algorithm, and the analysis of defective recording media can be realized free of charge or at low cost by defining the distributor&apos;s responsibilities. </paragraph>
<paragraph id="P-0264" lvl="0"><number>&lsqb;0264&rsqb;</number> Specific Example of Music Server System: </paragraph>
<paragraph id="P-0265" lvl="0"><number>&lsqb;0265&rsqb;</number> The following describes a specific example of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> as the music server system <highlight><bold>30</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram illustrating an exemplary configuration of the music server system <highlight><bold>30</bold></highlight>. As described before, the music server system <highlight><bold>30</bold></highlight> is installed at the store for example. The music server system <highlight><bold>30</bold></highlight> stores music data (or encoded data) provided by the main server <highlight><bold>10</bold></highlight>, accepts an external recording medium of a user, and records the requested music data into the loaded external recording medium. The music server system <highlight><bold>30</bold></highlight> is operated by the user for this purpose. </paragraph>
<paragraph id="P-0266" lvl="0"><number>&lsqb;0266&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 14, a</cross-reference> main controller <highlight><bold>31</bold></highlight> is connected to all the other components of the music server system <highlight><bold>30</bold></highlight> to control these components. A hard disk <highlight><bold>32</bold></highlight> mainly stores music data to be provided to users. The music data stored in the hard disk <highlight><bold>32</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> include main information (encoded data providing digital audio data) which provide actual music data and sub information including music titles, play times, and jacket pictures for example. Therefore, the main server <highlight><bold>10</bold></highlight> described before can provide the sub information to the music server system. </paragraph>
<paragraph id="P-0267" lvl="0"><number>&lsqb;0267&rsqb;</number> In this first embodiment, digital audio data, which are the main information, are compressed by high-efficiency encoding as described before by considering the efficient use of hard disk capacity and the communication line capacity at the transfer of music data to the music server system. Consequently, the music server system can record music data to user&apos;s external recording media at high speeds. </paragraph>
<paragraph id="P-0268" lvl="0"><number>&lsqb;0268&rsqb;</number> The management of the sub information attached to digital audio data, which are the main information, may be realized by preparing a control table file having a configuration shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, writing the correlation between main information file name and sub information to this table, and controlling the updating and reading of this table by the main controller <highlight><bold>31</bold></highlight>. </paragraph>
<paragraph id="P-0269" lvl="0"><number>&lsqb;0269&rsqb;</number> In the example shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, character information and image information which provide the sub information are also formed into files. This example shows the management of the file names of these files. For example, the character information may be written directly in a text format. The other information shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> includes music copyright information and so-called emphasis information for example. </paragraph>
<paragraph id="P-0270" lvl="0"><number>&lsqb;0270&rsqb;</number> In addition, although music play time and other sub information may also be managed by the same method, music play time may be calculated any time from the file size of the main information and the compression ratio of high-efficiency encoding at the time of displaying music information and recording of music data. A detection frame number is the information which is referenced when determining whether or not the audio data being recorded to a user&apos;s recording medium loaded in the music server system according to the present embodiment have been purchased duly from an official audio data provider (or business entity) operating the music server system <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0271" lvl="0"><number>&lsqb;0271&rsqb;</number> To be more specific, as described before, the frame number and so on attached with the sub information such as business entity identifier are supplied from the main server <highlight><bold>10</bold></highlight> to be stored as a detection frame number for each piece of music data for management. Then, in detection of the sub information such as business entity identifier attached to the music data recorded to a user&apos;s external recording medium, the detection frame number of the control file shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is referenced to identify the attachment start frame of the sub information, thereby quickly and surely detecting the sub information. </paragraph>
<paragraph id="P-0272" lvl="0"><number>&lsqb;0272&rsqb;</number> In the present example, the sub information is managed by the so-called table file as described with reference to <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. It will be apparent that the management method is not limited to this example. For example, various sub information may be attached to the main information as so-called headers. </paragraph>
<paragraph id="P-0273" lvl="0"><number>&lsqb;0273&rsqb;</number> The display section <highlight><bold>33</bold></highlight>, connected to the main controller <highlight><bold>31</bold></highlight>, displays to the user the details of music data stored in the hard disk <highlight><bold>32</bold></highlight> and the states of recording and reproduction of these music data. The operator section <highlight><bold>34</bold></highlight> operated by the user to record music data to a recording medium and reproduce the recorded music data through the main controller <highlight><bold>31</bold></highlight>. </paragraph>
<paragraph id="P-0274" lvl="0"><number>&lsqb;0274&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows the example in which the music server system <highlight><bold>30</bold></highlight> is configured as one entity. For the display section <highlight><bold>33</bold></highlight> and the operator section <highlight><bold>34</bold></highlight>, a personal computer for example may be used as an external device to use its display device and input devices such as keyboard and mouse. In this case, the music server system and the personal computer may be interconnected by utilizing a dedicated signal line for transferring sub information and control signals or a digital interface based on so-called serial connection such as USB (Universal Serial Bus) or IEEE (Institute of Electrical and Electronics Engineers) 1394. </paragraph>
<paragraph id="P-0275" lvl="0"><number>&lsqb;0275&rsqb;</number> Although the details including a memory are not shown, all the components of the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> may be configured within a personal computer. Namely, the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> may be realized as a standalone dedicated device installed at the store or realized by configuring the music server system inside a computer such as a personal computer for example. </paragraph>
<paragraph id="P-0276" lvl="0"><number>&lsqb;0276&rsqb;</number> Readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> read information from external recording media <highlight><bold>19</bold></highlight> and <highlight><bold>20</bold></highlight> loaded in the readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> respectively and record the information (the main information, sub information, and so on) to these external recording media <highlight><bold>19</bold></highlight> and <highlight><bold>20</bold></highlight> under the control of the main controller <highlight><bold>31</bold></highlight> as instructed by the user from the operator section <highlight><bold>34</bold></highlight>. </paragraph>
<paragraph id="P-0277" lvl="0"><number>&lsqb;0277&rsqb;</number> Therefore, the main controller <highlight><bold>31</bold></highlight> controls the readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> to supply the data read from the external recording media <highlight><bold>19</bold></highlight> and <highlight><bold>20</bold></highlight> to the hard disk <highlight><bold>32</bold></highlight> for example to store the data therein or, conversely, write the data from the hard disk <highlight><bold>32</bold></highlight> to the external recording media <highlight><bold>19</bold></highlight> and <highlight><bold>20</bold></highlight>. </paragraph>
<paragraph id="P-0278" lvl="0"><number>&lsqb;0278&rsqb;</number> In the present embodiment, the external recording media <highlight><bold>19</bold></highlight> and <highlight><bold>20</bold></highlight> are of package type and therefore easy to carry about and allow small-sized players to reproduce the music data for example stored in these external recording media. These external recording media include MDs which are popular as music application and Memory Sticks (hereafter referred to as MS) which are one of memory cards. Arranging plural different readers/recorders compatible with these plural different external recording media provides the compatibility with these external recording media. </paragraph>
<paragraph id="P-0279" lvl="0"><number>&lsqb;0279&rsqb;</number> Normally, the detail mechanism of a device for processing music data and the format in which data are written to external recording media depend on the types of external recording media. Hence, the music server system <highlight><bold>30</bold></highlight> must provide the music data having different formats compatible with the different types of available external recording media. This compatibility may be provided by making common the main information by performing so-called format conversion. Generally, this may frequently result in deteriorated tone quality. </paragraph>
<paragraph id="P-0280" lvl="0"><number>&lsqb;0280&rsqb;</number> Consequently, as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the music server system <highlight><bold>30</bold></highlight> of the present embodiment for processing music data has the readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> provides the compatibility with both MD and MS. </paragraph>
<paragraph id="P-0281" lvl="0"><number>&lsqb;0281&rsqb;</number> In this first embodiment, it is assumed that the recording medium <highlight><bold>19</bold></highlight> be an MD and the recording medium <highlight><bold>20</bold></highlight> be an MS and the hard disk <highlight><bold>32</bold></highlight> store both the music data for an MD and an MS for each piece of music. </paragraph>
<paragraph id="P-0282" lvl="0"><number>&lsqb;0282&rsqb;</number> The following describes a specific example of recording music data to an external recording medium, in which music data are recorded to an MD. In the case of an MD, the recorder portion of the reader/recorder <highlight><bold>35</bold></highlight> includes a spindle motor, an optical head, a magnetic head, and a servo circuit. </paragraph>
<paragraph id="P-0283" lvl="0"><number>&lsqb;0283&rsqb;</number> To be more specific, an MD namely the external recording medium <highlight><bold>19</bold></highlight>, which is a small-sized magneto-optical disk, is rotatively driven by the spindle motor, a laser beam radiated from the optical head being applied to the MD to apply a modulated magnetic field corresponding to recording data to the MD, thereby performing so-called magnetic field modulation recording. In this case, the optical head performs tracking control and focus control on the basis of a servo signal supplied from the servo circuit to correctly scan the MD tracks with a laser beam having an appropriate spot shape, thereby recording music data correctly to the MD tracks. </paragraph>
<paragraph id="P-0284" lvl="0"><number>&lsqb;0284&rsqb;</number> In the present embodiment, digital audio data, which are the main information of the music data stored in the hard disk <highlight><bold>32</bold></highlight>, are compressed by a compression format (high-efficiency encoding) used for the MDs. The compressed digital audio data can be recorded faster than they are actually reproduced. </paragraph>
<paragraph id="P-0285" lvl="0"><number>&lsqb;0285&rsqb;</number> In the case of MDs, each disk has an area called a TOC (Table of Contents) for recording music control information, the sub information such as music title for example being recorded to this area. Therefore, the main controller <highlight><bold>31</bold></highlight> controls the reader/recorder <highlight><bold>35</bold></highlight> to record the sub information about the music data stored in the hard disk <highlight><bold>32</bold></highlight> to the MD according to its TOC format on the basis of the control information shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. Thus, also with an external recording medium such as MD, the main information and sub information managed by the music server system <highlight><bold>30</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> can be related with each other. </paragraph>
<paragraph id="P-0286" lvl="0"><number>&lsqb;0286&rsqb;</number> It should be noted that the reader/recorder <highlight><bold>36</bold></highlight> has a data reading mechanism for reading data from a semiconductor memory installed in an MS and a data writing mechanism for writing data to the semiconductor memory in the MS. The recordable MDs have no area for recording the information about music producer and the ID information of music data themselves, while MSs have such an area. The reader/recorder <highlight><bold>36</bold></highlight> can record the information about music producer and the ID information of music data themselves to that area. </paragraph>
<paragraph id="P-0287" lvl="0"><number>&lsqb;0287&rsqb;</number> The decoder <highlight><bold>37</bold></highlight> is a decompression device which decompresses the compressed music data stored in the hard disk <highlight><bold>32</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> of the present embodiment in order to sound out music. This decoder <highlight><bold>37</bold></highlight> has in its portion the configuration described with reference to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0288" lvl="0"><number>&lsqb;0288&rsqb;</number> The digital audio data decompressed by the decoder <highlight><bold>37</bold></highlight> are reproduced by the reproducer <highlight><bold>38</bold></highlight> including a so-called D/A converter, an amplifier, and a speaker, for example. The reproduction processing by the reproducer <highlight><bold>38</bold></highlight> is used for the user to check desired music by actual digital audio data before recording the music data to the user&apos;s external recording medium. </paragraph>
<paragraph id="P-0289" lvl="0"><number>&lsqb;0289&rsqb;</number> It should be noted that, if the digital audio data compressed for the MD and the digital audio data compressed for the MS exist at the same time, the different decoders for these data are required. In the present embodiment, the decoder <highlight><bold>37</bold></highlight> decodes both the digital audio data compressed for the MD and the MS. </paragraph>
<paragraph id="P-0290" lvl="0"><number>&lsqb;0290&rsqb;</number> The sub information detector <highlight><bold>39</bold></highlight> detects the sub information such as business entity identifier to be written to the encoding unused bits occurring in encoded data frames formed by performing high-efficiency encoding on audio PCM signals as described before with reference to <cross-reference target="DRAWINGS">FIGS. 10, 11</cross-reference>, and <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0291" lvl="0"><number>&lsqb;0291&rsqb;</number> As described above, the music server system <highlight><bold>30</bold></highlight> of the present embodiment reads the high-efficiency encoded audio digital data (or music data) recorded to an MD loaded in the reader/recorder <highlight><bold>35</bold></highlight> and temporarily stores the retrieved data to the hard disk <highlight><bold>32</bold></highlight>. From the music data thus stored in the hard disk <highlight><bold>32</bold></highlight>, the sub information detector <highlight><bold>39</bold></highlight> extracts the sub information such as business entity identifier from the frame at a position corresponding to the detection frame number of the control file shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> and sends the extracted sub information to the main controller <highlight><bold>31</bold></highlight>. </paragraph>
<paragraph id="P-0292" lvl="0"><number>&lsqb;0292&rsqb;</number> In the present embodiment, the sub information detected by the sub information detector <highlight><bold>39</bold></highlight> is used for the determination whether or not the music data recorded to the external recording medium <highlight><bold>19</bold></highlight> or <highlight><bold>20</bold></highlight> are those officially provided by the business entity which operates the main server <highlight><bold>10</bold></highlight> which provided these music data to the music server system <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0293" lvl="0"><number>&lsqb;0293&rsqb;</number> The communicator <highlight><bold>40</bold></highlight> provides communication between the music server system <highlight><bold>30</bold></highlight> and the main server <highlight><bold>10</bold></highlight>. To be more specific, under the control of the main controller <highlight><bold>31</bold></highlight>, the communicator <highlight><bold>40</bold></highlight> sends various requests to the main server <highlight><bold>10</bold></highlight>, receives information from the main server <highlight><bold>10</bold></highlight> to transfer the received information to the main controller <highlight><bold>31</bold></highlight>, and receives music data from the main server <highlight><bold>10</bold></highlight> to send the received music data to the hard disk <highlight><bold>32</bold></highlight> for storing. </paragraph>
<paragraph id="P-0294" lvl="0"><number>&lsqb;0294&rsqb;</number> Thus, in the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> correspond to the reader <highlight><bold>1</bold></highlight> and the recorder <highlight><bold>2</bold></highlight> in he music server system shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. In the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the sub information detector <highlight><bold>39</bold></highlight> corresponds to the identifier extractor <highlight><bold>3</bold></highlight> in the music server system shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. In the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the communicator <highlight><bold>40</bold></highlight> corresponds to the identifier transmitter <highlight><bold>4</bold></highlight> and the receiver <highlight><bold>5</bold></highlight> in the music server system shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. </paragraph>
<paragraph id="P-0295" lvl="0"><number>&lsqb;0295&rsqb;</number> As seen from the comparison between the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> and the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the main server <highlight><bold>10</bold></highlight> has the encoder <highlight><bold>80</bold></highlight> and the fee charger <highlight><bold>85</bold></highlight>, which are not disposed in the music server system <highlight><bold>30</bold></highlight>. The music server system <highlight><bold>30</bold></highlight> has he readers/recorders <highlight><bold>35</bold></highlight> and <highlight><bold>36</bold></highlight> and the sub information detector <highlight><bold>39</bold></highlight>, which are not disposed in the main server <highlight><bold>10</bold></highlight>. Except for these points, the main server <highlight><bold>10</bold></highlight> and the music server system <highlight><bold>30</bold></highlight> may be configured in substantially the same manner. </paragraph>
<paragraph id="P-0296" lvl="0"><number>&lsqb;0296&rsqb;</number> In the present embodiment, ATRAC is used for high-efficiency encoding. It will be apparent that high-efficiency encoding is not limited to ATRAC. Namely, the above-mentioned encoding is for illustrative purpose only The main server <highlight><bold>10</bold></highlight> and the music server system <highlight><bold>30</bold></highlight> according to the present embodiment can also handle the digital audio data which are encoded by other high-efficiency encoding algorithms. </paragraph>
<paragraph id="P-0297" lvl="0"><number>&lsqb;0297&rsqb;</number> Usage Forms of Music Server System: </paragraph>
<paragraph id="P-0298" lvl="0"><number>&lsqb;0298&rsqb;</number> The following describes usage forms of the music server system <highlight><bold>30</bold></highlight> of the present embodiment. In this first embodiment, the music server system <highlight><bold>30</bold></highlight> is installed at the store such as a CD store for example as described above. In this case, the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> has a payment collecting section for accepting the payment from the user for sold music data and a capability of performing music data price management, not shown. </paragraph>
<paragraph id="P-0299" lvl="0"><number>&lsqb;0299&rsqb;</number> The user brings his external recording medium such as MD to the store and loads it into the music server system <highlight><bold>30</bold></highlight> of the present embodiment which is installed at the store. Then, the user enters a command for selecting desired data stored in the hard disk <highlight><bold>32</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> by use of the display section <highlight><bold>33</bold></highlight> and the operator section <highlight><bold>34</bold></highlight> thereof. </paragraph>
<paragraph id="P-0300" lvl="0"><number>&lsqb;0300&rsqb;</number> In response to the user&apos;s request, the music server system <highlight><bold>30</bold></highlight> reads the selected music data from the hard disk <highlight><bold>32</bold></highlight> and sounds the music data through the decoder <highlight><bold>37</bold></highlight> and the reproducer <highlight><bold>38</bold></highlight> for audio checking. If the selected music is found good, the user puts the amount of money charged for the recording of the selected music data into the payment collecting section of the music server system <highlight><bold>30</bold></highlight> to record the music data to the user&apos;s external recording medium and inputs a command for the recording of the music data through the operator section <highlight><bold>34</bold></highlight>. </paragraph>
<paragraph id="P-0301" lvl="0"><number>&lsqb;0301&rsqb;</number> As described, in the present embodiment, the user can purchase desired music data by recording them to his external recording medium, in this case an MD, through the music server system <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0302" lvl="0"><number>&lsqb;0302&rsqb;</number> It should be noted that, in the present embodiment, the music server system <highlight><bold>30</bold></highlight> and the main server <highlight><bold>10</bold></highlight> which is the distributor of music data are interconnected by a dedicated line for example. As described before, the main server <highlight><bold>10</bold></highlight> can send music data to the music server system <highlight><bold>30</bold></highlight> of the present embodiment at certain intervals (for example, one a month) to update the music data stored in the hard disk <highlight><bold>32</bold></highlight> of the music server system <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0303" lvl="0"><number>&lsqb;0303&rsqb;</number> If the music server system <highlight><bold>30</bold></highlight> and the main server <highlight><bold>10</bold></highlight> are interconnected by a high-speed dedicated line, a usage form is possible in which the music data stored in the hard disk of the main server <highlight><bold>10</bold></highlight> are directly used every time purchase is made. In such usage form, the music server system shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> functions as a music vendor machine so to speak. </paragraph>
<paragraph id="P-0304" lvl="0"><number>&lsqb;0304&rsqb;</number> In another usage example of the music server system <highlight><bold>30</bold></highlight>, the music server system <highlight><bold>30</bold></highlight> may be installed in the home. In this case, the transmission route for transferring music data from the main server <highlight><bold>10</bold></highlight> may be the Internet for example. The digital signal transmission supported by a communication satellite (CS) is also possible for transferring music data. </paragraph>
<paragraph id="P-0305" lvl="0"><number>&lsqb;0305&rsqb;</number> In this case, unlike the above-mentioned music server system <highlight><bold>30</bold></highlight> installed at the store, the music server system in the home may not have the payment collecting section; namely, the payment for the purchased music data may be made by use of the Internet or an existing telephone line for example. To be more specific, the user sends, to the provider for example of the purchased music data, his membership identification information and credit card number by encrypting these information so as to prevent them from leakage. Receiving these information, payment settlement processing such as automatic money transfer from user&apos;s bank account, credit card settlement, or billing for cash payment can be performed. </paragraph>
<paragraph id="P-0306" lvl="0"><number>&lsqb;0306&rsqb;</number> In still another usage form, the user not only purchases music data from music providers (music distributors) but also uses the music server system <highlight><bold>30</bold></highlight> as a system for accumulating and storing already owned music data. In this case, the music server system <highlight><bold>30</bold></highlight> may require to have an encoder for encoding the owned music data, in addition to the capability of reading external recording media. </paragraph>
<paragraph id="P-0307" lvl="0"><number>&lsqb;0307&rsqb;</number> In the music distribution system comprising the main server <highlight><bold>10</bold></highlight> and the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the sub information to be attached to (or imbedded in) music data may include various information such as music information, business entity information such as business entity identifier, and so on. As described before, attaching the business entity information such as business entity identifier to music data allows the provision of such various new services not available before as the movement of music data between recording media. </paragraph>
<paragraph id="P-0308" lvl="0"><number>&lsqb;0308&rsqb;</number> One Example of Service Not Available Before: </paragraph>
<paragraph id="P-0309" lvl="0"><number>&lsqb;0309&rsqb;</number> The following describes the movement of music data between recording media (a move service) which is one of the examples of the new services to be mainly realized by attaching business entity identifiers to music data. The move service becomes necessary in the following situation for example. </paragraph>
<paragraph id="P-0310" lvl="0"><number>&lsqb;0310&rsqb;</number> Recently, various external recording media such as MD and MS for example are available for users. This situation causes demand for the move service when a newly purchased player requires a new type of external recording medium which is different from that used so far. </paragraph>
<paragraph id="P-0311" lvl="0"><number>&lsqb;0311&rsqb;</number> A simple method of directly moving music data by the user may be to copy the music data outputted in the form of an analog signal. This method, however, requires the intervention of so-called A/D and D/A conversion processes, thereby causing deterioration in tone quality. In a method based on digital signals, decoding and encoding processes are required if no match is found in high-efficiency encoding between the recording media for the move service, which also causes deterioration in tone quality. </paragraph>
<paragraph id="P-0312" lvl="0"><number>&lsqb;0312&rsqb;</number> If there is a match between the recording media, direct copying becomes technically practicable without involving deterioration in tone quality, which, by that very fact, causes copyright problems. </paragraph>
<paragraph id="P-0313" lvl="0"><number>&lsqb;0313&rsqb;</number> In terms of tone quality, it is ideal to write the music data encoded on the basis of high-efficiency encoding used in the new recording medium to which the movement of the music data is made. However, if the music data of the source of movement are those purchased through the music server system <highlight><bold>30</bold></highlight> for example, it becomes necessary to repurchase the music data to be recorded to the destination of movement although the same music data were purchased to be recorded to the source recording medium, thereby costing the user again. </paragraph>
<paragraph id="P-0314" lvl="0"><number>&lsqb;0314&rsqb;</number> To solve this problem, it is necessary to determine whether the high-efficiency encoding performed on the music data recorded to the source recording medium was made by the distributor distributing the music data through the music server system <highlight><bold>30</bold></highlight>. If this high-efficiency encoding is found performed by that distributor, it proves that these music data were purchased from that distributor, so that new services may be realized in which the recording of the same music data to a new recording medium is allowed free of charge or less costly than for those users who purchase the music data for the first time, for example. </paragraph>
<paragraph id="P-0315" lvl="0"><number>&lsqb;0315&rsqb;</number> In the case of this first embodiment, as described with reference to <cross-reference target="DRAWINGS">FIGS. 1 and 2</cross-reference>, when the move service in which the music data are moved from the MD loaded in the reader/recorder <highlight><bold>35</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> are moved to an MS loaded in the reader/recorder <highlight><bold>36</bold></highlight> is provided, the business entity identifier is detected by the sub information detector <highlight><bold>39</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> from the music data recorded to the MD. </paragraph>
<paragraph id="P-0316" lvl="0"><number>&lsqb;0316&rsqb;</number> The detected business entity identifier is sent to the main server <highlight><bold>10</bold></highlight> through the main controller <highlight><bold>31</bold></highlight> and the communicator <highlight><bold>40</bold></highlight> along with the music identifier for the music data to be compared in the main server <highlight><bold>10</bold></highlight> with the business entity identifier stored in the business entity identifier memory of the main server <highlight><bold>10</bold></highlight>. If a match is found between these business entity identifiers, then the music data which are identified by the music identifier and formed by the high-efficiency encoding for MS are returned to the requesting music server system <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0317" lvl="0"><number>&lsqb;0317&rsqb;</number> Then, the music data for MS are recorded from the main server <highlight><bold>10</bold></highlight> to the loaded MS through the reader/recorder <highlight><bold>36</bold></highlight> and the music data recorded to the MD loaded in the reader/recorder <highlight><bold>35</bold></highlight> are deleted, thereby completing the music data move service. </paragraph>
<paragraph id="P-0318" lvl="0"><number>&lsqb;0318&rsqb;</number> It should be noted that the music identifier may be attached to the encoding unused bits of the frame of music data (encoded data) along with the business entity identifier or the music identification information recorded to the TOC of MD may be used. In the fee charging processing, a charged amount of money is calculated by the fee charger <highlight><bold>17</bold></highlight> of the main server <highlight><bold>10</bold></highlight> and the calculated amount is sent to the music server system <highlight><bold>30</bold></highlight>, by which the music server system <highlight><bold>30</bold></highlight> confirms the amount of money when the payment is accepted. If the confirmation is successful, the confirmation is sent to the main server <highlight><bold>10</bold></highlight>. When the main server confirms the response by the user to the fee charging, the move service is provided to that user. </paragraph>
<paragraph id="P-0319" lvl="0"><number>&lsqb;0319&rsqb;</number> Operations to be Performed at Movement of Music Data Between Recording Media: </paragraph>
<paragraph id="P-0320" lvl="0"><number>&lsqb;0320&rsqb;</number> The following describes the operations of the music server system <highlight><bold>30</bold></highlight> and the main server <highlight><bold>10</bold></highlight> to be performed at the movement of music data between recording media with reference to the flowcharts shown in <cross-reference target="DRAWINGS">FIGS. 16 and 17</cross-reference>. </paragraph>
<paragraph id="P-0321" lvl="0"><number>&lsqb;0321&rsqb;</number> First, the operation of the music server system <highlight><bold>30</bold></highlight> is described. <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart describing the operation of the music server system <highlight><bold>30</bold></highlight> to be performed at the movement of music data between recording media. </paragraph>
<paragraph id="P-0322" lvl="0"><number>&lsqb;0322&rsqb;</number> The music server system <highlight><bold>30</bold></highlight> accepts the loading (or inserting) of the external recording medium <highlight><bold>19</bold></highlight> (which is an MD) of the user into the reader/recorder <highlight><bold>35</bold></highlight> (step S<highlight><bold>201</bold></highlight>). Next, the music server system <highlight><bold>30</bold></highlight> accepts the specification by the user of the track of music data to be moved from the recording medium <highlight><bold>19</bold></highlight> loaded in the music server system <highlight><bold>30</bold></highlight> (step S<highlight><bold>202</bold></highlight>). </paragraph>
<paragraph id="P-0323" lvl="0"><number>&lsqb;0323&rsqb;</number> The music server system <highlight><bold>30</bold></highlight> accepts the input of the specification information of the music data to be moved (step S<highlight><bold>203</bold></highlight>). On the basis of the information accepted in steps S<highlight><bold>202</bold></highlight> and S<highlight><bold>203</bold></highlight>, the music server system <highlight><bold>30</bold></highlight> reads the specified music data from the loaded external recording medium <highlight><bold>19</bold></highlight> and temporarily stores these music data in the hard disk <highlight><bold>32</bold></highlight> (step S<highlight><bold>204</bold></highlight>). </paragraph>
<paragraph id="P-0324" lvl="0"><number>&lsqb;0324&rsqb;</number> Next, referencing the detection frame number of these music data of the control file shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, the main controller <highlight><bold>31</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> identifies the frame with which the attachment of sub information started to control the sub information detector <highlight><bold>39</bold></highlight>, thereby detecting the sub information such as business entity identifier and so on attached to the music data temporarily stored in the hard disk <highlight><bold>32</bold></highlight> in step S<highlight><bold>204</bold></highlight> (step S<highlight><bold>205</bold></highlight>). </paragraph>
<paragraph id="P-0325" lvl="0"><number>&lsqb;0325&rsqb;</number> In this case, if the sub information such as business entity identifier and music identifier consists of many bits and are attached over two or more frames, then the sub information detector <highlight><bold>39</bold></highlight> or the main controller <highlight><bold>31</bold></highlight> can demodulate (or restore) the business entity identifier and music identifier of the predetermined number of bits from the detected information. </paragraph>
<paragraph id="P-0326" lvl="0"><number>&lsqb;0326&rsqb;</number> Next, the main controller <highlight><bold>31</bold></highlight> sends the information such as the business entity identifier, music identifier, and request for providing the move service for moving music data between recording media detected in step S<highlight><bold>205</bold></highlight> to the main server <highlight><bold>10</bold></highlight> through the communicator <highlight><bold>40</bold></highlight> (step S<highlight><bold>206</bold></highlight>). Subsequently, the main controller of the music server system <highlight><bold>30</bold></highlight> receives the return information such as the permission of movement between recording media and fee charging from the main server <highlight><bold>10</bold></highlight> through the communicator <highlight><bold>40</bold></highlight> (step S<highlight><bold>207</bold></highlight>). On the basis of the received information, the main controller <highlight><bold>31</bold></highlight> determines whether or not the movement of the target music data can be moved between recording media (step S<highlight><bold>208</bold></highlight>). </paragraph>
<paragraph id="P-0327" lvl="0"><number>&lsqb;0327&rsqb;</number> If the movement between recording medium is found enabled in step S<highlight><bold>208</bold></highlight>, then the main controller <highlight><bold>31</bold></highlight> accepts from the user the payment in accordance with the fee charging information supplied from the main server <highlight><bold>10</bold></highlight> and sends a fee charging completion notice to the main server <highlight><bold>10</bold></highlight> (step S<highlight><bold>209</bold></highlight>). Subsequently, the music server system <highlight><bold>30</bold></highlight> receives the music data for MS from the main server <highlight><bold>10</bold></highlight> through the communicator <highlight><bold>40</bold></highlight> (step S<highlight><bold>210</bold></highlight>). </paragraph>
<paragraph id="P-0328" lvl="0"><number>&lsqb;0328&rsqb;</number> Then, the music server system <highlight><bold>30</bold></highlight> records the music data for MS received in step S<highlight><bold>210</bold></highlight> to the external recording medium MS <highlight><bold>20</bold></highlight> loaded in the reader/recorder <highlight><bold>36</bold></highlight> (step S<highlight><bold>211</bold></highlight>) and deletes the music data to be moved between recording media from the external recording medium MD <highlight><bold>19</bold></highlight> loaded in the reader/recorder <highlight><bold>35</bold></highlight> (step S<highlight><bold>212</bold></highlight>), upon which the processing shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> comes to an end. </paragraph>
<paragraph id="P-0329" lvl="0"><number>&lsqb;0329&rsqb;</number> If, in the decision process of step S<highlight><bold>208</bold></highlight>, a mismatch is found between the business entity identifiers and therefore the information indicating that the movement of music data between recording media or message information thereof comes from the main server <highlight><bold>10</bold></highlight>, then, in the decision process of step S<highlight><bold>208</bold></highlight>, the movement between recording media is determined disabled, upon which the music server system <highlight><bold>30</bold></highlight> displays a message telling that the provider of the music data to be moved is different (step S<highlight><bold>213</bold></highlight>) and the processing shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference> comes to an end without moving the music data between recording media. </paragraph>
<paragraph id="P-0330" lvl="0"><number>&lsqb;0330&rsqb;</number> It should be noted that, if the user is not charged for the music data to be moved, then a message telling that there occurs no fee charging may be sent in step S<highlight><bold>209</bold></highlight>, automatically allowing the user to receive from the main server the provision of the music data to be moved. If, in the process of step S<highlight><bold>209</bold></highlight>, the requested payment has not been made by the user, for example, user&apos;s not acknowledging the requested fee charging, then the music server system <highlight><bold>30</bold></highlight> may send a notice of uncompleted fee charging to disable the provision of the music data to be recorded to the MS. </paragraph>
<paragraph id="P-0331" lvl="0"><number>&lsqb;0331&rsqb;</number> The following describes the operation of the main server <highlight><bold>10</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is the flowchart describing the operation of the main server <highlight><bold>10</bold></highlight> to be performed at the movement of music data between recording media. </paragraph>
<paragraph id="P-0332" lvl="0"><number>&lsqb;0332&rsqb;</number> The main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> always receives requests from many music server systems under its control via the communicator <highlight><bold>86</bold></highlight> (step S<highlight><bold>301</bold></highlight>). Then, receiving a request for moving music data between recording media (a move request) from the music server system <highlight><bold>30</bold></highlight>, the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> compares the business entity identifier included in the received information and the business entity identifier stored in the main server <highlight><bold>10</bold></highlight> (step S<highlight><bold>302</bold></highlight>). </paragraph>
<paragraph id="P-0333" lvl="0"><number>&lsqb;0333&rsqb;</number> The business entity identifier included in the information received from the music server system <highlight><bold>30</bold></highlight> is that attached to the music data to be moved between recording media recorded to the MD <highlight><bold>19</bold></highlight>, which is a user&apos;s external recording medium. On the basis of the result of the comparison made in step S<highlight><bold>302</bold></highlight>, the main controller <highlight><bold>81</bold></highlight> determines whether there is a match between these identifiers (step S<highlight><bold>303</bold></highlight>). </paragraph>
<paragraph id="P-0334" lvl="0"><number>&lsqb;0334&rsqb;</number> If a match is found in step S<highlight><bold>303</bold></highlight>, then the main controller <highlight><bold>81</bold></highlight> controls the fee charger <highlight><bold>85</bold></highlight> to calculate an amount of money to be charged for the movement of music data between recording media (step S<highlight><bold>304</bold></highlight>) and sends the information including the calculated amount to the requesting music server system <highlight><bold>30</bold></highlight> (step S<highlight><bold>305</bold></highlight>). </paragraph>
<paragraph id="P-0335" lvl="0"><number>&lsqb;0335&rsqb;</number> Then, the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> waits until the response such as fee charging result information from the music server system <highlight><bold>30</bold></highlight> (step S<highlight><bold>306</bold></highlight>). On the basis of the fee charging result information received in step S<highlight><bold>306</bold></highlight>, the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> determines whether the fee charging has been completed appropriately (step S<highlight><bold>307</bold></highlight>). </paragraph>
<paragraph id="P-0336" lvl="0"><number>&lsqb;0336&rsqb;</number> If the fee charging is found appropriately completed in step S<highlight><bold>307</bold></highlight> in the music server system <highlight><bold>30</bold></highlight>, then the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> extracts the music data to be moved between recording media from the hard disk <highlight><bold>82</bold></highlight> (step S<highlight><bold>308</bold></highlight>) and sends the extracted music data to the requesting music server system <highlight><bold>30</bold></highlight> via the communicator <highlight><bold>86</bold></highlight> (step S<highlight><bold>309</bold></highlight>), upon which the processing shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> comes to an end. </paragraph>
<paragraph id="P-0337" lvl="0"><number>&lsqb;0337&rsqb;</number> If a mismatch is found between the business entity identifiers in step S<highlight><bold>303</bold></highlight>, it indicates that the music data to be moved between recording media recorded to the external recording medium <highlight><bold>19</bold></highlight> loaded in the music server system <highlight><bold>30</bold></highlight> are not those provided by the main server <highlight><bold>10</bold></highlight>, so that the main controller <highlight><bold>81</bold></highlight> sends a message telling that the provider of the music data is different to the music server system <highlight><bold>30</bold></highlight> (step S<highlight><bold>310</bold></highlight>), upon which the processing shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> comes to an end. </paragraph>
<paragraph id="P-0338" lvl="0"><number>&lsqb;0338&rsqb;</number> If the main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> determines in step S<highlight><bold>307</bold></highlight> that the fee charging has not appropriately completed in the music server system <highlight><bold>30</bold></highlight>, then the processing shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> also comes to an end without the provision of the music data. </paragraph>
<paragraph id="P-0339" lvl="0"><number>&lsqb;0339&rsqb;</number> Thus, the music data inputted in the music server system <highlight><bold>30</bold></highlight> can be surely and easily determined by the business entity identification information attached to the encoding unused bits of the music data whether the inputted music data are those provided by the main server <highlight><bold>10</bold></highlight> which performs music data provision to the music server system <highlight><bold>30</bold></highlight> and controls the same. </paragraph>
<paragraph id="P-0340" lvl="0"><number>&lsqb;0340&rsqb;</number> In this first embodiment, only business entity identifiers (or business entity information) are used for the above-mentioned purpose. As described before, the method may be used at the same time in which binary data of corresponding frames are compared with each other between the music data held in the main server <highlight><bold>10</bold></highlight> or the music server system <highlight><bold>30</bold></highlight> and the music data inputted into the music server system <highlight><bold>30</bold></highlight> by the user, thereby determining a match between these binary data. </paragraph>
<paragraph id="P-0341" lvl="0"><number>&lsqb;0341&rsqb;</number> In the above-mentioned first embodiment, the music data to be moved between recording media are provided by the main server <highlight><bold>10</bold></highlight> every time the user wants the movement. However, as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the music server system <highlight><bold>30</bold></highlight> has the hard disk <highlight><bold>32</bold></highlight> and the music data for MS may be stored therein, so that the music server system <highlight><bold>30</bold></highlight> need not be provided with the music data from the main server <highlight><bold>10</bold></highlight> every time the user wants the movement. </paragraph>
<paragraph id="P-0342" lvl="0"><number>&lsqb;0342&rsqb;</number> Namely, the main server <highlight><bold>10</bold></highlight> may perform only the comparison between business entity identifiers, the determination of the result of the comparison (match or mismatch), and the fee charging, the other processing all being left to the music server system <highlight><bold>30</bold></highlight>. In this case, the music data to be moved need not be sent from the main server <highlight><bold>10</bold></highlight> to the music server system <highlight><bold>30</bold></highlight> every time the user requests the movement between recording media, thereby saving communication cost. </paragraph>
<paragraph id="P-0343" lvl="0"><number>&lsqb;0343&rsqb;</number> As described, in the first embodiment, with recording media such as MD which does not have area for recording the sub information such as music creator and music number for example, the music data recorded to an MD may be determined whether they were purchased from a particular distributor by recording the sub information to the unused bits in high-efficiency encoded data, thereby realizing various services by each distributor and, at the same time, the use for data maintenance and security. </paragraph>
<paragraph id="P-0344" lvl="0"><number>&lsqb;0344&rsqb;</number> It should be noted that, in the present embodiment, music identifiers are also attached to encoded data like business entity identifiers. It will be apparent that, for music identifiers, such information that can identify each individual piece of music as recorded to the TOC or another area in a user&apos;s external recording media like MD may also be used. </paragraph>
<paragraph id="P-0345" lvl="0"><number>&lsqb;0345&rsqb;</number> Second Embodiment: </paragraph>
<paragraph id="P-0346" lvl="0"><number>&lsqb;0346&rsqb;</number> In the above-mentioned first embodiment, sub information can be written to encoded data, which are music data. However, if some editing including the division of one piece of music on a recording medium or the combination of pieces of music is made or if a recording medium recorded music data is partially damaged, it becomes difficult to correlate variable i providing a frame number with which the recording of sub information such as business entity identifier started with a detection frame number providing database information as described with reference to <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. The second embodiment is intended to solve this problem. </paragraph>
<paragraph id="P-0347" lvl="0"><number>&lsqb;0347&rsqb;</number> The second embodiment is also described by use of the same music distribution system as with the first embodiment for example. Namely, the music distribution system according to the second embodiment has the configuration described with reference to <cross-reference target="DRAWINGS">FIGS. 1 and 2</cross-reference>. </paragraph>
<paragraph id="P-0348" lvl="0"><number>&lsqb;0348&rsqb;</number> Therefore, with the second embodiment, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on has the configuration described with reference to <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. Each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) has the configuration shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> and the control table file shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. Hence, in the description of the second embodiment, <cross-reference target="DRAWINGS">FIGS. 1 through 17</cross-reference> used for the description of the first embodiment will also be used as required. </paragraph>
<paragraph id="P-0349" lvl="0"><number>&lsqb;0349&rsqb;</number> As described, the main server and music server systems of the music distribution system of the second embodiment are configured in substantially the same manner as those of the first embodiment except that the writing of sub information to be performed in the encoder <highlight><bold>80</bold></highlight> of the main server <highlight><bold>10</bold></highlight> is different from that of the first embodiment. </paragraph>
<paragraph id="P-0350" lvl="0"><number>&lsqb;0350&rsqb;</number> As described before, generally, in the high-efficiency encoding based on ATRAC, the bits are allocated to unit blocks as far as possible by the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, so that the value of encoding unused bit REM described before often becomes less than the minimum value of the number of spectrum data SPk of k-th unit block indicated by format. </paragraph>
<paragraph id="P-0351" lvl="0"><number>&lsqb;0351&rsqb;</number> If it is assumed here that the number of spectrum data SPk be 4, then the value of encoding unused bit REM take 3, 2, 1, or 0. This value of encoding unused bit REM can be detected also in decoding, so that this value makes it possible to make distinction between a frame to which information is written and a control frame indicative of the start and end points of information writing. The following describes a specific example in which a frame is regarded as a control frame when the value of encoding unused bit REM is 3. </paragraph>
<paragraph id="P-0352" lvl="0"><number>&lsqb;0352&rsqb;</number> If the value of encoding unused bit REM is 3, it indicates that there are 3 encoding unused bits, so that the control data of types permitted in a range of 3 bits can be determined. This example is shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. In the example shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, &ldquo;001&rdquo; is the start point of business entity identification data, &ldquo;010&rdquo; is the start point of music identification data, &ldquo;101&rdquo; is the end point of business entity identification data, &ldquo;110&rdquo; is the end point of music identification data, and &ldquo;000&rdquo; has no significance. </paragraph>
<paragraph id="P-0353" lvl="0"><number>&lsqb;0353&rsqb;</number> The following describes in detail, with reference to the flowchart shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the operation of the encoder <highlight><bold>80</bold></highlight> (the encoder <highlight><bold>11</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>) shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> in the case where a frame is regarded as a control frame when the value of encoding unused bit REM is <highlight><bold>3</bold></highlight>. Referring to <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, variable i is a counter value indicative of a frame number, variable w_done indicates how many bits of sub information were written, and encoding unused bit REM(i) indicates the value of encoding unused bit REM of i-th frame, all being the same as those used in the flowchart shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. </paragraph>
<paragraph id="P-0354" lvl="0"><number>&lsqb;0354&rsqb;</number> In the flowchart shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, variable w_flag is used as a flag variable indicative of whether data writing is being made or not, in addition to the above-mentioned variables. </paragraph>
<paragraph id="P-0355" lvl="0"><number>&lsqb;0355&rsqb;</number> As with the processing shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the processing shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference> starts in the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> when the high-efficiency encoding on audio PCM data starts. First, the sub information writer <highlight><bold>130</bold></highlight> initializes variable i to 0 (step S<highlight><bold>401</bold></highlight>) and variables w_done and w_flag to 0 (in step S<highlight><bold>402</bold></highlight>). </paragraph>
<paragraph id="P-0356" lvl="0"><number>&lsqb;0356&rsqb;</number> Next, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> determines whether there still remain the audio PCM data to be encoded (step S<highlight><bold>403</bold></highlight>). In this step S<highlight><bold>403</bold></highlight>, if audio PCM data are processed in units of 512 samples for example, how many samples of a source audio PCM file has been processed is monitored to determine whether all of the audio PCM data subject to high-efficiency encoding have been processed. </paragraph>
<paragraph id="P-0357" lvl="0"><number>&lsqb;0357&rsqb;</number> If the audio PCM data subject to high-efficiency encoding are found all processed in step S<highlight><bold>403</bold></highlight>, then the processing shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference> comes to an end. If the audio PCM data subject to high-efficiency encoding are found not all processed in step S<highlight><bold>403</bold></highlight>, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> performs high-efficiency encoding on the audio PCM data (step S<highlight><bold>404</bold></highlight>). </paragraph>
<paragraph id="P-0358" lvl="0"><number>&lsqb;0358&rsqb;</number> In the high-efficiency encoding executed in step S<highlight><bold>404</bold></highlight>, the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> forms the encoded data shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> and calculates encoding unused bit REM(i) for each frame. Subsequently, the sub information writer <highlight><bold>130</bold></highlight> determines whether variable i is greater than a predetermined initial shift for example (step S<highlight><bold>405</bold></highlight>). As described before, the initial shift is value to be predetermined for recording sub information, thereby determining a frame with which the recording (or attachment) of sub information starts. </paragraph>
<paragraph id="P-0359" lvl="0"><number>&lsqb;0359&rsqb;</number> If the specified frame is found not reached in step S<highlight><bold>405</bold></highlight>, then variable i is incremented (step S<highlight><bold>417</bold></highlight>), upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. It should be noted that the incrementing of variable i in step S<highlight><bold>417</bold></highlight> denotes the incrementing of the number of frames. Notation of i&plus;&plus;in step S<highlight><bold>417</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference> denotes the incrementing of variable i. </paragraph>
<paragraph id="P-0360" lvl="0"><number>&lsqb;0360&rsqb;</number> If the specified frame is found reached in step S<highlight><bold>405</bold></highlight>, then it is determined whether variable w_flag is 0 or not (step S<highlight><bold>406</bold></highlight>) If variable w_flag is found 0, then it is determined whether encoding unused bit REM(i) is 3 or not (step S<highlight><bold>407</bold></highlight>). </paragraph>
<paragraph id="P-0361" lvl="0"><number>&lsqb;0361&rsqb;</number> If encoding unused bit REM(i) is found 3 in step S<highlight><bold>407</bold></highlight>, namely if 3 encoding unused bits are found not occurring, then the procedure goes to step S<highlight><bold>417</bold></highlight> to increment the number of frames i, upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. </paragraph>
<paragraph id="P-0362" lvl="0"><number>&lsqb;0362&rsqb;</number> On the contrary, if encoding unused bit REM(i) is found 3 in step S<highlight><bold>407</bold></highlight>, variable w_flag is set to 1 (step S<highlight><bold>408</bold></highlight>). In the process of step S<highlight><bold>408</bold></highlight>, variable w_flag is turned on to enable the writing of the sub information to that frame. </paragraph>
<paragraph id="P-0363" lvl="0"><number>&lsqb;0363&rsqb;</number> Subsequently, write data are selected from the candidates of business entity identification data and music identification data for example (step S<highlight><bold>409</bold></highlight>). In this case, if the write data are of two types of business entity identification data and music identification data, the selection may be made so as to write these data alternately. </paragraph>
<paragraph id="P-0364" lvl="0"><number>&lsqb;0364&rsqb;</number> Next, a start point control code corresponding to the write data selected in step S<highlight><bold>409</bold></highlight> (step S<highlight><bold>410</bold></highlight>). In the process of step S<highlight><bold>410</bold></highlight>, the start point control code corresponding to the write data selected in step S<highlight><bold>409</bold></highlight> is identified among 3-digit codes shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference> and the identified start point control code is written to 3 encoding unused bits REM(i). </paragraph>
<paragraph id="P-0365" lvl="0"><number>&lsqb;0365&rsqb;</number> Therefore, in step S<highlight><bold>410</bold></highlight>, if business entity identification data for example were selected in step S<highlight><bold>409</bold></highlight>, data &ldquo;001&rdquo; are written in accordance with <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. Then, in step S<highlight><bold>417</bold></highlight>, the number of frames i is incremented, upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. </paragraph>
<paragraph id="P-0366" lvl="0"><number>&lsqb;0366&rsqb;</number> On the other hand, if variable w_flag is found not 0 in step S<highlight><bold>406</bold></highlight>, namely variable w_flag is 1 and the start point control code corresponding to the selected write data was written to the encoded data, then it is determined whether encoding unused bit REM(i) is 1 or 2 (greater than 0 but less than 3) (step S<highlight><bold>411</bold></highlight>). </paragraph>
<paragraph id="P-0367" lvl="0"><number>&lsqb;0367&rsqb;</number> If encoding unused bit REM(i) is found not 1 or 2 in step S<highlight><bold>411</bold></highlight>, then the procedure goes to step S<highlight><bold>417</bold></highlight> to increment the number of frames i, upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. If encoding unused bit REM(i) is found 1 or 2 in step S<highlight><bold>411</bold></highlight>, then the lower REM(i) bits of the write data which are sub information are written to the encoding unused bits of the encoded data (step S<highlight><bold>412</bold></highlight>). </paragraph>
<paragraph id="P-0368" lvl="0"><number>&lsqb;0368&rsqb;</number> Subsequently, the write data after writing are shifted downward by REM(i) bits (step S<highlight><bold>413</bold></highlight>). In the example shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the lower bits of the write data are always written in steps S<highlight><bold>412</bold></highlight> and S<highlight><bold>413</bold></highlight>; it will be apparent that, if integrity is secured, this writing may be performed in any other manner. Therefore, the write data may be written starting with its upper bits to the encoding unused bits of encoded data. </paragraph>
<paragraph id="P-0369" lvl="0"><number>&lsqb;0369&rsqb;</number> Next, as the number of bits processed, namely the number of bits of the write data written to the encoded data, encoding unused bits REM(i) are added to variable w_done (step S<highlight><bold>414</bold></highlight>). Subsequently, it is determined whether the bit length of the write data is equal to or less than variable w_done to determine how many bits of the write data which are sub information has been recorded (step S<highlight><bold>415</bold></highlight>). </paragraph>
<paragraph id="P-0370" lvl="0"><number>&lsqb;0370&rsqb;</number> If the bit length of the write data is found not equal to or less than variable w_done in step S<highlight><bold>415</bold></highlight>, then the procedure goes to step S<highlight><bold>417</bold></highlight> to increment the number of frames i, upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. Alternatively, if the bit length of the write data is equal to or less than variable w_done, namely if all bits of the write data are found written to the encoded data, then variables w_done and w_flag are initialized to 0 (step S<highlight><bold>416</bold></highlight>) and then the procedure goes to step S<highlight><bold>417</bold></highlight> to increment the number of frames i, upon which the processing starting with step S<highlight><bold>403</bold></highlight> is repeated. </paragraph>
<paragraph id="P-0371" lvl="0"><number>&lsqb;0371&rsqb;</number> It should be noted that, in the processing shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the writing of the end point control data shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is not performed. This is because, if the bit length of the write data which are sub information is predetermined, the bit length is detectable at the time of decoding. </paragraph>
<paragraph id="P-0372" lvl="0"><number>&lsqb;0372&rsqb;</number> However, if the writing of end point control data is to be performed, a frame may be detected of which encoding unused bit REM(i) is 3 after the frame on which the processing of step S<highlight><bold>416</bold></highlight> ended and the end point control code may be written to the detected frame in the same manner as the start point control code. </paragraph>
<paragraph id="P-0373" lvl="0"><number>&lsqb;0373&rsqb;</number> Although not described as a step in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, it is assumed that 212-byte data for one frame be initialized to 0 before encoding and, if the processes of steps <highlight><bold>410</bold></highlight> and <highlight><bold>412</bold></highlight> are not performed, the data corresponding to the encoding unused bit REM(i) be 0. </paragraph>
<paragraph id="P-0374" lvl="0"><number>&lsqb;0374&rsqb;</number> In the method shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the number of times the write data which are sub information have been written depends on the number of variables i. However, the number of times the write data have been written and the number of times the data have not finally been written may be recorded the inform of a log output for example. </paragraph>
<paragraph id="P-0375" lvl="0"><number>&lsqb;0375&rsqb;</number> For example, this log output indicates, for example, in music X, 8-bit business entity identification data have been written 12 times, 64-bit music identification data have been written 11 times, and the start point code of music identification data has been written in the proximity of a final frame, but the music identification data themselves could not be written. </paragraph>
<paragraph id="P-0376" lvl="0"><number>&lsqb;0376&rsqb;</number> This log output information allows to correctly understand what kind of information has been recorded to music X and how many times information has been recorded to music X. It should be noted that the log output information may be held in the main server <highlight><bold>10</bold></highlight> to be provided on demand from the music server system <highlight><bold>30</bold></highlight>. Alternatively, as with music data, the log output information may be provided to the music server system <highlight><bold>30</bold></highlight> beforehand to be managed thereby. </paragraph>
<paragraph id="P-0377" lvl="0"><number>&lsqb;0377&rsqb;</number> Use of the method described with reference to <cross-reference target="DRAWINGS">FIG. 19</cross-reference> allows the recording of sub information into encoded data and the data for identifying the start point of the sub information into the encoded data. Consequently, the sub information detector <highlight><bold>39</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> can detect a frame in which REM is 3 by use of the above-mentioned method of calculating encoding unused bit REM and, if the information recorded to the encoding unused bit REM portion of that frame is found a start point control code, sequentially detects the data starting with that start point control code, thereby realizing quick and secure detection of sub information. </paragraph>
<paragraph id="P-0378" lvl="0"><number>&lsqb;0378&rsqb;</number> According to this method, sub information can be detected more securely even if some editing as typically represented by the division of music data on a recording medium is performed or the recording medium is partially damaged. </paragraph>
<paragraph id="P-0379" lvl="0"><number>&lsqb;0379&rsqb;</number> If only the log information such as mentioned above, namely that, in music X, 8-bit business entity identification data have been written 12 times, 64-bit music identification data have been written 11 times, and the start point code of music identification data has been written in the proximity of a final frame, both the detected business entity identification data and music identification data may be determined highly reliable in the case where the same business entity identification data have been detected 10 times and the music identification data have been detected 10 times. </paragraph>
<paragraph id="P-0380" lvl="0"><number>&lsqb;0380&rsqb;</number> As described, if all the business entity identification data and music identification data to be attached two or more times have not been detected, it can be determined with little error that the corresponding music data are what indicated by the music identification data and purchased by the business entity indicated by the business entity identification data. It should be noted that the ratio of matching with the detected data has some degree of freedom and therefore may be set for each business entity by considering the influences of editing and data damage. </paragraph>
<paragraph id="P-0381" lvl="0"><number>&lsqb;0381&rsqb;</number> As with the first embodiment, the encoding unused bits are used for start and end control codes and sub information in the second embodiment, so that the PCM data generated by decoding by the decoder described with reference to <cross-reference target="DRAWINGS">FIG. 7</cross-reference> are not affected in any manner. </paragraph>
<paragraph id="P-0382" lvl="0"><number>&lsqb;0382&rsqb;</number> Thus, in the second embodiment, as with the first embodiment, with recording media such as MD which have not area for recording the sub information such as music creator and music number for example, use of the encoding unused bits of the high-efficiency encoded data allows to attach sub information to these high-efficiency encoded data. </paragraph>
<paragraph id="P-0383" lvl="0"><number>&lsqb;0383&rsqb;</number> By making distinction between a frame to which information is written and a control frame indicative of the start and end points of information writing in accordance with the number of encoding unused bits, the sub information may be detected even if some editing as typically represented by the division of music data on a recording medium is performed or the recording medium is partially damaged. </paragraph>
<paragraph id="P-0384" lvl="0"><number>&lsqb;0384&rsqb;</number> On the basis of the matching ratio of the detected sub information, whether or not the music data recorded to a recording medium was purchased from a particular business entity can be determined, thereby realizing the provision of various services to distributors and the application to data maintenance and security. </paragraph>
<paragraph id="P-0385" lvl="0"><number>&lsqb;0385&rsqb;</number> Use of different control codes in accordance with sub information facilitates the separation and extraction of sub information of plural types. </paragraph>
<paragraph id="P-0386" lvl="0"><number>&lsqb;0386&rsqb;</number> Third Embodiment: </paragraph>
<paragraph id="P-0387" lvl="0"><number>&lsqb;0387&rsqb;</number> In the above-mentioned first and second embodiments, sub information is written to the encoding unused bit REM of the encoded data formed by high-efficiency encoding; namely the first and second embodiments presupposes the generation of encoding unused bits. </paragraph>
<paragraph id="P-0388" lvl="0"><number>&lsqb;0388&rsqb;</number> However, the encoding unused bit REM is generated as a result of bit allocation determined by the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> and therefore the probability of the generation is arbitrary. Hence, the quantity of the writing of sub information which can be written (the number of times the writing is made) depends on particular pieces of music. Generally, as the play time (the time necessary for reproduction) of a piece of music becomes longer, the writing quantity (the number of times the writing is made) increases. </paragraph>
<paragraph id="P-0389" lvl="0"><number>&lsqb;0389&rsqb;</number> With pieces of music having an almost equal play time, it is a general tendency that the sub information writing quantities (the number of times the writing is made) do not extremely differ from one another. However, when encoding steady special tone signals for example, it is possible that the pattern of generating encoding unused bits be extremely running short or excessive. </paragraph>
<paragraph id="P-0390" lvl="0"><number>&lsqb;0390&rsqb;</number> In the high-efficiency encoding method used in the first and second embodiments, bit allocation is made to spectrum data in a comparatively simple form. In the case where complicated encoding has been made as with so-called variable-length encoding, it is possible for the pattern of generating encoding unused bit to become special. </paragraph>
<paragraph id="P-0391" lvl="0"><number>&lsqb;0391&rsqb;</number> Thus, depending on pieces of music to be high-efficiency encoded or the different in high-efficiency encoding algorithms used, there occurs a difference between the generating forms of encoding unused bit, resulting in a possibility that some pieces of music in which a sufficient amount of additional data cannot be written (or attached) to the encoded data occur. </paragraph>
<paragraph id="P-0392" lvl="0"><number>&lsqb;0392&rsqb;</number> To cope with such a situation, the information such as the number of times sub information is attached to encoded data and the manner of the attachment is provided in the form of a log out in the second embodiment. However, the use of the log information provided when sub information is attached to encoded data at the time of detecting the sub information from the encoded data cannot enhance the reliability of the sub information itself attached to the encoded data. </paragraph>
<paragraph id="P-0393" lvl="0"><number>&lsqb;0393&rsqb;</number> Therefore, in the third embodiment, in order to positively generate desired encoding unused bit in encoded data, the parameters of the high-efficiency encoding apparatus (or the high-efficiency encoder) are changed to redo the encoding, thereby compensating the shortage of sub information writing quantity (the number of times the writing is made). </paragraph>
<paragraph id="P-0394" lvl="0"><number>&lsqb;0394&rsqb;</number> The third embodiment is also described by use of the same music distribution system as with the first and second embodiments for example. Namely, the music distribution system according to this third embodiment has the configuration described with reference to <cross-reference target="DRAWINGS">FIGS. 1 and 2</cross-reference>. </paragraph>
<paragraph id="P-0395" lvl="0"><number>&lsqb;0395&rsqb;</number> Therefore, with the third embodiment, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on has the configuration described with reference to <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. Each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) has the configuration shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> and the control table file shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. Hence, in the description of the third embodiment, <cross-reference target="DRAWINGS">FIGS. 1 through 17</cross-reference> used for the description of the first embodiment and <cross-reference target="DRAWINGS">FIGS. 18 and 19</cross-reference> used for the description of the second embodiment will also be used as required. </paragraph>
<paragraph id="P-0396" lvl="0"><number>&lsqb;0396&rsqb;</number> As described, the main server and music server systems of the music distribution system of the third embodiment are configured in substantially the same manner as those of the first and second embodiments except that the writing of sub information to be performed in the encoder <highlight><bold>80</bold></highlight> of the main server <highlight><bold>10</bold></highlight> is different from those of the first and second embodiments. </paragraph>
<paragraph id="P-0397" lvl="0"><number>&lsqb;0397&rsqb;</number> Now, the third embodiment will be specifically described with reference to <cross-reference target="DRAWINGS">FIG. 20</cross-reference>. <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a block diagram illustrating the processes up to the outputting of a PCM file as a high-efficiency encoded file. Namely, <cross-reference target="DRAWINGS">FIG. 20</cross-reference> shows, in process blocks, the encoder <highlight><bold>80</bold></highlight> of the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> comprising the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> and the sub information writer <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. </paragraph>
<paragraph id="P-0398" lvl="0"><number>&lsqb;0398&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, when the encoder <highlight><bold>80</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is put in blocks for each process, the encoder has a PCM file selector <highlight><bold>141</bold></highlight>, a PCM data input section <highlight><bold>142</bold></highlight>, a high-efficiency encoder <highlight><bold>143</bold></highlight>, a sub information writer <highlight><bold>144</bold></highlight>, an encoded data output section <highlight><bold>145</bold></highlight>, and an encoded file selector <highlight><bold>146</bold></highlight>. A controller <highlight><bold>140</bold></highlight> in the encoder <highlight><bold>80</bold></highlight> controls the other components therein. The main controller <highlight><bold>81</bold></highlight> of the main server <highlight><bold>10</bold></highlight> may play the role of this controller <highlight><bold>140</bold></highlight> as required. </paragraph>
<paragraph id="P-0399" lvl="0"><number>&lsqb;0399&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, all processing sections are connected to the controller <highlight><bold>140</bold></highlight> to be controlled thereby. The PCM file selector <highlight><bold>141</bold></highlight> selects a PCM file to be processed from among the PCM files recorded to a recording medium such as a hard disk for example. </paragraph>
<paragraph id="P-0400" lvl="0"><number>&lsqb;0400&rsqb;</number> The data of the PCM file selected by the PCM file selector <highlight><bold>141</bold></highlight> are read by the PCM data input section <highlight><bold>142</bold></highlight> on a frame processing basis. This frame processing unit is equivalent to 1024 samples of PCM data for example which are required for forming one frame (212 bytes) of encoded data as described before. The one frame of PCM data read by the PCM data input section <highlight><bold>142</bold></highlight> are supplied to the high-efficiency encoder <highlight><bold>143</bold></highlight>. </paragraph>
<paragraph id="P-0401" lvl="0"><number>&lsqb;0401&rsqb;</number> The high-efficiency encoder <highlight><bold>143</bold></highlight>, equivalent to the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, actually performs high-efficiency encoding on the supplied PCM data, the internal configuration of this encoder being as shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. The high-efficiency encoder <highlight><bold>143</bold></highlight> outputs encoded data, which are supplied to the sub information writer <highlight><bold>144</bold></highlight>. </paragraph>
<paragraph id="P-0402" lvl="0"><number>&lsqb;0402&rsqb;</number> The sub information writer <highlight><bold>144</bold></highlight>, equivalent to the sub information writer <highlight><bold>130</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, writes sub information to the encoded data outputted from the high-efficiency encoder <highlight><bold>143</bold></highlight> at the encoding unused bit portion of a frame in which encoding unused bits occur on the basis of the encoding unused bit REM from the high-efficiency encoder <highlight><bold>143</bold></highlight>. </paragraph>
<paragraph id="P-0403" lvl="0"><number>&lsqb;0403&rsqb;</number> The encoded data outputted from the sub information writer <highlight><bold>144</bold></highlight> are outputted through the encoded data output section <highlight><bold>145</bold></highlight> on a frame basis and supplied to the encoded file selector <highlight><bold>146</bold></highlight> to be written to an encoded file. The encoded file selector <highlight><bold>146</bold></highlight> determines the name of a write file in which the encoded data are stored, finally generating that file. </paragraph>
<paragraph id="P-0404" lvl="0"><number>&lsqb;0404&rsqb;</number> It should be noted that the processing from the PCM data input section <highlight><bold>142</bold></highlight> up to the encoded data output section <highlight><bold>145</bold></highlight> which are enclosed by dashed lines as shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is executed on the basis of the processing described in the second embodiment with reference to the flowchart shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>. Namely, the inputting of a PCM file into the PCM data input section <highlight><bold>142</bold></highlight> is equivalent to the start in <cross-reference target="DRAWINGS">FIG. 19</cross-reference> and the outputting of the encoded file from the encoded data output section <highlight><bold>145</bold></highlight> is equivalent to the end in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>. </paragraph>
<paragraph id="P-0405" lvl="0"><number>&lsqb;0405&rsqb;</number> Although not shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, the output of the status log associated with the writing of sub information is sent from the sub information writer <highlight><bold>144</bold></highlight> to the controller <highlight><bold>140</bold></highlight> as described above. On the basis of this log output, the controller <highlight><bold>140</bold></highlight> counts and controls the writing quantity (the number of times the writing has been made) of the written sub information between the inputting of the PCM file and the outputting of the encoded file. </paragraph>
<paragraph id="P-0406" lvl="0"><number>&lsqb;0406&rsqb;</number> If the final writing quantity is found by the controller <highlight><bold>140</bold></highlight> not sufficient as the sub information writing quantity, then the controller <highlight><bold>140</bold></highlight> directs the PCM file selector <highlight><bold>141</bold></highlight> to reselect a PCM file by encoding this file again without causing the encoded file selector <highlight><bold>146</bold></highlight> to function. At this moment, the controller <highlight><bold>140</bold></highlight> causes a parameter setter <highlight><bold>147</bold></highlight> to determine parameters for high-efficiency encoding, thereby controlling the components so that the PCM file is encoded again. </paragraph>
<paragraph id="P-0407" lvl="0"><number>&lsqb;0407&rsqb;</number> Thus, by redoing high-efficiency encoding by changing its parameters until a predetermined quantity (or predetermined number of times) of sub information has been attached to the encoded data formed by performing high-efficiency encoding on PCM data, a predetermined quantity of sub information can be attached to the encoded data formed by performing high-efficiency encoding on any PCM data. </paragraph>
<paragraph id="P-0408" lvl="0"><number>&lsqb;0408&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a flowchart describing the processing to be executed in the encoder <highlight><bold>80</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, the processing being executed under the control of the controller <highlight><bold>140</bold></highlight>. First, under the control of the controller <highlight><bold>140</bold></highlight>, the PCM file selector <highlight><bold>141</bold></highlight> selects a PCM file of the PCM data to be high-efficiency encoded (step S<highlight><bold>501</bold></highlight>). </paragraph>
<paragraph id="P-0409" lvl="0"><number>&lsqb;0409&rsqb;</number> The process of step S<highlight><bold>501</bold></highlight> is executed in combination with the process of step S<highlight><bold>505</bold></highlight> to be described later. To be more specific, if the processing is realized by software, the user of the main server <highlight><bold>10</bold></highlight> selects beforehand plural PCM files to be processed by first selecting them or by specifying the directory having these files, which will be automatically selected one by one in a desired order. </paragraph>
<paragraph id="P-0410" lvl="0"><number>&lsqb;0410&rsqb;</number> Next, the selected PCM files are processed as shown in the flowchart of <cross-reference target="DRAWINGS">FIG. 19</cross-reference> as with the above-mentioned second embodiment, thereby attaching sub information to the encoded data (step S<highlight><bold>502</bold></highlight>). The process of step S<highlight><bold>502</bold></highlight> is executed in the portion between the PCM data input section <highlight><bold>142</bold></highlight> and the encoded data output section <highlight><bold>145</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>. </paragraph>
<paragraph id="P-0411" lvl="0"><number>&lsqb;0411&rsqb;</number> Subsequently, the controller <highlight><bold>140</bold></highlight> determines whether the sub information has been written to the encoded data (step S<highlight><bold>503</bold></highlight>). In the process of step S<highlight><bold>503</bold></highlight>, a simple comparison with the predetermined specified count may be performed by outputting the writing status of the sub information from the sub information writer shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> to cause the controller <highlight><bold>140</bold></highlight> to count the number of times the writing of additional data has ended. </paragraph>
<paragraph id="P-0412" lvl="0"><number>&lsqb;0412&rsqb;</number> If the sub information are found written to the encoded data by the specified number of times in step S<highlight><bold>503</bold></highlight>, then the resultant encoded data are put in a file (step S<highlight><bold>504</bold></highlight>). The process of step S<highlight><bold>504</bold></highlight> is equivalent to the process to be executed by the encoded file selector <highlight><bold>146</bold></highlight>, in which a desired file name is given for file closing, performing the final output as the encoded file. </paragraph>
<paragraph id="P-0413" lvl="0"><number>&lsqb;0413&rsqb;</number> After step S<highlight><bold>504</bold></highlight>, it is determined whether there still remain PCM files to be processed (step S<highlight><bold>505</bold></highlight>). If no PCM file to be processed is found, the processing shown in <cross-reference target="DRAWINGS">FIG. 21</cross-reference> comes to an end. If a PCM file to be processed is found in step S<highlight><bold>505</bold></highlight>, the processing starting with step S<highlight><bold>501</bold></highlight> is performed on the remaining PCM file. </paragraph>
<paragraph id="P-0414" lvl="0"><number>&lsqb;0414&rsqb;</number> If the sub information is found not written to the encoded data the specified number of times or more in step S<highlight><bold>503</bold></highlight>, namely if the sub information could not be written the specified number of times or more by the first process for writing the sub information to the encoded data, the controller <highlight><bold>140</bold></highlight> controls the parameter setter <highlight><bold>147</bold></highlight> to change parameters in the high-efficiency encoding process used in the high-efficiency encoder <highlight><bold>143</bold></highlight> (step S<highlight><bold>506</bold></highlight>) and executes the process of step S<highlight><bold>502</bold></highlight> again, thereby redoing high-efficiency encoding and sub information writing. </paragraph>
<paragraph id="P-0415" lvl="0"><number>&lsqb;0415&rsqb;</number> Thus, by changing parameters for use in high-efficiency encoding to positively generate encoding unused bit REM, sub information can be written (attached) to the encoded data the specified number of times or more. </paragraph>
<paragraph id="P-0416" lvl="0"><number>&lsqb;0416&rsqb;</number> Changing Parameters: </paragraph>
<paragraph id="P-0417" lvl="0"><number>&lsqb;0417&rsqb;</number> The following describes the specific contents of the parameter changing of step S<highlight><bold>506</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 21</cross-reference>, which is executed by the parameter setter <highlight><bold>147</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>. </paragraph>
<paragraph id="P-0418" lvl="0"><number>&lsqb;0418&rsqb;</number> The reason why sub information cannot be written the specified number of times or more is that the number of encoding unused bits are running short as described before. This problem can be solved by intentionally creating encoding unused bits. </paragraph>
<paragraph id="P-0419" lvl="0"><number>&lsqb;0419&rsqb;</number> The intentional creation of encoding unused bits can be realized by causing the bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> to limit the number of usable bits. As described before, the bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> calculates the bit allocation quantity for each unit block by considering existing effects such as so-called masking effect, minimum audible curve and equal loudness curve associated with human auditory sense for example. </paragraph>
<paragraph id="P-0420" lvl="0"><number>&lsqb;0420&rsqb;</number> This calculation of bit allocation quantity is executed so that the bit allocation within one frame and the bit usage quantity involved therein are limited to within 1696 bits in accordance with the format shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. In other words, the total actual number of bits Bsum for use in encoding described before is calculated so that Bsum becomes equal to or less than 1696. </paragraph>
<paragraph id="P-0421" lvl="0"><number>&lsqb;0421&rsqb;</number> To be more specific, normally, 1696 is set as the upper limit to the bit allocation calculator <highlight><bold>118</bold></highlight> of the high-efficiency encoding apparatus <highlight><bold>120</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. By changing this value to 1693 for example, a minimum of 3 encoding unused bits can be intentionally created with reliability. Namely, the parameter setter <highlight><bold>147</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> sets as a parameter the upper limit to the bit allocation calculator <highlight><bold>118</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0422" lvl="0"><number>&lsqb;0422&rsqb;</number> In the third embodiment, 1696 is normally set. If sub information cannot be written often enough and encoding is required again, this value may be changed to 1693 or 1694 for example to intentionally create encoding unused bits, thereby allocating a sub information writing area. </paragraph>
<paragraph id="P-0423" lvl="0"><number>&lsqb;0423&rsqb;</number> A value to be actually set can be obtained by analyzing the log output obtained when the data are encoded once with an upper limit of 1696, which will result in more accurate processing. This upper limit need not be always constant for a given file; namely, it may be changed for each frame. </paragraph>
<paragraph id="P-0424" lvl="0"><number>&lsqb;0424&rsqb;</number> Generally, as the number of encoding unused bits increases, tone quality is affected more seriously. In consideration of this fact, if sub information can be found, by the log output from the sub information writer <highlight><bold>144</bold></highlight>, written often enough to the first half of a certain file during its processing by the parameter setter <highlight><bold>147</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, then the controller <highlight><bold>140</bold></highlight> subsequently returns, on the basis of this result, the parameter to a normal value of 1696, thereby minimizing the effects to tone quality. </paragraph>
<paragraph id="P-0425" lvl="0"><number>&lsqb;0425&rsqb;</number> It should be noted that the parameter setting is performed only when, for a file to be processed, the sub information could not be written often enough after encoding of the file, by feeding back the result of the writing. However, if the speed of encoding is preferred without much considering the effects to tone quality, parameter setting may be performed so that the upper limit of the number of usable bits is lowered beforehand to securely write sub information by a single process. </paragraph>
<paragraph id="P-0426" lvl="0"><number>&lsqb;0426&rsqb;</number> In the third embodiment, the writing of sub information the specified number of times or more is made on the basis of the absolute quantity of the writing count in the process of step S<highlight><bold>503</bold></highlight> of the processing shown in <cross-reference target="DRAWINGS">FIG. 21</cross-reference>. This reference condition may be further divided such that sub information is written some times in a minute for example, thereby controlling the writing accuracy of sub information to enhance the matching accuracy at decoding of the sub information without being dependent on individual music data. </paragraph>
<paragraph id="P-0427" lvl="0"><number>&lsqb;0427&rsqb;</number> So far, the writing of sub information has been described herein on the presupposition that the number of encoding unused bits is 0 to 3. By performing the above-mentioned parameter setting for use in high-efficiency encoding, it is highly possible to occur 4 or more encoding unused bits. </paragraph>
<paragraph id="P-0428" lvl="0"><number>&lsqb;0428&rsqb;</number> In this case, for example, if the number of encoding unused bits which is 4 or more is an even number, it may be handled in the same manner as 2 encoding unused bits; if the number is an odd number, it may be handled in the same manner as 3 encoding unused bits. Predetermining the use of bits as this allows the control and writing of sub information for any number of encoding unused bits. </paragraph>
<paragraph id="P-0429" lvl="0"><number>&lsqb;0429&rsqb;</number> Generally, the number of encoding unused bits and its handling are arbitrary; therefore, they may be set by analyzing the nature and trend of encoded format to find a most efficient manner of sub information writing. </paragraph>
<paragraph id="P-0430" lvl="0"><number>&lsqb;0430&rsqb;</number> In the third embodiment, for the sub information written to encoded data, encoding unused bits are also used as described above, so that the PCM data generated by decoding by the decoder shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> are not affected in any manner. </paragraph>
<paragraph id="P-0431" lvl="0"><number>&lsqb;0431&rsqb;</number> Thus, according to the third embodiment, even with recording media such as MD which have no area for recording beforehand the information indicative of sub information such as music creator and music number for example, securely allocating the unused bits of high-efficiency encoded data can construct a system for writing the sub information to more than a certain degree of quantity regardless of the nature of music data. Consequently, a level index associated with the attachment of the sub information of a level independent of the nature of music data can be secured for the reading of the sub information from a recording medium, thereby providing an effective means for providing various services to distributors. </paragraph>
<paragraph id="P-0432" lvl="0"><number>&lsqb;0432&rsqb;</number> Fourth Embodiment: </paragraph>
<paragraph id="P-0433" lvl="0"><number>&lsqb;0433&rsqb;</number> In the above-mentioned first, second, and third embodiments, at least the comparison between business entity identifiers, the determination of comparison result, and the fee charging processing are executed by the main server. However, these processing operations may also be executed by each music server system. In the fourth embodiment, the comparison between business entity identifiers, the determination of comparison result, and the fee charging processing are executed in each music server system. </paragraph>
<paragraph id="P-0434" lvl="0"><number>&lsqb;0434&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> is a block diagram illustrating the outline of a music distribution system and the outline of a main server system according to the fourth embodiment. <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is a block diagram illustrating an exemplary configuration of the music server system according to the fourth embodiment. </paragraph>
<paragraph id="P-0435" lvl="0"><number>&lsqb;0435&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>, as with the first, second, and third embodiments, the music distribution system according to the fourth embodiment comprises a plurality of main servers (or information centers) <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on interconnected through a communication network and a plurality of music server systems (or terminals) <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) (Z being a positive integer). </paragraph>
<paragraph id="P-0436" lvl="0"><number>&lsqb;0436&rsqb;</number> As with the main servers of the first, second, and third embodiments, each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>) and so on of the fourth embodiment is a server system of a so-called authorized seller (or business entity) who owns the rights such as music data distributorship for selling music data, thereby handling and managing many music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z). </paragraph>
<paragraph id="P-0437" lvl="0"><number>&lsqb;0437&rsqb;</number> Each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on of the fourth embodiment is managed by a different business entity for example and its basic configuration is generally the same as that of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) of the first, second, and third embodiments shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> except for the comparator <highlight><bold>15</bold></highlight> and the fee charger <highlight><bold>17</bold></highlight>. Hence, the portions of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on of the fourth embodiment which are the same in configuration as those of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on of the first, second, and third embodiments are denoted by the same references as those of the main servers of the first, second, and third embodiments and their description will be omitted. </paragraph>
<paragraph id="P-0438" lvl="0"><number>&lsqb;0438&rsqb;</number> In each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on of the fourth embodiment, an audio PCM signal is high-efficiency encoded in an encoder <highlight><bold>11</bold></highlight> and a business entity identifier from a business entity identifier memory <highlight><bold>16</bold></highlight> supplied through a controller <highlight><bold>13</bold></highlight> is attached to the encoding unused bits of a frame in which these bits occurred. </paragraph>
<paragraph id="P-0439" lvl="0"><number>&lsqb;0439&rsqb;</number> The music data thus high-efficiency encoded and attached with the business entity identifier as sub information are stored in a hard disk <highlight><bold>12</bold></highlight>, which is a mass memory. The music data stored in the hard disk <highlight><bold>12</bold></highlight> are distributed to music server systems concerned through a communication network. </paragraph>
<paragraph id="P-0440" lvl="0"><number>&lsqb;0440&rsqb;</number> On the other hand, as with the above-mentioned music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) of the first, second, and third embodiments, each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) of the fourth embodiment is installed at the store to record music data provided by the main server to which this music server system belongs into a user&apos;s external recording medium such as MD. </paragraph>
<paragraph id="P-0441" lvl="0"><number>&lsqb;0441&rsqb;</number> The music distribution system of the fourth embodiment is also configured to allow the movement of music data between recording media and the upgrading of music data as a new service. As described before, the upgrading of music data denotes the replacement of the music data processed by a related-art high-efficiency encoding with the music data processed by a high-efficiency encoding with its algorithm upgraded for enhanced compression ratio or tone quality. </paragraph>
<paragraph id="P-0442" lvl="0"><number>&lsqb;0442&rsqb;</number> The movement of music data between recording media or the upgrading of the music data can be performed after whether or not the music data recorded to a user&apos;s recording medium loaded in a music server system to be moved between recording media or to be upgraded are those provided by the main server providing the music data to that music server system are determined and these music data are found provided from that main server. </paragraph>
<paragraph id="P-0443" lvl="0"><number>&lsqb;0443&rsqb;</number> The following describes the processing to be executed at the time of moving music data between recording media or the upgrading of the music data by use of an example in which a user&apos;s recording medium is loaded in the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>). In this case, it is assumed that the main server which manages the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) such as providing music data to the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) be the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0444" lvl="0"><number>&lsqb;0444&rsqb;</number> When a user&apos;s recording medium, an external recording medium <highlight><bold>1</bold></highlight>X, recorded with music data to be moved between recording media or to be upgraded is loaded in the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) and the user starts the desired processing, a reproducer <highlight><bold>1</bold></highlight> of the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>) reads the target music data from the external recording medium <highlight><bold>1</bold></highlight>X and supplies these music data to an identifier extractor <highlight><bold>3</bold></highlight>. </paragraph>
<paragraph id="P-0445" lvl="0"><number>&lsqb;0445&rsqb;</number> The identifier extractor <highlight><bold>3</bold></highlight> extracts a business entity identifier from the encoding unused bits of the supplied music data and sends the extracted identifier to a discriminator <highlight><bold>6</bold></highlight>. Also supplied to the discriminator <highlight><bold>6</bold></highlight> is a business entity identifier supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) through a receiver <highlight><bold>5</bold></highlight> of the music server system <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0446" lvl="0"><number>&lsqb;0446&rsqb;</number> The discriminator <highlight><bold>6</bold></highlight> compares the business entity identifier extracted by the identifier extractor <highlight><bold>3</bold></highlight> from the music data read from the external recording medium <highlight><bold>1</bold></highlight>X with the business entity identifier supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) and received at the receiver <highlight><bold>5</bold></highlight> to determine whether or not they match each other. </paragraph>
<paragraph id="P-0447" lvl="0"><number>&lsqb;0447&rsqb;</number> If both the business entity identifiers are found matching by the discriminator <highlight><bold>6</bold></highlight>, it indicates that the target music data recorded in the external recording medium <highlight><bold>1</bold></highlight>X and subject to movement between recording media or upgrading are those supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>). In this case, the discriminator <highlight><bold>6</bold></highlight> controls the fee charger <highlight><bold>7</bold></highlight> for predetermined fee charging. </paragraph>
<paragraph id="P-0448" lvl="0"><number>&lsqb;0448&rsqb;</number> If the user responds to this fee charging, the music data supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) and received at the receiver <highlight><bold>5</bold></highlight> are recorded to another external recording medium through a recorder, not shown in <cross-reference target="DRAWINGS">FIG. 23</cross-reference>, for the movement of these music data between recording media or the music data supplied from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) and received at the receiver <highlight><bold>5</bold></highlight> are written over the external recording medium <highlight><bold>1</bold></highlight>X through the recorder <highlight><bold>2</bold></highlight> for upgrading of these music data. </paragraph>
<paragraph id="P-0449" lvl="0"><number>&lsqb;0449&rsqb;</number> It should be noted that the business entity identifier and music data from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) may be provided to each music server system beforehand, thereby eliminating the necessity for the music server system to get the business entity identifier and music data from the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) every time the user demands the movement of music data between recording media or the upgrading of the music data. </paragraph>
<paragraph id="P-0450" lvl="0"><number>&lsqb;0450&rsqb;</number> Obviously, each music server system may communicate with the main server <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>) to get the business entity identifier and music data every time the user requests the movement of the music data between recording media or the upgrading of the music data. </paragraph>
<paragraph id="P-0451" lvl="0"><number>&lsqb;0451&rsqb;</number> Specific Example of the Main Server of the Fourth Embodiment: </paragraph>
<paragraph id="P-0452" lvl="0"><number>&lsqb;0452&rsqb;</number> Each of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on of the fourth embodiment may be configured in generally the same manner as that of the main servers <highlight><bold>10</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>2</bold></highlight>), <highlight><bold>10</bold></highlight>(<highlight><bold>3</bold></highlight>) and so on shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. Therefore, a specific example of the main server of the fourth embodiment will be described as having the same configuration as that shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. </paragraph>
<paragraph id="P-0453" lvl="0"><number>&lsqb;0453&rsqb;</number> However, as described before, because fee charging is performed on the music server system side, the fee charger <highlight><bold>85</bold></highlight> may not be arranged on the main server <highlight><bold>10</bold></highlight>. If the main server manages the information about the fee charging of each music server system for example, the fee charger <highlight><bold>85</bold></highlight> may be left as it is for use in the management of fee charging. </paragraph>
<paragraph id="P-0454" lvl="0"><number>&lsqb;0454&rsqb;</number> In the case of the main server <highlight><bold>10</bold></highlight> of the first, second, and third embodiments, the main controller <highlight><bold>81</bold></highlight> also functions as a comparator for comparing the business entity identifier from the music server system and the business entity identifier held in the main server and as a discriminator for determining whether these business entity identifiers match each other on the basis of the comparison result. However, in the fourth embodiment, these functions are provided by each music server system and therefore the main server <highlight><bold>10</bold></highlight> need not provide them. </paragraph>
<paragraph id="P-0455" lvl="0"><number>&lsqb;0455&rsqb;</number> The main functions of the main server <highlight><bold>10</bold></highlight> of the fourth embodiment are the high-efficiency encoding of audio PCM signals, the attachment of the business entity identifier to the high-efficiency encoded data as sub information, the storage of the resultant data into own hard disk <highlight><bold>12</bold></highlight>, and the provision of the stored music data (or encoded data) to each music server system as required. </paragraph>
<paragraph id="P-0456" lvl="0"><number>&lsqb;0456&rsqb;</number> Specific Example of the Music Server System of the Fourth Embodiment: </paragraph>
<paragraph id="P-0457" lvl="0"><number>&lsqb;0457&rsqb;</number> Each of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) of the fourth embodiment may be configured in generally the same manner as that of the music server system <highlight><bold>30</bold></highlight> of the first, second, and third embodiments shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>. Therefore, a specific example of the music server system of the fourth embodiment will be described as having the same configuration as that shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>. </paragraph>
<paragraph id="P-0458" lvl="0"><number>&lsqb;0458&rsqb;</number> In the case of the music server system <highlight><bold>30</bold></highlight> of the fourth embodiment, in order to perform even fee charging by the music server system <highlight><bold>30</bold></highlight>, the function as a fee charger in which an amount of fee corresponding to a provided service is calculated, the payment for this amount is requested, and it is determined whether the amount paid through the payment section corresponds to the requested amount of fee is given to the main controller <highlight><bold>31</bold></highlight> by means of software for example which is run thereon. Obviously, the fee charger may be arranged separately. </paragraph>
<paragraph id="P-0459" lvl="0"><number>&lsqb;0459&rsqb;</number> Also, in the case of the music server system <highlight><bold>30</bold></highlight> of the fourth embodiment, the control file table shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is provided and, by referencing the detection frame number of this control file table, the business entity identifier attached to music data can be detected quickly and correctly. </paragraph>
<paragraph id="P-0460" lvl="0"><number>&lsqb;0460&rsqb;</number> Operation to be performed when music data are moved between recording media of the fourth embodiment: </paragraph>
<paragraph id="P-0461" lvl="0"><number>&lsqb;0461&rsqb;</number> The following describes the operation of the music server system <highlight><bold>30</bold></highlight> to be performed when moving music data from an external recording medium <highlight><bold>19</bold></highlight> which is an MD to an external recording medium <highlight><bold>20</bold></highlight> which is an MS in the music server system <highlight><bold>30</bold></highlight> of the fourth embodiment with reference to the flowchart shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>. </paragraph>
<paragraph id="P-0462" lvl="0"><number>&lsqb;0462&rsqb;</number> The processing shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is executed mainly by the main controller <highlight><bold>31</bold></highlight> of the music server system <highlight><bold>30</bold></highlight>. First, the music server system <highlight><bold>30</bold></highlight> of the fourth embodiment shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> accepts the insertion (or loading) of the external recording medium <highlight><bold>19</bold></highlight> (MD) recorded with purchased music data into a reader/recorder <highlight><bold>35</bold></highlight> (step S<highlight><bold>601</bold></highlight>). Next, the main controller <highlight><bold>31</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> accepts the specification of the track of music data to be moved, among the music data recorded to the recording medium <highlight><bold>19</bold></highlight>, entered from the operator section <highlight><bold>34</bold></highlight> (step S<highlight><bold>602</bold></highlight>). </paragraph>
<paragraph id="P-0463" lvl="0"><number>&lsqb;0463&rsqb;</number> The main controller <highlight><bold>31</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> accepts the information indicative of the music data to be moved, through the operator section <highlight><bold>34</bold></highlight> (step S<highlight><bold>603</bold></highlight>). On the basis of the information accepted in step S<highlight><bold>603</bold></highlight>, the music server system references a database owned by the distributor shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> to find the music data to be moved (step S<highlight><bold>604</bold></highlight>). </paragraph>
<paragraph id="P-0464" lvl="0"><number>&lsqb;0464&rsqb;</number> The process of step S<highlight><bold>604</bold></highlight> searches for owned music data to be matched in step S<highlight><bold>606</bold></highlight>. The information for use in searching for the music data subject to moving accepted in step S<highlight><bold>603</bold></highlight> includes music title information and artist information for example. As the information inputted in step S<highlight><bold>603</bold></highlight> increases, the search becomes faster and more reliable. </paragraph>
<paragraph id="P-0465" lvl="0"><number>&lsqb;0465&rsqb;</number> If the music data to be moved are not found in step S<highlight><bold>604</bold></highlight>, then the music server system <highlight><bold>30</bold></highlight> displays a message indicative thereof on the display section <highlight><bold>33</bold></highlight> (step S<highlight><bold>610</bold></highlight>) and determines whether a command for retry has been accepted (step S<highlight><bold>611</bold></highlight>). If the command for retry is found accepted, the music server system <highlight><bold>30</bold></highlight> repeats the processing starting from step S<highlight><bold>603</bold></highlight>. If no retry is made, the processing shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> comes to an end. </paragraph>
<paragraph id="P-0466" lvl="0"><number>&lsqb;0466&rsqb;</number> In searching for the music data to be moved in step S<highlight><bold>604</bold></highlight>, if these music data are found, the high-efficiency encoded data (music data) are read from the recording medium <highlight><bold>19</bold></highlight> (MD) loaded in the reader/recorder <highlight><bold>35</bold></highlight> (step S<highlight><bold>605</bold></highlight>). </paragraph>
<paragraph id="P-0467" lvl="0"><number>&lsqb;0467&rsqb;</number> In step S<highlight><bold>605</bold></highlight>, all encoded information of the music data may be read; however, the matching speed may be enhanced by reading desired frames of encoded information starting from the start frame number of matching data in step S<highlight><bold>606</bold></highlight> on the basis of detection frame number in the database shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. </paragraph>
<paragraph id="P-0468" lvl="0"><number>&lsqb;0468&rsqb;</number> The music server system <highlight><bold>30</bold></highlight> determines whether the high-efficiency encoded data read from the user&apos;s recording medium <highlight><bold>19</bold></highlight> in step S<highlight><bold>605</bold></highlight> are those provided by the distributor (business entity) operating the music server system <highlight><bold>30</bold></highlight> of the fourth embodiment (step S<highlight><bold>606</bold></highlight>). </paragraph>
<paragraph id="P-0469" lvl="0"><number>&lsqb;0469&rsqb;</number> The above-mentioned matching between the high-efficiency encoded data may be made by detecting the business entity identifier recorded by use of the unused bits (or encoding unused bits) of the encoded data and comparing the detected identifier with the business entity identifier supplied from the main server <highlight><bold>10</bold></highlight>, thereby determining whether the music data are those purchased from the business entity operating the main server <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0470" lvl="0"><number>&lsqb;0470&rsqb;</number> As described before, in the case of the music distribution system, on the presupposition that the music data for distribution are high-efficiency encoded by software, the music data owned by the music server system <highlight><bold>30</bold></highlight> which is the music data distributor or the main server <highlight><bold>10</bold></highlight> may be compared with the music data for moving recorded to the external recording medium <highlight><bold>19</bold></highlight> to further enhancing the matching accuracy. </paragraph>
<paragraph id="P-0471" lvl="0"><number>&lsqb;0471&rsqb;</number> If a mismatch is found in step S<highlight><bold>606</bold></highlight>, then a message indicative thereof is displayed on the display section <highlight><bold>33</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> (step S<highlight><bold>612</bold></highlight>), upon which the processing shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> comes to an end. In step S<highlight><bold>612</bold></highlight>, message &ldquo;Requested music was not sold on this system; please check the music again&rdquo; for example is displayed. </paragraph>
<paragraph id="P-0472" lvl="0"><number>&lsqb;0472&rsqb;</number> If a match is found in step S<highlight><bold>606</bold></highlight>, then predetermine fee charging is executed (step S<highlight><bold>607</bold></highlight>). As described before, the price of the matching music data may be lowered or made free of charge. In the free-of-charge case, message &ldquo;You will not be charged for moving music between recording media&rdquo; for example is displayed in step S<highlight><bold>607</bold></highlight>. </paragraph>
<paragraph id="P-0473" lvl="0"><number>&lsqb;0473&rsqb;</number> Next, the high-efficiency encoded data for the recording medium <highlight><bold>20</bold></highlight> (MS) for these music data are written to the user&apos;s external recording medium <highlight><bold>20</bold></highlight> (MS) loaded in the reader/recorder <highlight><bold>36</bold></highlight> (step S<highlight><bold>608</bold></highlight>). Then, the music server system <highlight><bold>30</bold></highlight> deletes through the reader/recorder <highlight><bold>35</bold></highlight> the track recorded with the information about these music data recorded to the recording medium <highlight><bold>19</bold></highlight> (MD) (step S<highlight><bold>609</bold></highlight>), upon which the processing shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> comes to an end. </paragraph>
<paragraph id="P-0474" lvl="0"><number>&lsqb;0474&rsqb;</number> If, for example, in the fee charging in step S<highlight><bold>607</bold></highlight>, a certain degree of fee is charged and when the user accepts this fee charging, the deletion of music data performed in step S<highlight><bold>609</bold></highlight> may not be performed, thereby providing a new service of copying data in a recording medium rather than the movement between recording media. </paragraph>
<paragraph id="P-0475" lvl="0"><number>&lsqb;0475&rsqb;</number> If an identification code for music itself, ISRC (International Standard Recording Code) for example, is recorded as sub information to the first sub information recording area, the process of step S<highlight><bold>603</bold></highlight> may be skipped by reading this information about music itself. </paragraph>
<paragraph id="P-0476" lvl="0"><number>&lsqb;0476&rsqb;</number> Thus, by use of the business entity identifier attached to the encoding unused bits of encoded data, if there exist two or more music data distributing business entities, a particular business entity of the music data recorded to the user&apos;s external recording medium through the music distribution system can be known easily and surely, so that each business entity can provide new services such as the movement of music data between recording media and the upgrading of music data only to the users of the music data distributed by that business entity at low cost or free of charge. </paragraph>
<paragraph id="P-0477" lvl="0"><number>&lsqb;0477&rsqb;</number> As described, the comparing processing for the sub information such as business entity identifiers attached to encoded data which are music data and the fee charging processing may be performed either on the main server side as with the first, second, and third embodiments or on the side of each music server system managed by the main server as with the fourth embodiment. </paragraph>
<paragraph id="P-0478" lvl="0"><number>&lsqb;0478&rsqb;</number> Variations of New Services: </paragraph>
<paragraph id="P-0479" lvl="0"><number>&lsqb;0479&rsqb;</number> The following describes new services which can be realized by the attachment of the sub information such as business entity identifiers to the encoding unused bits of music data (encoded data) to easily and surely determine the business entity for distributing music data as detailed with the first, second, third, and fourth embodiments. It should be noted that recording medium A and recording medium B are different from each other; it is assumed in the following description that recording medium A is an MD and recording medium B is an MS for example. </paragraph>
<paragraph id="P-0480" lvl="0"><number>&lsqb;0480&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> illustrates the movement of music data between recording media (a move service). To be more specific, <cross-reference target="DRAWINGS">FIG. 25</cross-reference> illustrates the flow of data at the time of moving music data between recording media described with reference to <cross-reference target="DRAWINGS">FIGS. 16, 17</cross-reference>, and <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0481" lvl="0"><number>&lsqb;0481&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 25</cross-reference>, the business entity identifier attached to encoded data A&prime; which are the music data recorded to recording medium A is compared with the business entity identifier held in the main server <highlight><bold>10</bold></highlight>. If a match is found, encoded data B&prime; which are the same music data are transferred to the user&apos;s recording medium B to be recorded thereto. </paragraph>
<paragraph id="P-0482" lvl="0"><number>&lsqb;0482&rsqb;</number> Therefore, the movement of music data is performed along the processing flow indicated by solid arrow lines from the reading and matching of encoded data A&prime; to the transfer of encoded data B&prime;. From the viewpoint of the user, this processing appears as the movement of music data from recording medium A to recording medium B as indicated by a dashed arrow line. If the encoded data of recording medium A are not deleted, this dashed arrow line indicates the copying of music data from recording medium A to recording medium B. </paragraph>
<paragraph id="P-0483" lvl="0"><number>&lsqb;0483&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> illustrates the flow of data at the time of using one of services in which rewriting is made between recording media of the same type, MDs for example, for upgrading the high-efficiency encoding algorithm for the enhancement of tone quality resulting from the sophistication of high-efficiency encoding computation. Namely, <cross-reference target="DRAWINGS">FIG. 26</cross-reference> illustrates the flow of data which takes place for the upgrading of music data. In processing, step S<highlight><bold>608</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> becomes the overwriting of recording medium A and step S<highlight><bold>609</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is omitted. Here, the fee charging in step S<highlight><bold>607</bold></highlight> may be performed or the fee charging may be omitted for provide the service free of charge. </paragraph>
<paragraph id="P-0484" lvl="0"><number>&lsqb;0484&rsqb;</number> In this case, the business entity identifier attached to old encoded data A&prime; of recording medium A requested for upgrading may be compared with the business entity identifier held in the main server <highlight><bold>10</bold></highlight> to write, if a match is found, new encoded data A&prime; over old encoded data A&prime; of recording medium A, thereby upgrading old encoded data A&prime;. </paragraph>
<paragraph id="P-0485" lvl="0"><number>&lsqb;0485&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> illustrates the flow of data at the time of using one of services in which rewriting is made on one recording medium for making corrections by overwriting if the data located outside the above-mentioned detection frame subject to comparison are destroyed or a write failure caused before is found. The processing is the same as that shown in <cross-reference target="DRAWINGS">FIG. 26</cross-reference>. </paragraph>
<paragraph id="P-0486" lvl="0"><number>&lsqb;0486&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> illustrates the flow of data at the time of using one of services in which rewriting is made on one recording medium for making corrections by rewriting if the bit rate of encoded data writable to recording medium A for example is to be changed. The processing is the same as that shown in <cross-reference target="DRAWINGS">FIG. 26</cross-reference>. </paragraph>
<paragraph id="P-0487" lvl="0"><number>&lsqb;0487&rsqb;</number> If a database for storing customer information for example is created, passwords for example may be issued to the registered customers for managing them, thereby providing the above-mentioned services for example for the music data purchased by customers before. </paragraph>
<paragraph id="P-0488" lvl="0"><number>&lsqb;0488&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> illustrates the flow of data at the time of using the above-mentioned services provided by the music server system, in which additional services are provided by performing authentication by matching both music data and customer information by entering a unique password for example as customer identification data in addition to the data of recording medium. </paragraph>
<paragraph id="P-0489" lvl="0"><number>&lsqb;0489&rsqb;</number> Use of the customer identification data is intended to prevent a same customer from being provided with the above-mentioned additional services many times. Specific additional services include giving a present only to those customers who bought 10 or more pieces of music of artist C for example. At this time, the circulation of recording media among customers intended for getting a present may be prevented by managing the customer database to make sure that the service concerned has already been provided to the customer concerned. </paragraph>
<paragraph id="P-0490" lvl="0"><number>&lsqb;0490&rsqb;</number> The additional services shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference> may include the provision of service tracks, the installation of a quality printer on the music server system <highlight><bold>30</bold></highlight> to provide pictures of user&apos;s favorite artists, the issuing of various discount tickets, the provision of discounts or presents in accordance with service points accumulated by each customer, and so on. </paragraph>
<paragraph id="P-0491" lvl="0"><number>&lsqb;0491&rsqb;</number> In any services shown in <cross-reference target="DRAWINGS">FIGS. 25 through 29</cross-reference>, only comparing the business entity identifier attached to the encoding unused block of the music data recorded to a user&apos;s external recording medium loaded in the music server system <highlight><bold>30</bold></highlight> with the business entity identifier held in the main server <highlight><bold>10</bold></highlight> or the music server system <highlight><bold>30</bold></highlight> allows the easy and sure determination whether or not the music data recorded to the external recording medium loaded in the music server system <highlight><bold>30</bold></highlight> are those provided from the main server <highlight><bold>10</bold></highlight> through the music server system <highlight><bold>30</bold></highlight>, as described above. </paragraph>
<paragraph id="P-0492" lvl="0"><number>&lsqb;0492&rsqb;</number> It should be noted that these business entity identifier comparison and determination are performed on the side of the main server <highlight><bold>10</bold></highlight> in the examples shown in <cross-reference target="DRAWINGS">FIGS. 25 through 29</cross-reference> as with the first, second, and third embodiments for authentication if a match is found between the identifiers. However, these comparison and determination may also be performed on the side of the music server system <highlight><bold>30</bold></highlight> as with the fourth embodiment. </paragraph>
<paragraph id="P-0493" lvl="0"><number>&lsqb;0493&rsqb;</number> Music data to be newly provided may be provided from the main server <highlight><bold>10</bold></highlight> to the music server system <highlight><bold>30</bold></highlight> every time the music data are requested or the new music data provided from the main server <highlight><bold>10</bold></highlight> and stored in the hard disk <highlight><bold>32</bold></highlight> of the music server system <highlight><bold>30</bold></highlight> beforehand may be provided. </paragraph>
<paragraph id="P-0494" lvl="0"><number>&lsqb;0494&rsqb;</number> In the above-mentioned embodiments, user&apos;s external recording media are loaded in the predetermined music server system <highlight><bold>30</bold></highlight> to get the above-mentioned services. However, user&apos;s recording media need not always be loaded in the music server system from which music data were recorded to these recording media. </paragraph>
<paragraph id="P-0495" lvl="0"><number>&lsqb;0495&rsqb;</number> Any external recording media recorded with music data from the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z) connected to the main server <highlight><bold>10</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> may receive the same services at any of the music server systems <highlight><bold>30</bold></highlight>(<highlight><bold>1</bold></highlight>), <highlight><bold>30</bold></highlight>(<highlight><bold>2</bold></highlight>) through <highlight><bold>30</bold></highlight>(Z). </paragraph>
<paragraph id="P-0496" lvl="0"><number>&lsqb;0496&rsqb;</number> To be more specific, the reason why the identity of main server is determined by use of the business entity identifier, rather than the music server system, is that any of the music server systems managed by the main server <highlight><bold>10</bold></highlight> become to be capable of providing the same services. Thus, if the source of the provision of music data is found the same, new services can be provided through any of the music server systems, thereby significantly enhancing user convenience. </paragraph>
<paragraph id="P-0497" lvl="0"><number>&lsqb;0497&rsqb;</number> Not only in the case of the above-mentioned services, but also in the case of handling claims associated with the recording of purchased music data to user&apos;s recording media (such as analysis of defective recording media), the redistribution of music data can be realized by determining whether or not the music data were officially purchased from the distributor (or business entity). </paragraph>
<paragraph id="P-0498" lvl="0"><number>&lsqb;0498&rsqb;</number> As described, a music server system having generally the same configuration as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> may be installed in the home and the matching of business entity identifiers is performed from the main server through a communication line such as the Internet, thereby providing the above-mentioned services. </paragraph>
<paragraph id="P-0499" lvl="0"><number>&lsqb;0499&rsqb;</number> It is also practicable to apply the present invention as a means for realizing the capabilities of so-called check-in and checkout with a mass recording medium such as a hard disk. Namely, arrangements are made so that the music data stored in a predetermined hard disk may be copied up to 3 times for example. </paragraph>
<paragraph id="P-0500" lvl="0"><number>&lsqb;0500&rsqb;</number> Every time the music data are recorded from the predetermined hard disk to a user&apos;s MD, the copy count is decremented by one. Such an output from hard disk to MD for example is called a checkout operation. When the music data copied to the MD are returned to the hard disk and then deleted from the MD, the copy count of these music data is returned by one. Such a return from MD to hard disk is called a check-in operation. </paragraph>
<paragraph id="P-0501" lvl="0"><number>&lsqb;0501&rsqb;</number> In order to prevent music data not outputted from the hard disk from being returned thereto at the time of check-in, the serial number for example unique to the hard disk may be attached as a hard disk identifier to the encoding unused bit block. This determines whether these music data were checked out from the hard disk, thereby allowing the check-in of only the music data checked out from the hard disk. </paragraph>
<paragraph id="P-0502" lvl="0"><number>&lsqb;0502&rsqb;</number> Therefore, use of the present invention allows to perform check-in and checkout operations also with MDs having no medium identifier. </paragraph>
<paragraph id="P-0503" lvl="0"><number>&lsqb;0503&rsqb;</number> It should be noted that, as described with the above-mentioned embodiments, the main server has a function of transmitter for transmitting music data. In the above-mentioned embodiments, the encoded data (music data) formed by high-efficiency encoding are once stored in the memory of the main server <highlight><bold>10</bold></highlight> and the stored encoded data are read as required for the provision to the music server system <highlight><bold>30</bold></highlight>. However, the present invention is not limited to these embodiments. </paragraph>
<paragraph id="P-0504" lvl="0"><number>&lsqb;0504&rsqb;</number> For example, the audio PCM signal of music data may be high-efficiency encoded and, at the time of this high-efficiency encoding, the high-efficiency encoded data may be provided to the music server system <highlight><bold>30</bold></highlight>. Thus, the timing of distributing the encoded data which are music data to the music server system may be set in any desired manner depending on the configuration of the music distributing system to be constructed. </paragraph>
<paragraph id="P-0505" lvl="0"><number>&lsqb;0505&rsqb;</number> In the above-mentioned embodiments, the high-efficiency encoding is performed on the side of the main server <highlight><bold>10</bold></highlight>. The present invention is not limited to these embodiments. For example, another embodiment may be practiced in which high-efficiency encoded music data are provided, the unused bits are detected from each frame of the provided music data, and sub information such as business entity identifier is attached to the detected unused bits. Therefore, the present invention may also provide an apparatus and method in which sub information is attached to the received high-efficiency encoded digital data. </paragraph>
<paragraph id="P-0506" lvl="0"><number>&lsqb;0506&rsqb;</number> In the above-mentioned embodiments, sub information is attached to the unused bits of high-efficiency encoded data. In this case, modulation based on so-called biphase encoding such as Manchester encoding may be performed on the sub information to attach a synchronous code (sync code) to the modulated sub information, thereby sequentially attaching the sync code and modulated sub information to the unused bits of encoded data. </paragraph>
<paragraph id="P-0507" lvl="0"><number>&lsqb;0507&rsqb;</number> The modulation based on biphase encoding changes levels from high to low at the middle of bit interval when sending binary &ldquo;0&rdquo; and from low to high when sending binary &ldquo;1&rdquo; for example, thereby modulating the data to be sent. </paragraph>
<paragraph id="P-0508" lvl="0"><number>&lsqb;0508&rsqb;</number> Thus, if a sync code and modulated sub information are attached to the unused bits of encoded data, the presence of the sync code allows the sequential attachment of the modulated sub information to the unused bit portion of plural frames of comparatively long encoded data independently of the unused bits (fractional portion) of each frame of the encoded data. At detection of the sub information, the sync code allows the quick detection of the head of the sub information. </paragraph>
<paragraph id="P-0509" lvl="0"><number>&lsqb;0509&rsqb;</number> The sub information modulated by biphase encoding has little direct-current component and its clock component allows easy and correct demodulation, so that the restrictions on the number of digits at attaching sub information to the unused bits of encoded data can be mitigated, thereby allowing the flexible attachment of the sub information to encoded data. It should be noted that various other modulating algorithms may be used for modulating encoded data, in addition to the modulation based on biphase encoding. </paragraph>
<paragraph id="P-0510" lvl="0"><number>&lsqb;0510&rsqb;</number> The sub information to be attached to encoded data includes not only business entity identifier (or business entity identification data), music identifier (or music identification data), and source identifier indicative of the generation source of music data, but also restrictive information about services for providing service usage period and service usage fee, various control information, and other various pieces of information. </paragraph>
<paragraph id="P-0511" lvl="0"><number>&lsqb;0511&rsqb;</number> For example, copyright information identifier, URL information identifier, fee charging information identifier, device information identifier, reproduction count identifier, and other various information identifiers may be attached to encoded data as sub information. </paragraph>
<paragraph id="P-0512" lvl="0"><number>&lsqb;0512&rsqb;</number> In this case, copyright information identifier identifies the copyright of content such as music data, which can identify content itself. Copyright information identifier is often created and used by content provider associations and content industry associations. </paragraph>
<paragraph id="P-0513" lvl="0"><number>&lsqb;0513&rsqb;</number> URL information identifier specifies the information for accessing so-called Web pages associated with music data or the information about this access operation. Attachment of this URL information identifier to music data which are encoded data allows the retrieval of information through a Web page for every piece of music data at their reproduction. </paragraph>
<paragraph id="P-0514" lvl="0"><number>&lsqb;0514&rsqb;</number> To be more specific, a service may be provided, in which, when reproducing music data from a recording medium on a personal computer or a player connected thereto, the URL identification information is extracted from the music data, a desired Web page is automatically accessed from the personal computer on the basis of the extracted URL identification information, and the information associated with the music data is automatically obtained through the Internet. </paragraph>
<paragraph id="P-0515" lvl="0"><number>&lsqb;0515&rsqb;</number> In this case, the information obtained through a Web page for each piece of music includes the information about words, scores, and artists of music, images, concert schedules of the artist of this music, schedules of sale of newly released recording media, and other various pieces of information. </paragraph>
<paragraph id="P-0516" lvl="0"><number>&lsqb;0516&rsqb;</number> Fee charging information identifier can provide the information about fee charging of the music data to which this identifier is attached. Device information identifier can identify the device by which music data were actually recorded to a recording medium. Reproduction count identifier can identify the number of times music data can be reproduced. Use of these reproduction count identifier and fee charging information identifier together can realize the limitation of the reproduction count in accordance with fee charging. </paragraph>
<paragraph id="P-0517" lvl="0"><number>&lsqb;0517&rsqb;</number> The sub information to be attached to encoded data is not limited to one type only; two or more types of sub information may be attached. In this case, different types of sub information may be delimited with a predetermined code for example. </paragraph>
<paragraph id="P-0518" lvl="0"><number>&lsqb;0518&rsqb;</number> In the above-mentioned embodiments, sub information is attached to the unused bits (a fractional portion) of each frame of encoded data. Alternatively, sub information may be attached to a TOC which is a control area of a recording medium to which encoded data are recorded, or the header of each frame. For the backup of the sub information to be attached to the unused bit block, the sub information attached to the unused bit block may be attached to both or one of TOC and frame header. </paragraph>
<paragraph id="P-0519" lvl="0"><number>&lsqb;0519&rsqb;</number> In the above-mentioned third embodiment, if a predetermined quantity of sub information could not be attached, the parameter (the upper limit of bit allocation) for use in high-efficiency encoding is changed to perform high-efficiency encoding again, thereby providing unused bits enough for accommodating a predetermined quantity of sub information to be attached to high-efficiency encoded data. However, the present invention is not limited to this embodiment. </paragraph>
<paragraph id="P-0520" lvl="0"><number>&lsqb;0520&rsqb;</number> For example, the parameter for use in high-efficiency encoding may be changed from the beginning to provide more unused bits than usual. In this case, high-efficiency encoding need not be performed again, so that the encoded data attached with sub information may be formed quickly. </paragraph>
<paragraph id="P-0521" lvl="0"><number>&lsqb;0521&rsqb;</number> However, taking unused bits more than usual leads to a smaller amount of the spectrum data constituting music, thereby possibly deteriorating the tone quality of the music data to be reproduced by the spectrum data. Therefore, it is more preferable to attach sub information by performing high-efficiency encoding and, if a predetermined quantity of sub information could not be attached, the parameter change is made to perform high-efficiency encoding again, thereby minimizing the deterioration of the tone quality. </paragraph>
<paragraph id="P-0522" lvl="0"><number>&lsqb;0522&rsqb;</number> For the encoded data such as music data for sampling for which tone quality is not of main concern, two methods may be selectively used: in one method, many unused bits are provided in a quantity enough for attaching sub information more than a predetermined quantity in a single operation; in the other method, for music data for which tone quality is of main concern, the music data are high-efficiency encoded again only when the sub information could not be attached in a predetermined amount, thereby allocating minimum necessary unused bits. </paragraph>
<paragraph id="P-0523" lvl="0"><number>&lsqb;0523&rsqb;</number> To be more specific, in a device for performing high-efficiency encoding such as the main server <highlight><bold>10</bold></highlight>, either more unused bits than usual may be generated for the encoded data formed by high-efficiency encoding or, if the sub information could not be attached in a predetermined quantity, parameter change may made to perform high-efficiency encoding again. </paragraph>
<paragraph id="P-0524" lvl="0"><number>&lsqb;0524&rsqb;</number> If the former, namely the generation of more unused bits, is selected, a parameter other than usual is used in the device for performing high-efficiency encoding or a parameter specified by the user is accepted to perform high-efficiency encoding, thereby attaching a predetermined quantity of sub information to encoded data in a single high-efficiency encoding operation. </paragraph>
<paragraph id="P-0525" lvl="0"><number>&lsqb;0525&rsqb;</number> Conversely, if the latter, namely parameter change is made to perform high-efficiency encoding again if a predetermined quantity of sub information could not be attached to encoded data, is selected, the high-efficiency encoding device may add sub information to encoded data as with the above-mentioned third embodiment. Consequently, the two sub information attaching methods can be selectively used. </paragraph>
<paragraph id="P-0526" lvl="0"><number>&lsqb;0526&rsqb;</number> In the above-mentioned embodiments, digital audio data for example are high-efficiency encoded. The present invention is not limited to these embodiments. In addition to audio data, the present invention is applicable to still picture data and moving picture data which are high-efficiency encoded to be recorded to recording medium for the provision to users. </paragraph>
<paragraph id="P-0527" lvl="0"><number>&lsqb;0527&rsqb;</number> In the above-mentioned embodiments, ATRAC is used for high-efficiency encoding for example. The present invention is not limited to these embodiments. For example, various other high-efficiency encoding algorithms may be used such a MPEG (Moving Picture Experts Group), MP3 (MPEG Audio Layer 3), AAC (Advanced Audio Coding), WMA (Windows (trademark) Media Audio), ATRAC3 (advancement of ATRAC), and Twin-VQ (Transform-Domain Weighted Interleave Vector Quantization). </paragraph>
<paragraph id="P-0528" lvl="0"><number>&lsqb;0528&rsqb;</number> If the provision of many services as described above becomes available, services requested by users through the operator section of the music server system are accepted to provide the requested services to the requesting users. </paragraph>
<paragraph id="P-0529" lvl="0"><number>&lsqb;0529&rsqb;</number> In the above-mentioned embodiments, the music server <highlight><bold>30</bold></highlight> is supplied with music data which are encoded data from the main server via a predetermined communication line. The present invention is not limited to these embodiments. For example, music data encoded by high-efficiency encoding and attached with sub information to the encoding unused bit portion (or remainder portion) of each frame of the encoded data are recorded to a recording medium such as an optical disc for example, which is delivered for example to the store at which the music server system is installed. </paragraph>
<paragraph id="P-0530" lvl="0"><number>&lsqb;0530&rsqb;</number> The delivered optical disc is loaded in the music server system in the store. Directly from this optical disc, music data may be provided to users or music data may be once stored from this optical disc into the hard disk of the music server system to be provided to users. </paragraph>
<paragraph id="P-0531" lvl="0"><number>&lsqb;0531&rsqb;</number> In this case, the music distribution system may not have the main server and be constituted by only music server systems, which perform all of the detection of additional data from music data which are encoded data, the matching of detected sub information, the determination of service provision on the basis of a matching result, and the provision of services. </paragraph>
<paragraph id="P-0532" lvl="0"><number>&lsqb;0532&rsqb;</number> The high-efficiency encoding apparatus and the sub information writer may be arranged on the side of the music server system <highlight><bold>30</bold></highlight>, thereby attaching, in the music server system <highlight><bold>30</bold></highlight>, information such as own system&apos;s identification code to the music data to be provided to users. </paragraph>
<paragraph id="P-0533" lvl="0"><number>&lsqb;0533&rsqb;</number> As described and according to the invention, sub information is written to the fractional portion of encoded data, namely the remaining bit portion of encoded data having a predetermined format, without especially arranging an area for sub information to be attached to encoded data, thereby attaching sub information to encoded data. Consequently, the attachment of sub information to encoded data does not increase the absolute quantity of the encoded data and the attached sub information does not affect the encoding. </paragraph>
<paragraph id="P-0534" lvl="0"><number>&lsqb;0534&rsqb;</number> The sub information attached to encoded data allows the identification of the providing source of the sub information and the sure determination of the validity of provision route. Consequently, the present invention facilitates the provision of such new services to be provided to each provider of encoded data as the movement of encoded data between recording media and the verification of defective recording media. </paragraph>
<paragraph id="P-0535" lvl="0"><number>&lsqb;0535&rsqb;</number> While the preferred embodiments of the present invention have been described using specific terms, such description is for illustrative purposes only, and it is to be understood that changes and variations may be made without departing from the spirit or scope of the appended claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A data distribution system including: 
<claim-text>a distribution center apparatus for dividing digital content data into parts in many bands, converting said divided part of digital content data included in each of said many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and transmitting said encoded data in such a manner as to superimpose, if an excess portion exists in each of said many blocks, a part or all of an identifier for identifying a provider of said digital content data onto said excess portion; and </claim-text>
<claim-text>a terminal apparatus connected to said distribution center apparatus through a predetermined communication line, said terminal apparatus including recording means for recording said digital content data provided as said encoded data from said distribution center apparatus to a recording medium loaded in said terminal apparatus, </claim-text>
<claim-text>said data distribution system comprising: 
<claim-text>reading means for sequentially reading the blocked encoded data from said recording medium loaded in said terminal apparatus; </claim-text>
<claim-text>first discriminating means for discriminating whether each block of said encoded data read by said reading means has said excess portion; </claim-text>
<claim-text>extracting means for extracting data of said excess portion from said each block found as having said excess portion by said first discriminating means; </claim-text>
<claim-text>demodulating means for demodulating said identifier for identifying said provider on the basis of said data extracted by said extracting means; </claim-text>
<claim-text>second discriminating means for discriminating whether said digital content data, which are the encoded data read from said recording medium loaded in said terminal apparatus, are those provided by said distribution center apparatus, which is legitimate, on the basis of said identifier for identifying said provider demodulated by said demodulating means; and </claim-text>
<claim-text>control means for performing predetermined control processing if said digital content data, which are said encoded data read from said recording medium loaded in said terminal apparatus, are found provided from said legitimate distribution center apparatus. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising: 
<claim-text>fee charging means for performing fee charging when said digital content data supplied from said data distribution apparatus are provided through said terminal apparatus; </claim-text>
<claim-text>wherein, if said digital content data, which are said encoded data read from said recording medium loaded in said terminal apparatus, are found provided from said legitimate distribution center apparatus by said second discriminating means, said control means controls said fee charging means so that said digital content data is provided at a discount or free of charge. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said predetermined control processing to be performed by said control means is updating of said digital content data recorded to said recording medium to be read. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said predetermined control processing to be performed by said control means is moving of said digital content data recorded to said recording medium to be read to another recording medium. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said updating of said digital content data recorded to said recording medium is to write digital content data encoded by a new encoding algorithm over said digital content data recorded to said recording medium. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said updating of said digital content data recorded to said recording medium, if said digital content data recorded to said recording medium is destroyed, is to write digital content data over the destroyed digital content data, the overwriting digital content data being the same as the destroyed digital content data before destruction. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said updating of said digital content data recorded to said recording medium is to write digital content data corresponding to said digital content data recorded to said recording medium and enhanced in bit rate over said digital content data recorded to said recording medium. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said predetermined control processing to be performed by said control means is to issue to a purchaser of said digital content data a right of getting a predetermined benefit. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The data distribution system according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said excess portion of each block of said encoded data is further superimposed with detection control information indicative of a superimposition start point and/or a superimposition end point of said identifier for identifying said provider of said digital content data. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A terminal apparatus for receiving encoded data, said terminal apparatus including recording means for recording said encoded data in a recording medium loaded in said terminal apparatus, 
<claim-text>wherein said encoded data have been created by a manner of dividing digital content data into parts in many bands, converting said divided part of said digital content data included in each of said many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and superimposing, if an excess portion exists in each of said many blocks, a part or all of an identifier for identifying a provider of said digital content data onto said excess portion, </claim-text>
<claim-text>said terminal apparatus comprising: 
<claim-text>reading means for sequentially reading the blocked encoded data from said recording medium loaded in said terminal apparatus; </claim-text>
<claim-text>discriminating means for discriminating whether each block of said encoded data read by said reading means has said excess portion; </claim-text>
<claim-text>extracting means for extracting data of said excess portion from said each block found as having said excess portion by said discriminating means; </claim-text>
<claim-text>demodulating means for demodulating said identifier for identifying said provider on the basis of said data extracted by said extracting means; </claim-text>
<claim-text>connecting means for connecting a communication line with a distributor for distributing said digital content data through a predetermined communication network; and </claim-text>
<claim-text>control means for controlling reception of new digital content data supplied from said provider through said predetermined communication network on the basis of said identifier for identifying said provider of the digital content data demodulated by said demodulating means. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, further comprising: 
<claim-text>matching means for comparing said identifier for identifying said provider of said digital content data demodulated by said demodulating means with an identifier for identifying said distributor of said digital content data; </claim-text>
<claim-text>wherein, if said identifier for identifying said provider of said digital content data demodulated by said demodulating means is found matching by said matching means with said identifier for identifying said distributor of said digital content data, said control means permits reception of new digital content data supplied from said provider through said predetermined communication network. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, further comprising: 
<claim-text>matching means for comparing said identifier for identifying said provider of said digital content data demodulated by said demodulating means with an identifier for identifying said distributor of said digital content data; and </claim-text>
<claim-text>fee charging means for charging a fee for new digital content data supplied from said provider upon reception thereof; </claim-text>
<claim-text>wherein, if said identifier for identifying said provider of said digital content data demodulated by said demodulating means is found matching by said matching means with said identifier for identifying said distributor of said digital content data, said new digital content data are provided at a discount or free of charge by said fee charging means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, further comprising: 
<claim-text>matching means for comparing said identifier for identifying said provider of said digital content data demodulated by said demodulating means with an identifier for identifying said distributor of said digital content data; </claim-text>
<claim-text>wherein, if said identifier for identifying said provider of said digital content data demodulated by said demodulating means is found matching by said matching means with said identifier for identifying said distributor of said digital content data, new digital content data supplied from said provider through said predetermined communication network are recorded to another recording medium. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, further comprising: 
<claim-text>matching means for comparing said identifier for identifying said provider of said digital content data demodulated by said demodulating means with an identifier for identifying said distributor of said digital content data; </claim-text>
<claim-text>wherein, if said identifier for identifying said provider of said digital content data demodulated by said demodulating means is found matching by said matching means with said identifier for identifying said distributor of said digital content data, repair data obtained by repairing, if said digital content data already supplied from said distributor have been destroyed, said destroyed digital content data, are received as new digital content data. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein said excess portion of each block of said encoded data is further superimposed with detection control information indicative of a superimposition start point and/or a superimposition end point of said identifier for identifying said provider of said digital content data. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A terminal apparatus including: 
<claim-text>receiving means for receiving digital content data supplied from a predetermined distributor through a predetermined communication network, wherein said digital content data are composed of encoded data having many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and if each of said many blocks has an excess portion, said excess portion is superimposed with a part or all of identifier for identifying a provider of said digital content data; and </claim-text>
<claim-text>first recording means for recording said received digital content data in a recording medium loaded in said recording means, </claim-text>
<claim-text>said terminal apparatus comprising: 
<claim-text>reading means for sequentially reading the blocked encoded data from said recording medium loaded in said recording means; </claim-text>
<claim-text>discriminating means for discriminating whether each block of said encoded data read by said reading means has said excess portion; </claim-text>
<claim-text>extracting means for extracting data of said excess portion from said each block found as having said excess portion by said discriminating means; </claim-text>
<claim-text>demodulating means for demodulating said identifier for identifying said provider on the basis of said data extracted by said extracting means; </claim-text>
<claim-text>transmitting means for transmitting said identifier for identifying said provider demodulated by said demodulating means to said provider through said predetermined communication network; and </claim-text>
<claim-text>control means for controlling for, after transmitting said identifier through said transmitting means, controlling each component to perform processing in accordance with control information received by said receiving means from said provider. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, further comprising: 
<claim-text>second recording means for recording digital content data to a different recording medium which differs from said recording medium; </claim-text>
<claim-text>wherein, if said control signal from said provider indicates to permit moving of said digital content data between the recording media, said control means controls said second recording means to record, to said different recording medium, encoded data supplied from said distributor for said different recording medium corresponding to said encoded data read by said reading means or encoded data held in said terminal apparatus and said control means controls said first recording means to delete said encoded data read by said reading means and recorded to said recording medium. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein, if said control signal from said provider indicates to permit updating of digital content data, said control means controls said first recording means to write encoded data corresponding to said encoded data read by said reading means and supplied from said provider or encoded data held in said terminal apparatus over said recording medium. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, further comprising: 
<claim-text>benefit granting means for granting a predetermined benefit to a purchaser of said digital content data; </claim-text>
<claim-text>wherein, if said control signal from said provider indicates to permit granting of said predetermined benefit, said control means controls said benefit granting means to grant said predetermined benefit to said purchaser of said digital content data. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A terminal apparatus including: 
<claim-text>receiving means for receiving digital content data supplied from a predetermined distributor through a predetermined communication network, wherein said digital content data are composed of encoded data having many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and if each of said many blocks has an excess portion, said excess portion is superimposed with a part or all of identifier for identifying a provider of said digital content data; and </claim-text>
<claim-text>first recording means for recording said received digital content data in a recording medium loaded in said recording means, </claim-text>
<claim-text>said terminal apparatus comprising: 
<claim-text>reading means for sequentially reading the blocked encoded data from said recording medium loaded in said recording means; </claim-text>
<claim-text>discriminating means for discriminating whether each block of said encoded data read by said reading means has said excess portion; </claim-text>
<claim-text>extracting means for extracting data of said excess portion from said each block found as having said excess portion by said discriminating means; </claim-text>
<claim-text>demodulating means for demodulating said identifier for identifying said provider on the basis of said data extracted by said extracting means; </claim-text>
<claim-text>comparing means for comparing said identifier for identifying said provider demodulated by said demodulating means with an identifier for identifying said provider held in said terminal apparatus; and </claim-text>
<claim-text>control means for, if a match is found between these identifiers, controlling each component to perform predetermined processing. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, further comprising: 
<claim-text>second recording means for recording digital content data to a different recording medium which differs from said recording medium; </claim-text>
<claim-text>wherein said control means controls said second recording means to record, to said different recording medium, encoded data supplied from said distributor for said different recording medium corresponding to said encoded data read by said reading means or encoded data held in said terminal apparatus and said control means controls said first recording means to delete said encoded data read by said reading means and recorded to said recording medium. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, wherein said control means controls said first recording means to write encoded data corresponding to said encoded data read by said reading means and supplied from said provider or encoded data held in said terminal apparatus over said recording medium. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 20</dependent-claim-reference>, further comprising: 
<claim-text>benefit granting means for granting a predetermined benefit to a purchaser of said digital content data; </claim-text>
<claim-text>wherein said control means controls said benefit granting means to grant said predetermined benefit to said purchaser of said digital content data. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data encoded by a new encoding algorithm having substantially the same content as said encoded data read by said reading means. </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data encoded by a new encoding algorithm having substantially the same content as said encoded data read by said reading means. </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data encoded by a new encoding algorithm having substantially the same content as said encoded data read by said reading means, said new encoded data being provided if said encoded data read by said reading means is at least partially destroyed. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data encoded by a new encoding algorithm having substantially the same content as said encoded data read by said reading means, said new encoded data being provided if said encoded data read by said reading means is at least partially destroyed. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data enhanced in bit rate having substantially the same content as said encoded data read by said reading means. </claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. The terminal apparatus according to <dependent-claim-reference depends_on="CLM-00022">claim 22</dependent-claim-reference>, wherein said encoded data supplied from said distributor or said encoded data held in said terminal apparatus are new encoded data enhanced in bit rate having substantially the same content as said encoded data read by said reading means. </claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. A distribution center apparatus comprising: 
<claim-text>first memory means for storing encoded data, said encoded data having been created by a manner of dividing digital content data into parts in many bands, converting said divided part of said digital content data included in each of said many bands into a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and superimposing, if an excess portion exists in each of said many blocks, a part or all of an identifier for identifying a provider of said digital content data onto said excess portion; </claim-text>
<claim-text>transmitting means for transmitting, to a predetermined terminal apparatus, desired digital content selected from a plurality of digital content data stored in said first memory means as encoded data; </claim-text>
<claim-text>second memory means for storing an identifier for identifying said provider of said distribution center apparatus; </claim-text>
<claim-text>receiving means for receiving an identifier for identifying a distributor supplied from said predetermined terminal apparatus; </claim-text>
<claim-text>comparing means for comparing said identifier for identifying said distributor supplied from said receiving means with said identifier for identifying said provider of said distribution center apparatus stored in said second memory; and </claim-text>
<claim-text>permitting means for, if a match is found by said comparing means, permitting transmission of said desired predetermined digital content from said transmitting means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. The distribution center apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 30</dependent-claim-reference>, further comprising: 
<claim-text>fee charging means for charging a fee for new digital content data supplied from said provider upon provision thereof; </claim-text>
<claim-text>wherein, if a match is found by said comparing means, said new digital content data are provided at a discount or free of charge by said fee charging means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. The distribution center apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 30</dependent-claim-reference>, wherein said desired digital content data to be transmitted from said transmitting means if a match is found by said comparing means are the substantially the same as the previously transmitted digital content data. </claim-text>
</claim>
<claim id="CLM-00033">
<claim-text><highlight><bold>33</bold></highlight>. The distribution center apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 30</dependent-claim-reference>, wherein said desired digital content data to be transmitted from said transmitting means if a match is found by said comparing means are the substantially the same as the previously transmitted digital content data and re-encoded by a new encoding algorithm. </claim-text>
</claim>
<claim id="CLM-00034">
<claim-text><highlight><bold>34</bold></highlight>. The distribution center apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 30</dependent-claim-reference>, wherein said desired digital content data to be transmitted from said transmitting means if a match is found by said comparing means are the substantially the same as the previously transmitted digital content data and enhanced in bit rate. </claim-text>
</claim>
<claim id="CLM-00035">
<claim-text><highlight><bold>35</bold></highlight>. A high-efficiency encoding method for dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, comprising the steps of: 
<claim-text>checking each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>generating sub information; and </claim-text>
<claim-text>sequentially superimposing a part or all of the generated sub information onto said excess portion of each block found as having said excess portion. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00036">
<claim-text><highlight><bold>36</bold></highlight>. The high-efficiency encoding method according to <dependent-claim-reference depends_on="CLM-00033">claim 35</dependent-claim-reference>, wherein said sub information is at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier. </claim-text>
</claim>
<claim id="CLM-00037">
<claim-text><highlight><bold>37</bold></highlight>. The high-efficiency encoding method according to <dependent-claim-reference depends_on="CLM-00033">claim 35</dependent-claim-reference>, wherein said predetermined excess portion is superimposed with detection control information indicative of superimposition start point and/or superimposition end point of said sub information. </claim-text>
</claim>
<claim id="CLM-00038">
<claim-text><highlight><bold>38</bold></highlight>. A high-efficiency encoding apparatus for dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, comprising: 
<claim-text>discriminating means for discriminating each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>sub information generating means for generating sub information; and </claim-text>
<claim-text>superimposing means for superimposing a part or all of the generated sub information onto said excess portion of each block found by said discriminating means having said excess portion. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00039">
<claim-text><highlight><bold>39</bold></highlight>. The high-efficiency encoding apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, wherein said sub information is at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier. </claim-text>
</claim>
<claim id="CLM-00040">
<claim-text><highlight><bold>40</bold></highlight>. The high-efficiency encoding apparatus according to <dependent-claim-reference depends_on="CLM-00033">claim 38</dependent-claim-reference>, wherein said superimposing means superimposes, onto said predetermined excess portion, detection control information indicative of superimposition start point and/or superimposition end point of said sub information. </claim-text>
</claim>
<claim id="CLM-00041">
<claim-text><highlight><bold>41</bold></highlight>. An encoded data decoding method for decoding encoded data, said encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, wherein for each of said blocks in which there occurs an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalized data and said quantized data, sub information is superimposed on said excess portion, 
<claim-text>said decoding method comprising the steps of: 
<claim-text>checking each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; and </claim-text>
<claim-text>extracting said sub information from said block found as having said excess portion, said sub information being superimposed on said excess portion. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00042">
<claim-text><highlight><bold>42</bold></highlight>. The encoded data decoding method according to <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier is superimposed on said excess portion. </claim-text>
</claim>
<claim id="CLM-00043">
<claim-text><highlight><bold>43</bold></highlight>. The encoded data decoding method according to <dependent-claim-reference depends_on="CLM-00044">claim 41</dependent-claim-reference>, wherein detection control information indicative of superimposition start point and/or superimposition end point of said sub information is superimposed on said predetermined excess portion. </claim-text>
</claim>
<claim id="CLM-00044">
<claim-text><highlight><bold>44</bold></highlight>. An encoded data decoding apparatus for decoding encoded data, said encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, wherein for each of said blocks in which there occurs an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalized data and said quantized data, sub information is superimposed on said excess portion, 
<claim-text>said decoding apparatus comprising: 
<claim-text>discriminating means for discriminating each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; and </claim-text>
<claim-text>extracting means for extracting said sub information from said block found as having said excess portion, said sub information being superimposed on said excess portion. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00045">
<claim-text><highlight><bold>45</bold></highlight>. The encoded data decoding apparatus according to <dependent-claim-reference depends_on="CLM-00044">claim 44</dependent-claim-reference>, wherein at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier is superimposed on said excess portion. </claim-text>
</claim>
<claim id="CLM-00046">
<claim-text><highlight><bold>46</bold></highlight>. The encoded data decoding apparatus according to <dependent-claim-reference depends_on="CLM-00044">claim 44</dependent-claim-reference>, wherein detection control information indicative of superimposition start point and/or superimposition end point of said sub information is superimposed on said predetermined excess portion. </claim-text>
</claim>
<claim id="CLM-00047">
<claim-text><highlight><bold>47</bold></highlight>. An encoded data transmission method for dividing an input digital signal into parts in a plurality of bands, performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and transmitting said formed encoded data, 
<claim-text>said transmission method comprising the steps of: 
<claim-text>checking each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>generating sub information; </claim-text>
<claim-text>superimposing a part or all of the generated sub information onto said excess portion of each block found by said discriminating means having said excess portion; and </claim-text>
<claim-text>sequentially transmitting said encoded data superimposed with said sub information. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00048">
<claim-text><highlight><bold>48</bold></highlight>. An encoded data transmission apparatus for dividing an input digital signal into parts in a plurality of bands, performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and transmitting the formed encoded data, 
<claim-text>said transmission apparatus comprising: 
<claim-text>discriminating means for discriminating each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>sub information generating means for generating sub information; </claim-text>
<claim-text>superimposing means for superimposing a part or all of the generated sub information onto said excess portion of each block found by said discriminating means having said excess portion; and </claim-text>
<claim-text>transmitting means for sequentially transmitting said encoded data superimposed of said sub information. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00049">
<claim-text><highlight><bold>49</bold></highlight>. A sub information attaching method for receiving encoded data, said encoded data having been created by a manner of by dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and attaching additional data to said received encoded data, 
<claim-text>said attaching method comprising the steps of: 
<claim-text>checking each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>generating sub information; and </claim-text>
<claim-text>superimposing a part or all of the generated sub information onto said excess portion of each block found by said discriminating means having said excess portion. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00050">
<claim-text><highlight><bold>50</bold></highlight>. The sub information attaching method according to <dependent-claim-reference depends_on="CLM-00044">claim 49</dependent-claim-reference>, wherein said sub information is at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier. </claim-text>
</claim>
<claim id="CLM-00051">
<claim-text><highlight><bold>51</bold></highlight>. The sub information attaching method according to <dependent-claim-reference depends_on="CLM-00044">claim 49</dependent-claim-reference>, wherein detection control information indicative of superimposition start point and/or superimposition end point of said sub information is superimposed on said predetermined excess portion. </claim-text>
</claim>
<claim id="CLM-00052">
<claim-text><highlight><bold>52</bold></highlight>. A sub information attaching apparatus for receiving encoded data, said encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, and attaching additional data to said received encoded data, 
<claim-text>said attaching apparatus comprising: 
<claim-text>discriminating means for discriminating each of said many blocks for an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data; </claim-text>
<claim-text>sub information generating means for generating sub information; and </claim-text>
<claim-text>superimposing means for superimposing a part or all of the generated sub information onto said excess portion of each block found as having said excess portion by said discriminating means. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00053">
<claim-text><highlight><bold>53</bold></highlight>. A sub information attaching apparatus according to <dependent-claim-reference depends_on="CLM-00055">claim 52</dependent-claim-reference>, wherein said sub information is at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier. </claim-text>
</claim>
<claim id="CLM-00054">
<claim-text><highlight><bold>54</bold></highlight>. A sub information attaching apparatus according to <dependent-claim-reference depends_on="CLM-00055">claim 52</dependent-claim-reference>, wherein said superimposing means superimposes detection control information indicative of superimposition start point and/or superimposition end point of said sub information on said predetermined excess portion. </claim-text>
</claim>
<claim id="CLM-00055">
<claim-text><highlight><bold>55</bold></highlight>. A recording medium for recording encoded data, said encoded data having been created by a manner of dividing an input digital signal into parts in a plurality of bands, and performing predetermined conversion on said divided part of said input digital signal included in each of said plurality of bands, to form a piece of encoded data composed of many blocks each having a predetermined length unit and being constituted by at least bit distribution information, normalized data and quantized data, 
<claim-text>wherein for each of said blocks in which there occurs an excess portion equivalent to a difference between said predetermined length and a total value of said bit distribution information, said normalize data and said quantized data, a part or all of the generated sub information is superimposed onto said excess portion. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00056">
<claim-text><highlight><bold>56</bold></highlight>. A recording medium according to <dependent-claim-reference depends_on="CLM-00055">claim 55</dependent-claim-reference>, wherein at least one of an identifier for identifying a generator of said input digital signal, a business entity identifier for identifying a business entity distributing said input digital signal, an identifier for identifying said input digital signal, a copyright information identifier for said input digital signal, a URL information identifier, a fee charging information identifier, a device information identifier, and a reproduction count identifier is superimposed on said excess portion. </claim-text>
</claim>
<claim id="CLM-00057">
<claim-text><highlight><bold>57</bold></highlight>. A recording medium according to <dependent-claim-reference depends_on="CLM-00055">claim 55</dependent-claim-reference>, wherein detection control information indicative of superimposition start point and/or superimposition end point of said sub information is superimposed on said predetermined excess portion.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>16</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004883A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004883A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004883A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004883A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004883A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004883A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004883A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004883A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004883A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004883A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004883A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004883A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004883A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004883A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004883A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030004883A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030004883A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030004883A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030004883A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030004883A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030004883A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030004883A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00022">
<image id="EMI-D00022" file="US20030004883A1-20030102-D00022.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00023">
<image id="EMI-D00023" file="US20030004883A1-20030102-D00023.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00024">
<image id="EMI-D00024" file="US20030004883A1-20030102-D00024.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00025">
<image id="EMI-D00025" file="US20030004883A1-20030102-D00025.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00026">
<image id="EMI-D00026" file="US20030004883A1-20030102-D00026.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
