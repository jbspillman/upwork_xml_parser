<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004686A1-20030102-D00000.TIF SYSTEM "US20030004686A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00001.TIF SYSTEM "US20030004686A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00002.TIF SYSTEM "US20030004686A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00003.TIF SYSTEM "US20030004686A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00004.TIF SYSTEM "US20030004686A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00005.TIF SYSTEM "US20030004686A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00006.TIF SYSTEM "US20030004686A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00007.TIF SYSTEM "US20030004686A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00008.TIF SYSTEM "US20030004686A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00009.TIF SYSTEM "US20030004686A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00010.TIF SYSTEM "US20030004686A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00011.TIF SYSTEM "US20030004686A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00012.TIF SYSTEM "US20030004686A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00013.TIF SYSTEM "US20030004686A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00014.TIF SYSTEM "US20030004686A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00015.TIF SYSTEM "US20030004686A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00016.TIF SYSTEM "US20030004686A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00017.TIF SYSTEM "US20030004686A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00018.TIF SYSTEM "US20030004686A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00019.TIF SYSTEM "US20030004686A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00020.TIF SYSTEM "US20030004686A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00021.TIF SYSTEM "US20030004686A1-20030102-D00021.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00022.TIF SYSTEM "US20030004686A1-20030102-D00022.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00023.TIF SYSTEM "US20030004686A1-20030102-D00023.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00024.TIF SYSTEM "US20030004686A1-20030102-D00024.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00025.TIF SYSTEM "US20030004686A1-20030102-D00025.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00026.TIF SYSTEM "US20030004686A1-20030102-D00026.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00027.TIF SYSTEM "US20030004686A1-20030102-D00027.TIF" NDATA TIF>
<!ENTITY US20030004686A1-20030102-D00028.TIF SYSTEM "US20030004686A1-20030102-D00028.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004686</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10147911</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020520</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>JP P2001-151538</doc-number>
</priority-application-number>
<filing-date>20010521</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>JP P2001-151584</doc-number>
</priority-application-number>
<filing-date>20010521</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>JP P2001-340450</doc-number>
</priority-application-number>
<filing-date>20011106</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>JP P2002-26174</doc-number>
</priority-application-number>
<filing-date>20020201</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>JP P2002-133121</doc-number>
</priority-application-number>
<filing-date>20020508</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F015/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>702</class>
<subclass>188000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Slave unit, node unit, controllers and network system</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Shintaro</given-name>
<family-name>Ueno</family-name>
</name>
<residence>
<residence-non-us>
<city>Kyoto-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Hajime</given-name>
<family-name>Izutani</family-name>
</name>
<residence>
<residence-non-us>
<city>Kyoto-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Toshiyuki</given-name>
<family-name>Shigehisa</family-name>
</name>
<residence>
<residence-non-us>
<city>Kyoto-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Hiroshi</given-name>
<family-name>Shimizu</family-name>
</name>
<residence>
<residence-non-us>
<city>Kyoto-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Naoya</given-name>
<family-name>Ochi</family-name>
</name>
<residence>
<residence-non-us>
<city>Kyoto-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>OMRON CORPORATION</organization-name>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>FOLEY AND LARDNER</name-1>
<name-2>SUITE 500</name-2>
<address>
<address-1>3000 K STREET NW</address-1>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20007</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">Providing a slave that can precisely measure operating time of an output device that is service information, without having effects on a control system. </paragraph>
<paragraph id="A-0002" lvl="0">To Mix slave <highlight><bold>13 </bold></highlight>connected to a field network <highlight><bold>12, </bold></highlight>an actuator <highlight><bold>14 </bold></highlight>and sensor <highlight><bold>15 </bold></highlight>that detects completion of operation of the actuator are connected. Having a built-in timer, the Mix slave measures time from when OUT terminal to which the actuator is connected turns ON until IN terminal to which the sensor is connected turns ON, by using the timer. Time thus obtained will be operating time of the output device. Comparison of this operating time with a setting will determine whether or not the actuator normally operates. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to a slave and node, and a processing unit and a network power supply monitor system, and an input/output device power supply monitoring system. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> As well known, in factory automation (hereafter referred to as &ldquo;FA&rdquo;), an I/O device is connected to a programmable controller (hereafter referred to as &ldquo;PLC&rdquo;) directly or via a network. A PLC. is designed to control overall FA system by obtaining as Input data Information from such input devices as a switch or sensor that are a sort of the associated I/O devices, executing, in accordance with a pre-installed user program, an arithmetic operation with the associated input data obtained, to determine content of control to an output device that is a sort of the I/O device, and outputting control data corresponding to the control content, to such output devices as a valve or actuator, motor, etc. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> More specifically, control in a CPU unit of PLC incorporates into an I/O memory of CPU unit a signal entered from an input device connected to an input unit (IN refresh), performs a logical operation (execution of an operation) based on a user program organized in a pre-registered ladder language, writes into the I/O memory execution result of that operation and sending it out to an output unit (OUT refresh), thereby the output unit performing a control of driving or stopping the output device, and subsequently executes so-called peripheral operations, such as processing of communications through a communication network. Thus, PLC processes IN refresh, execution of an operation, OUT refresh, and peripheral processing cyclically and repeatedly. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Such a PLC is comprised of a plurality of units. In other words, it is comprised of various units such an a power supply unit of a power supply source, a CPU unit that supervises control of the entire PLC, an input unit that inputs a signal of a switch or sensor attached to a suitable place of the production apparatus or equipment of FA, an output unit that outputs control output to an actuator, etc., an input/output device that combines input with output, a communications unit to connect with a communication network, etc. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In addition, a network system called a remote I/O is known. In this system, a master is connected to PLC unit to which a slave is connected via DeviceNet (registered trademark), etc. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Though this slave is IN slave that incorporates an input signal, OUT slave that outputs an output signal, Mix slave that inputs and outputs, etc., It shall be herein referred to as a slave. And, various devices of a sensor or relay are connected to terminals of the slave. In addition, as mentioned above, a master unit is one of the units that. constitute PLC and is incorporated into PLC. With this, sensing information that has been detected by an input device (e.g., a switch or sensor, etc.) connected to the slave will be serially communicated to the master unit via a field network, and thus incorporated into PLC. And on the side of PLC, a user program is executed based on the obtained sensing information, result of its execution is conveyed to a slave via a network, which is to send a control instruction to output devices (e.g., a relay or valve, actuator, etc.) that should operate. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> In addition, reception and transmission of I/O information such as an input or output signal of a device connected to the slave are performed with communication timing that has been set in advance between the slave and master unit, are asynchronous with cyclic operations of PLC, and thus operate with different timing. And the CPU unit and master unit of PLC are connected through a bus, and thus data is sent to and received from a master unit in IN refresh or OUT refresh (I/O refresh) or peripheral service processing, among cycling processing in the CPU unit. This enables the CPU unit of PLC to connect an input or output device located remotely to a slave, and send and receive data via a network. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Incidentally, in a recent network system, demands have been growing for supervising or monitoring, as appropriate, non-limiting Information such as so-called service information or system status information. maintenance information, etc., in addition to managing and monitoring current content of control. In a traditional network system, as Input data and output data including remote I/O exist in a memory of PLC, all service information used to be obtained by organizing a program on the PLC side. For example, it can be determined by measuring operation time of devices connected to the slave or time needed for I/O information to change to a different state. In order to do the associated operation, a user will create a user program to do the measurement, and execute and process the program in the CPU unit of PLC. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> However, when an attempt is made to obtain service information on the PLC side, as mentioned above, two problems will arise. Firstly, load of execution and processing of a program of PLC will increase. This is because load to execute a program to get information of the service system will be generated. Secondly, communications load between a master and slave will increase. As this requires that the latest information be always obtained from the slave, a need to communicate basic data concerning service information will arise, in addition to control information as I/O data, in communications processing between the master and slave of PLC. Thus, volume of information to be communicated will expand. and cause to increase time to process communications, and a communications cycle between the master and slave will be long. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Hence. the objective of the present invention is to reduce effects on the control system on the PLC side if information of the service system is obtained, More specifically, It alms not only to reduce control load on the PLC side compared with the prior art, but also to improve convenience of a monitor, by securing non-limiting data such as service information by the slave, measuring physical quantities (time, voltage, number of times, etc.) at the slave, and making it possible to monitor that result via a network. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> Next, while illustrating a more specific network system by means of figures, we will provide supplementary descriptions on additional objectives. As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. not only PLC unit <highlight><bold>1</bold></highlight> and master unit <highlight><bold>2</bold></highlight> equipped with communications capability are integrated, but also the master unit <highlight><bold>2</bold></highlight> is connected with a field network <highlight><bold>3</bold></highlight> for sending and receiving data of the control system. Also, to this field network <highlight><bold>3</bold></highlight>, a plurality of slaves <highlight><bold>4</bold></highlight><highlight><italic>a, </italic></highlight><highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>4</bold></highlight><highlight><italic>c </italic></highlight>are connected. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> And, to each slave <highlight><bold>4</bold></highlight><highlight><italic>a, </italic></highlight><highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>4</bold></highlight><highlight><italic>c </italic></highlight>are connected input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>such as a sensor, etc., and output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>such as a valve, motor, etc. In addition, in the shown example, slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>is also called IN slave as only input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>is connected to it, slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>is also called OUT slave as only output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>is connected to it, and slave <highlight><bold>4</bold></highlight><highlight><italic>c </italic></highlight>is also called Mix slave as input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>and output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>are connected to it. Note that in the following description, if no distinction needs to be made, in particular, they are simply referred to as a slave and also given a sign &ldquo;4&rdquo;. In addition, if input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>does not need to be distinguished from output device <highlight><bold>5</bold></highlight><highlight><italic>b, </italic></highlight>they are simply called a device and also given a sign &ldquo;5&rdquo;. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> In the network system of the associated configuration, a network power supply apparatus <highlight><bold>6</bold></highlight> is placed from which power source Is supplied to a plurality of slaves <highlight><bold>4</bold></highlight> via a field network <highlight><bold>3</bold></highlight>. And, power source may also be supplied, via slave <highlight><bold>4</bold></highlight>, to devices <highlight><bold>5</bold></highlight> connected to each slave <highlight><bold>4</bold></highlight>, using the power source supplied from the above-mentioned network power supply apparatus <highlight><bold>6</bold></highlight> to the slave <highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> In addition, a power supply source to various devices <highlight><bold>5</bold></highlight> is not limited to the above-mentioned network power supply apparatus <highlight><bold>6</bold></highlight>, and, for instance, an Input/output device power supply apparatus <highlight><bold>7</bold></highlight> that is separately provided may be used. In other words, power supply output of the input/output device power supply apparatus <highlight><bold>7</bold></highlight> is given to each slave <highlight><bold>4</bold></highlight> through which power source is supplied to the devices <highlight><bold>5</bold></highlight>. Note here that the input/output power supply apparatus <highlight><bold>7</bold></highlight> is a power source only for the devices <highlight><bold>5</bold></highlight> and thus power source is supplied to the slave <highlight><bold>4</bold></highlight> from the network power supply apparatus <highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> Incidentally, when supply of power source from the above-mentioned network power supply apparatus <highlight><bold>6</bold></highlight> to each slave <highlight><bold>4</bold></highlight> is considered, voltage will drop at the field network <highlight><bold>3</bold></highlight> because a resistance value of cables comprising the associated network is not zero though power source is supplied to each slave <highlight><bold>4</bold></highlight> through the field network <highlight><bold>3</bold></highlight>. For this reason, voltage actually applied to the slave <highlight><bold>4</bold></highlight> drops from output voltage at the network power supply source <highlight><bold>6</bold></highlight>. Therefore, voltage drop will increase to the slave <highlight><bold>4</bold></highlight> that is remote from the network power supply apparatus <highlight><bold>6</bold></highlight>, and thus correct supply voltage that can satisfy provisions may not be obtained at a transmission/reception circuit chip in the slave <highlight><bold>4</bold></highlight> or MPU of the slave, etc. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Now, in order to normally operate this system, although a limit can be placed on the length of cables to be used in the field network <highlight><bold>3</bold></highlight>, for instance, it is impossible to decide the cable length assuming a voltage drop which results from turning ON of devices <highlight><bold>5</bold></highlight> connected to the slave <highlight><bold>4</bold></highlight>, etc. In addition, if the cable length is determined with a sufficient margin included, wiring may not be possible due to insufficient length of cables at a site where FA system is to be constructed. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Now, in order to normally operate this FA system, it is necessary not only to actually construct a system on a site, but also to ensure that source voltage to be supplied to each slave <highlight><bold>4</bold></highlight> is proper voltage that can satisfy the standard. However, it was the only way to ensure that this supply voltage is at a proper level is that a worker goes to a site and directly measures supply voltage of each slave by using a voltmeter, etc. Therefore, the associated work is not only very time-consuming but also complicated because a slave is sometimes installed on a back of the apparatus which is not easy to measure, etc. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> In addition, there was no means of monitoring a voltage value of supply voltage at each slave. This sometimes led to inconvenience that abnormal conditions could only be detected when communications with the slave is disabled due to voltage drop in operation. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Furthermore, if a power supply source of the device <highlight><bold>5</bold></highlight> is the Input/output device power supply apparatus <highlight><bold>7</bold></highlight>, a problem similar to those mentioned above will occur. In other words, there was the problem that PLC <highlight><bold>1</bold></highlight> or the master unit <highlight><bold>2</bold></highlight>, which are a host, as well as a monitoring unit or configurator, to be discussed later, cannot know state of power supply of the input/output device power supply apparatus <highlight><bold>7</bold></highlight>. The following problems also occurred in the master unit <highlight><bold>2</bold></highlight> and thus in PLC unit <highlight><bold>1</bold></highlight>, which are a host. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> If bit data corresponding to an input signal from the input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>connected to the said slave <highlight><bold>4</bold></highlight> that was received from the slave <highlight><bold>4</bold></highlight> via field network <highlight><bold>3</bold></highlight> was 0, a determination could not be made on whether the input signal was 0 because the said input device <highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>actually turned OFF, or the input signal was 0 as a neutral operation because there was no supply voltage to the input device <highlight><bold>5</bold></highlight><highlight><italic>a, </italic></highlight>thereby disabling the device itself. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> If bit data corresponding to an output signal to the output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>that was sent to the slave <highlight><bold>4</bold></highlight> via field network <highlight><bold>4</bold></highlight> was 0, a determination could not be made on whether the output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>has stopped because the output signal to the associated output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>actually turned OFF and thus 0 data was output, or the output device <highlight><bold>5</bold></highlight><highlight><italic>b </italic></highlight>itself is disabled because there was no supply voltage to the output device <highlight><bold>5</bold></highlight><highlight><italic>b. </italic></highlight>For this reason, there was a problem that reliability of the system was degraded. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> In addition, to solve the problems described above, by judging whether or not there is a response from the slave <highlight><bold>4</bold></highlight> when a message is regularly sent to the slave <highlight><bold>4</bold></highlight> from the master unit <highlight><bold>2</bold></highlight> and PLC unit <highlight><bold>1</bold></highlight>, for instance, it can be decided if the device receives normal voltage supply or not. To carry out associated operation, however, PLC should make judgment on transmission of a message and reception of a response, which will cause a problem that inherent control of the device <highlight><bold>5</bold></highlight> will be affected. Thus, the present invention is intended to reduce effects on the control system on the PLC side when supply voltage on the slave side of the remote I/O is obtained as service information. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> On the other hand, <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows another specific system configuration. In other words, not only PLC unit <highlight><bold>1</bold></highlight> and master unit <highlight><bold>2</bold></highlight> with the communications capability are integrated, but also that master unit <highlight><bold>2</bold></highlight> is connected to the field network <highlight><bold>3</bold></highlight>. OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>or IN slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>is also connected to this field network <highlight><bold>3</bold></highlight>. Associated basic network configuration is similar to that shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> And, in this example, the actuator <highlight><bold>8</bold></highlight> is connected to OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>as output device <highlight><bold>5</bold></highlight><highlight><italic>b. </italic></highlight>In this actuator <highlight><bold>8</bold></highlight>, upon receipt of a control instruction (ON signal) from PLC unit <highlight><bold>1</bold></highlight>, OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>turns ON the I/O terminal (OUT terminal) to which the actuator <highlight><bold>8</bold></highlight> is connected, whereupon the mobile unit <highlight><bold>8</bold></highlight><highlight><italic>a </italic></highlight>will move forward. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> On the other hand, the sensor <highlight><bold>9</bold></highlight> is connected to IN slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>as input device <highlight><bold>5</bold></highlight><highlight><italic>a, </italic></highlight>and this sensor <highlight><bold>9</bold></highlight> monitors operation of the actuator <highlight><bold>8</bold></highlight>. In other words, when the mobile unit <highlight><bold>8</bold></highlight><highlight><italic>a </italic></highlight>in the actuator <highlight><bold>8</bold></highlight> moves to a predetermined position (a position indicated by a dotted line in the figure), the sensor detects the mobile unit <highlight><bold>8</bold></highlight><highlight><italic>a. </italic></highlight>outputting a detection signal. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> As that detection signal is provided to IN slave <highlight><bold>4</bold></highlight><highlight><italic>a, </italic></highlight>IN slave <highlight><bold>4</bold></highlight>A outputs to PLC unit <highlight><bold>1</bold></highlight> a notice that it received the detection signal (i.e., predetermined I/O terminal (IN terminal) turned ON: operation complete notice). As PLC unit knows from this that the actuator <highlight><bold>8</bold></highlight> has moved for predetermined volume, it will send an instruction to stop (instruction to return to the origin) to OUT slave <highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Now to actually perform the operation described above, each slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>performs master-to-slave communications with the master unit <highlight><bold>2</bold></highlight>, and transmits and receives each signal (data) described above. Therefore, PLC unit I will communicate with each slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>via associated master unit <highlight><bold>2</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> In addition, PLC unit <highlight><bold>1</bold></highlight> cyclically performs operations according to a user program, wherein IN/OUT refresh operations are executed in every one cycle. Then, it sends a signal to OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>or receives a signal from IN slave <highlight><bold>4</bold></highlight><highlight><italic>a. </italic></highlight>On the other hand, in the master-to-slave communications, asynchronous with cyclic operations on the PLC unit <highlight><bold>1</bold></highlight> side discussed above, carries out communications with predetermined slaves with a certain timing (communications cycle). </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> Incidentally. there is a demand for monitoring of operating time of the actuator <highlight><bold>8</bold></highlight>, namely, period during which the mobile unit <highlight><bold>8</bold></highlight><highlight><italic>a </italic></highlight>Is moving. This is because a comparison between operating time and standard time, for example, can be used in determining if the actuator <highlight><bold>8</bold></highlight> is normally operating or not or in estimating service life due to deterioration in action of the actuator. However, traditionally, PLC unit side <highlight><bold>1</bold></highlight> should measure time based on ON/OFF information obtained from the slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>4</bold></highlight><highlight><italic>b, </italic></highlight>and thus generate a program for monitoring, incorporate it into the user program, and execute it. In other words, the timer is started when PLC unit <highlight><bold>1</bold></highlight> outputs the instruction to operate (ON signal) to OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b, </italic></highlight>and stopped when ON signal of IN terminal from IN slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>(operation complete notice) is received. With this, a value of the timer is obtained, and thus operating time will be known. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> However, in the associated method, in order to obtain operating time information as service information, a need to execute the operation to measure operating time will arise, in addition to the inherent operation to control devices on the PLC side. Also, this applies to monitoring of the operating time of the input devices as well. In other words, if there are two input devices (sensors) that monitor a state of an apparatus, judgment can be made on whether the apparatus is normally operating or not, by monitoring time (operating time) from when one sensor detects the apparatus enters into one condition, till other sensor can detect the said apparatus is in another condition, etc. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> However, execution of additional operations to determine the operating time described above while operations are cyclically processed on PLC unit <highlight><bold>1</bold></highlight> side for controlling the entire FA system will hamper high-speed control. Moreover, another problem will be caused wherein as the number of devices to be processed grows, additional operations on the PLC side will increase because more operations will be needed to calculate the operating time on the PLC side. In other words, as described above, the operating time will be determined by cyclically performing operations at PLC unit <highlight><bold>1</bold></highlight> every time, thereby leading to execution of wasteful operations. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Hence, it is an object of the present invention to obtain the operating time of devices as service information without affecting the control system on the PLC side. Specifically, it also an object thereof to be able to precisely measure, on the slave side, time based on operations, such as operating time, waiting time, etc. of output and input devices connected to the slave. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> In order to achieve the first objective described above, a slave related to the present invention is a slave to which a control device is connected and that I/O communicates to the controller via remote lines. And, it is comprised of a measuring means of measuring physical volume of the said controller or said slave itself, and has the capability of outputting to lines Information based on measured values that have been measured with the said measuring means, if predetermined conditions are met. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> The predetermined conditions herein mean may be those that are met at certain time intervals or at predetermined time, or various conditions of when a measured value exceeds the preset standard value, or when there is a request from the external, or when an operation is started up by inputting the power supply. Or, the information based on a measured value may be a measured value itself or a processed one such as result of a comparison of the measured value with the standard value, for instance. In addition, a line that outputs information based on the related measured value may be the said remote line or a different network line including wireless line. Note that the line is referred to as a network in the embodiment. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The measuring means is also capable of measuring based on various signals such as an Internal signal of the slave, signal to be input to the slave, signal to be output from a signal, etc. Also, a signal herein may be any of a digital signal such as ON/OFF, or an analog signal such as voltage. And if physical volume is a digital signal, detection of a point of signal change such as rising or falling of HIGH/LOW signals is one embodiment of measurement of physical volume. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> In addition, one embodiment of the concept contained in a signal that is the basis of measurement of physical volume is one containing a signal to be input or output via a terminal of the slave. In other words, those are, for example, a signal of IN terminal to which the input device of the slave is connected, a signal of OUT terminal to which the output device of the slave is connected, a signal of the terminal of the slave to which the power supply is connected, a signal of the interface terminal of the slave to which the network in connected, etc. And, signals of each terminal are included, and they may not only measure physical volume directly from signal lines connected to that terminal or that terminal, but also measure a state of each terminal (ON/OFF) by detecting a value of I/O memory associated with that terminal, in the case of IN terminal or OUT terminal. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> In addition, there are various kinds of physical volumes to be measured. In other words, they may be, for example, voltage of the network power source to be supplied via slave implemented in the fifth embodiment, supply voltage to be supplied to the said controller via slave implemented in the fifth embodiment, operating time to be timed by using as a trigger a change of I/O data to the controller connected to own or a different slave implemented in the first to third embodiments, etc. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Thus, although physical volume was the operating time or supply voltage of the Input and output devices in the embodiment, physical volume to be measured in the present invention is not limited to them, and other physical volume will be included. To be specific, there is energized time or operating time of the slave. This can be obtained by integrating time while the power source is turned ON. In addition, it may be energized time of input or output device, etc. Furthermore, it may be the number of operations of input or output device, that is, counting of the number of ON/OFF times. Furthermore, it may be the number of communications error with the master or occurrences of abnormal communications. Needless to say, it is not limited to those illustrated and listed. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> In addition, another configuration for solving may be a slave to which a control device is connected and that I/O communicates to the controller via a remote line, and may be configured, comprising a measuring means of measuring physical volume of the said controller or the said slave itself, a judging means of making judgment by comparing a measured value measured with that measuring means with a standard value, and the capability of outputting to a line result of judgment made with that judging means. In this case, the said capability of outputting may be configured so that the said measured value can be output to the said line together. Needless to say, the related capability is not mandatory. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> In accordance with the two configurations described above, a slave itself is capable of measuring physical volume of itself or a control device and obtaining a measured value, with the measuring means. The measuring means is executed independently of processing of the control system that is performed by sending and receiving I/O data with the controller (master unit) via usual remote line. Therefore, effects on control can be suppressed as soon as possible. Also, non-limiting data (non I/O data) such as service information that is information based on a measured value measured with the measuring means can be noticed to a predetermined recipient, by reserving it at the slave and outputting it to a line (network) with predetermined timing. This enables the recipient to collect information based on the measured value. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> In addition, a destination of output of the function can be a controller, a monitor means connected to a line or a slave. Needless to say, anything other than them may be the destination. And the controller contains a master unit or PLC, etc, The monitor means also includes a configurator as well as the monitor unit. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Furthermore, the said output function can be configured to output In accordance with internal trigger such as result of internal judgment of the slave, startup of the power source, transmission timer, etc. Needless to say, it may be based on external trigger. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> &ldquo;Internal trigger&rdquo; herein refers to the one that is based on result of execution of predetermined processing of the slave it the self and that is generated in the slave. And, to show an example of the internal trigger, there are the following: In other words. if judgment is made on whether a measured value measured at the slave reaches or exceeds a threshold, there will be that judgment result. Some use that generated signal as a trigger signal. Also, if initial processing is done with the power of slave turned on, information stored in a non-volatile memory may be output to a line or a trigger may be generated, etc. during that initial processing. In addition, some have a clock in the slave, whereby a trigger signal is regularly generated every time predetermined time elapses, or a trigger signal is generated at a predetermined time. Also, based on conditions of communications traffic with the master, some generate a trigger signal when there is extra time in processing of communications, or when abnormality such as abnormal voltage occurs. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> On the other hand, &ldquo;external trigger&rdquo; is based on a command received by a slave via network, and is generated outside of the slave. And, as an example of external trigger, there are an information request command from the master to the slave, an information request command from the monitor to the slave, an information request command from the configurator, a command to be originated from the tool and sent by way of PLC or master, etc. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> In addition, as a specific means to solve for achieving objectives of the present invention, various configurations can be taken. as described below. In other words, a processor according to the present invention is a processor that is incorporated in a master or slave connected to the network for FA (factory automation) and determines operating time of an output device connected to the slave that has been connected to the said network, comprising. a means of obtaining start time of when OUT terminal of the slave to which the said output device is connected has changed; a means of obtaining information on stop time of when IN terminal of the slave to which is connected an input device detecting that the said output device is in predetermined state has changed, and a means of calculating operating time of the said output device based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In addition, a node according to the present invention is a node connectable to the network for FA, wherein it is designed to comprise the capability of obtaining information on start time when the output device attached to the slave connected to the said network has changed; the capability of obtaining information on stop time when notice is received that IN terminal to which the input device is connected has changed, from the slave to which is connected the:input device detecting that the said output device is in predetermined conditions; and the computing capability that computes operating time of the said output device based on the said start time information and the said stop time information. This node may be a master or a slave, for example. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> On the other hand, the slave related to the present invention is a slave to which can be connected the output device and the input device detecting that the output device is in predetermined conditions, wherein it is designed to comprise the capability of obtaining information on start time when OUT terminal to which the said output device is connected has changed; the capability of obtaining information on stop time when IN terminal to which the said input device is connected has changed; and the computing capability that computes operating time of the said output device based on the said start time information and the said stop time information. The present invention corresponds to an embodiment of the Mix slave. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> In addition, another means to solve of the slave related to this information is a slave to which the output device can be connected, wherein it can comprise the capability of obtaining information on start time when OUT terminal to which the said output device is connected has changed; the capability of obtaining information on stop time when a notice is received that IN terminal to which the said input device is connected has changed, from other slave to which is connected the input device detecting that the said output device is in predetermined condition; and the computing capability that computes operating time of the said output device based on the said start time information and the said stop time information. The present invention corresponds to the embodiment of OUT slave a figure of which has been omitted. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Yet another means to solve is a slave to which can be connected the input device detecting that the output device is in predetermined condition, wherein it can comprise the capability of obtaining information on start time when a notice is received that OUT terminal to which that output device is connected has changed, from another slave to which the said output device is connected; the capability of obtaining information on stop time when IN terminal to which the said input device is connected has changed; and the computing capability that computes operating time of the said output device based on the said start time information and the said stop time information. The present invention Is embodied according to the embodiment of IN slave. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> In addition, &ldquo;OUT terminal or IN terminal has changed&rdquo; means &ldquo;a case in which It switches from OFF to ON and a case in which it switches from ON to OFF&rdquo;. In other words, rising or falling of a signal applies to a change that has occurred. Strictly speaking, turning ON of a signal is not necessarily synonymous with sensing of a rising signal. In other words, not only a value in standard state (steady state) will be reversed as a result of High/Low, but also rising from Low to High may be detected or falling from High to Low may be detected, if a single ON pulse (L&rarr;H&rarr;L) has occurred, for instance, and a series of signals are considered one ON signal, which will change from L&rarr;H&rarr;L in this short time (in either case, it Is judged that a signal has turned ON). On the other hand, if it is considered that, to a single ON pulse, a signal has turned OFF immediately after it turned ON, turning ON of a signal is synonymous with a rising signal, provided that OFF state is Low. This also applies to relationship between turning OFF of a signal and a falling signal. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Therefore, taking note of ON and OFF of a signal, there can be the following four patterns; &ldquo;time from when OUT terminal turns ON till IN terminal turns ON&rdquo;, &ldquo;time from when OUT terminal turns ON till IN terminal turns OFF&rdquo;, &ldquo;time from when OUT terminal turns OFF till IN terminal turns ON&rdquo;, and &ldquo;time from when OUT terminal turns OFF to when IN terminal turns OFF&rdquo;. Similarly. when taking note of rising and falling of a pulse, grouping of patterns described above can also apply, by replacing ON with rising and OFF with falling. Note that in the following descriptions, for convenience of understanding, it will be considered that turning ON of a terminal is synonymous with rising and turning OFF of a terminal is synonymous with falling, and thus they can be used in the same meaning. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> In addition, respective actual time information is obtained from a timing means that can measure time of the built-in timer, counter, clock, etc. This means that there are not only absolute information such as time information but also relative information such as a timer value, counter value, etc. If it is time information, operating time can be determined by obtaining a difference between start time and stop time. In the case of a counter value, etc., operating time can be determined by obtaining a differential of the counter value between a counter value at the start time and that at the stop time. In this case, multiplying by a differential of the counter value or time required for the counter value to advance by 1, specific time information such as a few seconds, etc., can also be obtained. Also, the stopwatch function may be provided so that timing can start after the timer and counter are reset to &ldquo;0&rdquo; at the start time, and related timing is stopped at the stop time. By doing so, a differential with &ldquo;0&rdquo; at the start time, i.e., a value when stopped, can be operating time, which will obviate operations. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Thus, obtaining time information is the concept that is not limited to obtaining specific time or a counter value, but includes action of setting to &ldquo;0&rdquo;, etc. In other words, related actions are also for indirectly obtaining information that &ldquo;start time is 0&rdquo;. In addition, as apparent from the above descriptions, operating time is also the concept that includes not only an absolute unit system specifically indicating &ldquo;x seconds&rdquo; but also values correlated to time, such as a counter value. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Further, obtaining a chance (trigger) means that a predetermined terminal switches &ldquo;from OFF to ON&rdquo; or &ldquo;ON to OFF&rdquo;. Determination on whether there is related trigger or not is made by monitoring ON/OFF of that terminal, or can be directly detected based on that an instruction (i.e., an instruction to change to ON/OFF) was output to that terminal, if the related terminal is owned by one. In addition, if the said terminal is provided in other slave, it is recognizable that a change has occurred in accordance with a notice from the related slave. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In addition, if a node is a master, although a notice that a predetermined terminal has changed may be received from the slave to which an input or output device is connected, OUT data is sent to the slave to which the output device is connected, thus with that transmission output, it is considered that the OUT terminal has changed, and then start time information may be obtained. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> Also, the output device corresponds to the actuator <highlight><bold>14</bold></highlight> in the embodiment, while the input device corresponds to sensors <highlight><bold>15</bold></highlight> and <highlight><bold>15</bold></highlight>&prime; in the embodiment. And, a predetermined state of the output device detected by the input device means, for example, that predetermined action has completed, and that, in the embodiment, the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>has moved to a predetermined position. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> In respective invention described above, and, in particular, in the slave to which the output and input devices are connected, since it is directly recognizable that OUT and IN terminals have changed, operating time can be determined with high precision, and without being affected by communications cycles, etc. In the embodiment, each function can be implemented by the application program incorporated in MPU. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> And, on the precondition of each slave described above, it is better to comprise a means of storing and retaining setting information to identify normal range of the said output or input device, and of comparing the operating time obtained above with setting information described above. Since operating time can be determined with relatively good precision in accordance with the present invention, a comparison with setting:information makes it possible to judge whether or not the output or input device is normal, or whether time of replacement approaches, etc. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> On the other hand, although any of respective invention described above is directed to operation of an output device (an output device to be monitored), the present invention is not limited to this, but applicable to detects time based on operation of an input device. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In other words, as an invention related to a slave, there is a slave to which can be connected first and second input devices that detect condition of the device, wherein it can be configured comprising the capability of obtaining information on start time when IN terminal to which the said first input device is connected has changed; the capability of obtaining information on stop time when IN terminal to which the said second input device is connected has changed; and the computing capability that computes operating time of the said device based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> In addition, it is a slave to which a first input device can be connected, wherein it can be configured to comprise the capability of obtaining information on start time when IN terminal to which the said first input device is connected has changed; the capability of obtaining information on stop time when a notice is received that IN terminal to which the said second input device is connected has changed, from other slave to which the said first input device is connected; and the computing capability that computes operating time of the apparatus to be monitored by the said first and second input devices based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> On the other hand, contrary to the above, it is a slave to which a second input device can be connected, wherein it can be configured to comprise the capability of obtaining information on start time when a notice Is received that IN terminal to which that second input device is connected has changed, from other slave to which the first input device is connected; the capability of obtaining information on stop time when IN terminal to which the said second input device is connected has changed; and the computing capability that computes operating time of the apparatus to be monitored by the said first and second devices based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> In accordance with this invention, by employing a timing means that is built-in on the slave or node side, time from when an operation of output device has started till output of an input device changes (output device will enter a predetermined state) is measured. Hence, time based on operating time of the output device can be determined correctly. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Therefore, taking note of ON and OFF of a signal, there can be the following four patterns, &ldquo;time from when IN terminal turns ON till IN terminal turns ON&rdquo;, &ldquo;time from when IN terminal turns ON till IN terminal turns OFF&rdquo;, &ldquo;time from when IN terminal turns OFF till IN terminal turns ON&rdquo;, and &ldquo;time from when IN terminal turns OFF to when IN terminal turns OFF&rdquo;. Similarly, when taking note of rising and falling of a pulse, grouping of patterns described above can also be applied, for example, by replacing ON with rising and OFF with falling. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In addition, on the precondition of respective invention that determines operating time based on changes of the above two IN terminals, it is more preferable to configure, by comprising a comparison means that stores and retains setting information to identify normal range of the said apparatus, and compares the said determined operating time with the said setting information. In addition, it is also possible to comprise the capability of notifying a master with predetermined timing, via a network, of at least one of the said operating time and comparison results obtained with the said comparison means. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Also, a node related to the present invention is a node that can be connected to a network for FA, wherein it can be configured by comprising the capability of obtaining information on start time when IN terminal to which is connected a first input device attached to the slave that is connected to the said network has changed; the capability of obtaining information on stop time when a notice that IN terminal to which that second input device is connected has changed is received, from the slave to which the second input device is connected; and the computing capability that computes operating time of the said output device based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> In addition, a processor related to the present invention is processor that is incorporated in a master or slave connected to a network for FA, and that determines operating time of a predetermined apparatus, wherein it can be configured comprising a means of obtaining start time when IN terminal of the slave to which is connected a first input device monitoring conditions of the said apparatus; a means of obtaining information on stop time when IN terminal of the slave to which is connected the second input device monitoring conditions of the said apparatus; and a means of computing operating time of the said apparatus based on the said start time information and the said stop time information. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In respective invention described above, although an apparatus corresponds to an output device (actuator <highlight><bold>14</bold></highlight>) connected to OUT terminal of a slave that is connected to the same network of an input device, the present invention is not limited to this, and may be an output device connected to a network other than those to which a slave, etc. of the present invention are connected, or a separate apparatus from the network. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> And, an apparatus to be monitored is not only one apparatus that can be considered physically identical, but also a plurality of apparatuses if the plurality of devices, even though they are physically separate, comprise a system that operates cooperatively or in connection with others, and the related system corresponds to an apparatus mentioned in the present invention. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> In addition, it is good if there is provided the capability of notifying a master with predetermined timing, via a network, of at least one of the said operating time and comparison result obtained with the said comparison means. An alarm, etc. can be issued through execution of related capabilities, by notifying a master and thus PLC or a host computer, etc. of operating time. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Further, in a network power supply monitoring system according to the present invention, a master unit, a plurality of slaves, a network configurator and a network power supply unit are connected by way of a network, and the network power supply monitoring system shall be the premises in the network system that feeds power source to the above slaves from the above network power supply unit through the above network. And, in at least one slave of the plurality of slaves mentioned above is provided the power supply monitoring means that monitors a state of the network power source supplied through the above network from the above network power supply source, and in the above network configurator are provided a means of collecting states of the network power source of the slaves monitored by the above power supply monitoring means by communicating with the above at least one slave via above network, and a means of controlling in unified manner the said collected states of the network power source of the slave monitored by the said power supply monitoring means. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> Preferably, the above power supply monitoring means comprises a voltage detection means that sequentially detects a current value of voltage of the above network power source, and a minimum selection means that selects a minimum value from the current values mentioned above which the above voltage detection means sequentially detects, wherein it can be configured so as to collect, via above network, the above current values detected by the above voltage means and the above minimum value selected by the above minimum selection means, and to display on a monitor the said collected current values of the above network supply voltage, together with minimum values mentioned above. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> In such a case, the above power supply monitoring means comprises a monitoring voltage storage means that stores desired monitoring voltage. and an alarm information storage means that stores alarm information when a current value of the above network supply voltage detected by the above voltage detection means drops below monitoring voltage stored In the above monitoring voltage storage means, wherein it can be configured to monitor power source alarm conditions of each slaves mentioned above by collecting, via above network, alarm information stored in the above alarm information storage means. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In addition, the said power supply monitoring means comprises a monitoring voltage storage means that stores desired monitoring voltage, and an alarm information storage means that stores alarm information when a minimum value of the said network supply voltage detected by the said minimum selection means drops below monitoring voltage stored in the above monitoring voltage storage means, wherein it can be comprised so as to monitor power supply alarm conditions of each slave mentioned above by collecting via above network alarm information stored in the above alarm information storage means. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> In the input/output device power supply monitoring system according to the present invention, at least one slave of the plurality of slaves mentioned above has a monitoring means that monitors how power source is supplied to the devices connected to that slave, and a notifying means that notifies, via above network, the above host of detection result detected by the above monitoring means in the input/output device power supply monitoring system that monitors how power source is supplied to the devices connected to the above slave in the network system that connects the host and plurality of slaves via network, wherein the above host is configured to have a monitoring means that monitors how power source is supplied to the devices connected to the above slave, based on the above detection result notified by the above communications means. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> Each means that constitutes a slave and a node according to the present invention and a processor can be implemented by dedicated hardware circuit or implemented by a programmed computer.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWING </heading>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows a traditional example. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows a traditional example. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows configuration of a network system to which the first embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows one example of the internal structure of a slave related to the present Invention. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a timing chart showing how the OUT terminal and IN terminal operate. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flow chart illustrating the function of MPU. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows one example of a transmission frame for sending operation result. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows configuration of a network system to which the second embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows one example of the data structure of the table that relates OUT slave and IN slave, </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows one example of a message for setting data relating OUT slave and IN slave, to a predetermined slave. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> illustrates a modification of the first embodiment. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> illustrates other modifications of the first embodiment. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows configuration of a network system to which the third embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> illustrates action of the present invention in the third embodiment. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> illustrates configuration of a network system to which a modification of the third embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flow chart illustrating functions of an apparatus of hybrid type that incorporates respective embodiments of the present invention. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> shows one example of a data structure of a table that relates <highlight><bold>2</bold></highlight> slaves. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows one example of a message to set data for relating <highlight><bold>2</bold></highlight> slaves., to a predetermined slave. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> shows configuration of a network system to which the fourth embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a block diagram that illustrates configuration of components of each slave in the fourth embodiment. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a block diagram that illustrates configuration of components of a network configuration in the fourth embodiment. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> Is a flow chart that illustrates processes of the network configurator in the fourth embodiment. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> illustrates a specific example of power supply state display process of the network configurator in the fourth embodiment. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> illustrates a specific example of power supply state display process of the network configurator in the fourth embodiment. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> is a flow chart illustrating processes of each slave In the fourth embodiment. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> shows configuration of a network system to which the fifth embodiment of the present invention is applied. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> is a block diagram illustrating functions of the fifth embodiment. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is a block diagram that illustrates a specific example of configuration of a slave in the fifth embodiment. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is a flow chart for illustrating operation of the slave in the fifth embodiment. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 30</cross-reference> is a flow chart for illustrating operation of the master unit in the fifth embodiment. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 31</cross-reference> is a block diagram that illustrates other specific examples of configuration of a slave in the fifth embodiment. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 32</cross-reference> is a circuit diagram that illustrates a specific circuit example of the power supply for input monitoring unit to be incorporated into a slave of the fifth embodiment.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows an example of system configuration to which present invention is applied. As illustrated in the same figure, in this embodiment, not only PLC unit <highlight><bold>10</bold></highlight> and a master unit <highlight><bold>11</bold></highlight> with communications capability are integrated, but also that master unit <highlight><bold>11</bold></highlight> is connected with a field network (remote circuit) <highlight><bold>12</bold></highlight>. In addition, this PLC unit <highlight><bold>10</bold></highlight> and master unit <highlight><bold>11</bold></highlight> are bus connected. In addition, Mix slave <highlight><bold>13</bold></highlight> to which input and output devices can connected is connected to this field network <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> PLC unit <highlight><bold>10</bold></highlight> is also referred to as CPU unit, and cyclically performs I/O refresh, program execution, and peripheral processing. In addition, although the figure is omitted, besides PLC unit <highlight><bold>10</bold></highlight>, various units are connected, as necessary, and constitute PLC. However, the related units themselves are conventionally known to the public, explanation thereof will be omitted. Also, the master unit <highlight><bold>11</bold></highlight> carries out master-to-slave communication with Mix slave <highlight><bold>13</bold></highlight>, and as per a request from the master unit <highlight><bold>11</bold></highlight>, I/O data of input and output devices connected to Mix slave <highlight><bold>13</bold></highlight> are sent and received. And, I/O data exchange between PLC unit <highlight><bold>10</bold></highlight> and master unit <highlight><bold>11</bold></highlight> is conducted by data communications via bus as I/O refresh processing in cyclic processing executed by PLC unit <highlight><bold>10</bold></highlight>. Note that the above master-to-slave communications is carried out asynchronous with cyclic processing of PLC unit <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> This Mix-slave <highlight><bold>13</bold></highlight> is a hybrid type in which functions of OUT slave <highlight><bold>4</bold></highlight><highlight><italic>b </italic></highlight>and IN slave <highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> are incorporated, an actuator <highlight><bold>14</bold></highlight> is connected to OUT terminal and to IN terminal is connected a sensor <highlight><bold>15</bold></highlight> that monitors a position of a mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>of the actuator <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows an example of internal structure of the Mix slave <highlight><bold>13</bold></highlight>. In other words, connected to the field network <highlight><bold>12</bold></highlight>, It comprises the transmission and reception circuit <highlight><bold>13</bold></highlight><highlight><italic>a, </italic></highlight>MPU<highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>connected to the transmission and reception circuit <highlight><bold>13</bold></highlight><highlight><italic>a, </italic></highlight>output circuit <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>connected to the output devices, and input circuit <highlight><bold>13</bold></highlight><highlight><italic>d </italic></highlight>connected to the Input devices. It further comprises an external non-volatile memory <highlight><bold>13</bold></highlight><highlight><italic>a </italic></highlight>or timer (internal clock) <highlight><bold>13</bold></highlight><highlight><italic>f, </italic></highlight>etc. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> And, the transmission and reception circuit <highlight><bold>13</bold></highlight><highlight><italic>a </italic></highlight>has the capability of receiving a frame flowing on the field network <highlight><bold>12</bold></highlight>, Judging by analyzing a header part if the frame is addressed to it, and finally accepting frames only addressed to it and passing them to the MPU <highlight><bold>13</bold></highlight><highlight><italic>b, </italic></highlight>and the capability of outputting onto the field network <highlight><bold>12</bold></highlight> transmission frames (e.g., a frame for sending IN data directed to the master unit <highlight><bold>11</bold></highlight>) provided by the MPU<highlight><bold>13</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> MPU<highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>executes predetermined processing according to information stored in a data unit of received frames provided by the transmission and reception circuit <highlight><bold>13</bold></highlight><highlight><italic>a, </italic></highlight>basic capability of which is to issue a control signal to turn predetermined OUT terminal ON/OFF to the output circuit <highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>according to OUT data in a data part. It also has the capability of obtaining ON/OFF state of the input terminal by way of the input circuit <highlight><bold>13</bold></highlight><highlight><italic>d, </italic></highlight>generating a frame to transmit, as IN data, that obtained information to the master unit <highlight><bold>11</bold></highlight>, and passing it to the transmission and reception circuit <highlight><bold>13</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> To control operation of the actuator <highlight><bold>14</bold></highlight> in the above system, a user program installed in PLC unit is executed cyclically, the master unit <highlight><bold>11</bold></highlight> is notified that OUT terminal of the Mix slave <highlight><bold>13</bold></highlight> is to be turned ON when predetermined conditions are met, and the mater unit <highlight><bold>11</bold></highlight> sends a predetermined frame (OUT data) to the Mix slave <highlight><bold>13</bold></highlight> that corresponds according to communications cycles. </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> Mix slave <highlight><bold>13</bold></highlight> turns ON OUT terminal connected to the actuator <highlight><bold>14</bold></highlight>, according to a received frame (OUT data). This will turn a valve (not shown) ON (open), thereby advancing the mobile unit <highlight><bold>14</bold></highlight> forward. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> On the other hand, as described in the example of the prior art, as a sensor <highlight><bold>15</bold></highlight> is placed together with the actuator <highlight><bold>14</bold></highlight>, the sensor <highlight><bold>15</bold></highlight> will turn ON, that is, IN terminal to which the sensor <highlight><bold>15</bold></highlight> is connected will turn ON, when the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>moves to a predetermined position (a movement complete position, in the embodiment). Since MPU <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>can be obtained through the input circuit <highlight><bold>13</bold></highlight><highlight><italic>d </italic></highlight>that IN terminal has thus turned ON, it will transmit as IN data to the master unit <highlight><bold>11</bold></highlight> when the transmission timing of its own frame comes. Then, the master unit <highlight><bold>11</bold></highlight> will pass obtained IN data at the time of refresh processing in PLC unit <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> As capabilities/configuration of each processing unit for executing the above respective processing and related processing is similar to that of the prior art, detailed description thereof is omitted here. Now, in the present invention, Mix slave <highlight><bold>13</bold></highlight> is equipped with the capability of measuring operating time of the above actuator. </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> In other words, as MPU <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>can recognize a state of OUT or IN terminal possessed by itself, as illustrated in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. by using the timer (internal clock) <highlight><bold>13</bold></highlight><highlight><italic>f, </italic></highlight>it measures, for instance, time t from when the predetermined OUT terminal turns ON till the IN terminal turns ON, and stores the result of that measurement in the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime;. Note that we herein mean the same state by turning ON of OUT and IN terminals, and by rising of a signal. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> As Mix slave <highlight><bold>13</bold></highlight> also retains information on normal operating time, it is provided with the capability of determining whether or not the above measurement result is within the normal operating time, and making judgment on a state of the actuator <highlight><bold>14</bold></highlight> (Needless to say, result of judgment will be stored and retained in the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime;). And, the above normal operating time may be either one that can be set by a threshold, such as within 10 ms, or one that can be set by using 2 thresholds, such as, from 90 ms to 100 ms. A set value to identify this normal operating time is stored in the external non-volatile memory <highlight><bold>13</bold></highlight><highlight><italic>e </italic></highlight>and is developed into the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime; every time the power is turned ON. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> In addition, although not specifically shown, a combination of OUT and IN terminals to be monitored and the above settings are stored in the external non-volatile memory <highlight><bold>13</bold></highlight><highlight><italic>e </italic></highlight>as an associated table structure. And, related information is developed into the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime;, but that internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime; has further the table structure whereby, in effect, measurement or judgment result can also be associated and stored, And, to be specific, the processing unit <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&Prime; of the MPU <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>is designed to execute the flow chart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. In addition, the operating time t to be operated and monitored is based on the premise that both of OUT and IN terminals have switched from OFF (Low) to ON (High), as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, that is, rising signals are tied together, and time from rising of that OUT signal to that of IN signal will be considered operating time t. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, it should be first determined whether or not there is rising of the applicable OUT terminal (in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the OUT terminal to which the actuator <highlight><bold>14</bold></highlight> is connected)(ST<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> And, if rising is detected, then start time (counter value) should be obtained from the timer <highlight><bold>13</bold></highlight><highlight><italic>f </italic></highlight>(ST<highlight><bold>2</bold></highlight>). Note that although in thin embodiment, we used the timer (counter) as we only measured operating time, we had better use the internal clock if we obtain associated data with date and time when the operating time was measured, as well. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> Next, it will be determined whether or not there is rising of the applicable IN terminal (when in ON signal) (ST<highlight><bold>3</bold></highlight>). And, If rising is detected (Yes at the branch of step <highlight><bold>3</bold></highlight>), a value of the timer <highlight><bold>13</bold></highlight><highlight><italic>f </italic></highlight>(stop time) is obtained, a differential from the start time obtained in step <highlight><bold>2</bold></highlight> is computed, and the result is stored in a result buffer. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> On the other hand, as settings which provide for operating time of a normal actuator have been retained in advance, they are compared with the operating time computed in step <highlight><bold>5</bold></highlight>, and determination is made on whether it is within the range (normal). and stored In a result buffer, together with that comparison (ST<highlight><bold>6</bold></highlight>). </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> And, if the above procedures were executed sequentially and repeatedly on the set objects to be monitored, and the procedures were done on all points (Yes at ST<highlight><bold>7</bold></highlight>), obtained operating time and comparison result would be stored and retained in the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>as status information of each object to be monitored (actuator <highlight><bold>14</bold></highlight>, etc.). Since these procedures are to be executed according to an interrupt instruction, a next instruction should be waited if the procedures up to 8 were done. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> On the other hand, the above stored and retained operating time or comparison result can be conveyed to the master unit <highlight><bold>11</bold></highlight> and thus PLC unit <highlight><bold>10</bold></highlight>, if, for instance, the master unit <highlight><bold>11</bold></highlight> outputs a message with predetermined timing, and Mix slave <highlight><bold>13</bold></highlight> that receives the message returns, as a response to the message, operating time, etc. of an object device (address) specified by the message. Thus, it is preferable to use a message from the master unit <highlight><bold>11</bold></highlight>, because communications on the master unit <highlight><bold>11</bold></highlight> side is independent from transmission of I/O data, and only information of a necessary object to be monitored can be received. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> Notice of related operating time, etc. is not limited to a response to the above message, and thus it can also be conveyed, for example, through polling between the master and the slave. In other words, each slave sends IN data to the master unit <highlight><bold>11</bold></highlight> with predetermined timing. Therefore, as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, notification is possible by generating and sending a transmission frame that comprises, In the data unit, IN data, a state of usual input terminal plus operation result managed by that slave (operating time or comparison result, and so on). This method is preferred because it saves the master unit a need to generate and send a message requesting for acquisition for operating time. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> In addition, as another scheme, Change of State can be used wherein the slave side operates as a main entity. In other words, Mix slave <highlight><bold>13</bold></highlight> sends the result to the master unit <highlight><bold>11</bold></highlight> only when any change is made to operating time or comparison result of an object to be managed by it. Adoption of this scheme can prevent wasteful data from flowing over the field network <highlight><bold>12</bold></highlight> and reduce traffic because the master unit can receive operating time, etc., only when necessary. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> In this embodiment, as not only computation of operating time but also even status judgment are executed and stored/retained on the slave side, necessary information can be obtained without any cyclic operations in PLC unit <highlight><bold>10</bold></highlight> as well as any effects of communications cycles in the field network <highlight><bold>12</bold></highlight>. Yet, since operating time is computed within the slave, operating time, even though it is shorter than one cycle of the cyclic operation, can be obtained. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows the second embodiment of the present invention. In this embodiment, instead of Mix slave, OUT slave <highlight><bold>20</bold></highlight> and IN slave <highlight><bold>21</bold></highlight> are connected to the field network <highlight><bold>12</bold></highlight>. And, by conducting peer-to-peer communications (inter-slave communications), ON/OFF information of desired OUT terminal is given from OUT slave <highlight><bold>20</bold></highlight> to IN slave <highlight><bold>21</bold></highlight> (usually, a slave to which the sensor <highlight><bold>15</bold></highlight> is connected). </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> Then. in the processing unit of MPU in IN slave <highlight><bold>21</bold></highlight>, procedures similar to those shown in the flowchart of <cross-reference target="DRAWINGS">FIG. 6</cross-reference> are executed, wherein based on ON/OFF information of OUT terminal received from OUT slave <highlight><bold>20</bold></highlight>, start time when the applicable OUT terminal turns ON and stop time when predetermined IN terminal turns ON are obtained, and not only operating time is determined from a difference between them, but also It is compared with set values, and comparison result is retained. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> Further, data transmission from OUT slave <highlight><bold>20</bold></highlight> to IN slave <highlight><bold>21</bold></highlight> can be implemented, for example, by having IN slave <highlight><bold>21</bold></highlight> store and retain in advance the node number of associated OUT slave and bit number of OUT terminal, etc., having IN slave <highlight><bold>21</bold></highlight> inquire of OUT slave <highlight><bold>20</bold></highlight> of the stored node number about a state of the bit number with predetermined timing, and having OUT slave <highlight><bold>20</bold></highlight> notify ON/OFF state of the applicable bit number as a response to that inquiry. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> According to this method OUT slave <highlight><bold>20</bold></highlight> needs only to respond to a transmission request, and thus does not need to store and retain any information on the associated IN slave <highlight><bold>21</bold></highlight>. On the contrary, also by having the OUT slave <highlight><bold>20</bold></highlight> store and retain information on the associated IN slave, for example, when desired OUT terminal turns ON, the applicable ON information may be notified to the associated IN slave <highlight><bold>21</bold></highlight> which gets not only start time when it receives notice on this ON information but also stop time when/the IN terminal turns ON, compute operating time from both of the times, and obtain the result of a comparison with settings as well. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> Then, it is possible to have the IN slave <highlight><bold>21</bold></highlight>, etc. store information necessary to measure operating time, by creating a table that relate &ldquo;node number (MACID) and bit number of IN slave&rdquo;, &ldquo;node number (MACID) and bit number of OUT slave&rdquo; and &ldquo;OUT monitoring time unit&rdquo; together with relation data as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, namely, assignment number, by means of tool device, and then, based on this table, creating a message including related information In the data unit to the slave that is to store and retain and sending it to the applicable slave by way of the field network <highlight><bold>12</bold></highlight>, through the applicable tool device or master unit <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> Further, OUT monitoring time unit is a unit of the time to monitor conditions of other slaves, and inquires about a state of the applicable bit at related monitoring time intervals. Hence, this related OUT monitoring time unit is the minimum unit of the operating time measurement capability. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> Also, in <cross-reference target="DRAWINGS">FIGS. 9 and 10</cross-reference>, settings of relationship between OUT slave (OUT terminal) and IN slave (IN terminal) are illustrated, and if the capability of comparing operating time requested of the slave side with settings is added, settings for comparison may also be associated and transmitted. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> In this embodiment, since output devices to be monitored, such as the actuator <highlight><bold>14</bold></highlight>, etc., and input devices such as the sensor <highlight><bold>15</bold></highlight>, etc. are connected to different slaves, communications through the field network <highlight><bold>12</bold></highlight> is carried out at least once. However, time lag has nothing to do with cyclic time of the user program in PLC unit <highlight><bold>10</bold></highlight>, instead is attributed only to communications cycles, yet the communications cycles are very short compared with the cyclic time, and thus a value closer to real operating time than that managed on the user program side can be obtained. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> Also, in the above embodiment. computation of operating time takes place In IN slave <highlight><bold>21</bold></highlight> to which the sensor <highlight><bold>15</bold></highlight>, input device, is connected. Contrary to this, by sending ON/OFF information of the IN terminal from the IN slave <highlight><bold>21</bold></highlight> to the associated OUT slave <highlight><bold>20</bold></highlight>, computation of operating time and comparison with settings may be executed on the OUT slave <highlight><bold>20</bold></highlight> side. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> In addition, computation of operating time is not necessarily limited to the output device operating time of which in to be obtained, or a slave to which input device such as a sensor which monitors that output device Is connected, and instead may be a different slave. In such a case, ON/OFF information of OUT terminal and ON/OFF information of IN terminal is to be obtained and computed from the OUT slave <highlight><bold>20</bold></highlight> and IN slave <highlight><bold>21</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> Furthermore, since operating time of such a slave to which no input/output device is connected can be determined, it may be obtained with the master unit <highlight><bold>11</bold></highlight>, by incorporating this computing capability (capability of implementing the flow chart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>). Even in this case, since there is no effect of cyclic time of the user program in PLC unit, operating time can be determined with relatively good precision. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> Also, if it is obtained with the master unit <highlight><bold>11</bold></highlight>, ON/OFF information of OUT or IN terminal can be obtained by using control of the master unit <highlight><bold>11</bold></highlight> over transmission/reception of I/O information, although, as in the case with another slave, it can be obtained by inquiring of associated slave and responding to the inquiry. or configuring so that the associated slave notifies the master unit <highlight><bold>11</bold></highlight> when a predetermined terminal turns ON. In other words, operating time can also be obtained by getting start time when sending associated OUT data and stop time when receiving IN data. </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> Incidentally, in either of respective embodiment or modifications described above. although the examples are shown wherein time from when the output terminal turns ON (rises) till the input terminal turns ON (rises) is considered operating time, the present invention is not limited to them, and can obtain, as operating time, duration from when the output terminal changes till the input terminal changes. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> In other words, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, for example, if ON signal is given to the OUT terminal of Mix slave <highlight><bold>13</bold></highlight> (this can also be OUT slave <highlight><bold>20</bold></highlight>) to which the actuator (cylinder) <highlight><bold>14</bold></highlight> is connected, the valve opens, thereby advancing the mobile unit (cylinder head) <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>forward. And, in the example shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the sensor <highlight><bold>15</bold></highlight> is designed to detect a movement complete position of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a, </italic></highlight>whereas in the example shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the system is conceived wherein the sensor <highlight><bold>15</bold></highlight>&prime; is provided in the intermediate position of the travel path of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a, </italic></highlight>this sensor <highlight><bold>15</bold></highlight>&prime; senses passage of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>through the intermediate position X, and a sense signal is output (IN terminal of Mix slave <highlight><bold>13</bold></highlight> turns ON). Yet, although figures show the examples which are suitable to Mix slave <highlight><bold>13</bold></highlight>. needless to say, the system can be equally applied. wherein OUT slave and IN slave are separately configured, similar to the second embodiment. </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> In this case, as the sensor <highlight><bold>15</bold></highlight>&prime; has a certain area of detection, output signal of the sensor <highlight><bold>15</bold></highlight>&prime; (input signal to IN terminal) will turn ON (rise) when the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>reaches the intermediate position X (when it enters the detection area of the sensor). And, if the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>continues to advance forward and goes out of the detection area, it will turn OFF (fall). </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> Now, whenever output signal of the sensor <highlight><bold>15</bold></highlight>&prime; turns ON (rising of IN terminal) or it switches from ON to OFF (falling of IN terminal), it can be determined that the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>has passed the intermediate position X. The determination can be made, depending on for what purpose operating time is obtained. And, when operating time t involved in rising of the former is obtained, operating time can be determined, using respective embodiment discussed above, by relating (tying) rising of each signal to each other. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> On the other hand, to determine operating time t&prime; involved in falling of the latter, the flow chart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> shall be a basis, and it can be obtained by replacing the branch selection of step <highlight><bold>3</bold></highlight> with &ldquo;Does the applicable IN switch from ON or OFF&quest;&rdquo;. This is the embodiment associated with OUT terminal: ON (rising)&rarr;IN terminal OFF (falling). </paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> Furthermore, in either of respective embodiments and modifications described above, although start time of operating time is when OUT terminal triggers ON (rising), the present invention is not limited to this, and can consider a trigger when OUT terminal turns OFF (falling). </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> By way of an example, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> above, when OUT terminal of Mix slave <highlight><bold>13</bold></highlight> turns ON and the valve turns ON, air or fluid will flow in, and the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>will advance forward. However, there is a cylinder of the type in which when OUT terminal turns OFF and the valve also turns OFF, the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>will retract and automatically return to an original position. Then, as shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, not only this type of cylinder that goes back when this output is lowered, will be mounted but also the sensor <highlight><bold>15</bold></highlight>&prime; that senses the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>will be located at the intermediate position Y of the return path. </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> Now, let&apos;s think about a case in which operating time (t<highlight><bold>1</bold></highlight>, t<highlight><bold>1</bold></highlight>&prime;) after the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>begins retracting till it reaches the intermediate position Y is considered. In this case, start time is obtained as a trigger when OUT terminal turns OFF. Also, a trigger to obtain stop time uses turning ON of IN terminal (rising) or turning OFF of IN terminal (falling). When tied to ON of the IN terminal, operating time t<highlight><bold>1</bold></highlight> can be obtained, while operating time <highlight><bold>1</bold></highlight>&prime; can be obtained when tied to OFF of the IN terminal. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> And, as the capability of executing these procedures, the flow chart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a basis for the former case, and can be handled by replacing the branch selection of step <highlight><bold>1</bold></highlight> with &ldquo;Does the applicable OUT switch from ON&rarr;OFF&quest;&rdquo;. This is the embodiment associated with OUT terminal; OFF (falling)&rarr;IN terminal ON (rising). Also, in the latter case, it can be handled by further changing the branch selection of step <highlight><bold>3</bold></highlight> to &ldquo;Does the applicable IN switch from ON&rarr;OFF&rdquo;. This is the embodiment associated with OUT terminal: OFF (falling) -&gt;IN terminal OFF (falling). </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> Further, operating time computed in the second embodiment and modifications described above can be given to the hosting master unit <highlight><bold>11</bold></highlight> or PLC unit <highlight><bold>10</bold></highlight> with various timings such as voluntarily or as per request, etc., as shown in the first embodiment. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows the third embodiment of the present invention. In this embodiment, unlike respective embodiments and modifications described above, operating time of the apparatus (actuator <highlight><bold>14</bold></highlight>) is to be obtained based on input signal from 2 input devices (sensors). </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> In other words, similar to the first embodiment, the actuator is connected to OUT terminal of Mix slave <highlight><bold>13</bold></highlight>, and to IN terminal is connected the sensor that monitors a position of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>of that actuator <highlight><bold>14</bold></highlight>. However, in this embodiment, 2 sensors such as the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>are prepared, as a sensor to be connected to IN terminal. And, the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>are respectively located at X and Y, in the middle of the travel path (intermediate position) of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a, </italic></highlight>whereby passage of the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>through the intermediate positions X and Y can be sensed. Further, the internal structure of Mix slave <highlight><bold>13</bold></highlight> is similar to that shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> According to this system, when OUT data turns ON, the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>of the actuator <highlight><bold>14</bold></highlight> begins to advance forward from the origin. Then, as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, as the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>reaches the intermediate position X, output of the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>turns ON, and then turns OFF when the mobile unit passes the intermediate position X. This output Will simply serve as an input signal of IN terminal for the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>of Mix slave <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> If the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>further moves forward and reaches the intermediate position Y, output of the second sensor <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>turns ON and then turns OFF when the mobile unit passes through the intermediate position Y. This output will simply serve as an input signal of IN terminal for the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>of Mix slave <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> In this case, operating time for the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>to move from the intermediate position X to intermediate position Y can be determined at Mix slave <highlight><bold>13</bold></highlight>, by relating (tying) outputs of the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b, </italic></highlight>namely, signals of the corresponding to two IN terminals. Further, as to relationship between two IN terminals, similar to respective embodiments and modifications described above, since start time and stop time are obtained by using a change of IN terminal as a trigger, this change may be either OFF&rarr;ON (rising) or ON&rarr;OFF (falling). </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> Therefore, as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>(<highlight><italic>b</italic></highlight>), if rising of the output signal (IN terminal) of the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>is tied to rising of the output signal (IN terminal) of the second sensor <highlight><bold>16</bold></highlight><highlight><italic>b, </italic></highlight>time T<highlight><bold>1</bold></highlight> will be the operating time. Also, if rising of the output signal (IN terminal) is tied to falling of the output signal (IN terminal) of the second sensor <highlight><bold>16</bold></highlight><highlight><italic>a, </italic></highlight>time T<highlight><bold>2</bold></highlight> will be the operating time. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> On the other hand, as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> (<highlight><italic>c</italic></highlight>), a trigger to obtain start time can be falling of the output signal (IN terminal) of the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a. </italic></highlight>In this case, time T<highlight><bold>3</bold></highlight> will be determined as the operating time, by tying falling of the signal of the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and rising of the output signal (IN terminal) of the second sensor <highlight><bold>16</bold></highlight><highlight><italic>b, </italic></highlight>and time T<highlight><bold>4</bold></highlight> will be determined as the operating time by tying falling of the output signal (IN terminal) of the second sensor <highlight><bold>16</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> Of course, operating time when the mobile unit <highlight><bold>14</bold></highlight><highlight><italic>a </italic></highlight>retracts can also be determined. In this case, contrary to the above case, by tying a change of output of the second sensor and that of the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a, </italic></highlight>start time will be obtained based on the second sensor <highlight><bold>16</bold></highlight><highlight><italic>b, </italic></highlight>and stop time will be obtained based on the first sensor <highlight><bold>16</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> Furthermore, in the above example, although the example has been described wherein both of the two sensors detect the intermediate positions of the travel path of the mobile unit (passage will change the signal from OFF&rarr;ON&rarr;OFF), needless to say, it is also good that one of the sensors detects a movement complete position. In addition, monitoring of the two sensors is not necessarily limited to monitoring of operation of one apparatus, and may be monitoring of operating conditions of different apparatuses. As an example, when sensors are respectively provided to monitor operations of two robots, time lag after one robot starts to operate (completion of operation) till the other starts to operate (completion of operation) may be determined. As such, operating time is not limited to that of a single apparatus (downtime), and is the concept that includes operating time of the overall system (apparatus) comprising a plurality of apparatuses, as discussed above. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> Then, the capability of MPU <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>(processing unit <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&Prime;) for determining operating time based on a change in the above two IN terminals can basically be implemented with procedures similar to those of the flow chart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. And, in this flow chart of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, steps <highlight><bold>1</bold></highlight> and <highlight><bold>3</bold></highlight> will be changed, as appropriate, by obtaining each time depending on whether two IN terminals to be tied will be ON or OFF. That is, when start time is obtained based on a change from OFF to ON (rising), the process of Step <highlight><bold>1</bold></highlight> will change to &ldquo;Does the applicable IN switch from OFF to ON&quest;&rdquo;, and when it is obtained based on a change from ON to OFF (falling), that of Step <highlight><bold>1</bold></highlight> will change to &ldquo;Does the applicable IN switch from ON to OFF&quest;&rdquo;. Furthermore, when stop time if obtained based on a change from ON to OFF (falling), the process of Step <highlight><bold>3</bold></highlight> will change to &ldquo;Does the applicable IN switch from ON to OFF&quest;&rdquo;. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> Although still in this embodiment, the example was shown wherein the slave that connects the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>is Mix slave <highlight><bold>13</bold></highlight>, and thus operation of the actuator <highlight><bold>14</bold></highlight> is controlled based on OUT data (ON/OFF signal of OUT terminal) to be output from Mix slave <highlight><bold>13</bold></highlight>, a control instruction to the actuator <highlight><bold>14</bold></highlight> may not necessarily be sent from the same slave. In such a case, the slave to whom the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>are to be connected can be IN slave instead of Mix slave. Further, as other configurations and actions/effects are similar to those of respective embodiments and modifications described above, detailed discussion thereof will be omitted, Further, as shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>, computation of operating time based on tying of IN terminals can also be implemented in system configuration wherein the first and second sensors <highlight><bold>16</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>16</bold></highlight><highlight><italic>b </italic></highlight>are respectively connected to different IN slaves <highlight><bold>21</bold></highlight>&prime; and <highlight><bold>21</bold></highlight>&Prime;. In this case similar to the second embodiment, a value of IN (start time in the illustrated example) obtained in one IN slave <highlight><bold>21</bold></highlight>&prime; is to be given to the other IN slave <highlight><bold>21</bold></highlight>&Prime;. Then, operating time will be determined based on the given IN value and time information obtained on the other IN slave <highlight><bold>21</bold></highlight>&Prime; (stop time in the illustrated example). and operation result will be sent to the master unit <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> Of course, a relationship between the sending IN slave and the receiving IN slave can be arbitrary, and thus, as shown, start time may be sent or it may be sent from IN slave that obtained stop time to another IN slave that obtained start time. Further, as described in the modification of the second embodiment, operating time can also be determined by sending time information obtained to another slave to which these two sensors are not connected or various nodes such as the master unit <highlight><bold>11</bold></highlight>. Still, as other configurations and actions/effects are similar to respective embodiments and their modifications described above, detailed discussion thereof is omitted. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> Further, in a node into which the capability of operating real operating time of a slave or master, etc., there is a request that any of each pattern described above can be accommodated. In other words, there are <highlight><bold>4</bold></highlight> patterns to determine operating time after OUT terminal changes till IN terminal changes, and there are also 4 patterns to determine operating time after IN terminal changes till IN terminal changes. Thus, there are 8 types of patterns in total. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> MPU <highlight><bold>13</bold></highlight><highlight><italic>b </italic></highlight>(processing unit <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&Prime;) can accommodate any of these 8 patterns by implementing the capabilities shown in the flow Chart of <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> First. as preconditions, a relationship of tying of respective terminals shall be stored as setting data in the external non-volatile memory. Similar to the first embodiment, this setting data can be achieved, by creating a table that relate &ldquo;node number (MACID) and bit number of the slave where a start trigger is issued, and a type of change (rising/falling), and distinction between IN/OUT terminals&rdquo;, &ldquo;node number (MACID) and bit number of the slave where a stop trigger is issued, and a type of change (rising/falling)&rdquo; and &ldquo;monitoring time unit&rdquo; together with relation data as shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, namely, assignment number, by means of tool device, and then, based on this table, creating a message (See <cross-reference target="DRAWINGS">FIG. 18</cross-reference>) including related information in the data unit to the slave that is to store and retain and sending it to the applicable slave by way of the field network <highlight><bold>12</bold></highlight>, through the applicable tool device or master unit <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The monitoring time unit is a unit of time to monitor conditions of other slaves, and a state of the applicable bit is inquired at this monitoring time interval. Thus, this monitoring time unit will be the minimum unit of the operating time measuring capability. Furthermore, as to a type of IN/OUT terminals of a start trigger, needless to say, Mix slave has both I/O terminals. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> Based on this premise, as shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>, settings will be read out first (ST<highlight><bold>10</bold></highlight>). The settings allow acquisition of a bit number of the terminals (IN/OUT terminals) to be monitored by one and a type of change tat should be a trigger in obtaining time. Next, it should be decided whether or not the applicable OUT/IN terminal has changed (ST<highlight><bold>11</bold></highlight>). In other words, based on setting data acquired in Step <highlight><bold>10</bold></highlight>, it will be determined whether or not a there is rising/falling of a terminal to be monitored that will be a trigger to determine start time. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> And, If there is a change (Yes at the branch selection of Step <highlight><bold>11</bold></highlight>), proceed to Step <highlight><bold>12</bold></highlight> where start time is obtained. Next, it will be determined whether or not the tied applicable IN terminal changes (rising or falling is to be decided, depending on setting) (ST<highlight><bold>13</bold></highlight>). And, when rising is sensed (Yes at branch selection of Step <highlight><bold>13</bold></highlight>), a value of the timer <highlight><bold>13</bold></highlight><highlight><italic>f </italic></highlight>(stop time) is obtained (ST<highlight><bold>14</bold></highlight>), its differential from the start time obtained in Step <highlight><bold>2</bold></highlight> is determined, operating time is computed, and the result Is stored in the result buffer. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> On the other hand, settings that provide for operating time of a normal actuator have been retained in advance, the operating time computed in Step <highlight><bold>15</bold></highlight> is compared with the settings to determine whether or not it is in the range (normal), and the result is also stored in the result buffer (ST<highlight><bold>16</bold></highlight>). </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> And, if the above processes are repeatedly executed on the objects to be monitored that have been set and when the processes are executed on all points (Yes in ST<highlight><bold>17</bold></highlight>), determined operating time and comparison result are stored and retained in the internal volatile memory <highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>&prime; as status information (ST<highlight><bold>18</bold></highlight>). Since these processes are executed according to the interrupt Instruction, a next instruction should be waited if processes up to Step <highlight><bold>18</bold></highlight> have been done. </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> Still, operating time computed in the third embodiment and its modification described above can be given to the hosting master unit <highlight><bold>11</bold></highlight> or PLC unit <highlight><bold>10</bold></highlight> with various timings such as voluntarily or as per a request, eta., as shown in the first and second embodiments. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> As elaborately described in the above, according to the above respective embodiments, It is possible that operating time of the output device can be determined from a differential between time information of when OUT terminal of the slave to which the output device is connected has changed, and that of when IN terminal of the slave to which is connected the input device that monitors the output device has changed, or operating time of a determined apparatus (system) can be obtained from the time interval after a certain IN terminal changes till another IN terminal changes. Yet, since this computation process, etc. is done on the node side such as a slave or master connected to a network, operating time of the output device can be precisely measured without being affected y cyclic time on the PLC side. </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> In the above respective embodiments, operating time, that is, a measured value of physical volume related to control unit (input or output device) is not only determined at a slave, but also compared with a reference value, and then if it meats predetermined conditions, result of comparison with the reference value and/or operating time is output to the field network <highlight><bold>12</bold></highlight>. and given to a predetermined apparatus (node) connected to that field network <highlight><bold>12</bold></highlight>. Not limited to this, the present invention may be ouch that, for example, operating time determined without being compared with the reference value and with predetermined timing is output, letting the PLC unit <highlight><bold>10</bold></highlight>, etc., make determination. Also, a recipient is not limited to the master unit or slave, and may be a configurator or monitor, etc., as well as other controller of the PLC. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> In addition, as information to be notified, unique information (non-control information) of a control device had better be sent in addition to the result of determination and/or operating time. In other words, if a device has been set so that time of replacement approaches when operating time exceeds a reference value, for instance, a user will be able to know in advance information on a failed device, by outputting together unique information (device name, manufacturer name, model, manufacture number) that indicates ID of the device. Therefore, when visiting a site, he/she can carry with him/her parts for replacement of this device or a device to be replaced, and thus carry out maintenance quickly. And, by storing and retaining in advance unique information on a control device connected to him/her, a user can cope by reading it out as necessary. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> In addition, physical volume related to a control device to be measured or a slave itself in the present invention is not limited to the above operating time, and there is a variety, such as supply voltage to be supplied to a slave, etc., which will be discussed later <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a system configuration view showing the entire configuration of the fourth embodiment. In this embodiment, there is a network system to which one master unit <highlight><bold>30</bold></highlight> and a plurality of slaves that are distributed in several places are connected by way of the field network <highlight><bold>32</bold></highlight>. Such devices as input or output devices (Input/output device <highlight><bold>34</bold></highlight>) are connected to the slave <highlight><bold>33</bold></highlight>, and I/<highlight><bold>0</bold></highlight> data of the input/output devices <highlight><bold>34</bold></highlight> is sent to and received from the master unit <highlight><bold>30</bold></highlight>. This is also same in respective embodiments and their modifications described above. </paragraph>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> Furthermore, although not shown in a figure, PLC unit is connected to this master unit, as In the above respective embodiments, and constitutes PLC. In addition, the PLC unit and master unit <highlight><bold>30</bold></highlight> are not necessarily connected directly to constitute the PLC, and thus the master unit <highlight><bold>30</bold></highlight> may be independent of the PLC. In such a case, I/<highlight><bold>0</bold></highlight> data will be exchanged via field network <highlight><bold>32</bold></highlight> or a different network. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> Also, the network power supply apparatus <highlight><bold>35</bold></highlight> is placed in the neighborhood of the master unit <highlight><bold>30</bold></highlight>. This network power supply apparatus <highlight><bold>35</bold></highlight> is connected to the field network <highlight><bold>32</bold></highlight>, by way of which supply voltage is supplied to the master unit <highlight><bold>30</bold></highlight> or slave <highlight><bold>33</bold></highlight>. Furthermore, power source is also supplied to the Input/output device <highlight><bold>34</bold></highlight> by way of this slave <highlight><bold>33</bold></highlight>. In addition, to this field network <highlight><bold>32</bold></highlight> is connected the network configurator <highlight><bold>36</bold></highlight> to which power source is also supplied from the network power supply apparatus <highlight><bold>35</bold></highlight>. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> The above network configurator <highlight><bold>36</bold></highlight> is to monitor conditions of such network units as the master unit <highlight><bold>30</bold></highlight>, slave <highlight><bold>33</bold></highlight>, etc., and to read and write parameters. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> In addition, the slave <highlight><bold>33</bold></highlight> Is comprised of a remote I/O terminal, an environment-resistant&quest; terminal, a remote adapter, an I/O link unit, a sensor terminal, a analog input terminal, an analog output terminal, a temperature input terminal, RS232C unit, etc. that constitute this system. </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> In the above configuration, each of a plurality of slaves <highlight><bold>33</bold></highlight> executes operations such as communications, etc., by using the network power source being supplied from the network field power supply apparatus <highlight><bold>35</bold></highlight> through the field network <highlight><bold>32</bold></highlight>. However, this network power supply is subject to different voltage drops, depending on a distance from the network power supply apparatus <highlight><bold>35</bold></highlight>. In this embodiment, since the network power source is also supplied to the Input/output device <highlight><bold>34</bold></highlight>, a voltage drop will increase accordingly when the input/output device <highlight><bold>34</bold></highlight> consumes power. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> And, since guaranteed operating voltage of the above plurality of slaves <highlight><bold>33</bold></highlight> is determined to be, for instance, 24V to 11V, communications will be disabled when the supply voltage at a position where it is supplied to the slave of the above network power source drops below 11V, for instance. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> Hence, in this embodiment, the power supply monitoring means is provided to monitor conditions of the network supplies, respectively added to each slave <highlight><bold>33</bold></highlight>. And, the configuration is such that power supply state information indicating conditions of the network power supply of each slave <highlight><bold>33</bold></highlight>, which are monitored by the power supply monitoring means, is collected by the network configurator <highlight><bold>36</bold></highlight> by way of the field network <highlight><bold>32</bold></highlight>, so as to control conditions of the network supply of each slave in a unified way. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a block diagram showing configuration of components of each slave <highlight><bold>33</bold></highlight> in the PLC system shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>. In <cross-reference target="DRAWINGS">FIG. 20</cross-reference>, the slave <highlight><bold>33</bold></highlight> is configured comprising a voltage monitoring unit <highlight><bold>33</bold></highlight><highlight><italic>a, </italic></highlight>maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b, </italic></highlight>current value storage unit <highlight><bold>33</bold></highlight><highlight><italic>c, </italic></highlight>monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d, </italic></highlight>comparison unit <highlight><bold>33</bold></highlight><highlight><italic>e, </italic></highlight>alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f, </italic></highlight>and communications control unit <highlight><bold>33</bold></highlight><highlight><italic>g. </italic></highlight></paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> Now, the voltage-monitoring unit <highlight><bold>33</bold></highlight><highlight><italic>a </italic></highlight>monitors the. network power source supplied from the field network <highlight><bold>32</bold></highlight>, and detects its current value, and maximum and minimum values. And, the maximum and minimum values of voltage of the network power supply detected by the voltage monitoring unit <highlight><bold>33</bold></highlight><highlight><italic>a </italic></highlight>are retained in the maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b. </italic></highlight>A current value of voltage of the network power supply detected by the voltage monitoring unit <highlight><bold>33</bold></highlight><highlight><italic>a </italic></highlight>is also stored in the current value, storage unit <highlight><bold>33</bold></highlight><highlight><italic>c. </italic></highlight></paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> This slave <highlight><bold>33</bold></highlight> communicates to the network configurator <highlight><bold>36</bold></highlight> voltage information, one of the non-control system information, which :s not I/O data stored in the above maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b </italic></highlight>and current value storage unit <highlight><bold>33</bold></highlight><highlight><italic>c </italic></highlight>so that the network configurator <highlight><bold>36</bold></highlight> can check contents. It also has the capability of judging whether or not current supply voltage is normal, and storing the judgment result. Further, in the completely abnormal condition in which supply voltage will be disabled, judgment on whether or not it is normal cannot be made because the apparatus itself does not operate. Hence, in this embodiment, a state close to the voltage wherein supply voltage drops and is disabled Is regarded as abnormality, namely, a state that needs some alarm, and such a state, if it occurs, is to be recorded. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> And, in this embodiment, monitoring voltage that serves as a criterion to Judge whether or not it is in a state that needs an alarm such as above, namely. a state in which the apparatus&quest; seems to be disabled though it is still operating is stored in the monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d. </italic></highlight>Further, this monitoring voltage is set with dipswitches (not shown) of the slave <highlight><bold>33</bold></highlight> in this embodiment. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> When the guaranteed operating voltage is 24V to 11V, the monitoring voltage stored in this monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d </italic></highlight>will be set to a value which Is slightly higher than 11V, the lower limit of the voltage. As an example, it Is set to 12V. With this setting, it would become possible to communicate to the network configurator <highlight><bold>36</bold></highlight> conditions of the network power source supplied to this slave <highlight><bold>33</bold></highlight>, before communications is disabled due to lowered supply voltage following voltage drop. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> The comparison unit <highlight><bold>33</bold></highlight><highlight><italic>e </italic></highlight>compares a current value of the voltage of the network power supply stored in the current value storage unit <highlight><bold>33</bold></highlight><highlight><italic>c </italic></highlight>with the monitoring voltage stored in the monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d, </italic></highlight>and outputs alarm status when a current value of the voltage of the network power supply falls short of the monitoring voltage, which is a comparison reference value. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> This alarm status output from the comparison unit <highlight><bold>33</bold></highlight><highlight><italic>e </italic></highlight>is stored in the alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f. </italic></highlight>Now, alarm status in the alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f </italic></highlight>can be stored as error flag. </paragraph>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> Information on supply voltage, including alarm status (error flag) which is judgment result based on the above monitoring voltage is retained by the slave <highlight><bold>33</bold></highlight>. In this embodiment, this information retained by the slave is to be passed to the network configurator <highlight><bold>36</bold></highlight> as a response that is sent in response to a request from the network configurator <highlight><bold>36</bold></highlight>. In other words, maximum/minimum values of the voltage of the network power source that is retained in the maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b </italic></highlight>and to be supplied to the slave <highlight><bold>33</bold></highlight>, a current value of the voltage of the network power supply that is stored in the current value storage unit <highlight><bold>33</bold></highlight><highlight><italic>c </italic></highlight>and supplied to this slave <highlight><bold>33</bold></highlight>, and alarm status stored in the alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f </italic></highlight>are red out to the communications control unit <highlight><bold>33</bold></highlight><highlight><italic>g </italic></highlight>from the maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b, </italic></highlight>current value storage unit <highlight><bold>33</bold></highlight><highlight><italic>c </italic></highlight>and alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f </italic></highlight>by the read out command from the network configurator <highlight><bold>36</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, and is sent, as a response, to the network configurator by way of the field network <highlight><bold>32</bold></highlight>. </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> In addition, similar to a response to be Issued following reception of a command issued from the network configurator <highlight><bold>36</bold></highlight>, as discussed above, timing to communicate such information on voltage is not limited to a trigger from the external, and may be configured so that subject to an internal trigger. namely, a change to the judgment result, the slave <highlight><bold>33</bold></highlight> voluntarily sends. This means that supply voltage to the slave <highlight><bold>33</bold></highlight> may be monitored, and when it drops below a certain threshold (monitoring voltage). alarm status (error flag) and other voltage information will be sent to the network configurator <highlight><bold>36</bold></highlight>. </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> Note that the above voltage-monitoring configuration shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> can also be provided in the master unit <highlight><bold>30</bold></highlight>. With this configuration, similar to the above slave <highlight><bold>33</bold></highlight>, voltage to be supplied to the master unit <highlight><bold>30</bold></highlight> from the network power supply apparatus <highlight><bold>35</bold></highlight> can be monitored. </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a block diagram showing configuration of components of the network configurator <highlight><bold>36</bold></highlight> in this embodiment. As shown in <cross-reference target="DRAWINGS">FIG. 21</cross-reference>, the network configurator <highlight><bold>36</bold></highlight> is configured comprising an input unit <highlight><bold>36</bold></highlight><highlight><italic>a, </italic></highlight>a communications control unit <highlight><bold>36</bold></highlight><highlight><italic>b </italic></highlight>connected to the field network <highlight><bold>32</bold></highlight>, and a display unit <highlight><bold>36</bold></highlight><highlight><italic>c. </italic></highlight>Specific capabilities of each unit are discussed below. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> The input unit <highlight><bold>36</bold></highlight><highlight><italic>a </italic></highlight>is a man-machine interface such as a keyboard, a pointing device, operating panel, etc. and has the capability of passing to the communications control unit <highlight><bold>36</bold></highlight><highlight><italic>b </italic></highlight>a voltage display instruction of this system received with manipulations of a user. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> With the voltage display instruction provided from the input unit <highlight><bold>36</bold></highlight><highlight><italic>a, </italic></highlight>the communications control unit <highlight><bold>36</bold></highlight><highlight><italic>b </italic></highlight>sequentially issues to each slave <highlight><bold>33</bold></highlight> a current value read-out command, a maximum value read-out command, a minimum value read-out command, and alarm statue read-out command, and collects a current value, maximum/minimum values and alarm status of the voltage of the network power supply at each slave <highlight><bold>33</bold></highlight>, upon receipt of a response to these from the slave <highlight><bold>33</bold></highlight>. Then, it passes collected information to the display unit <highlight><bold>36</bold></highlight><highlight><italic>c. </italic></highlight></paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> The display unit <highlight><bold>36</bold></highlight><highlight><italic>c </italic></highlight>can be display equipment such as a display, and outputs and displays conditions of the network power supply of each slave <highlight><bold>33</bold></highlight> received from the communications control unit <highlight><bold>36</bold></highlight><highlight><italic>b. </italic></highlight>This enables a user to be informed of current condition of voltage. Thus, communications of a separate system from cyclic processes of the PLC unit enables the network configurator <highlight><bold>36</bold></highlight> to collect conditions of each slave <highlight><bold>33</bold></highlight>, independent of usual transmission/reception of I/O data, and thus a user can achieve centralized control. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> Next, the above processes, namely, specific procedures to implement the capability of the network configurator <highlight><bold>36</bold></highlight>&apos;s collecting information on voltage of supply power source retained by each slave <highlight><bold>33</bold></highlight> will be discussed. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> is a flow chart showing processes of the network configurator <highlight><bold>36</bold></highlight>. First, it should be determined whether or not the voltage display instruction of each slave <highlight><bold>33</bold></highlight> has been entered from the Input unit <highlight><bold>36</bold></highlight><highlight><italic>a </italic></highlight>(ST <highlight><bold>21</bold></highlight>). If no voltage display instruction has been entered (NO at the branch selection of Step <highlight><bold>21</bold></highlight>), entry of the voltage display instruction should be waited again, whereas if it is determined that the voltage display instruction has been entered (YES at the branch selection of Step <highlight><bold>21</bold></highlight>), the unit number n of the slave will be set to &ldquo;1&rdquo;(ST <highlight><bold>22</bold></highlight>). Next, it should be determined whether or not the unit number n is the last number. Further, if this is executed following Step <highlight><bold>22</bold></highlight>, the branch selection should be NO because n-i and it is not the last number. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> And, if the unit number n Is not the last one (NO at Step <highlight><bold>43</bold></highlight>), the current value read-out command that instructs read-out of a current value of the voltage of network power source being supplied to the slave <highlight><bold>33</bold></highlight> will be issued to the slave with the unit number n (ST <highlight><bold>24</bold></highlight>). </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> Then, it should be determined whether a response to the current value read-out command from the slave <highlight><bold>33</bold></highlight> with the unit number n has been received (ST <highlight><bold>25</bold></highlight>). If a response has not been received (NO at Step <highlight><bold>25</bold></highlight>), this response should be waited. If a response has been received (YES at Step <highlight><bold>25</bold></highlight>), the maximum value read-out command that instructs read-out of a maximum value of the voltage of network power supply of the slave <highlight><bold>33</bold></highlight> will be issued to the slave <highlight><bold>33</bold></highlight> with the unit number n (ST <highlight><bold>26</bold></highlight>). </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> And, it should be determined whether a response to this maximum value read-out command has been received from the slave <highlight><bold>33</bold></highlight> with the unit number n (ST <highlight><bold>27</bold></highlight>). If a response has not been received (NO at Step <highlight><bold>27</bold></highlight>), this response should be waited. If a response has been received (YES at Step <highlight><bold>27</bold></highlight>), the minimum value read-out command that instructs read-out of the minimum value of the voltage of network power source being supplied to the slave <highlight><bold>33</bold></highlight> will be issued to the slave <highlight><bold>23</bold></highlight> with the unit number n (ST<highlight><bold>28</bold></highlight>). </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> Then, it should be determined whether a response to this minimum value read-out command has been received from the slave <highlight><bold>33</bold></highlight> with the unit number n (ST<highlight><bold>29</bold></highlight>). If a response has not been received (NO at Step <highlight><bold>29</bold></highlight>), this response should be waited. If a response has been received (YES at Step <highlight><bold>29</bold></highlight>), the alarm status read-out command that instructs read-out of the alarm status of the network source being supplied to the slave <highlight><bold>33</bold></highlight> will be issued to the slave with the unit number n (ST <highlight><bold>30</bold></highlight>). </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> And, it should be determined whether a response to this alarm status read-out command has been received from the slave <highlight><bold>33</bold></highlight> with the unit number n (ST <highlight><bold>31</bold></highlight>). If a response has not been received (NO at Step <highlight><bold>31</bold></highlight>), this response should be waited. If a response has been received (YES at Step <highlight><bold>31</bold></highlight>), a user will return to Step <highlight><bold>23</bold></highlight> after incrementing the unit number n to n&plus;1 (ST <highlight><bold>32</bold></highlight>). Further, if a response has been received at each process step described above, content that has been sent as the response should be extracted, and stored/retained. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> The above step will be repeatedly executed at Step <highlight><bold>23</bold></highlight> until it is determined that the unit number n is the last number. Further, the last value of the unit number n should be stored and retained in advance. And, strictly speaking, determination on &ldquo;is it last&quest;&rdquo; at this Step <highlight><bold>23</bold></highlight> Will be &ldquo;Is last number exceeded&quest;&rdquo; or &ldquo;Were processes executed till the last number&quest;&rdquo;. Then, if processes were executed till the last number (YES at Step <highlight><bold>23</bold></highlight>), a state of the network power supply of each slave <highlight><bold>33</bold></highlight> would be displayed based on the current value, maximum value, minimum value, and alarm status that have been obtained by executing each process described above (ST <highlight><bold>33</bold></highlight>). This will end a series processes involved in entry of this voltage display instruction, such as issuance of commands, reception of responses, and display of information obtained from responses. Further, although commands are issued to the slaves in the above description, information on the network voltage to be supplied to the master unit can be obtained. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> Specific examples of a display onto the display unit <highlight><bold>36</bold></highlight><highlight><italic>c </italic></highlight>of a state of power supply conditions obtained as a result of executing the process at this Step <highlight><bold>33</bold></highlight> include one shown in FIG. <highlight><bold>23</bold></highlight>, for instance. Further, herein information on the network voltage supplied to the master unit <highlight><bold>30</bold></highlight> shall have also been obtained. In the upper column of the display screen <highlight><bold>37</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 23</cross-reference>, connection configuration of this FA system comprised of the master unit <highlight><bold>30</bold></highlight> (M) and respective slaves <highlight><bold>33</bold></highlight> (S<highlight><bold>1</bold></highlight> to S<highlight><bold>6</bold></highlight>) is illustrated, while in the lower column the maximum value L<highlight><bold>1</bold></highlight>, current value L<highlight><bold>2</bold></highlight> and minimum value L<highlight><bold>3</bold></highlight> of the network power source supplied to each unit are shown in a line graph. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> L<highlight><bold>4</bold></highlight> is monitoring voltage stored in the monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d. </italic></highlight>When the minimum value L<highlight><bold>3</bold></highlight> or the current value L<highlight><bold>2</bold></highlight> falls short of the monitoring voltage L<highlight><bold>4</bold></highlight>, conditions are abnormal and thus the predetermined alarm screen will be displayed, depending on alarm status. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> Further, selection had better be made on whether an alarm is issued by comparing the monitoring voltage L<highlight><bold>4</bold></highlight> with the minimum value L<highlight><bold>3</bold></highlight>, or with the current value L<highlight><bold>2</bold></highlight>, depending on configuration of FA system or electric characteristics, etc. of external devices connected to the slave <highlight><bold>33</bold></highlight>. In addition, when a compared value of either minimum value L<highlight><bold>3</bold></highlight> or current value L<highlight><bold>2</bold></highlight> also falls short, an alarm may be issued accordingly. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> According to such configuration, conditions of the network power supply of each slave <highlight><bold>33</bold></highlight> can be visually displayed to a user in terms of a relationship among the maximum value L<highlight><bold>1</bold></highlight>, minimum value L<highlight><bold>3</bold></highlight>, current value L<highlight><bold>2</bold></highlight> and monitoring voltageL<highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> Needless to say, display examples of power supply conditions are not limited to those described above, and thus <cross-reference target="DRAWINGS">FIG. 24</cross-reference> shows another example. That is, in the upper column of the display screen <highlight><bold>37</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>, connection configuration of this FA system comprised of the master unit <highlight><bold>30</bold></highlight> (M) and slaves (S<highlight><bold>1</bold></highlight> to S<highlight><bold>6</bold></highlight>) is illustrated. In this respect. this is similar to what was described above. And, in the lower column the maximum value L<highlight><bold>1</bold></highlight>&prime;, current value L<highlight><bold>2</bold></highlight>&prime; and minimum value L<highlight><bold>3</bold></highlight>&prime; of the network power source supplied to each unit are shown in a line graph. </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> L<highlight><bold>4</bold></highlight> is the monitoring voltage stored in the monitoring voltage storage unit <highlight><bold>33</bold></highlight><highlight><italic>d. </italic></highlight>If there is any unit wherein the minimum value L<highlight><bold>3</bold></highlight> or the current value L<highlight><bold>2</bold></highlight> falls short of the monitoring voltage 4L, conditions are abnormal, and thus the predetermined alarm screen will be displayed, depending on alarm status. </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> Further, selection had better be made on whether an alarm is issued by comparing the monitoring voltage L<highlight><bold>4</bold></highlight> with the minimum value L<highlight><bold>3</bold></highlight>, or with the current value L<highlight><bold>2</bold></highlight>, depending on configuration of FA system or electric characteristics, etc. of external devices connected to the slave <highlight><bold>33</bold></highlight>. In addition, when a compared value of either minimum value L<highlight><bold>3</bold></highlight> or current value L<highlight><bold>2</bold></highlight> also falls short, an alarm may be issued accordingly. </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> Further, although no alarm status is displayed in <cross-reference target="DRAWINGS">FIGS. 23 and 24</cross-reference>, this alarm status can be configured to appear according to connection configuration of FA system shown in each figure. It may be configured to appear on a display screen different from those of each Fig. </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> Incidentally, a current value of the network supply voltage varies all the time, depending on a running state of external devices such as motors, etc., connected to the slave <highlight><bold>33</bold></highlight>, or load conditions of other slaves, etc. connected to the middle of the electric cable of the network that extends from the network power supply apparatus <highlight><bold>35</bold></highlight> to the slave <highlight><bold>33</bold></highlight>. This is because if a voltage drop during an extremely short period does not result in paralysis or deteriorated performance, it is preferable to only detect, as abnormal conditions, voltage by which the voltage detection means (voltage monitoring unit) continues more than predetermined time. </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> In addition, the maximum and minimum values of the network supply voltage are useful to keep track of a range of voltage fluctuations, and the current value is useful in grasping the current situations. If an alarm were issued when a current value of the network supply voltage dropped below the monitoring voltage, management on the safer side would be possible. </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> On the other hand, processing at slaves <highlight><bold>33</bold></highlight> is as shown in the flow chart of <cross-reference target="DRAWINGS">FIG. 25</cross-reference>. In other words, it should be first determined whether a command has been received from the network configurator <highlight><bold>36</bold></highlight> (ST <highlight><bold>51</bold></highlight>). Now, if a command has not been received from the network configurator <highlight><bold>36</bold></highlight> (NO at Step <highlight><bold>51</bold></highlight>), a user will return to Step <highlight><bold>51</bold></highlight> again. This means that reception of a command should be waited with processing in this Step <highlight><bold>51</bold></highlight>. </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> If it is determined at Step <highlight><bold>51</bold></highlight> that a command has been received from the network configurator <highlight><bold>36</bold></highlight> (YES at Step <highlight><bold>51</bold></highlight>). then, it should be determined whether this received command Is the current value readout command (ST <highlight><bold>52</bold></highlight>). Now, if the received command is the current value readout command (YES at Step <highlight><bold>52</bold></highlight>), not only a current value of the network power supply of this slave stored in the current value storage unit <highlight><bold>330</bold></highlight> will be read out, but also the current value will be returned to the network configurator <highlight><bold>36</bold></highlight> as a response to the command received by the communications control unit <highlight><bold>33</bold></highlight><highlight><italic>g </italic></highlight>(ST <highlight><bold>53</bold></highlight>). This will end the processing involved in reception of the command this time. </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> In addition, If the received command is not the current value readout command (NO at Step <highlight><bold>52</bold></highlight>), a user will jump to Step <highlight><bold>54</bold></highlight> to determine whether the received command is the maximum value readout command (ST <highlight><bold>54</bold></highlight>). Then, if this received command is the maximum value readout command (YES at Step <highlight><bold>54</bold></highlight>), the maximum value of the network power source supplied to the slaves <highlight><bold>33</bold></highlight> stored in the maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b </italic></highlight>will be returned to the network configurator <highlight><bold>36</bold></highlight> as a response (ST <highlight><bold>55</bold></highlight>). This will end the processing involved in reception of the command this time. </paragraph>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> Also, if it is decided at the branch determination at Step <highlight><bold>54</bold></highlight> that the received command is not the maximum value readout command, a user will jump to Step <highlight><bold>56</bold></highlight> to determine whether the received command is the minimum value readout command (ST <highlight><bold>56</bold></highlight>). Then, if this received command is the minimum value readout command (YES at Step <highlight><bold>56</bold></highlight>), the minimum value of the network power source supplied to the slaves <highlight><bold>33</bold></highlight> stored in the maximum/minimum value retention unit <highlight><bold>33</bold></highlight><highlight><italic>b </italic></highlight>will be returned to the network configurator <highlight><bold>36</bold></highlight> as a response (ST <highlight><bold>57</bold></highlight>). This will end the processing involved in reception of the command this time. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> Also, if it is decided at the branch determination of Step <highlight><bold>56</bold></highlight> that the received command is not the minimum value readout command, a user will jump to Step <highlight><bold>58</bold></highlight> to determine if the received command is the alarm status readout command (ST <highlight><bold>58</bold></highlight>). Then, If this received command is the alarm status readout command (YES at step <highlight><bold>58</bold></highlight>), alarm status of the network power supply of this slave stored in the alarm status storage unit <highlight><bold>33</bold></highlight><highlight><italic>f </italic></highlight>will be returned to the network configurator <highlight><bold>36</bold></highlight> as a response (ST <highlight><bold>59</bold></highlight>). This will end processing involved in reception of the command this time In addition, if at the branch determination of Step <highlight><bold>58</bold></highlight>, NO is selected, namely, the received command is not the alarm status readout command, the command received this time is not the command to request readout of any information on the network voltage, other processing associated with that received command will be executed (ST <highlight><bold>60</bold></highlight>). Then, a user will return to Step <highlight><bold>51</bold></highlight> and wait for reception of a next command. </paragraph>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> In the embodiment described above, the monitoring voltage is manually set for each slave, with the manipulation switch (dipswitch or rotary switch, etc.) on the slave. However, this monitoring voltage may be set through manipulation from the network configurator <highlight><bold>36</bold></highlight>, via field network <highlight><bold>32</bold></highlight>. Then, if the monitoring voltage is set through manipulation from the network configurator <highlight><bold>36</bold></highlight>, it can be set for every slave connected to the network, or can be set altogether if operating voltage of respective slaves is identical. </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> In addition, when only a slave remote from the network power supply apparatus <highlight><bold>35</bold></highlight> or a slave connected to an external device load current of which is large Is provided with the network power supply monitoring capability, the network power supply monitoring information of such a slave may be sent to the network configurator <highlight><bold>36</bold></highlight> and displayed. </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> Also, even when all the slaves <highlight><bold>33</bold></highlight> are provided with the network power supply monitoring capability, by sending to specific slaves a command to collect the network power supply monitoring information, the network configurator <highlight><bold>36</bold></highlight> may selectively display the network power supply monitoring information of these specific slaves. </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> Further, in the above embodiment, all of descriptions concentrated on the cases in which the slaves <highlight><bold>33</bold></highlight> had the power supply monitoring means. Incidentally, in some network system configurations, slaves with the power supply monitoring means and those without the power supply monitoring means are mixed together. In such a case, as a traditional slave returns an error response to the current value readout command from the network configurator <highlight><bold>36</bold></highlight>, the network configurator <highlight><bold>36</bold></highlight> can determine that the said slave is a traditional slave without the power supply monitoring means. In addition, as the network configurator <highlight><bold>36</bold></highlight> can distinguish types of slaves connected via field network, it ts also possible to issue the current value readout command, etc., only to the slaves with the power supply monitoring means. Therefore, the present invention can also be applied to the network system wherein slaves with the power supply monitoring means and traditional slaves without the power supply monitoring means are mixed together. </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> Furthermore, a master unit in the present invention is not limited to only one, and can be applied to the PLC system to which a plurality of master units is connected. </paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> As discussed above, according to the above embodiment, when a system is constructed, supply state of the network power source can be monitored in one place in a centralized way, thereby reducing time for construction of a system. Also, supply state of the network power source during operation of a system can be checked at any time, such an effect of facilitating service maintenance of the system, etc. can be produced. </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> Furthermore, in the above embodiment, although a collecting device is described as a network configurator, information stored in each slave may be sent to the monitor connected to the field network and displayed on that monitor. Also, of course, transmission to and reception from the master unit of such non-I/O data may be conducted. </paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> And, also in this embodiment, since information on voltage supplied to slaves, etc. is not only detected but also stored/retained on the slave side, and collection/display of the information is done based on a request, etc., from a configurator, there is no effect on cyclic operations on PLC side. </paragraph>
<paragraph id="P-0232" lvl="0"><number>&lsqb;0232&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> and figures thereafter show the fifth embodiment of the present invention. In this embodiment, physical volume related to control device or slave itself to be measured shall be I/O power supply to be supplied to the Input/output devices connected to the slaves. </paragraph>
<paragraph id="P-0233" lvl="0"><number>&lsqb;0233&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 26</cross-reference>, this PA system is configured with one master unit <highlight><bold>40</bold></highlight>, which is a host station, connected to a plurality of slaves <highlight><bold>43</bold></highlight> and the field network <highlight><bold>42</bold></highlight> that are distributed in several places. Furthermore, similar to the respective embodiments described above, a field bus (for example, DeviceNet (registered trademark), etc.) is used as a field network <highlight><bold>42</bold></highlight> that is a network between the master unit <highlight><bold>40</bold></highlight> and each other of a plurality of slaves <highlight><bold>43</bold></highlight>. </paragraph>
<paragraph id="P-0234" lvl="0"><number>&lsqb;0234&rsqb;</number> Now, the master unit <highlight><bold>40</bold></highlight> constitutes the PLC master in this FA system. Furthermore, similar to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, etc., it is linked with the PLC unit. </paragraph>
<paragraph id="P-0235" lvl="0"><number>&lsqb;0235&rsqb;</number> In addition, slaves <highlight><bold>43</bold></highlight> not only enter a signal from such a detector as a sensor, etc., but also output a signal to such a control device as a valve, etc. In other words, in order to implement control by this FA system, predetermined input/output devices <highlight><bold>44</bold></highlight> are connected. These input/output devices <highlight><bold>44</bold></highlight> include an input device <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>such as a sensor and an output device <highlight><bold>44</bold></highlight><highlight><italic>b </italic></highlight>such as a valve/motor. etc. Then, output of the input/output device power supply apparatus <highlight><bold>45</bold></highlight> is connected to each slave <highlight><bold>43</bold></highlight>, and power is supplied to each input/output device <highlight><bold>44</bold></highlight> from that input/output device power supply apparatus <highlight><bold>45</bold></highlight>. </paragraph>
<paragraph id="P-0236" lvl="0"><number>&lsqb;0236&rsqb;</number> Further, as shown in <cross-reference target="DRAWINGS">FIG. 27</cross-reference>. the input/output device power supply apparatus <highlight><bold>45</bold></highlight> is provided with a power supply unit for input <highlight><bold>45</bold></highlight><highlight><italic>a </italic></highlight>to supply to the input device <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>such as a sensor, etc., and a power supply unit for output <highlight><bold>45</bold></highlight><highlight><italic>b </italic></highlight>to supply to the output device <highlight><bold>44</bold></highlight><highlight><italic>b </italic></highlight>such as a valve, etc. Then, voltage supplied from the power supply unit for input <highlight><bold>45</bold></highlight><highlight><italic>a </italic></highlight>and power supply unit for output <highlight><bold>45</bold></highlight><highlight><italic>b </italic></highlight>is also given to the input/output device power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a. </italic></highlight>This enables the power supply for input/output monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a </italic></highlight>to monitor a voltage value and determine on ON/OFF by comparing it with a threshold. </paragraph>
<paragraph id="P-0237" lvl="0"><number>&lsqb;0237&rsqb;</number> Furthermore, although supply of power source to slaves <highlight><bold>43</bold></highlight> themselves is not shown, similar to the above fourth embodiment, power can also be supplied from the network power supply apparatus <highlight><bold>35</bold></highlight> connected to the field network <highlight><bold>32</bold></highlight>. Needless to say, power can be separately supplied to power supply terminals of the slaves, without going through the network. In this case, the slaves will be provided with terminals for the input/output device power supply and power supply terminals for slaves, separately and independently. Also in this case, as a separately prepared power supply for slave enters the slaves via power supply terminals, not only voltage of a terminal of that power supply for slave may be measured and compared with a reference value, but also comparison result may be notified to the master unit or monitor, configurator, etc. via network. </paragraph>
<paragraph id="P-0238" lvl="0"><number>&lsqb;0238&rsqb;</number> In the above configuration, a plurality of slaves <highlight><bold>43</bold></highlight> are provided with the input/output device power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a </italic></highlight>that monitors whether respectively input power supply supplied from the power supply unit for input <highlight><bold>45</bold></highlight><highlight><italic>a </italic></highlight>and output power supply supplied from the power supply unit for output <highlight><bold>45</bold></highlight><highlight><italic>b </italic></highlight>is turned ON or OFF, respectively (See <cross-reference target="DRAWINGS">FIG. 27</cross-reference>). </paragraph>
<paragraph id="P-0239" lvl="0"><number>&lsqb;0239&rsqb;</number> Each slave <highlight><bold>43</bold></highlight> retains input/output device power supply state information that shows ON or OFF state of the input and output power supplies monitored by this input/output device power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a. </italic></highlight>Then, this input/output device power supply state information (I/O power supply information) is sent to the master unit <highlight><bold>40</bold></highlight> by way of the field network <highlight><bold>42</bold></highlight> as per request from the master unit <highlight><bold>40</bold></highlight>. This enables the master unit <highlight><bold>40</bold></highlight> to monitor a state of the input/output device power supply (I/O power supply) of a plurality of slaves <highlight><bold>43</bold></highlight>. </paragraph>
<paragraph id="P-0240" lvl="0"><number>&lsqb;0240&rsqb;</number> With the above configuration, in the master unit <highlight><bold>40</bold></highlight> when no signal is sent from the input device <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>such as a sensor, etc., the master unit can quickly judge whether it is because the power supply for input of slaves <highlight><bold>43</bold></highlight> is turned OFF, or because a signal cannot be really entered due to a failure, etc., of the input device <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>such as a sensor, thereby Improving reliability of the system. </paragraph>
<paragraph id="P-0241" lvl="0"><number>&lsqb;0241&rsqb;</number> Similarly, when it cannot confirm operation of the output device <highlight><bold>44</bold></highlight><highlight><italic>b </italic></highlight>such as a valve although a signal to drive a controller (output device <highlight><bold>44</bold></highlight><highlight><italic>b</italic></highlight>) such as a valve, etc. is output to the slaves <highlight><bold>43</bold></highlight>, the master unit can quickly judge whether it is because the power supply for output of the slaves <highlight><bold>43</bold></highlight> is turned OFF, or a signal cannot be really output to the slaves <highlight><bold>43</bold></highlight>. This can also improve reliability of the system. </paragraph>
<paragraph id="P-0242" lvl="0"><number>&lsqb;0242&rsqb;</number> In the PLC unit (not shown) (that incorporates information from the input devices, executes a control program and outputs execution result to the output devices) connected to the master unit <highlight><bold>40</bold></highlight>, it will be possible to know supply state of the power source of a device connected to the slaves <highlight><bold>43</bold></highlight> by way of the master unit <highlight><bold>40</bold></highlight>. Therefore, since the control program (to be programmed by a ladder language, etc.) of the PLC unit (CPU unit) makes it possible to cope when power supply of a device connected to the slaves is turned OFF, reliability of the system can be improved. </paragraph>
<paragraph id="P-0243" lvl="0"><number>&lsqb;0243&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> is a block diagram showing an example of specific configurations of the slaves <highlight><bold>43</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 27</cross-reference>. Further, although <cross-reference target="DRAWINGS">FIG. 28</cross-reference> shows a case in which to the slaves <highlight><bold>43</bold></highlight> is connected the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>that is a detector, they can be configured when a valve, etc., which is a controller, is connected and when both of a sensor, which is a detector, and a valve, which is a controller, are connected. However, when a valve, etc. is Connected, not input power supply but output power supply will be monitored. </paragraph>
<paragraph id="P-0244" lvl="0"><number>&lsqb;0244&rsqb;</number> First, a sense signal of the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>is given to the input unit <highlight><bold>43</bold></highlight><highlight><italic>b. </italic></highlight>A sense signal from the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>that the input unit <highlight><bold>43</bold></highlight><highlight><italic>b </italic></highlight>acquired, namely, ON/OFF information, is given to the master unit <highlight><bold>40</bold></highlight> via communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c </italic></highlight>and by way of the field network <highlight><bold>42</bold></highlight>. Although I/O data is thus sent, such processing function is similar to the traditional one. And, although the power supply for input is given to the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>via slaves <highlight><bold>43</bold></highlight>, it is given to the power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime;. The power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime; monitors ON and OFF of the power supply for input to be entered from the external all the time, based on voltage of the above given power supply for input. </paragraph>
<paragraph id="P-0245" lvl="0"><number>&lsqb;0245&rsqb;</number> Then, when the communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c </italic></highlight>receives a request sent from the master unit <highlight><bold>40</bold></highlight> by way of the field network <highlight><bold>42</bold></highlight>, the communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c </italic></highlight>will get information indicating ON and OFF. of the power supply for input that was monitored by the power supply for input monitoring unit <highlight><bold>43</bold></highlight>a&prime;, and send this information to the master unit <highlight><bold>40</bold></highlight> by way of the field network <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0246" lvl="0"><number>&lsqb;0246&rsqb;</number> Of course, although <cross-reference target="DRAWINGS">FIG. 28</cross-reference> illustrated the monitoring capability for the power supply for input, in the case of the slaves to which the output device is connected, as described above, the power supply monitoring unit for output will be provided, ON/OFF Information of the power supply for output will be monitored, and that ON/OFF information will be returned as a response, depending on a request from the master unit <highlight><bold>40</bold></highlight>. And, it is the input/output device power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a </italic></highlight>that collectively explains monitoring of those power supply shown in <cross-reference target="DRAWINGS">FIG. 27</cross-reference> for input and power supply for output. This means that although this <cross-reference target="DRAWINGS">FIG. 27</cross-reference> illustrates an example in which only the input/output device monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a </italic></highlight>is provided in the slaves <highlight><bold>43</bold></highlight>, in practice, similar to <cross-reference target="DRAWINGS">FIG. 28</cross-reference>, the communications control unit or the input unit or output unit for controlling I/O data of the input/output devices are also provided. Then, flow charts of <cross-reference target="DRAWINGS">FIGS. 29 and 30</cross-reference> show an example of the processing algorithm of the master unit <highlight><bold>40</bold></highlight> and the slaves <highlight><bold>43</bold></highlight> that carry out management/transmission and reception of ON/OFF information of the input/output power supply. </paragraph>
<paragraph id="P-0247" lvl="0"><number>&lsqb;0247&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is a flow chart for describing operation of the slaves <highlight><bold>43</bold></highlight>. As shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference>, first, the input/output power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a </italic></highlight>determines whether the power supply for input and power supply for output are turned ON (ST <highlight><bold>61</bold></highlight>). To make this decision, various techniques can be adopted: a threshold close to 0V may be set and it is determined that they are ON when it is exceeded. Or, as discussed later, configuration shall be such that the power supply for input and power supply for output are applied to the base voltage of the transistor, and thus it is determined that the power supplies are turned ON when the transistor is turned ON. In either case, it is determined that voltages are ON when comparison with some reference value is made and it turns out that a reference value for determination is abnormal. </paragraph>
<paragraph id="P-0248" lvl="0"><number>&lsqb;0248&rsqb;</number> When the power supply for input or power supply for output is ON (YES at Step <highlight><bold>61</bold></highlight>), associated error flag of the power supply for input and power supply for output is set to OFF (ST <highlight><bold>62</bold></highlight>). Also, when the power supply for input or power supply for output is OFF (NO at Step <highlight><bold>61</bold></highlight>), the error flag associated with the power supply for input and power supply for output that turned OFF is set to ON (ST <highlight><bold>63</bold></highlight>). </paragraph>
<paragraph id="P-0249" lvl="0"><number>&lsqb;0249&rsqb;</number> Next, it is determined whether there is a request for the input/output device power supply state information from the master unit <highlight><bold>40</bold></highlight> by way of the field network <highlight><bold>42</bold></highlight> (ST <highlight><bold>64</bold></highlight>). Now, if there is no request for the input/output device power supply state information (NO at Step <highlight><bold>64</bold></highlight>), a user will return to Step <highlight><bold>61</bold></highlight> to go to a next process. </paragraph>
<paragraph id="P-0250" lvl="0"><number>&lsqb;0250&rsqb;</number> On the other hand, if a request for the input/output device power supplies state information has been received (YES at Step <highlight><bold>64</bold></highlight>), the above error flag is sent to the master unit <highlight><bold>40</bold></highlight> as a response and the input/output device power supply state information, by way of the field network <highlight><bold>42</bold></highlight>. Then, a user will return to Step <highlight><bold>61</bold></highlight> to go to a next process. </paragraph>
<paragraph id="P-0251" lvl="0"><number>&lsqb;0251&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 30</cross-reference> is a flow chart for describing operation of the master unit <highlight><bold>40</bold></highlight>. First, it is determined whether there is an instruction to check the input/output device power supply (ST <highlight><bold>71</bold></highlight>). This instruction can be, for example, a request from the PLC unit side. In addition, the master unit <highlight><bold>40</bold></highlight> is provided with manipulation buttons for the instruction to check the input/output device power supply, and by pressing of the manipulation buttons, it can be determined that there is the instruction to check the input/output device power supply. </paragraph>
<paragraph id="P-0252" lvl="0"><number>&lsqb;0252&rsqb;</number> If there is no instruction to check the input/output device power supply (NO at Step <highlight><bold>71</bold></highlight>), a user will return to Step <highlight><bold>71</bold></highlight> to wait for the instruction to check the input/output device power supply. And, If it is determined that there is the instruction to check the input/output device power supply (YES at Step <highlight><bold>71</bold></highlight>), then, the unit number of the slaves <highlight><bold>43</bold></highlight> will be set to &ldquo;1&rdquo;(ST <highlight><bold>72</bold></highlight>). Next, it is determined whether or not the unit number n is the last number (ST <highlight><bold>73</bold></highlight>). In addition, if this is executed following Step <highlight><bold>72</bold></highlight>, then, n&equals;1 and it is not the last number. Thus, NO will be selected at the branch determination. </paragraph>
<paragraph id="P-0253" lvl="0"><number>&lsqb;0253&rsqb;</number> And, the unit number n is not the last one (NO at Step <highlight><bold>73</bold></highlight>), a request for readout of error flag of the input/output power device power supply will be issued to the slave with the unit number n (ST <highlight><bold>74</bold></highlight>), and the error flag of the input/output device power supply will be read out from the unit number (Step <highlight><bold>75</bold></highlight>). </paragraph>
<paragraph id="P-0254" lvl="0"><number>&lsqb;0254&rsqb;</number> And, a process associated with this read out error flag of the input/output device power supply is executed (ST <highlight><bold>76</bold></highlight>), then the unit number will be incremented to n&plus;1 (ST <highlight><bold>77</bold></highlight>), and a user will return to Step <highlight><bold>73</bold></highlight>. </paragraph>
<paragraph id="P-0255" lvl="0"><number>&lsqb;0255&rsqb;</number> The above process will be repeatedly executed till it is determined at Step <highlight><bold>73</bold></highlight> that the unit number n is the last number. Further, the last value of the unit number n should be stored/retained in advance. And, strictly speaking, determination on &ldquo;is it last&quest;&rdquo; at this Step <highlight><bold>73</bold></highlight> will be &ldquo;Is the last number exceeded&quest;&rdquo; or &ldquo;Were processes executed till the last number &quest;&rdquo;. Then, if processes were executed till the last number (YES at Step <highlight><bold>73</bold></highlight>), a series of processes involved in this instruction to check the input/output device power supply will end. </paragraph>
<paragraph id="P-0256" lvl="0"><number>&lsqb;0256&rsqb;</number> The above process associated with the error flag in Step <highlight><bold>76</bold></highlight> is executed, for example, based on the ladder program installed in the master unit <highlight><bold>40</bold></highlight>. Depending on a value of the error flag, &ldquo;The input/output device power supply is normal&rdquo;, &ldquo;The power supply for input of No. 3 slave is turned OFF&rdquo;, etc. will be notified, and if it is inappropriate to continue operation, such process as stop of operation will be executed. </paragraph>
<paragraph id="P-0257" lvl="0"><number>&lsqb;0257&rsqb;</number> Further, in the flow chart show in <cross-reference target="DRAWINGS">FIG. 30</cross-reference>, although it is such configured that the check of input/output device power supply of the slaves of this system will be sequentially executed on all of the slaves, it may be configured so that the check will be executed only on the input/output device power supply of a specific slave, as necessary. </paragraph>
<paragraph id="P-0258" lvl="0"><number>&lsqb;0258&rsqb;</number> Although the above fifth embodiment is predicated on the system of a type that supplies power source to the input/output devices from the Input/output device power supply apparatus <highlight><bold>45</bold></highlight>, as described In the fourth embodiment, even in the system wherein power source is supplied to the input/output devices from the network power supply apparatus by way of the slaves, it may be configured so that the slaves will monitor ON or OFF state of the power supply to the input/output devices and notify the master unit <highlight><bold>40</bold></highlight>, etc. of the result by way of the field network <highlight><bold>42</bold></highlight>. As an example, this can be achieved by making the internal configuration of the slaves <highlight><bold>43</bold></highlight> according to <cross-reference target="DRAWINGS">FIG. 31</cross-reference>. </paragraph>
<paragraph id="P-0259" lvl="0"><number>&lsqb;0259&rsqb;</number> Although <cross-reference target="DRAWINGS">FIG. 31</cross-reference> shows the case in which the sensor <highlight><bold>44</bold></highlight><highlight><italic>a, </italic></highlight>a detector, is connected to the slaves <highlight><bold>43</bold></highlight>, similar configuration will be possible in the case a valve, etc., which is a control unit, is connected, or In the case both a sensor, etc., which is a detector, and a valve, which is a detector, are connected. However, If a valve, etc. is connected, not the power supply for input but the power supply for output will be monitored. </paragraph>
<paragraph id="P-0260" lvl="0"><number>&lsqb;0260&rsqb;</number> First, a detection signal of the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>is given to the input unit <highlight><bold>43</bold></highlight><highlight><italic>b. </italic></highlight>The detection signal from the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>that the input unit <highlight><bold>43</bold></highlight><highlight><italic>b </italic></highlight>acquired, namely, ON/OFF information, is given to the master unit <highlight><bold>40</bold></highlight> via communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c </italic></highlight>and by way of the field network <highlight><bold>42</bold></highlight>. Although I/O data is thus sent, such processing function is similar to the traditional one. And the power supply for input is supplied to the slaves <highlight><bold>43</bold></highlight> from the network power supply apparatus <highlight><bold>47</bold></highlight> connected to the field network <highlight><bold>42</bold></highlight> by way of such field network <highlight><bold>42</bold></highlight>. Then, it is further given to the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>by way of the slaves <highlight><bold>43</bold></highlight><highlight><italic>d. </italic></highlight>The short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>is provided in the middle of this power supply line to the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>in the slaves. When this short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>senses that a short has occurred on the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>side, for instance, control is executed so that it breaks the circuit (breaks the switch). This means that the network power supply supplies power source to not only the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>and the slaves <highlight><bold>43</bold></highlight> to which that sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>Is connected, but also other slaves connected to the field network <highlight><bold>42</bold></highlight>. Therefore, should a short occur in the sensor <highlight><bold>44</bold></highlight><highlight><italic>a, </italic></highlight>the condition would affect the power supply system of the entire network. This Is because the short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>is provided, thereby Isolating from the power supply system the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>in which a short occurred. Furthermore, as configuration of this short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>is publicly known, detailed description of its internal configuration is omitted. </paragraph>
<paragraph id="P-0261" lvl="0"><number>&lsqb;0261&rsqb;</number> And, by branching from the short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>to the supply line to the sensor <highlight><bold>44</bold></highlight><highlight><italic>a, </italic></highlight>voltage Is given to the power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime;. Based on the above given voltage of the power supply for input, this power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime; monitors ON and OFF of the power supply for input entered from the external all the time. </paragraph>
<paragraph id="P-0262" lvl="0"><number>&lsqb;0262&rsqb;</number> This configuration would allow monitoring of ON and OFF of the power supply for input, including operating state of he above short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d. </italic></highlight>This means that the power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime; monitors ON and OFF of the power supply for input, and sends back information on state of voltage, which is result of that monitoring, to the master unit <highlight><bold>40</bold></highlight>, etc. as per request from the master unit <highlight><bold>40</bold></highlight>, etc. Then, the master unit <highlight><bold>40</bold></highlight> that received by way of the field network <highlight><bold>42</bold></highlight> information indicating that the power source supplied to the sensor <highlight><bold>44</bold></highlight> from the slaves <highlight><bold>43</bold></highlight> is turned OFF can determine that the short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>of the said slaves <highlight><bold>43</bold></highlight> has operated and become broken. This means that in this embodiment, the slaves <highlight><bold>43</bold></highlight> are also made to work by the network power supply. Therefore, if there is a response from the slaves (notice of information), it can be said that the network power source is supplied to at least the slaves <highlight><bold>43</bold></highlight>, and then if the supply power source to the sensor <highlight><bold>44</bold></highlight><highlight><italic>a </italic></highlight>is turned OFF, it can be determined that the short protection circuit <highlight><bold>43</bold></highlight><highlight><italic>d </italic></highlight>is operating. </paragraph>
<paragraph id="P-0263" lvl="0"><number>&lsqb;0263&rsqb;</number> Further, information from the slaves <highlight><bold>43</bold></highlight> in response to a request from the master unit <highlight><bold>40</bold></highlight> is transmitted via communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c, </italic></highlight>similar to the slaves In <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. This means when the communications control unit <highlight><bold>43</bold></highlight><highlight><italic>c </italic></highlight>receives a request from the master unit <highlight><bold>40</bold></highlight>. it will get monitoring result of the power supply for input monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime; and send it to the master unit <highlight><bold>40</bold></highlight> via field network <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0264" lvl="0"><number>&lsqb;0264&rsqb;</number> Furthermore, rather than simply making determination on ON/OFF, similar to monitoring of the network power supply of each slave in the fourth embodiment, it may be judged whether or not a voltage value of the power supplies for input/output exceeds predetermined thresholds, and then determination such as that it is close to the lower limit although the input/output devices can operate may be made and notified. </paragraph>
<paragraph id="P-0265" lvl="0"><number>&lsqb;0265&rsqb;</number> Incidentally, as specific circuit configuration for implementing the above input power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime;, configuration shown in <cross-reference target="DRAWINGS">FIG. 32</cross-reference> is possible, for Instance this circuit is also applicable to the input power supply monitoring unit <highlight><bold>43</bold></highlight><highlight><italic>a</italic></highlight>&prime; in either <cross-reference target="DRAWINGS">FIG. 28</cross-reference> or <cross-reference target="DRAWINGS">FIG. 31</cross-reference>. Also, although this <cross-reference target="DRAWINGS">FIG. 32</cross-reference> shows the monitoring circuit for the power supply for input, the monitoring circuit for the power supply for output can also be configured similarly. </paragraph>
<paragraph id="P-0266" lvl="0"><number>&lsqb;0266&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 32</cross-reference>, the monitoring circuit for this power supply for input serially connects the light emitting diode <highlight><bold>52</bold></highlight><highlight><italic>a </italic></highlight>comprising the resistance <highlight><bold>51</bold></highlight> and photocoupler <highlight><bold>52</bold></highlight> to the path branched from the power supply line to the input device <highlight><bold>44</bold></highlight><highlight><italic>a, </italic></highlight>thereby to the earth. It also serially connects the pull-up resistance <highlight><bold>53</bold></highlight> between the phototransistor <highlight><bold>52</bold></highlight><highlight><italic>b </italic></highlight>and supply voltage Vcc that comprise the photocoupler <highlight><bold>52</bold></highlight>. Then, it connects a contact of the pull-up resistance <highlight><bold>53</bold></highlight> and the phototransistor <highlight><bold>52</bold></highlight><highlight><italic>b </italic></highlight>to the input terminal of CPU <highlight><bold>54</bold></highlight> of the slaves <highlight><bold>43</bold></highlight>. </paragraph>
<paragraph id="P-0267" lvl="0"><number>&lsqb;0267&rsqb;</number> With this configuration, when the power supply for input is ON, current runs from the power supply for input to the earth by way of the resistance <highlight><bold>51</bold></highlight>&rarr;the light emitting diode <highlight><bold>52</bold></highlight><highlight><italic>a </italic></highlight>of the photocoupler <highlight><bold>52</bold></highlight> which then turns ON. This turns ON the phototransistor <highlight><bold>52</bold></highlight><highlight><italic>b </italic></highlight>of the photocoupler <highlight><bold>52</bold></highlight>, earth is dropped to the internal terminal of the CPU <highlight><bold>54</bold></highlight>, and then a low level signal is input. </paragraph>
<paragraph id="P-0268" lvl="0"><number>&lsqb;0268&rsqb;</number> Also, when the power supply for input is OFF, there is no longer current. running from the power supply for input to the earth by way of the resistance <highlight><bold>51</bold></highlight>&rarr;the light emitting diode <highlight><bold>52</bold></highlight><highlight><italic>a </italic></highlight>of the photocoupler <highlight><bold>52</bold></highlight> which thus turns OFF. This turns OFF the phototransistor <highlight><bold>52</bold></highlight><highlight><italic>b </italic></highlight>and opens the input terminal of the CPU <highlight><bold>54</bold></highlight>, then due to action of the pull-up resistance <highlight><bold>53</bold></highlight>, a high level signal is input to the input terminal of the CPU <highlight><bold>54</bold></highlight>. </paragraph>
<paragraph id="P-0269" lvl="0"><number>&lsqb;0269&rsqb;</number> Therefore, CPU <highlight><bold>54</bold></highlight> monitors level of a signal input to the input terminal, and can detect that the power supply for input is ON when the signal is at low level and that the power supply for input is OFF when it is at high level. Then, the operating voltage (voltage to turn ON) of the phototransistor <highlight><bold>52</bold></highlight><highlight><italic>b </italic></highlight>will be a reference value of ON and OFF of the voltage for input. </paragraph>
<paragraph id="P-0270" lvl="0"><number>&lsqb;0270&rsqb;</number> Further, there is more than one input device to be connected to the slaves, supply from the slaves of power source may be monitored individually for every input device or for all of the input devices altogether. Similarly, if there is more than one output devices to be connected to the slaves, supply from the slaves of the power source may be monitored individually for every output device or for all of the output devices altogether. </paragraph>
<paragraph id="P-0271" lvl="0"><number>&lsqb;0271&rsqb;</number> Furthermore, as in the modifications of the fifth embodiment if information on whether or not there is a short is sent, information on the input/output devices may be sent together. This means that a short, if any, often results in maintenance such as repair/replacement of the shorting input/output device. Thus, by having the slaves store and retain in advance information on the input/output devices connected to themselves, namely, information indicating ID of the devices (device name, manufacturer name, model, and manufacture number), and by outputting information indicating ID of a failed device together, a user can know in advance information on the failed device. Therefore, when visiting a site, he/she can carry with him/her parts for replacement of this device or a device to be replaced, and thus carry out maintenance quickly. </paragraph>
<paragraph id="P-0272" lvl="0"><number>&lsqb;0272&rsqb;</number> As described so far, according to examples of the fifth embodiment and its modification, as a host station can get a state of the power supply (I/O power supply) for the input/output devices connected to respective slaves, the host station can quickly determine a reason that a signal does not come from the slaves, namely, whether it is because power source is not supplied to the input device or because a signal is not really input nor input. Therefore, an effect of improving reliability of the system can be produced. </paragraph>
<paragraph id="P-0273" lvl="0"><number>&lsqb;0273&rsqb;</number> Also, although the fifth embodiment shows an example of the master unit as a host station that receives a notice of information on ON/OFF of the I/O power supply or voltage value, the present invention is not limited to this, and may also apply to other controllers. In addition, irrespective of the concept of a host station, it may be a configurator as in the fourth embodiment or a monitor <highlight><bold>62</bold></highlight>. In addition, various nodes connected to a network, such as other slave, can be a destination of transmission. </paragraph>
<paragraph id="P-0274" lvl="0"><number>&lsqb;0274&rsqb;</number> This also holds in the first to fourth embodiments. In other words, information obtained at each slave can be sent to various nodes connected to the network. </paragraph>
<paragraph id="P-0275" lvl="0"><number>&lsqb;0275&rsqb;</number> Furthermore, in the above respective embodiments, the example was shown wherein the slaves transmit and receive I/O information to/from the master unit, and system is controlled through transmission to and reception from the controller (PLC) of such I/O information by way of the master unit, and the master-slave method between the master and the slave was explained whereby a desired slave sends back a response to a request from the master. However, a slave meant by the present invention is not limited to a slave that conducts master-slave communications. This means that although it is referred to as a slave, it can employ any communications scheme. In this respect, strictly speaking, it is the slave that includes a concept different from the generally defined slave. In other words, a slave meant by the present invention may employ any communications protocol in real transmission/reception, if the capability of sending and receiving I/O information necessary for control to/from the controller is available. In particular, a destination of transmission of non-I/O information, that is a transmission object in the present invention, is not limited to a master unit or controller, and can be various nodes such as a configurator or monitor or other slaves connected to a network. Thus, a communications scheme can be selected as appropriate, depending on a recipient. Of course, a trigger to send is not limited to those executed as per request from the external, and transmission may be carried out based on an internal trigger (event that is generated when certain conditions are met, etc.). </paragraph>
</section>
<section>
<heading lvl="1">EFFECTS OF INVENTION </heading>
<paragraph id="P-0276" lvl="0"><number>&lsqb;0276&rsqb;</number> As described before, the present invention provides a measuring means, whereby physical volume of a control unit or slaves is measured, independent of control. Thus, without affecting the control system, non-control data (non-I/O data) such as service information is reserved at slaves, output to a circuit (network) with predetermined timing, and notified to a predetermined recipient. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What it claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A slave to which a control device is connected and that communicates of input or output information of the said control device with a controller via a remote circuit, the said slave is characterized in that it comprises: 
<claim-text>a measuring means that measures physical volume related to the said control or the said slave itself; and </claim-text>
<claim-text>an output means that outputs to circuit information based on measured values measured with the said measuring means if predetermined conditions are met/ </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A slave to which a control unit is connected and that communicates input or output information of the said control device with a controller via a remote circuit, the said slave is characterized in that it comprises: 
<claim-text>a measuring means that measures physical volume related to the said control unit or the said slave itself; </claim-text>
<claim-text>a determining means that compares a measured value measured with the measuring means, with a reference value; and </claim-text>
<claim-text>an output means that outputs to a circuit determination result information obtained with the determining means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A slave to which a control unit is connected and that communicates input or output information of the said control device with a controller via a remote circuit, the said slave is characterized in that it comprises: 
<claim-text>a measuring means that measures physical volume related to the said control unit or the said slave itself; </claim-text>
<claim-text>a determining means that compares a measured value measured with the measuring means, with a reference value: and </claim-text>
<claim-text>an output means that outputs to a circuit both measured value information with the measuring means and determination result information obtained with the determining means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The slave as in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein a distant party to whom the said output means communicates information via circuit is any of a controller connected to the circuit or a monitor or a slave. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The slave as in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, characterized in that the said physical volume is voltage of the network power source supplied to the slave itself by way of the said remote circuit. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The slave as in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, characterized in that the said physical volume is supply voltage to be incorporated by a slave and supplied to the said control device by way of the slave. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The slave as in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the said physical volume is operating time that is timed by using a change to data on input or output information to a control unit connected to either the slave itself or another slave as a trigger. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The slave as in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, characterized in that it comprises a comparison means that stores and retains setting information to identify a normal range of the said operating time, and compares the said operating time determined by timing with the said setting information. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A node device that can be connected to a network for FA, characterized in that it comprises: 
<claim-text>a means of obtaining from the first slave information on start time when a control device attached to the first slave connected to the said network starts operating; </claim-text>
<claim-text>a means of obtaining information on elapsed time of when the said control device enters into a determined state, from the second slave that incorporates a detection signal into which the said control device enters a predetermined state; and </claim-text>
<claim-text>computing capability that computes operating time of the said control device based on the said start time Information and the said stop time information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A processing method that determines operating time of a control device in a slave to which A control device is connected, and that communicates input or output information of the said control device with a controller via network for FA, the method executes the following as processes independent of communications process that communicates input or output information with the said controller: 
<claim-text>(a) obtaining start time information of when the said control device starts operating, based on output signal to the control device: </claim-text>
<claim-text>(b) obtaining elapsed time information of when the said control device enters into a predetermined state, based on a detection signal that detects the said control device has entered into a predetermined state; </claim-text>
<claim-text>(c) computing operating time of the said control device, based on the said start time information and the said elapsed time information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A processing method of a slave to which a control device is connected and that communicates input or output information of the said control device with a controller via remote circuit, the method executing the following as processes independent of communications process that communicates input or output information with the said controller: 
<claim-text>(a) measuring, in the slave, physical volume related to the said control device or the said slave itself; </claim-text>
<claim-text>(b) comparing, in the slave, a measured value with a reference value; </claim-text>
<claim-text>(c) outputting the comparison result information to a circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A processing unit that is incorporated in a slave or monitor connected to a network for FA and that determines operating time of a predetermined apparatus, characterized in that it comprises. 
<claim-text>a means of obtaining information on start time when a signal state of IN terminal of the slave to which is connected the first input device monitoring conditions of a predetermined apparatus has changed; </claim-text>
<claim-text>a means of obtaining information on elapsed time when a signal state of IIN terminal of the slave to which is connected the second input device monitoring conditions of a predetermined apparatus has changed; and </claim-text>
<claim-text>a means of computing operating time of the said predetermined apparatus based on the said start time information and the said elapsed time information. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A monitoring system of a power supply that connects a controller. a slave and a monitoring unit via network, and that supplies power source to the said slave and a control unit connected to the slave, characterized in that it comprises: 
<claim-text>in the said slave. a communicating means that communicates input or output information of a control device via network, a power supply monitoring means that monitors a state of the said power supply, and an output means that outputs to the network information on a monitoring state with the power supply monitoring means, and that the said monitoring unit is provided with a means of collecting state information monitored with the said power supply monitoring means, by communicating with the output means of the slave via the said network, and a means of managing collected power supply states in a unified way. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A method of monitoring a power supply that connects a controller, a slave and a monitoring unit via network, and supplies power source to the said slave and a control unit connected to the slave, characterized in that: 
<claim-text>Besides the process of communicating input or output information of a control device via network, the said slave executes the process of monitoring a state of the said power supply and the process of outputting to the network information on a monitored state by the power supply monitoring means; and </claim-text>
<claim-text>the said monitoring unit executes the process of communicating with the output means of the slave via the said network, the process of collecting state information monitored by the said power supply monitoring means through the process of communicating, and the process of managing collected power supply states. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A method of monitoring a network system that connects a controller, a slave to which a control device is connected, and a monitoring unit via network, characterized in that: 
<claim-text>a slave executes the process of measuring physical volume related to the said control device or the said slave itself, the process of comparing a measured value with a reference value, and outputs the comparison result information to a circuit, while it executes the process of communicating input or output information of the said control device with a controller via a remote circuit; and at least either a controller or monitor executes the process of receiving the comparison result information of the slave, and the process of managing the received comparison result information.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004686A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004686A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004686A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004686A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004686A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004686A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004686A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004686A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004686A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004686A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004686A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004686A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004686A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004686A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004686A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030004686A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030004686A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030004686A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030004686A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030004686A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030004686A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030004686A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00022">
<image id="EMI-D00022" file="US20030004686A1-20030102-D00022.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00023">
<image id="EMI-D00023" file="US20030004686A1-20030102-D00023.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00024">
<image id="EMI-D00024" file="US20030004686A1-20030102-D00024.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00025">
<image id="EMI-D00025" file="US20030004686A1-20030102-D00025.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00026">
<image id="EMI-D00026" file="US20030004686A1-20030102-D00026.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00027">
<image id="EMI-D00027" file="US20030004686A1-20030102-D00027.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00028">
<image id="EMI-D00028" file="US20030004686A1-20030102-D00028.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
