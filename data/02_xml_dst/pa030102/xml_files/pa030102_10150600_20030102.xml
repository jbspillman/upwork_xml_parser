<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001681A1-20030102-D00000.TIF SYSTEM "US20030001681A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00001.TIF SYSTEM "US20030001681A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00002.TIF SYSTEM "US20030001681A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00003.TIF SYSTEM "US20030001681A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00004.TIF SYSTEM "US20030001681A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00005.TIF SYSTEM "US20030001681A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00006.TIF SYSTEM "US20030001681A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00007.TIF SYSTEM "US20030001681A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00008.TIF SYSTEM "US20030001681A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00009.TIF SYSTEM "US20030001681A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001681A1-20030102-D00010.TIF SYSTEM "US20030001681A1-20030102-D00010.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001681</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10150600</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020517</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>20011422</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>FI</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H03L007/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>331</class>
<subclass>018000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Method and device for improving efficiency of frequency synthesizer</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Kalle</given-name>
<family-name>Asikainen</family-name>
</name>
<residence>
<residence-non-us>
<city>Pirkkala</city>
<country-code>FI</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Sami</given-name>
<family-name>Rintamaki</family-name>
</name>
<residence>
<residence-non-us>
<city>Helsinki</city>
<country-code>FI</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>Nokia Corporation</organization-name>
<address>
<city>Espoo</city>
<postalcode>F</postalcode>
<country>
<country-code>FI</country-code>
</country>
</address>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>HARRINGTON &amp; SMITH, LLP</name-1>
<name-2></name-2>
<address>
<address-1>4 RESEARCH DRIVE</address-1>
<city>SHELTON</city>
<state>CT</state>
<postalcode>06484-6212</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A method and a device for reducing cycle slips resulting from frequency hops in a wireless communication device. In the method, a first signal pulse is received, which first signal pulse is either said reference signal pulse or said signal pulse to be compared, a second signal pulse is received, which second signal pulse is from another source than said first signal pulse, a control voltage is generated for controlling a voltage controlled oscillator in response to a phase difference between said first received and said second received signal pulses. At a time instant between the reception of said first and said second signal pulses, a constant voltage is added to said control voltage on receiving additionally one signal pulse, which is the same type as said first signal pulse. After receiving said second signal pulse, said constant voltage is removed from said control voltage on receiving at least one signal pulse, which is the same type as said second signal pulse. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a method and a device for improving the efficiency of a frequency synthesizer, and particularly but not necessarily, for reducing cycle slips in connection with frequency hops. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND ART </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Because of new TDMA (Time Division Multiple Access) and TDD (Time Division Duplex) standards, such as HSCSD, GPRS, WCDMA/TDD and Bluetooth, determining a signal settling time has a key role in wireless communications systems. In said standards, a time window between a TX slot and an RX slot is getting shorter and shorter. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Transceivers in radio-frequency communications systems, such as mobile systems, employ frequency synthesizers for generating a radio-frequency signal. Previous implementations have employed a so-called integer-N synthesizer, in which a feedback divider divides a frequency arriving in a phase detector by an integer N. When the divider input has received N pulses, the output provides one pulse. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> The frequency synthesizer <highlight><bold>100</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>a, </italic></highlight>such as an integer-N synthesizer, as well as a fractional-N synthesizer to be presented below, comprises a phase lock loop (references <highlight><bold>101</bold></highlight> to <highlight><bold>104</bold></highlight>) (PLL), i.e. a feedback control system, which further comprises a divider <highlight><bold>104</bold></highlight> for dividing an output signal frequency of a voltage controlled oscillator <highlight><bold>103</bold></highlight>, a phase detector <highlight><bold>101</bold></highlight> for generating a control signal to the voltage controlled oscillator <highlight><bold>103</bold></highlight> in response to a phase difference between a reference signal and the signal coming from the divider <highlight><bold>104</bold></highlight>, a loop filter <highlight><bold>102</bold></highlight> for filtering said control signal into control voltage, and for providing the output frequency of the voltage controlled oscillator (VCO) <highlight><bold>103</bold></highlight> on the basis of the received control voltage. The PLL frequency synthesizer also comprises a reference frequency source, which can be e.g. a temperature-compensated crystal oscillator, and a divider <highlight><bold>104</bold></highlight> control <highlight><bold>105</bold></highlight> for implementing the division of the VCO frequency. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference><highlight><italic>a </italic></highlight>shows a simplified phase detector <highlight><bold>101</bold></highlight> of a frequency synthesizer, i.e. a phase frequency detector (PFD), which phase detector may comprise a D flip-flop <highlight><bold>201</bold></highlight> for detecting a reference pulse and a second flip-flop for detecting a VCO pulse and a reset means <highlight><bold>207</bold></highlight>, e.g. an AND gate, by means of which the flip-flops <highlight><bold>201</bold></highlight> and <highlight><bold>202</bold></highlight> are reset, when an opposite pulse arrives in the phase detector. The phase detector <highlight><bold>101</bold></highlight> is generally followed by a charge-pump-type current source (<highlight><bold>203</bold></highlight>, <highlight><bold>204</bold></highlight>) and a loop filter <highlight><bold>102</bold></highlight>, which may comprise a resistor <highlight><bold>205</bold></highlight> and a capacitor <highlight><bold>206</bold></highlight>, by which the current pulses generated by the charge pumps are converted to control voltage. PFD compares phase difference between two incoming signals Ref and VCO, and as presented in <cross-reference target="DRAWINGS">FIG. 2</cross-reference><highlight><italic>b </italic></highlight>provides the output of the flip-flop <highlight><bold>201</bold></highlight> with an up-pulse U , which controls the charge pump <highlight><bold>203</bold></highlight> to generate a current pulse l<highlight><subscript>U</subscript></highlight>, when the reference frequency f<highlight><subscript>Ref </subscript></highlight>exceeds the compared frequency f<highlight><subscript>VCO</subscript></highlight>. Correspondingly, the output of the flip-flop <highlight><bold>202</bold></highlight> is provided with a down-pulse D, which controls the charge pump <highlight><bold>204</bold></highlight> to generate a current pulse l<highlight><subscript>D</subscript></highlight>, when the reference frequency f<highlight><subscript>Ref </subscript></highlight>is lower than the compared frequency f<highlight><subscript>VCO</subscript></highlight>. The length of said up- or down-pulse in time is proportional to the phase difference between two incoming signals. The current pulse is integrated to be voltage in the loop filter according to a transfer function F(s) of the loop filter <highlight><bold>102</bold></highlight>. The provided direct voltage V<highlight><subscript>VCO </subscript></highlight>is used for controlling the frequency of a local oscillator. The magnitude of the currents l<highlight><subscript>U </subscript></highlight>and l<highlight><subscript>D </subscript></highlight>is constant during the pulse, but the charge (Q&equals;i*t) integrated in the pulse changes. Because the linear operating range of the phase detector is &plusmn;2&pgr;, the maximum current pulse width is obtained when the phase difference is 2&pgr;. If the incoming phase difference exceeds 2&pgr;, the current pulse width changes to its lowest value in a manner presented in <cross-reference target="DRAWINGS">FIG. 3</cross-reference><highlight><italic>a, </italic></highlight>whereby the phase comparison range becomes non-linear. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> A fractional-N synthesizer differs from the integer-N synthesizer in that a frequency arriving in the phase detector <highlight><bold>101</bold></highlight> is generated on an alternating principle between two different frequencies. In the fractional-N synthesizer, the employed reference frequency is generally higher than in the integer-N synthesizer, because the output frequency resolution can be lower than the reference frequency. A higher reference frequency is an advantageous feature of the synthesizer output in view of interference and noise levels, which, on one hand, allows the use of a large loop band width and thus reduces the synthesizer settling time in a frequency hop. On the other hand, to reduce the noise band width of the phase lock loop and to attenuate a phase comparison frequency the phase-locked loop should have as narrow a band as possible, which enhances the stability of the loop. However, a narrow band delays the loop, which means an increase in the settling time in the frequency synthesizer. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In order to be able to utilize the fractional-N synthesizer technology in an optimal manner as a fast settling synthesizer solution, cycle slips, which result from a typically high phase comparison frequency of the fractional-N synthesizer, are to be avoided. In current solutions cycle slips occur when the phase difference between the signals to be compared exceeds the linear operating range of the phase detector, which operating range in current technology generally is &plusmn;2&pgr;. <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>b </italic></highlight>shows signal settling on transferring from frequency f<highlight><subscript>1 </subscript></highlight>to frequency f<highlight><subscript>2</subscript></highlight>, when there is no cycle slip. This situation prevails, when the phase difference between the signals to be compared is less than 2&pgr;. However, a high comparision frequency may cause cycle slips, like those presented in <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>c, </italic></highlight>in the signal settling, particularly in large frequency hops, which further increases the settling time of the frequency synthesizer. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> U.S. Pat. No. 6,100,721 discloses a solution for extending the variation range of a phase detector used in connection with a frequency synthesizer, such as an integer-N synthesizer, to exceed the commonly used &plusmn;2&pgr;. Said publication sets forth a phase detector, which comprises a first pair of D flip-flops for detecting a phase difference between an input frequency and a reference frequency. Said first pair of flip-flops controls two first current sources of a charge pump to generate an error signal, which error signal controls a voltage controlled oscillator to generate an oscillator signal, whose frequency is D times the reference frequency and in which D is typically an integer (e.g. 1,000). The phase detector also comprises a second pair of D flip-flops, which detects when the input frequency is more than 2&pgr; ahead of or behind the reference frequency. The second pair of flip-flops is implemented to increase or decrease a counter value, the counter in turn controlling additional current sources of the charge pump. The additional current sources extend the linear operating range of the error signal, when the phase difference exceeds &plus;2&pgr;, or correspondingly, is less than &minus;2&pgr;. When the phase detector is in state, which corresponds to a phase comparison range of &minus;2&pgr;, &plus;2&pgr;, only two first current sources form a control signal. When the phase difference exceeds 2&pgr;, the counter value is increased, and in response to the increased value an additional current source is turned on, whereby a phase comparison range of 0,4&pgr; is proceeded to. Said phase comparison range is maintained until the phase difference between the input frequency and the reference frequency is again zero. Only after the phase difference between the reference signal and the compared signal has reached zero, said additional constant current is switched off, whereby a phase comparison range of &minus;2&pgr;,&plus;2&pgr; is returned to. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> A different method and a device have now been invented for reducing cycle slips and for increasing a variation range of a phase detector to exceed the commonly used &plusmn;2&pgr;. In the method, a linear range &lsqb;&minus;2pi,&plus;2pi&rsqb; of a phase comparator is formed by a first pair of flip-flops, such as a pair of d flip-flops, in the same manner as in the prior art publication U.S. Pat. No. 6,100,721. Additionally, in the method, a linear range &lsqb;2pi,4pi&rsqb; or &lsqb;&minus;4pi,&minus;2pi&rsqb; of the phase comparator is formed by a second pair of flip-flops after exceeding the phase difference 2pi, unlike in said prior art publication, in which said second pair of flip-flops is used for changing a value of a counter. From the range &lsqb;2pi,4pi&rsqb; or &lsqb;&minus;4pi,&minus;2pi&rsqb;, a normal state within the linear range &lsqb;&minus;2pi,2pi&rsqb; is returned to as soon as the phase difference is back less than 2pi. The method reduces the number of cycle slips and improves the performance of a transmitter-receiver device, such as mobile station, as the signal settling time of a frequency synthesizer becomes shorter. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In current mobile stations, the signal settling time is about 100 to 300 &mgr;s, whereas if the operation of the synthesizer is improved by increasing the variation range of the phase detector in accordance with the invention, it is possible to achieve a shorter settling time of an output signal frequency than currently. The shorter frequency synthesizer settling time implemented by the method of the invention, for instance in a mobile station, provides a possibility of power consumption optimisation in generating a transmitted signal, because power supply to the frequency synthesizer and to the voltage controlled oscillator (VCO) can be temporarily turned off, e.g. between TX slots and RX slots, and turned on just before the operation of the local oscillator is needed again. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> A first aspect of the invention implements a method for reducing cycle slips in a frequency synthesizer, the frequency synthesizer comprising a voltage controlled oscillator for generating an output signal frequency, a divider for dividing said output signal into a signal pulse to be compared, a reference oscillator for generating a reference signal pulse and means for generating control voltage for the voltage controlled oscillator in response to a detected phase difference, which phase difference is the phase difference between the signal pulse to be compared and the reference signal pulse, and the method comprising the steps of receiving a first first-type signal pulse, the first-type signal pulse being either said reference signal pulse or said signal pulse to be compared, receiving a second second-type signal pulse, the second-type signal pulse being either said reference signal pulse or said signal pulse to be compared but of a different type than said first signal pulse, generating control voltage for controlling the voltage controlled oscillator in response to a phase difference between said first signal pulse and said second signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, increasing the control voltage for a degree of constant voltage at a time instant between the reception of said first signal pulse and said second signal pulse, on receiving also a third signal pulse, which is of the first type, characterized in that in the method, after reception of said second signal pulse, before reception of a fourth signal pulse, which fourth signal pulse is of the first type, said control voltage is reduced for a degree of said constant voltage, on receiving at least one fifth signal pulse, which is of said second type. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> A second aspect of the invention implements a device for reducing cycle slips resulting from frequency hops in a communication device, which device comprises a voltage controlled oscillator for generating an output signal frequency, a divider for dividing said output signal into a signal pulse to be compared, a reference oscillator for generating a reference signal pulse, and the device comprises means for generating control voltage for the voltage controlled oscillator in response to a detected phase difference, the phase difference being a phase difference between the signal pulse to be compared and the reference signal pulse, and the device comprises receiving means for receiving a first first-type signal pulse, the first signal pulse being either said reference signal pulse or said signal pulse to be compared, receiving means for receiving a second second-type signal pulse, the second signal pulse being either said reference signal pulse or said signal pulse to be compared but of a different type than said first signal pulse, generating means for generating control voltage to control the voltage controlled oscillator in response to a phase difference between said first received signal pulse and said second received signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, adding means for adding a constant-degree voltage to said control voltage at a time instant between the reception of said first signal pulse and said second signal pulse, on receiving also one third signal pulse, which is of said first type, characterized in that the device further comprises removing means for reducing said constant-degree voltage from said control voltage after the reception of said second signal pulse, before the reception of a fourth signal pulse, which is of said first type, on receiving at least one fifth signal pulse, which is of said second type. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> A third aspect of the invention implements a wireless communication device comprising a device for reducing cycle slips resulting from frequency hops in said communication device, which device comprises a voltage controlled oscillator for generating an output signal frequency, a divider for dividing said output signal into a signal pulse to be compared, a reference oscillator for generating a reference signal pulse, and the device comprises means for generating a control voltage for the voltage controlled oscillator in response to a detected phase difference, the phase difference being a phase difference between the signal pulse to be compared and the reference signal pulse, and the device comprises receiving means for receiving a first signal pulse, the first signal pulse being either said reference signal pulse or said signal pulse to be compared, receiving means for receiving a second signal pulse, the second signal pulse being either said reference signal pulse or said signal pulse to be compared and of a different type than said first signal pulse, generating means for generating a control voltage for controlling the voltage controlled oscillator in response to a phase difference between said first signal pulse and said second signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, adding means for adding a constant-degree voltage to said control voltage at a time instant between the reception of the said first signal pulse and said second signal pulse on receiving also a third signal pulse, which is of said first type, characterized in that the device further comprises removing means for reducing said constant-degree voltage from said control voltage after the reception of said second signal pulse, before the reception of a fourth signal pulse, which is of said first type, on receiving at least one fifth signal pulse, which is of said second type. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In the above-described aspects, said signal pulses from the first to the seventh do not refer to the order numbers of said pulses but they are only intended to illustrate the presentation.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> In the description of the invention reference is made to the drawings, in which </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>a </italic></highlight>is a block diagram of a prior art sigma-delta fractional-N synthesizer; </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>b </italic></highlight>shows frequency settling, when there are no cycle slips; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference><highlight><italic>c </italic></highlight>shows frequency settling, when there is one cycle slip; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference><highlight><italic>a </italic></highlight>shows a prior art phase detector in a simplified manner; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference><highlight><italic>b </italic></highlight>shows how an output pulse generated by the phase detector is formed from a phase difference of input pulses; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference><highlight><italic>a </italic></highlight>shows an operating range of the prior art phase detector; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference><highlight><italic>b </italic></highlight>and <highlight><bold>3</bold></highlight><highlight><italic>c </italic></highlight>shows an operating range of the phase detector of the invention; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a flow chart of the method of the invention; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a block diagram of a frequency synthesizer of the invention; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram of a communication device of the invention; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a block diagram of a phase detector of the invention; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a block diagram of a charge pump of the invention. </paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> The prior art was described with reference to <cross-reference target="DRAWINGS">FIGS. 1</cross-reference><highlight><italic>a </italic></highlight>to <highlight><bold>3</bold></highlight><highlight><italic>a. </italic></highlight>In the following, the invention will be described in greater detail with reference to <cross-reference target="DRAWINGS">FIGS. 3</cross-reference><highlight><italic>b </italic></highlight>to <highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference><highlight><italic>b </italic></highlight>shows an operating range of a phase detector according to one alternative embodiment of the invention. In a phase comparison range &lsqb;0,2&pgr;&rsqb; a first pair of charge pumps generates a first control voltage for a voltage controlled oscillator, which control voltage (0&minus;&plus;V<highlight><subscript>max</subscript></highlight>) is proportional to a phase difference (0&minus;2&pgr;) between a reference signal and a signal to be compared. In a phase comparison range &lsqb;0,&minus;2&pgr;&rsqb; the first pair of charge pumps generates the first control voltage for the voltage controlled oscillator, which control voltage (0&minus;&minus;V<highlight><subscript>max</subscript></highlight>) is proportional to a phase difference (0&minus;&minus;2&pgr;) between the reference signal and the signal to be compared. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> Additionally, in a phase comparison range 2&pgr;-4&pgr; a second pair of charge pumps is used for additionally generating a second control voltage, the magnitude of the second control voltage corresponding to the magnitude of said first control voltage &plus;V<highlight><subscript>max </subscript></highlight>as the phase difference is 2&pgr;. Additionally, in a phase comparison range &minus;4&pgr;-&minus;2&pgr; a second pair of charge pumps is used for additionally generating a second control voltage, the magnitude of the second control voltage corresponding to the magnitude of said first control voltage &minus;V<highlight><subscript>max </subscript></highlight>as the phase difference is &minus;2&pgr;. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In a phase comparison range &gt;4&pgr; the first pair of charge pumps is used for generating a control voltage for the voltage controlled oscillator, the magnitude of the control voltage being &plus;V<highlight><subscript>max</subscript></highlight>, which is equal to the control voltage when the phase difference is 2&pgr;. In addition, the second pair of charge pumps generates a constant voltage, which is also &plus;V<highlight><subscript>max</subscript></highlight>, corresponding to the magnitude of said control voltage when the phase difference is 2&pgr;. In a phase comparison range &lt;&minus;4&pgr;, the first pair of charge pumps is used for generating a first control voltage for the voltage controlled oscillator, the magnitude of the control voltage being equal to said control voltage when the phase difference is &minus;2&pgr;. In addition, the second pair of charge pumps generates a second control voltage, whose magnitude also corresponds to the magnitude of said first control voltage when the phase difference is &minus;2&pgr;. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference><highlight><italic>c </italic></highlight>shows the operating range of a phase detector according to an alternative embodiment of the invention. In a phase comparison range &lsqb;0,&plus;2&pgr;&rsqb; a first pair of charge pumps generates a first control voltage for the voltage controlled oscillator, the control voltage (0&minus;&plus;V<highlight><subscript>max</subscript></highlight>) being proportional to a phase difference (0&minus;2&pgr;) between the reference signal and the signal to be compared. In a phase comparison range &lsqb;0,&minus;2&pgr; a first pair of charge pumps generates a first control voltage for the voltage controlled oscillator, the control voltage (0&minus;&minus;V<highlight><subscript>max</subscript></highlight>) being proportional to a phase difference (0&minus;&minus;2&pgr;) between the reference signal and the signal to be compared. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Additionally, in a phase comparison range &gt;2&pgr; and &lt;&minus;2&pgr; a second pair of charge pumps is used for additionally generating a second constant-degree control voltage for the voltage controlled oscillator, the magnitude of the second control voltage corresponding to the magnitude of said first control voltage &plus;V<highlight><subscript>max </subscript></highlight>(&minus;V<highlight><subscript>max</subscript></highlight>) when the phase difference is &plus;2&pgr; (&minus;2&pgr;). </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a flow chart of the method according to the invention. The method monitors a phase difference between incoming signals, i.e. between the reference signal and the signal to be compared. In response to the detected phase difference, a control signal is generated for the charge pump, which control signal controls the magnitude and direction of the charge obtained from the charge pump. The control signal UP controls the charge pump <highlight><bold>804</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight> (reference numerals <highlight><bold>800</bold></highlight>-<highlight><bold>835</bold></highlight> are referring to <cross-reference target="DRAWINGS">FIG. 8</cross-reference>), which charge pump generates a current pulse l<highlight><subscript>UP</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>UP </subscript></highlight>in a loop filter, for instance. The control signal DOWN controls the charge pump <highlight><bold>805</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight>, which charge pump generates a current pulse l<highlight><subscript>DOWN</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>DOWN </subscript></highlight>in the loop filter, for instance. The control signal ORUP controls the charge pump <highlight><bold>804</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight>, which charge pump generates a current pulse l<highlight><subscript>ORUP</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>ORUP </subscript></highlight>in the loop filter, for instance. The control signal ORDOWN controls the charge pump <highlight><bold>805</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight>, which charge pump generates a current pulse l<highlight><subscript>ORDOWN</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>ORDOWN </subscript></highlight>in the loop filter, for instance. The control signal EXTUP controls the charge pump <highlight><bold>806</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight>, which charge pump generates a current pulse l<highlight><subscript>EXTUP</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>EXTUP </subscript></highlight>in the loop filter, for instance. The control signal EXTDOWN controls the charge pump <highlight><bold>807</bold></highlight> of the charge pump device <highlight><bold>800</bold></highlight>, which charge pump generates a control voltage l<highlight><subscript>EXTDOWN</subscript></highlight>, which is further converted to a control voltage U<highlight><subscript>EXTDOWN </subscript></highlight>in the loop filter, for instance. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> In the following the method of the invention will be described with reference to control signals UP, DOWN, EXTUP, EXTDOWN, ORUP and ORDOWN generated by the phase detector. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> The reference signal is a signal generated by a reference oscillator, whose phase and that of the signal to be compared, such as the voltage controlled oscillator signal, which is fed back and divided by a divider, are compared. The UP control signal is generated when a reference pulse, i.e. REF pulse, arrives in the phase detector before a pulse to be compared, i.e. VCO pulse. Correspondingly, the DOWN control signal is generated when the VCO pulse arrives in the phase detector before the REF pulse. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> In the following (steps <highlight><bold>401</bold></highlight> to <highlight><bold>409</bold></highlight>) a situation is described, where a REF pulse is received first and a VCO pulse is received second, when the phase difference is in the phase comparison range 0-2&pgr;. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> In step <highlight><bold>401</bold></highlight>, the phase detector receives one of the pulses, i.e. REF or VCO pulse. If the received pulse is REF pulse, step <highlight><bold>402</bold></highlight> is proceeded to, where it is examined whether UP control signal is on. If not, step <highlight><bold>403</bold></highlight> is proceeded to, where it is examined whether DOWN control signal is on. If DOWN control signal is not on, step <highlight><bold>404</bold></highlight> is proceeded to, where it is examined whether EXTDOWN control signal is on. If EXTDOWN control signal is not on, step <highlight><bold>405</bold></highlight> is proceeded to, where UP control signal is turned on, whereafter step <highlight><bold>401</bold></highlight> is proceeded to. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> In step <highlight><bold>401</bold></highlight>, a next pulse is received, which is now a VCO pulse to be compared, whereby step <highlight><bold>406</bold></highlight> is proceeded to, where it is examined whether DOWN control signal is on. If DOWN control signal is not on, step <highlight><bold>407</bold></highlight> is proceeded to for examining whether UP control signal is on. In this case UP control signal is already on, and therefore step <highlight><bold>408</bold></highlight> is proceeded to, where DOWN control signal is turned on, whereafter step <highlight><bold>409</bold></highlight> is proceeded to, where both UP control signal and DOWN control signal are turned off. Correspondingly, in a situation where the VCO pulse to be compared is received first and the REF pulse is received second, the phase difference being within a phase comparison range 0-2&pgr;, steps <highlight><bold>401</bold></highlight>, <highlight><bold>406</bold></highlight>, <highlight><bold>407</bold></highlight>, <highlight><bold>410</bold></highlight>, <highlight><bold>411</bold></highlight> and steps <highlight><bold>401</bold></highlight>, <highlight><bold>402</bold></highlight>, <highlight><bold>403</bold></highlight>, <highlight><bold>412</bold></highlight>, <highlight><bold>413</bold></highlight> are performed. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> The following describes a situation, where at least two REF pulses are received first and then a VCO pulse to be compared, when the phase difference is in the phase comparison range 2&pgr;-4&pgr;. On receiving the first REF pulse, steps <highlight><bold>401</bold></highlight> to <highlight><bold>405</bold></highlight> are performed, when UP control signal is turned on. On receiving a next REF pulse, the process proceeds through steps <highlight><bold>401</bold></highlight> and <highlight><bold>402</bold></highlight> to step <highlight><bold>414</bold></highlight>, where it is examined whether EXTUP control signal is on, and because it is not on in said exemplary case, step <highlight><bold>415</bold></highlight> is proceeded to, where EXTUP control signal is turned on. EXTUP control signal provides a constant voltage U<highlight><subscript>EXTUP</subscript></highlight>, which corresponds to the control voltage U<highlight><subscript>UP </subscript></highlight>when the phase difference between REF and VCO signals is 2&pgr;. On receiving VCO pulse in step <highlight><bold>401</bold></highlight>, the process proceeds to step <highlight><bold>406</bold></highlight> to examine whether DOWN control signal is on. In this case it is not, and therefore step <highlight><bold>407</bold></highlight> is proceeded to, where it is examined whether UP control signal is on. In the case of the example both UP control signal and EXTUP control signal are on, whereby DOWN control signal is turned on in step <highlight><bold>408</bold></highlight> and UP control signal and DOWN control signal are turned off in step <highlight><bold>409</bold></highlight>, whereafter step <highlight><bold>401</bold></highlight> is proceeded to. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Correspondingly, in a situation where two VCO pulses to be compared and one REF pulse are received, the phase difference being in said phase comparison range &minus;2&pgr;,&minus;4&pgr;, steps <highlight><bold>401</bold></highlight>, <highlight><bold>406</bold></highlight>, <highlight><bold>407</bold></highlight>, <highlight><bold>410</bold></highlight> and <highlight><bold>411</bold></highlight> are performed in conjunction with the reception of the first VCO pulse. Steps <highlight><bold>401</bold></highlight>, <highlight><bold>406</bold></highlight>, <highlight><bold>417</bold></highlight> and <highlight><bold>416</bold></highlight> are performed in conjunction with the reception of the second VCO pulse. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The following describes a situation, where at least three REF pulses are received first and then a VCO pulse to be compared, the phase difference between the reference signal and the signal to be compared being &gt;4&pgr;. On receiving the first reference pulse, UP control signal is turned on (reference numeral <highlight><bold>405</bold></highlight>). On receiving the second REF pulse, EXTUP control signal is also turned on (reference numeral <highlight><bold>415</bold></highlight>). ORUP control signal is turned on (reference numerals <highlight><bold>401</bold></highlight>, <highlight><bold>402</bold></highlight>, <highlight><bold>414</bold></highlight>, <highlight><bold>418</bold></highlight>, <highlight><bold>419</bold></highlight>) when the third or more REF pulse is received in the phase detector. ORUP control signal replaces UP control signal, because the input of both pulses is in an OR gate <highlight><bold>802</bold></highlight> in the charge pump <highlight><bold>800</bold></highlight>. Thus, as the phase difference exceeds 4&pgr;, at the output of the charge pump there will be a control voltage &plus;2Vmax, which comprises the sum of the voltages U<highlight><subscript>ORUP</subscript></highlight>(&plus;V<highlight><subscript>max</subscript></highlight>) and U<highlight><subscript>EXTUP</subscript></highlight>(&plus;V<highlight><subscript>max</subscript></highlight>). </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The following describes a situation, where the first pulse and the second pulse are received when the phase difference is less than 2&pgr;. The first received pulse is a VCO pulse to be compared and the second one is a REF pulse. In step <highlight><bold>401</bold></highlight>, it is examined which one of the pulses is received first. Because the received pulse is the VCO pulse to be compared, step <highlight><bold>406</bold></highlight> is proceeded to, where it is examined whether DOWN control signal is on. If not, step <highlight><bold>407</bold></highlight> is proceeded to, where it is examined whether UP control signal is on. If UP control signal is not on, step <highlight><bold>410</bold></highlight> is proceeded to, where it is examined whether EXTUP control signal is on. If EXTUP control signal is not on, step <highlight><bold>411</bold></highlight> is proceeded to, where DOWN control signal is turned on. In step <highlight><bold>401</bold></highlight>, the second pulse, which is now a REF pulse, is received, and the process proceeds to step <highlight><bold>402</bold></highlight>, where it is examined whether UP control signal is on. If UP control signal is not on, the process proceeds to step <highlight><bold>403</bold></highlight> to examine whether DOWN control signal is on. In this case, DOWN control signal is on, whereby step <highlight><bold>412</bold></highlight> is proceeded to, where UP control signal is turned on, whereafter step <highlight><bold>413</bold></highlight> is proceeded to, where both UP control signal and DOWN control signal are turned off. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows a block diagram of a frequency synthesizer of the invention, which frequency synthesizer is advantageously a fractional-N frequency synthesizer. The device <highlight><bold>500</bold></highlight> comprises a voltage controlled oscillator <highlight><bold>501</bold></highlight> (VCO) for generating an output signal. Said output signal is fed back to a divider <highlight><bold>506</bold></highlight>, which divides the signal by a suitable number, such as an integer or a fraction. The divider operations are controlled by control means <highlight><bold>507</bold></highlight>. The divided signal is received by the phase detector <highlight><bold>700</bold></highlight>, shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, which compares the phase of the divided feedback signal with the phase of a reference signal received from a reference oscillator <highlight><bold>502</bold></highlight>. Also the output signal from the reference oscillator can be divided by the divider <highlight><bold>508</bold></highlight> which is controlled by control means <highlight><bold>509</bold></highlight>. A control signal from the phase detector is applied to the charge pump <highlight><bold>800</bold></highlight>, shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, where a current pulse is generated, the magnitude of the current pulse corresponding to the detected phase difference. The current pulse is converted to control voltage in a loop filter <highlight><bold>505</bold></highlight>, from which said control voltage is further supplied to the voltage controlled oscillator for controlling the operating frequency of said voltage controlled oscillator by means of said control voltage. The function of the loop filter <highlight><bold>505</bold></highlight> is to filter out alternating current components from the output signal of the phase detector <highlight><bold>700</bold></highlight> and to provide a pure direct voltage for the control of the voltage controlled oscillator <highlight><bold>501</bold></highlight>. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The reference oscillator <highlight><bold>502</bold></highlight> provides a stable frequency reference, whose phase the phase detector <highlight><bold>700</bold></highlight> compares with the phase of the feedback signal received from VCO, and, by means of the charge pump <highlight><bold>800</bold></highlight> and the loop filter <highlight><bold>505</bold></highlight>, produces a control voltage for VCO, which control voltage is proportional to the phase difference. By means of the control voltage VCO changes its operating frequency to the direction where the phase difference of the signals arriving in the phase detector decreases. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The phase difference having been detected, the phase detector <highlight><bold>700</bold></highlight> transmits a signal to the charge pump <highlight><bold>800</bold></highlight>, which in response to the received signal generates a current pulse i, whose duration is the same as the time between the rise time starting moments of the signals to be compared. The current pulse polarity is positive or negative depending on which one of the signals is ahead of the other. For instance, if the reference signal is ahead of (or behind) VCO signal for an instant t, the phase detector sends a positive (or negative) current pulse to the charge pump. The standard charge pump receives a charge Q&equals;&plus;i*t (or Q&equals;&minus;i*t) and generates a positive (or negative) control voltage &plus;Vd (or &minus;Vd) and controls the frequency of VCO upward (or downward) as long as the output frequency of the divider <highlight><bold>506</bold></highlight> becomes the same as the reference frequency. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> shows a block diagram of a communication device according to the invention. The communication device <highlight><bold>600</bold></highlight> comprises output means <highlight><bold>611</bold></highlight> and input means <highlight><bold>613</bold></highlight> as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> for providing information, which means further comprise e.g. a display and a loudspeaker, by means of which the user can receive information in audiovisual form through the device or enter data in the communication device <highlight><bold>600</bold></highlight>. The communication device may also comprise a processor <highlight><bold>612</bold></highlight> for executing the operations of the communication device and a memory <highlight><bold>616</bold></highlight> e.g. for temporary storing of a received product code, means <highlight><bold>614</bold></highlight>, <highlight><bold>615</bold></highlight> for receiving information, further comprising one or more transceivers <highlight><bold>614</bold></highlight> and one or more antennae <highlight><bold>615</bold></highlight> for wireless short-range radio communication, such as Bluetooth communication, or for communicating with a mobile network, such as a GSM or GPRS mobile network. In addition, the communication device may comprise one or more applications <highlight><bold>617</bold></highlight> for implementing services or operations of the communication device <highlight><bold>600</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In addition, the communication device <highlight><bold>600</bold></highlight> comprises a voltage controlled oscillator <highlight><bold>601</bold></highlight> (VCO) for generating an output signal for the transceiver <highlight><bold>614</bold></highlight>. A reference oscillator <highlight><bold>602</bold></highlight> (RefO) generates a reference signal, which can be divided by a divider <highlight><bold>608</bold></highlight> that is controlled by control means <highlight><bold>609</bold></highlight>. The communication device comprises a phase detector <highlight><bold>700</bold></highlight> (PFD), shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, which compares the phase difference between said output signal and said reference signal, which phase difference is detected as a voltage pulse, which is received in the charge pump device <highlight><bold>800</bold></highlight>, shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, which further converts the voltage pulse to a constant current pulse. Said constant current pulse is filtered in a loop filter <highlight><bold>605</bold></highlight>, which further converts the charge of the constant current pulse to a control voltage of the voltage controlled oscillator <highlight><bold>601</bold></highlight>. The communication device <highlight><bold>600</bold></highlight> also comprises a divider <highlight><bold>606</bold></highlight> for dividing the frequency of the feedback signal from VCO and for forwarding it to the phase detector <highlight><bold>700</bold></highlight> and a frequency controller <highlight><bold>607</bold></highlight> for implementing said division. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows a phase detector <highlight><bold>700</bold></highlight> according to one embodiment of the invention. Input PRCLK (reference numeral <highlight><bold>701</bold></highlight>) receives a reference signal coming from the reference oscillator and input PVCLK (reference numeral <highlight><bold>702</bold></highlight>) receives a feedback signal from VCO. Both the reference signal and said feedback signal are advantageously signals in pulse form. After inputs <highlight><bold>701</bold></highlight> and <highlight><bold>702</bold></highlight> there are short delay components (reference numerals <highlight><bold>703</bold></highlight> and <highlight><bold>704</bold></highlight>), whose purpose is to prevent a reference pulse from being generated at UP or DOWN output (reference numerals <highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>) in a situation, where the range &lsqb;&minus;2&pgr;,2&pgr;&rsqb; is reverted to. At both outputs there are equal delays, so they do not affect the normal operation. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The delays are followed by first D flip-flops (reference numerals <highlight><bold>705</bold></highlight> and <highlight><bold>706</bold></highlight>). When a pulse arrives in their clock input, their output (UP, reference <highlight><bold>730</bold></highlight> /DOWN, reference <highlight><bold>731</bold></highlight>) rises up, because their data inputs D are always in a logic one. The output of NAND gate <highlight><bold>707</bold></highlight> between these flip-flops falls to zero when both UP and DOWN signals are up. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The NAND gate <highlight><bold>707</bold></highlight> is followed by two delay cells (reference numerals <highlight><bold>708</bold></highlight>, <highlight><bold>709</bold></highlight>). They provide a delay, which defines a minimum width for the output pulses of the phase detector and the charge pump. The delay cells are followed by two AND gates (reference numerals <highlight><bold>710</bold></highlight>, <highlight><bold>711</bold></highlight>). These gates are associated with a return to the range of &lsqb;&minus;2&pgr;, 2&pgr;&rsqb;. When the return is not taking place, their B inputs are up, whereby their A inputs directly define the state of their output Z. In other words, when a zero pulse from the delay cells (reference numerals <highlight><bold>708</bold></highlight>, <highlight><bold>709</bold></highlight>) arrives at these AND gates (reference numerals <highlight><bold>710</bold></highlight>, <highlight><bold>711</bold></highlight>), it goes right through and resets the D flip-flops <highlight><bold>705</bold></highlight> and <highlight><bold>706</bold></highlight>. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> The outputs of the first D flip-flops <highlight><bold>705</bold></highlight> and <highlight><bold>706</bold></highlight> are also connected, via OR gates (reference numerals <highlight><bold>712</bold></highlight>, <highlight><bold>713</bold></highlight>), to data inputs of subsequent D flip-flops (reference numerals <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight>). The clock signal of these subsequent flip-flops comes from the same source as that of the preceding flip-flops <highlight><bold>705</bold></highlight> and <highlight><bold>706</bold></highlight>. In the range of &lsqb;&minus;2&pgr;,2&pgr;&rsqb; the outputs of these flip-flops (<highlight><bold>705</bold></highlight>, <highlight><bold>706</bold></highlight>, <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight>) are at zero, whereby the state of the preceding flip-flops <highlight><bold>705</bold></highlight>, <highlight><bold>706</bold></highlight> goes right through the OR gates (reference numerals <highlight><bold>712</bold></highlight>, <highlight><bold>713</bold></highlight>). </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> When a pulse arrives in the clock input of the flip-flops <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight> and the output (UP/DOWN) of the preceding flip-flop <highlight><bold>705</bold></highlight>, <highlight><bold>706</bold></highlight> is up, it means that two pulses have arrived in succession to one input without a pulse arriving in the other input. Then, the output (EXTUP/EXTDOWN) of these subsequent flip-flops also rises up. Now, the A input of the OR gates <highlight><bold>712</bold></highlight>, <highlight><bold>713</bold></highlight> preceding these flipflops is up, whereby the data input of the flip-flops <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight> is all the time up. This is because in the range of &lsqb;2&pgr;,4&pgr;&rsqb; the output of the preceding flip-flops is normally down as the input pulse arrives because of the reset. Without the OR gate <highlight><bold>712</bold></highlight>, <highlight><bold>713</bold></highlight> the outputs of the subsequent flip-flops <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight> would return to zero, which is not desired. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> After the second flip-flops (<highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight>) there are also third flip-flops (reference numerals <highlight><bold>716</bold></highlight>, <highlight><bold>717</bold></highlight>), which operate in the same manner as the second flip-flops. They detect if 4&pgr; is exceeded. This takes place when the outputs of the first flip-flop <highlight><bold>705</bold></highlight> (<highlight><bold>706</bold></highlight> respectively) and the second flip-flop <highlight><bold>714</bold></highlight> (<highlight><bold>715</bold></highlight> respectively) are up and a clock pulse arrives. The AND gate (<highlight><bold>718</bold></highlight>, <highlight><bold>719</bold></highlight>) before them recognizes the situation where the previous flip-flops are up and the OR gate (<highlight><bold>720</bold></highlight>, <highlight><bold>721</bold></highlight>) is required for the same purpose as in the case of the second flip-flops. By means of them the output pulse <highlight><bold>734</bold></highlight>, <highlight><bold>735</bold></highlight> (ORUP/ORDOWN) remains up until it is separately reset. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The rest of the cells are associated with resetting. In this circuit, return to a normal range &lsqb;&minus;2&pgr;, 2&pgr;&rsqb; takes place when it is returned below to any multiple of 2&pgr;. In other words, if 2&pgr; is exceeded and EXTUP, for instance, is up, a return to normal takes place if VCO pulse arrives prior to REF pulse. This applies also if 4&pgr;, 6&pgr; or 8&pgr;, etc., are exceeded. It means that any time the direction of the reference pulses changes, a return has been made below a multiple of 2&pgr; (or above a multiple of &minus;2&pgr;). In this circuit solution, the normal range &lsqb;&minus;2&pgr;,2&pgr;&rsqb; is then returned to. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> The change in the directions of the reference pulses is detected when EXT output <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight> (EXTUP/EXTDOWN) is up, the corresponding reference output <highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight> (UP/DOWN) is down and a clock pulse arrives in the opposite input. In other words, if EXTUP is up, UP is down and a pulse arrives in VCO input, the direction has changed. AND gates (<highlight><bold>722</bold></highlight>, <highlight><bold>723</bold></highlight>), which follow the second flip-flops, detect if the preceding flip-flops are in above-described states. The clock inputs of the reset flip-flops (<highlight><bold>724</bold></highlight>, <highlight><bold>725</bold></highlight>) are connected to outputs opposite to those of the preceding flip-flops (<highlight><bold>705</bold></highlight>, <highlight><bold>706</bold></highlight> and <highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight>). The outputs of the flip-flops <highlight><bold>724</bold></highlight> and <highlight><bold>745</bold></highlight> are reset pulses of extended operation. First they are inverted with inverters <highlight><bold>726</bold></highlight> and <highlight><bold>727</bold></highlight> so as to obtain correct polarity. Then the pulses are applied to resets of the second (<highlight><bold>714</bold></highlight>, <highlight><bold>715</bold></highlight>) and the third (<highlight><bold>716</bold></highlight>, <highlight><bold>717</bold></highlight>) flip-flops and also to the opposite first flip-flops (<highlight><bold>705</bold></highlight>, <highlight><bold>706</bold></highlight>) through the above-mentioned AND gates (<highlight><bold>710</bold></highlight>, <highlight><bold>711</bold></highlight>). This opposite first flip-flop has to be reset, because the arrived pulse handled the reset, i.e. it removed constant current from the opposite branch, and consequently reference current is no longer needed. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The circuit comprises yet one more set of delay cells (<highlight><bold>728</bold></highlight>, <highlight><bold>729</bold></highlight>), in which the pulse arrives from the last reset flip-flops through the inverters (<highlight><bold>726</bold></highlight>, <highlight><bold>727</bold></highlight>) and passes further to reset these reset flip-flops. The delay is required so that the length of the reset pulse is sufficient for resetting the reset flip-flops. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows a charge pump device <highlight><bold>800</bold></highlight> according to the invention. The charge pump device comprises inputs <highlight><bold>830</bold></highlight>, <highlight><bold>831</bold></highlight>, <highlight><bold>832</bold></highlight>, <highlight><bold>833</bold></highlight>, <highlight><bold>834</bold></highlight> and <highlight><bold>835</bold></highlight> for receiving current pulses from the corresponding outputs <highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>, <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight>, <highlight><bold>734</bold></highlight> and <highlight><bold>735</bold></highlight> of the phase detector <highlight><bold>700</bold></highlight>. The inputs <highlight><bold>830</bold></highlight> and <highlight><bold>834</bold></highlight> are controlled to inputs A and B of the OR gate <highlight><bold>802</bold></highlight>, and output Z of said gate is controlled to a charge pump <highlight><bold>804</bold></highlight>. The input <highlight><bold>832</bold></highlight> is controlled to a charge pump <highlight><bold>806</bold></highlight> and the input <highlight><bold>833</bold></highlight> is controlled to a charge pump <highlight><bold>807</bold></highlight>. The inputs <highlight><bold>831</bold></highlight> and <highlight><bold>835</bold></highlight> are controlled to the inputs A and B of the OR gate <highlight><bold>803</bold></highlight> and the output Z of said gate is controlled to a charge pump <highlight><bold>805</bold></highlight>. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> The charge pumps <highlight><bold>804</bold></highlight> and <highlight><bold>805</bold></highlight> generate a control voltage VOUT when the phase difference between the signals to be compared is 0-2&pgr;. The charge pump <highlight><bold>804</bold></highlight> generates a positive control voltage at the output VOUT <highlight><bold>801</bold></highlight> in response to the signal of inputs <highlight><bold>830</bold></highlight> or <highlight><bold>834</bold></highlight>. The charge pump <highlight><bold>805</bold></highlight> generates a negative control voltage at the output VOUT <highlight><bold>801</bold></highlight> in response to the signal of inputs <highlight><bold>831</bold></highlight> or <highlight><bold>835</bold></highlight>. The charge pump <highlight><bold>806</bold></highlight> generates a positive control voltage at the output VOUT <highlight><bold>801</bold></highlight> in response to the signal of input <highlight><bold>832</bold></highlight>. The charge pump <highlight><bold>807</bold></highlight> generates a negative control voltage at the output VOUT <highlight><bold>801</bold></highlight> in response to the signal of input <highlight><bold>833</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> The implementation and embodiments of the invention are described here by means of examples. It is apparent to a person skilled in the art that the invention is not restricted to the details of the above-described embodiments and that the invention can be implemented in a variety of ways without deviating from the characteristics of the invention. The described embodiments should be regarded as illustrative, not restrictive. The implementation and applications of the invention are only restricted by the accompanying claims. Thus, the various implementation alternatives of the invention defined in the claims, also equivalent implementations, are within the scope of the invention. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for reducing cycle slips in a frequency synthesizer, the frequency synthesizer comprising a voltage controlled oscillator for generating an output signal frequency, a divider for dividing said output signal into a signal pulse to be compared, a reference oscillator for generating a reference signal pulse and means for generating control voltage for the voltage controlled oscillator in response to a detected phase difference, which phase difference is the phase difference between the signal pulse to be compared and the reference signal pulse, and the method comprising the steps of 
<claim-text>receiving a first first-type signal pulse, the first-type signal pulse being either said reference signal pulse or said signal pulse to be compared, </claim-text>
<claim-text>receiving a second second-type signal pulse, the second-type signal pulse being either said reference signal pulse or said signal pulse to be compared but of a different type than said first signal pulse, </claim-text>
<claim-text>generating control voltage for controlling the voltage controlled oscillator in response to a phase difference between said first signal pulse and said second signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, </claim-text>
<claim-text>increasing the control voltage for a degree of constant voltage at a time instant between the reception of said first signal pulse and said second signal pulse, on receiving also a third signal pulse, which is of the first type, wherein in the method, </claim-text>
<claim-text>after reception of said second signal pulse, before reception of a fourth signal pulse, which fourth signal pulse is of the first type, said control voltage is reduced for a degree of said constant voltage, on receiving at least one fifth signal pulse, which is of said second type. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized by also receiving at least one sixth signal pulse at a time instant between the reception of said first-type signal pulse and said second-type signal pulse, which sixth signal pulse is of said first type, and prior to adding said constant-degree voltage to said control voltage, the control voltage value is increased to its maximum and said control voltage is further increased for a degree of a constant voltage. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein after the reception of said second signal pulse, before the reception of said fourth signal pulse, at least one seventh signal pulse is received, which is of said second type, and said added constant-degree voltage is reduced from said control voltage, and the maximum voltage is changed into a control voltage dependent on said phase difference. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said control voltage maximum value is equal to the control voltage to be generated when the phase difference is 2&pgr;. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein said constant-degree voltage is equal to the control voltage to be generated when the phase difference is 2&pgr;. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein said change in the control voltage value into the maximum value of the control voltage is implemented by converting the control current to a constant current. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein said constant voltage addition is implemented by adding the constant current to said control current forming the control voltage. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A method as claimed in <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein said constant current is equal to the control current to be generated when the phase difference is 2&pgr;. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A device (<highlight><bold>500</bold></highlight>) for reducing cycle slips resulting from frequency hops in a communication device (<highlight><bold>600</bold></highlight>), which device (<highlight><bold>500</bold></highlight>) comprises a voltage controlled oscillator (<highlight><bold>501</bold></highlight>) for generating an output signal frequency, a divider (<highlight><bold>506</bold></highlight>) for dividing said output signal into a signal pulse to be compared, a reference oscillator (<highlight><bold>502</bold></highlight>) for generating a reference signal pulse, and a device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) comprises means (<highlight><bold>701</bold></highlight> to <highlight><bold>710</bold></highlight>, <highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>, <highlight><bold>830</bold></highlight>, <highlight><bold>831</bold></highlight>, <highlight><bold>801</bold></highlight> to <highlight><bold>805</bold></highlight>) for generating control voltage for the voltage controlled oscillator (<highlight><bold>510</bold></highlight>) in response to a detected phase difference, the phase difference being a phase difference between the signal pulse to be compared and the reference signal pulse, and the device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) comprises 
<claim-text>receiving means (<highlight><bold>701</bold></highlight> to <highlight><bold>711</bold></highlight>) for receiving a first first-type signal pulse, the first signal pulse being either said reference signal pulse or said signal pulse to be compared, </claim-text>
<claim-text>receiving means (<highlight><bold>701</bold></highlight> to <highlight><bold>711</bold></highlight>) for receiving a second second-type signal pulse, the second signal pulse being either said reference signal pulse or said signal pulse to be compared but of a different type than said first signal pulse, </claim-text>
<claim-text>generating means (<highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>, <highlight><bold>830</bold></highlight>, <highlight><bold>831</bold></highlight>, <highlight><bold>801</bold></highlight> to <highlight><bold>805</bold></highlight>) for generating control voltage to control the voltage controlled oscillator (<highlight><bold>501</bold></highlight>) in response to a phase difference between said first received signal pulse and said second received signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, </claim-text>
<claim-text>adding means (<highlight><bold>712</bold></highlight> to <highlight><bold>715</bold></highlight>, <highlight><bold>718</bold></highlight>, <highlight><bold>719</bold></highlight>, <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight>, <highlight><bold>832</bold></highlight>, <highlight><bold>833</bold></highlight>, <highlight><bold>801</bold></highlight>, <highlight><bold>806</bold></highlight>, <highlight><bold>807</bold></highlight>) for adding a constant-degree voltage to said control voltage at a time instant between the reception of said first signal pulse and said second signal pulse, on receiving also one third signal pulse, which is of said first type, wherein the device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) further comprises 
<claim-text>removing means (<highlight><bold>712</bold></highlight> to <highlight><bold>715</bold></highlight>, <highlight><bold>718</bold></highlight>, <highlight><bold>719</bold></highlight>, <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight>, <highlight><bold>832</bold></highlight>, <highlight><bold>833</bold></highlight>, <highlight><bold>801</bold></highlight>, <highlight><bold>806</bold></highlight>, <highlight><bold>807</bold></highlight>) for reducing said constant-degree voltage from said control voltage after the reception of said second signal pulse, before the reception of a fourth signal pulse, which is of said first type, on receiving at least one fifth signal pulse, which is of said second type. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A device as claimed in <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein said device also comprises changing means for increasing said control voltage value to the maximum of said control voltage. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A device as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein said changing means are implemented to change said control voltage at a time instant between the reception of said first-type signal pulse and said second-type signal pulse on receiving additionally at least one sixth signal pulse, which is of said first type. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A device as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein said changing means are also implemented to increase said control voltage for said constant-degree voltage. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A device as claimed in <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein said removing means are also implemented to reduce said constant voltage from said control voltage and to change said control voltage from said maximum voltage to a voltage dependent on said phase difference. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A device as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference> and <highlight><bold>13</bold></highlight>, wherein said device is a frequency synthesizer. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A wireless communication device (<highlight><bold>600</bold></highlight>) comprising a device (<highlight><bold>500</bold></highlight>) for reducing cycle slips resulting from frequency hops in said communication device (<highlight><bold>600</bold></highlight>), which device (<highlight><bold>500</bold></highlight>) comprises a voltage controlled oscillator (<highlight><bold>501</bold></highlight>) for generating an output signal frequency, a divider (<highlight><bold>506</bold></highlight>) for dividing said output signal into a signal pulse to be compared, a reference oscillator (<highlight><bold>502</bold></highlight>) for generating a reference signal pulse, and the device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) comprises means (<highlight><bold>701</bold></highlight> to <highlight><bold>710</bold></highlight>, <highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>, <highlight><bold>830</bold></highlight>, <highlight><bold>831</bold></highlight>, <highlight><bold>801</bold></highlight> to <highlight><bold>805</bold></highlight>) for generating a control voltage for the voltage controlled oscillator (<highlight><bold>510</bold></highlight>) in response to a detected phase difference, the phase difference being a phase difference between the signal pulse to be compared and the reference signal pulse, and the device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) comprises 
<claim-text>receiving means (<highlight><bold>701</bold></highlight> to <highlight><bold>711</bold></highlight>) for receiving a first signal pulse, the first signal pulse being either said reference signal pulse or said signal pulse to be compared, </claim-text>
<claim-text>receiving means (<highlight><bold>701</bold></highlight> to <highlight><bold>711</bold></highlight>) for receiving a second signal pulse, the second signal pulse being either said reference signal pulse or said signal pulse to be compared and of a different type than said first signal pulse, </claim-text>
<claim-text>generating means (<highlight><bold>730</bold></highlight>, <highlight><bold>731</bold></highlight>, <highlight><bold>830</bold></highlight>, <highlight><bold>831</bold></highlight>, <highlight><bold>801</bold></highlight> to <highlight><bold>805</bold></highlight>) for generating a control voltage for controlling the voltage controlled oscillator in response to a phase difference between said first signal pulse and said second signal pulse, the magnitude of the phase difference being within the range of 0 to 2&pgr;, </claim-text>
<claim-text>adding means (<highlight><bold>712</bold></highlight> to <highlight><bold>715</bold></highlight>, <highlight><bold>718</bold></highlight>, <highlight><bold>719</bold></highlight>, <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight>, <highlight><bold>832</bold></highlight>, <highlight><bold>833</bold></highlight>, <highlight><bold>801</bold></highlight>, <highlight><bold>806</bold></highlight>, <highlight><bold>807</bold></highlight>) for adding a constant-degree voltage to said control voltage at a time instant between the reception of the said first signal pulse and said second signal pulse on receiving also a third signal pulse, which is of said first type, wherein the device (<highlight><bold>700</bold></highlight>, <highlight><bold>800</bold></highlight>) further comprises 
<claim-text>removing means (<highlight><bold>712</bold></highlight> to <highlight><bold>715</bold></highlight>, <highlight><bold>718</bold></highlight>, <highlight><bold>719</bold></highlight>, <highlight><bold>732</bold></highlight>, <highlight><bold>733</bold></highlight>, <highlight><bold>832</bold></highlight>, <highlight><bold>833</bold></highlight>, <highlight><bold>801</bold></highlight>, <highlight><bold>806</bold></highlight>, <highlight><bold>807</bold></highlight>) for reducing said constant-degree voltage from said control voltage after the reception of said second signal pulse, before the reception of a fourth signal pulse, which is of said first type, on receiving at least one fifth signal pulse, which is of said second type.</claim-text>
</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>5</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001681A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001681A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001681A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001681A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001681A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001681A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001681A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001681A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001681A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001681A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001681A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
