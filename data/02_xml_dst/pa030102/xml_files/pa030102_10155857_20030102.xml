<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001746A1-20030102-D00000.TIF SYSTEM "US20030001746A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00001.TIF SYSTEM "US20030001746A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00002.TIF SYSTEM "US20030001746A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00003.TIF SYSTEM "US20030001746A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00004.TIF SYSTEM "US20030001746A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00005.TIF SYSTEM "US20030001746A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00006.TIF SYSTEM "US20030001746A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00007.TIF SYSTEM "US20030001746A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00008.TIF SYSTEM "US20030001746A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00009.TIF SYSTEM "US20030001746A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001746A1-20030102-D00010.TIF SYSTEM "US20030001746A1-20030102-D00010.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001746</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10155857</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020524</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G08B017/10</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>340</class>
<subclass>630000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>340</class>
<subclass>514000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Self-diagnostic smoke detector</title-of-invention>
</technical-information>
<continuity-data>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>10155857</doc-number>
<kind-code>A1</kind-code>
<document-date>20020524</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09366469</doc-number>
<document-date>19990803</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6396405</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>09366469</doc-number>
<document-date>19990803</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09170174</doc-number>
<document-date>19981013</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-of>
</continuations>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>09170174</doc-number>
<document-date>19981013</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>08696304</doc-number>
<document-date>19960813</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>5821866</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>08696304</doc-number>
<document-date>19960813</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>08110131</doc-number>
<document-date>19930819</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>5546074</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Brian</given-name>
<middle-name>Andrew</middle-name>
<family-name>Bernal</family-name>
</name>
<residence>
<residence-us>
<city>Portland</city>
<state>OR</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Robert</given-name>
<middle-name>Gerard</middle-name>
<family-name>Fischette</family-name>
</name>
<residence>
<residence-us>
<city>Portland</city>
<state>OR</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Kirk</given-name>
<middle-name>Rodney</middle-name>
<family-name>Johnson</family-name>
</name>
<residence>
<residence-us>
<city>Vancouver</city>
<state>WA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Douglas</given-name>
<middle-name>Henry</middle-name>
<family-name>Marman</family-name>
</name>
<residence>
<residence-us>
<city>Ridgefield</city>
<state>WA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>STOEL RIVES LLP</name-1>
<name-2></name-2>
<address>
<address-1>900 SW FIFTH AVENUE</address-1>
<address-2>SUITE 2600</address-2>
<city>PORTLAND</city>
<state>OR</state>
<postalcode>97204</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A self-contained smoke detector system has internal self-diagnostic capabilities and accepts a replacement smoke intake canopy (<highlight><bold>14</bold></highlight>) without a need for recalibration. The system includes a microprocessor-based self-diagnostic circuit (<highlight><bold>200</bold></highlight>) that periodically checks sensitivity of the optical sensor electronics (<highlight><bold>24, 28</bold></highlight>) to smoke obscuration level. By setting tolerance limits on the amount of change in voltage measured in clean air, the system can provide an indication of when it has become either under-sensitive or over-sensitive to the ambient smoke obscuration level. An algorithm implemented in software stored in system memory (<highlight><bold>204</bold></highlight>) determines whether and provides an indication that for a time (such as 27 hours) the clean air voltage has strayed outside established sensitivity tolerance limits. The replaceable canopy is specially designed with multiple pegs (<highlight><bold>80</bold></highlight>) having multi-faceted surfaces (<highlight><bold>110, 112, 114</bold></highlight>). The pegs are angularly spaced about the periphery in the interior of the canopy to function as an optical block for external light infiltrating through the porous side surface (<highlight><bold>64</bold></highlight>) of the canopy and to minimize spurious light reflections from the interior of the smoke detector system housing (<highlight><bold>10</bold></highlight>) toward a light sensor photodiode (<highlight><bold>28</bold></highlight>). The pegs are positioned and designed also to form a labyrinth of passageways (<highlight><bold>116</bold></highlight>) that permit smoke to flow freely through the interior of the housing. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This is a division of application Ser. No. 09/366,469, filed Aug. 3, 1999, which is a continuation of application No. 09/170,174, filed Oct. 13, 1998, now U.S. Pat. No. 5,936,533, which is a division of application Ser. No. 08/696,304, filed Aug. 13, 1996, now U.S. Pat. No. 5,821,866, which is a division of application Ser. No. 08/110,131, filed Aug. 19, 1993, now U.S. Pat. No. 5,546,074.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to smoke detector systems and, in particular, to a smoke detector system that has internal self-diagnostic capabilities and needs no recalibration upon replacement of its smoke intake canopy. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> A photoelectric smoke detector system measures the ambient smoke conditions of a confined space and activates an alarm in response to the presence of unacceptably high amounts of smoke. This is accomplished by installing in a housing covered by a smoke intake canopy a light-emitting device (&ldquo;emitter&rdquo;) and a light sensor (&ldquo;sensor&rdquo;) positioned in proximity to measure the amount of light transmitted between them. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> A first type of smoke detector system positions the emitter and sensor so that their lines of sight are collinear. The presence of increasing amounts of smoke increases the attenuation of light passing between the emitter and the sensor. Whenever the amount of light striking the sensor drops below a minimum threshold, the system activates an alarm. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> A second type of smoke detector system positions the emitter and sensor so that their lines of sight are offset at a sufficiently large angle that very little light propagating from the emitter directly strikes the sensor. The presence of increasing amounts of smoke increases the amount of light scattered toward and striking the sensor. Whenever the amount of light striking the sensor increases above a maximum threshold, the system activates an alarm. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Because they cooperate to measure the presence of light and determine whether it exceeds a threshold amount, the emitter and sensor need initial calibration and periodic testing to ensure their optical response characteristics are within the nominal limits specified. Currently available smoke detector systems suffer from the disadvantage of requiring periodic inspection of system hardware and manual adjustment of electrical components to carry out a calibration sequence. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The canopy covering the emitter and sensor is an important hardware component that has two competing functions to carry out. The canopy must act as an optical block for outside light but permit adequate smoke particle intake and flow into the interior of the canopy for interaction with the emitter and sensor. The canopy must also be constructed to prevent the entry of insects and dust, both of which can affect the optical response of the system and its ability to respond to a valid alarm condition. The interior of the canopy should be designed so that secondary reflections of light occurring within the canopy are either directed away from the sensor and out of the canopy or absorbed before they can reach the sensor. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> An object of the invention is, therefore, to provide a smoke detector system that is capable of performing self-diagnostic functions to determine whether it is within its calibration limits and thereby to eliminate a need for periodic manual calibration testing. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Another object of the invention is to provide such a system that accepts a replacement smoke intake canopy without requiring recalibration. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> A further object of the invention is to provide for such a system a replaceable smoke intake canopy that functions as an optical block for externally infiltrating and internally reflected light and that minimally impedes the flow of smoke particles to the emitter and sensor. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The present invention is a self-contained smoke detector system that has internal self-diagnostic capabilities and accepts a replacement smoke intake canopy without a need for recalibration. A preferred embodiment includes a light-emitting diode (&ldquo;LED&rdquo;) as the emitter and a photodiode sensor. The LED and photodiode are positioned and shielded so that the absence of smoke results in the photodiode&apos;s receiving virtually no light emitted by the LED and the presence of smoke results in the scattering of light emitted by the LED toward the photodiode. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The system includes a microprocessor-based self-diagnostic circuit that periodically checks the sensitivity of the optical sensor electronics to smoke obscuration level. There is a direct correlation between a change in the clean air voltage output of the photodiode and its sensitivity to the smoke obscuration level. Thus, by setting tolerance limits on the amount of change in voltage measured in clean air, the system can provide an indication of when it has become either under-sensitive or over-sensitive to the ambient smoke obscuration level. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The system samples the amount of smoke present by periodically energizing the LED and then determining the smoke obscuration level. An algorithm implemented in software stored in system memory determines whether for a time (such as 27 hours) the clean air voltage is outside established sensitivity tolerance limits. Upon determination of an under- or over-sensitivity condition, the system provides an indication that a problem exists with the optical sensor electronics. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The LED and photodiode reside in a compact housing having a replaceable smoke intake canopy of preferably cylindrical shape with a porous side surface. The canopy is specially designed with multiple pegs having multi-faceted surfaces. The pegs are angularly spaced about the periphery in the interior of the canopy to function as an optical block for external light infiltrating through the porous side surface of the canopy and to minimize spurious light reflections from the interior of the housing toward the photodiode. This permits the substitution of a replacement canopy of similar design without the need to recalibrate the optical sensor electronics previously calibrated during installation at the factory. The pegs are positioned and designed also to form a labyrinth of passageways that permit smoke to flow freely through the interior of the housing. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Additional objects and advantages of the present invention will be apparent from the following detailed description of a preferred embodiment thereof, which proceeds with reference to the accompanying drawings.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a side elevation view of the assembled housing for the smoke detector system of the present invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is an isometric view of the housing of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> with its replaceable smoke intake canopy and base disassembled to show the placement of the optical components in the base. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is plan view of the base shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4A and 4B</cross-reference> are isometric views taken at different vantage points of the interior of the canopy shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a plan view of the interior of the canopy shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flow diagram showing the steps performed in the factory during calibration of the smoke detector system. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a graph of the optical sensor electronics sensitivity, which is expressed as a linear relationship between the level of obscuration and sensor output voltage. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a general block diagram of the microprocessor-based circuit that implements the self-diagnostic and calibration functions of the smoke detector system. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a block diagram showing in greater detail the variable integrating analog-to-digital converter shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a flow diagram showing the self-diagnosis steps carried out by the optical sensor electronics shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF A PREFERRED EMBODIMENT </heading>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> FIGS. <highlight><bold>1</bold></highlight>-<highlight><bold>5</bold></highlight> show a preferred embodiment of a smoke detector system housing <highlight><bold>10</bold></highlight> that includes a circular base <highlight><bold>12</bold></highlight> covered by a removable smoke intake canopy <highlight><bold>14</bold></highlight> of cylindrical shape. Base <highlight><bold>12</bold></highlight> and canopy <highlight><bold>14</bold></highlight> are formed of molded plastic whose color is black so as to absorb light incident to it. A pair of diametrically opposed clasps <highlight><bold>16</bold></highlight> extend from base <highlight><bold>12</bold></highlight> and fit over a snap ring <highlight><bold>18</bold></highlight> encircling the rim of canopy <highlight><bold>14</bold></highlight> to hold it and base <highlight><bold>12</bold></highlight> together to form a low profile, unitary housing <highlight><bold>10</bold></highlight>. Housing <highlight><bold>10</bold></highlight> has pins <highlight><bold>19</bold></highlight> that fit into holes in the surface of a circuit board (not shown) that holds the electronic components of the smoke detector system. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> With particular reference to <cross-reference target="DRAWINGS">FIGS. 2 and 3</cross-reference>, base <highlight><bold>12</bold></highlight> has an inner surface <highlight><bold>20</bold></highlight> that supports an emitter holder <highlight><bold>22</bold></highlight> for a light-emitting diode (LED) <highlight><bold>24</bold></highlight> and a sensor holder <highlight><bold>26</bold></highlight> for a photodiode <highlight><bold>28</bold></highlight>. LED <highlight><bold>24</bold></highlight> and photodiode <highlight><bold>28</bold></highlight> are angularly positioned on inner surface <highlight><bold>20</bold></highlight> near the periphery of base <highlight><bold>12</bold></highlight> so that the lines of sight <highlight><bold>30</bold></highlight> and <highlight><bold>32</bold></highlight> of the respective LED <highlight><bold>24</bold></highlight> and photodiode <highlight><bold>28</bold></highlight> intersect to form an obtuse angle <highlight><bold>34</bold></highlight> whose vertex is near the center of base <highlight><bold>12</bold></highlight>. Angle <highlight><bold>34</bold></highlight> is preferably about 120&deg;. Light-blocking fins <highlight><bold>36</bold></highlight> and <highlight><bold>38</bold></highlight> positioned between LED <highlight><bold>24</bold></highlight> and photodiode <highlight><bold>28</bold></highlight> and a light shield <highlight><bold>40</bold></highlight> covering both sides of photodiode <highlight><bold>28</bold></highlight> ensure that light emitted by LED <highlight><bold>24</bold></highlight> in a clean air environment does not reach photodiode <highlight><bold>28</bold></highlight>. Together with light shield <highlight><bold>40</bold></highlight>, a pair of posts <highlight><bold>44</bold></highlight> extending upwardly from either side of emitter holder <highlight><bold>22</bold></highlight> guide the positioning of canopy <highlight><bold>14</bold></highlight> over base <highlight><bold>12</bold></highlight> during assembly of housing <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> With particular reference to <cross-reference target="DRAWINGS">FIGS. 4A, 4B</cross-reference>, and <highlight><bold>5</bold></highlight>, canopy <highlight><bold>14</bold></highlight> includes a circular top member <highlight><bold>62</bold></highlight> from which a porous side member <highlight><bold>64</bold></highlight> depends to define the periphery and interior of canopy <highlight><bold>14</bold></highlight> and of the assembled housing <highlight><bold>10</bold></highlight>. The diameter of top member <highlight><bold>62</bold></highlight> is the same as that of base <highlight><bold>12</bold></highlight>. Side member <highlight><bold>64</bold></highlight> includes a large number of ribs <highlight><bold>66</bold></highlight> angularly spaced apart around the periphery of and disposed perpendicularly to the inner surface <highlight><bold>68</bold></highlight> of top member <highlight><bold>62</bold></highlight> to define a slitted surface. A set of spaced-apart rings <highlight><bold>70</bold></highlight> positioned along the lengths of ribs <highlight><bold>66</bold></highlight> encircle the slitted surface defined by ribs <highlight><bold>66</bold></highlight> to form a large number of small rectangular apertures <highlight><bold>72</bold></highlight>. The placement of ribs <highlight><bold>66</bold></highlight> and rings <highlight><bold>70</bold></highlight> provides side member <highlight><bold>64</bold></highlight> with a porous surface that serves as a smoke intake filter and a molded-in screen that prevents insects from entering housing <highlight><bold>10</bold></highlight> and interfering with the operation of LED <highlight><bold>24</bold></highlight> and photodiode <highlight><bold>28</bold></highlight>. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Apertures <highlight><bold>72</bold></highlight> are of sufficient size that allows adequate smoke particle intake flow into housing <highlight><bold>10</bold></highlight>. The size of apertures <highlight><bold>72</bold></highlight> depends upon the angular spacing between adjacent ribs <highlight><bold>66</bold></highlight> and the number and spacing of rings <highlight><bold>70</bold></highlight>. In a preferred embodiment, a housing <highlight><bold>10</bold></highlight> having a 5.2 centimeter base and a 1.75 centimeter height has eighty-eight ribs angularly spaced apart by about 4&deg; and nine equidistantly spaced rings <highlight><bold>70</bold></highlight> to form 0.8 mm<highlight><superscript>2 </superscript></highlight>apertures <highlight><bold>72</bold></highlight>. The ring <highlight><bold>70</bold></highlight> positioned farthest from top member <highlight><bold>62</bold></highlight> constitutes snap ring <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The interior of canopy <highlight><bold>14</bold></highlight> contains an array of pegs <highlight><bold>80</bold></highlight> having multi-faceted surfaces. Pegs <highlight><bold>80</bold></highlight> are an integral part of canopy <highlight><bold>14</bold></highlight>, being formed during the molding process. Pegs <highlight><bold>80</bold></highlight> are angularly spaced about the periphery of canopy <highlight><bold>14</bold></highlight> so that their multi-faceted surfaces can perform several functions. Pegs <highlight><bold>80</bold></highlight> function as an optical block for external light infiltrating through porous side member <highlight><bold>64</bold></highlight> of canopy <highlight><bold>14</bold></highlight>, minimize spurious light reflections within the interior of housing <highlight><bold>10</bold></highlight> toward photodiode <highlight><bold>28</bold></highlight>, and form a labyrinth of passageways for smoke particles to flow freely through the interior of housing <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> Pegs <highlight><bold>80</bold></highlight> are preferably arranged in a first group <highlight><bold>82</bold></highlight> and a second group <highlight><bold>84</bold></highlight>. The pegs <highlight><bold>80</bold></highlight> of first group <highlight><bold>82</bold></highlight> are of smaller surface areas and are positioned nearer to center <highlight><bold>86</bold></highlight> of canopy <highlight><bold>14</bold></highlight> than are the pegs <highlight><bold>80</bold></highlight> of second group <highlight><bold>84</bold></highlight>. Thus, adjacent pegs <highlight><bold>80</bold></highlight> in second group <highlight><bold>84</bold></highlight> are separated by a recessed peg <highlight><bold>80</bold></highlight> in first group <highlight><bold>82</bold></highlight>. The pegs <highlight><bold>80</bold></highlight> of groups <highlight><bold>82</bold></highlight> and <highlight><bold>84</bold></highlight> are divided into two sets <highlight><bold>88</bold></highlight> and <highlight><bold>90</bold></highlight> that are separated by light shield caps <highlight><bold>92</bold></highlight> and <highlight><bold>94</bold></highlight>. Caps <highlight><bold>92</bold></highlight> and <highlight><bold>94</bold></highlight> mate with the upper surfaces of, respectively, emitter holder <highlight><bold>22</bold></highlight> of LED <highlight><bold>24</bold></highlight> and sensor holder <highlight><bold>26</bold></highlight> of photodiode <highlight><bold>28</bold></highlight> when housing <highlight><bold>10</bold></highlight> is assembled. Because of the obtuse angle <highlight><bold>34</bold></highlight> defined by lines of sight <highlight><bold>30</bold></highlight> and <highlight><bold>32</bold></highlight> of LED <highlight><bold>24</bold></highlight> and photodiode <highlight><bold>28</bold></highlight>, respectively, there are fewer pegs <highlight><bold>80</bold></highlight> in set <highlight><bold>88</bold></highlight> than in set <highlight><bold>90</bold></highlight>. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Although the pegs <highlight><bold>80</bold></highlight> in first group <highlight><bold>82</bold></highlight> have smaller surface areas than those of the pegs <highlight><bold>80</bold></highlight> in second group <highlight><bold>84</bold></highlight>, all of pegs <highlight><bold>80</bold></highlight> are of uniform height measured from top member <highlight><bold>62</bold></highlight> and have similar profiles. The following description is, therefore, given in general for a peg <highlight><bold>80</bold></highlight>. In the drawings, corresponding features of pegs <highlight><bold>80</bold></highlight> in first group <highlight><bold>82</bold></highlight> have the subscript &ldquo;1&rdquo; and in the second group <highlight><bold>84</bold></highlight> have the subscript &ldquo;2&rdquo;. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Each of pegs <highlight><bold>80</bold></highlight> is of elongated shape and has a larger pointed head section <highlight><bold>100</bold></highlight> and a smaller pointed tail section <highlight><bold>102</bold></highlight> whose respective apex <highlight><bold>104</bold></highlight> and apex <highlight><bold>106</bold></highlight> lie along the same radial line extending from center <highlight><bold>86</bold></highlight> of canopy <highlight><bold>14</bold></highlight>. Apex <highlight><bold>104</bold></highlight> of head section <highlight><bold>100</bold></highlight> is positioned nearer to side member <highlight><bold>64</bold></highlight>, and apex <highlight><bold>106</bold></highlight> of tail section <highlight><bold>102</bold></highlight> is positioned nearer to center <highlight><bold>86</bold></highlight> of canopy <highlight><bold>14</bold></highlight>. A medial portion <highlight><bold>108</bold></highlight> includes concave side surfaces <highlight><bold>110</bold></highlight> that taper toward the midpoint between apex <highlight><bold>104</bold></highlight> of head section <highlight><bold>100</bold></highlight> and apex <highlight><bold>106</bold></highlight> of tail section <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Head section <highlight><bold>100</bold></highlight> includes flat facets or sides <highlight><bold>112</bold></highlight> joined at apex <highlight><bold>104</bold></highlight>. The surface areas of sides <highlight><bold>112</bold></highlight> are selected collectively to block normally incident light entering apertures <highlight><bold>72</bold></highlight> from passing to the interior of housing <highlight><bold>10</bold></highlight>. In one embodiment, each side <highlight><bold>112</bold></highlight><highlight><subscript>1 </subscript></highlight>is 2.0 mm in length, and sides <highlight><bold>112</bold></highlight><highlight><subscript>1 </subscript></highlight>define a 105&deg; angle at apex <highlight><bold>104</bold></highlight><highlight><subscript>1</subscript></highlight>. Each side <highlight><bold>112</bold></highlight><highlight><subscript>2 </subscript></highlight>is 3.2 mm in length, and sides <highlight><bold>112</bold></highlight><highlight><subscript>2 </subscript></highlight>define a 105&deg; angle at apex <highlight><bold>104</bold></highlight><highlight><subscript>2</subscript></highlight>. Medial portions <highlight><bold>108</bold></highlight> of the proper length block passage of light not blocked by sides <highlight><bold>112</bold></highlight>. Light shield caps <highlight><bold>92</bold></highlight> and <highlight><bold>94</bold></highlight> and holders <highlight><bold>22</bold></highlight> and <highlight><bold>26</bold></highlight> block the passage of light in the places where pegs <highlight><bold>80</bold></highlight> are not present in canopy <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> Tail section <highlight><bold>102</bold></highlight> includes flat facets or sides <highlight><bold>114</bold></highlight> joined at apex <highlight><bold>106</bold></highlight>. The surface areas of sides <highlight><bold>114</bold></highlight> are selected to direct spurious light reflections occurring within housing <highlight><bold>10</bold></highlight> away from photodiode <highlight><bold>28</bold></highlight> and toward side member <highlight><bold>62</bold></highlight> for either absorption or passage outward through apertures <highlight><bold>72</bold></highlight>. In the same embodiment, each side <highlight><bold>114</bold></highlight><highlight><subscript>1 </subscript></highlight>is 1.9 mm in length, and sides <highlight><bold>114</bold></highlight><highlight><subscript>1 </subscript></highlight>define a 60&deg; angle at apex <highlight><bold>106</bold></highlight><highlight><subscript>1</subscript></highlight>. Each side <highlight><bold>114</bold></highlight><highlight><subscript>2 </subscript></highlight>is 1.8 mm in length, and sides <highlight><bold>114</bold></highlight><highlight><subscript>2 </subscript></highlight>define a 75&deg; angle at apex <highlight><bold>106</bold></highlight><highlight><subscript>2</subscript></highlight>. This function of tail sections <highlight><bold>102</bold></highlight> allows with the use of different canopies <highlight><bold>14</bold></highlight> the achievement of very uniform, low ambient level reflected radiation signals toward photodiode <highlight><bold>28</bold></highlight>. Canopy <highlight><bold>14</bold></highlight> can, therefore, be field replaceable and used as a spare part in the event of, for example, breakage, excessive dust build-up over apertures <highlight><bold>72</bold></highlight> causing reduced smoke infiltration, or excessive dust build-up on pegs <highlight><bold>80</bold></highlight> causing a higher than nominal clean air voltage. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> The amount of angular separation of adjacent pegs <highlight><bold>80</bold></highlight>, the positioning of a peg <highlight><bold>80</bold></highlight> of first group <highlight><bold>82</bold></highlight> between adjacent pegs <highlight><bold>80</bold></highlight> of second group <highlight><bold>84</bold></highlight>, and the length of medial portion <highlight><bold>108</bold></highlight> of pegs <highlight><bold>80</bold></highlight> define the shape of a labyrinth of passageways <highlight><bold>116</bold></highlight> through which smoke particles flow to and from apertures <highlight><bold>72</bold></highlight>. It is desirable to provide passageways <highlight><bold>116</bold></highlight> having as small angular deviations as possible so as to not impede smoke particle flow. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The smoke particles flowing through housing <highlight><bold>10</bold></highlight> reflect toward photodiode <highlight><bold>28</bold></highlight> the light emitted by LED <highlight><bold>24</bold></highlight>. The amount of light sensed by photodiode <highlight><bold>28</bold></highlight> is processed as follows by the electronic circuitry of the smoke detector system. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> The self-diagnostic capability of the smoke detector system of the invention stems from determining during calibration certain operating parameters of the optical sensor electronics. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flow diagram showing the steps performed during calibration in the factory. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> With reference to <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, process block <highlight><bold>150</bold></highlight> indicates in the absence of a simulated smoke environment the measurement of a clean air voltage that represents a 0 percent smoke obscuration level. In a preferred embodiment, the clean air voltage is 0.6 volt. Upper and lower tolerance threshold limits for the clean air voltage are also set at nominally &plusmn;42 percent of the clean air voltage measured at calibration. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Process block <highlight><bold>152</bold></highlight> indicates the adjustment of the gain of the optical sensor electronics. This is accomplished by placing housing <highlight><bold>10</bold></highlight> in a chamber filled with an aerosol spray to produce a simulated smoke environment at a calibrated level of smoke obscuration. The simulated smoke particles flow through apertures <highlight><bold>72</bold></highlight> of canopy <highlight><bold>14</bold></highlight> and reflect toward photodiode <highlight><bold>28</bold></highlight> a portion of the light emitted by LED <highlight><bold>24</bold></highlight>. Because the number of simulated smoke particles is constant, photodiode <highlight><bold>28</bold></highlight> produces a constant output voltage in response to the amount of light reflected. The gain of the optical sensor electronics is adjusted by varying the length of time they sample the output voltage of photodiode <highlight><bold>28</bold></highlight>. In a preferred embodiment, a variable integrating analog-to-digital converter, whose operation is described below with reference to <cross-reference target="DRAWINGS">FIGS. 8 and 9</cross-reference>, performs the gain adjustment by determining an integration time interval that produces an alarm voltage threshold of approximately 2.0 volts for a smoke obscuration level of 3.1 percent per foot. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Process block <highlight><bold>154</bold></highlight> indicates the determination of an alarm output voltage of photodiode <highlight><bold>28</bold></highlight> that produces an alarm signal indicative of the presence of an excessive number of smoke particles in a space where housing <highlight><bold>10</bold></highlight> has been placed. The alarm voltage of photodiode <highlight><bold>28</bold></highlight> is fixed and stored in an electrically erasable programmable read-only memory (EEPROM), whose function is described below with reference to <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Upon conclusion of the calibration process, the gain of the optical sensor electronics is set, and the alarm voltage and the clean air voltage and its upper and lower tolerance limit voltages are stored in the EEPROM. There is a linear relationship between the sensor output voltage and the level of obscuration, which relationship can be expressed as </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>y&equals;m*x&plus;b, </italic></highlight></in-line-formula></paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> where y represents the sensor output voltage, m represents the gain, and b represents the clean air voltage. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The gain is defined as the sensor output voltage per percent obscuration per foot; therefore, the gain is unaffected by a build-up of dust or other contaminants. This property enables the self-diagnostic capabilities implemented in the present invention. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The build-up of dust or other contaminants causes the ambient clean air voltage to rise above or fall below the nominal clean air voltage stored in the EEPROM. Whenever the clean air voltage measured by photodetector <highlight><bold>28</bold></highlight> rises, the smoke detector system becomes more sensitive in that it will produce an alarm signal at a smoke obscuration level that is less than the nominal value of 3.1 percent per foot. Conversely, whenever the clean air voltage measured by photodiode <highlight><bold>28</bold></highlight> falls below the clean air voltage measured at calibration, the smoke detector system will become less sensitive in that it will produce an alarm signal at a smoke obscuration level that is greater than the nominal value. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows that changes in the clean air voltage measured over time does not affect the gain of the optical sensor electronics. Straight lines <highlight><bold>160</bold></highlight>, <highlight><bold>162</bold></highlight>, and <highlight><bold>164</bold></highlight> represent, respectively, nominal, over-sensitivity, and under-sensitivity conditions. There is, therefore, a direct correlation between a change in clean air voltage and a change in sensitivity to an alarm condition. By setting tolerance limits on the amount of change in voltage measured in clean air, the smoke detector system can indicate when it has become under-sensitive or over-sensitive in its measurement of ambient smoke obscuration levels. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> To perform self-diagnosis to determine whether an under- or over-sensitivity condition or an alarm condition exists, the smoke detector system periodically samples the ambient smoke levels. To prevent short-term changes in clean air voltage that do not represent out-of-sensitivity indications, the present invention includes a microprocessor-based circuit that is implemented with an algorithm to determine whether the clean air voltage is outside of predetermined tolerance limits for a preferred period of approximately 27 hours. The microprocessor-based circuit and the algorithm implemented in it to perform self-diagnosis is described with reference to FIGS. <highlight><bold>8</bold></highlight>-<highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a general block diagram of a microprocessor-based circuit <highlight><bold>200</bold></highlight> in which the self-diagnostic functions of the smoke detector system are implemented. The operation of circuit <highlight><bold>200</bold></highlight> is controlled by a microprocessor <highlight><bold>202</bold></highlight> that periodically applies electrical power to photodiode <highlight><bold>28</bold></highlight> to sample the amount of smoke present. Periodic sampling of the output voltage of photodiode <highlight><bold>28</bold></highlight> reduces electrical power consumption. In a preferred embodiment, the output of photodiode <highlight><bold>28</bold></highlight> is sampled for 0.4 milliseconds every nine seconds. Microprocessor <highlight><bold>202</bold></highlight> processes the output voltage samples of photodiode <highlight><bold>28</bold></highlight> in accordance with instructions stored in an EEPROM <highlight><bold>204</bold></highlight> to determine whether an alarm condition exists or whether the optical electronics are within preassigned operational tolerances. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> Each of the output voltage samples of photodiode <highlight><bold>28</bold></highlight> is delivered through a sensor preamplifier <highlight><bold>206</bold></highlight> to a variable integrating analog-to-digital converter subcircuit <highlight><bold>208</bold></highlight>. Converter subcircuit <highlight><bold>208</bold></highlight> takes an output voltage sample and integrates it during an integration time interval set during the gain calibration step discussed with reference to process block <highlight><bold>152</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. Upon conclusion of each integration time interval, subcircuit <highlight><bold>208</bold></highlight> converts to a digital value the analog voltage representative of the photodetector output voltage sample taken. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Microprocessor <highlight><bold>202</bold></highlight> receives the digital value and compares it to the alarm voltage and sensitivity tolerance limit voltages established and stored in EEPROM <highlight><bold>204</bold></highlight> during calibration. The processing of the integrator voltages presented by subcircuit <highlight><bold>208</bold></highlight> is carried out by microprocessor <highlight><bold>202</bold></highlight> in accordance with an algorithm implemented as instructions stored in EEPROM <highlight><bold>204</bold></highlight>. The processing steps of this algorithm are described below with reference to <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. Microprocessor <highlight><bold>202</bold></highlight> causes continuous illumination of a visible light-emitting diode (LED) <highlight><bold>210</bold></highlight> to indicate an alarm condition and performs a manually operated self-diagnosis test in response to an operator&apos;s activation of a reed switch <highlight><bold>212</bold></highlight>. A clock oscillator <highlight><bold>214</bold></highlight> having a preferred output frequency of 500 kHz provides the timing standard for the overall operation of circuit <highlight><bold>200</bold></highlight>. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows in greater detail the components of variable integrating analog-to-digital converter subcircuit <highlight><bold>208</bold></highlight>. The following is a description of operation of converter subcircuit <highlight><bold>208</bold></highlight> with particular focus on the processing it carries out during calibration to determine the integration time interval. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> With reference to <cross-reference target="DRAWINGS">FIGS. 8 and 9</cross-reference>, preamplifier <highlight><bold>206</bold></highlight> conditions the output voltage samples of photodetector <highlight><bold>28</bold></highlight> and delivers them to a programmable integrator <highlight><bold>216</bold></highlight> that includes an input shift register <highlight><bold>218</bold></highlight>, an integrator up-counter <highlight><bold>220</bold></highlight>, and a dual-slope switched capacitor integrator <highlight><bold>222</bold></highlight>. During each 0.4 millisecond sampling period, an input capacitor of integrator <highlight><bold>222</bold></highlight> accumulates the voltage appearing across the output of preamplifier <highlight><bold>206</bold></highlight>. Integrator <highlight><bold>222</bold></highlight> then transfers the sample voltage acquired by the input capacitor to an output capacitor. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> At the start of each integration time interval, shift register <highlight><bold>218</bold></highlight> receives under control of microprocessor <highlight><bold>202</bold></highlight> an 8-bit serial digital word representing the integration time interval. The least significant bit corresponds to 9 millivolts, with 2.3 volts representing the full scale voltage for the 8-bit word. Shift register <highlight><bold>218</bold></highlight> provides as a preset to integrator up-counter <highlight><bold>220</bold></highlight> the complement of the integration time interval word. A 250 kHz clock produced at the output of a divide-by-two counter <highlight><bold>230</bold></highlight> driven by 500 kHz clock oscillator <highlight><bold>214</bold></highlight> causes integrator up-counter <highlight><bold>220</bold></highlight> to count up to zero from the complemented integration time interval word. The time during which up-counter <highlight><bold>220</bold></highlight> counts defines the integration time interval during which integrator <highlight><bold>222</bold></highlight> accumulates across an output capacitor an analog voltage representative of the photodetector output voltage sample acquired by the input capacitor. The value of the analog voltage stored across the output capacitor is determined by the output voltage of photodiode <highlight><bold>28</bold></highlight> and the number of counts stored in integrator counter <highlight><bold>220</bold></highlight>. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Upon completion of the integration time interval, integrator up-counter <highlight><bold>220</bold></highlight> stops counting at zero. An analog-to-digital converter <highlight><bold>232</bold></highlight> then converts to a digital value the analog voltage stored across the output capacitor of integrator <highlight><bold>222</bold></highlight>. Analog-to-digital converter <highlight><bold>232</bold></highlight> includes a comparator amplifier <highlight><bold>234</bold></highlight> that receives at its noninverting input the integrator voltage across the output capacitor and at its inverting input a reference voltage, which in the preferred embodiment is 300 millivolts, a system virtual ground. A comparator buffer amplifier <highlight><bold>236</bold></highlight> conditions the output of comparator <highlight><bold>234</bold></highlight> and provides a count enable signal to a conversion up-counter <highlight><bold>238</bold></highlight>, which begins counting up after integrator up-counter <highlight><bold>220</bold></highlight> stops counting at zero and continues to count up as long as the count enable signal is present. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> During analog to digital conversion, integrator <highlight><bold>222</bold></highlight> discharges the voltage across the output capacitor to a third capacitor while conversion up-counter <highlight><bold>238</bold></highlight> continues to count. Such counting continues until the integrator voltage across the output capacitor discharges below the &plus;300 millivolt threshold of comparator <highlight><bold>234</bold></highlight>, thereby causing the removal of the count enable signal. The contents of conversion up-counter <highlight><bold>238</bold></highlight> are then shifted to an output shift register <highlight><bold>240</bold></highlight>, which provides to microprocessor <highlight><bold>202</bold></highlight> an 8-bit serial digital word representative of the integrator voltage for processing in accordance with the mode of operation of the smoke detector system. Such modes of operation include calibration, in-service self-diagnosis, and self-test. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> During calibration, the smoke detector system determines the gain of the optical sensor electronics by substituting trial integration time interval words of different weighted values as presets to integrator up-counter <highlight><bold>220</bold></highlight> to obtain the integration time interval necessary to produce the desired alarm voltage for a known smoke obscuration level. As indicated by process block <highlight><bold>154</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 6, a</cross-reference> preferred desired alarm voltage of about 2.0 volts for a 3.1 percent per foot obscuration level is stored in EEPROM <highlight><bold>204</bold></highlight>. The output of photodiode <highlight><bold>28</bold></highlight> is a fixed voltage when housing <highlight><bold>10</bold></highlight> is placed in an aerosol spray chamber that produces the 3.1 percent per foot obscuration level representing the alarm condition. Because different photodiodes <highlight><bold>28</bold></highlight> differ somewhat in their output voltages, determining the integration time interval that produces an integrator voltage equal to the alarm voltage sets the gain of the system. Thus, different counting time intervals for integrator up-counter <highlight><bold>220</bold></highlight> produce different integrator voltages stored in shift register <highlight><bold>240</bold></highlight>. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The process of providing trial integration time intervals to shift register <highlight><bold>218</bold></highlight> and integrator up-counter <highlight><bold>220</bold></highlight> during calibration can be accomplished using a microprocessor emulator with the optical sensor electronics placed in the aerosol spray chamber. Gain calibration is complete upon determination of an integration time interval word that produces in shift register <highlight><bold>240</bold></highlight> an 8-bit digital word corresponding to the alarm voltage. The integration time interval word is stored in EEPROM <highlight><bold>204</bold></highlight> as the gain factor. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> It will be appreciated that the slope of the integration time interval changes during acquisition of output voltage samples for different optical sensors but that the final magnitude of the output voltage of integrator <highlight><bold>222</bold></highlight> is dependent upon the input voltage and integration time. The slope of the analog-to-digital conversion is, however, always the same. This is the reason why integrator <highlight><bold>222</bold></highlight> is designated as being of a dual-slope type. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a flow diagram showing the self-diagnosis processing steps the smoke detector system carries out during in-service operation. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> With reference to FIGS. <highlight><bold>8</bold></highlight>-<highlight><bold>10</bold></highlight>, process block <highlight><bold>250</bold></highlight> indicates that during in-service operation, microprocessor <highlight><bold>202</bold></highlight> causes application of electrical power to LED <highlight><bold>24</bold></highlight> in intervals of 9 seconds to sample its output voltage over the previously determined integration time interval stored in EEPROM <highlight><bold>204</bold></highlight>. The sampling of every 9 seconds reduces the steady-state electrical power consumed by circuit <highlight><bold>100</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> Process block <highlight><bold>252</bold></highlight> indicates that after each integration time interval, microprocessor <highlight><bold>202</bold></highlight> reads the just acquired integrator voltage stored in output shift register <highlight><bold>240</bold></highlight>. Process block <highlight><bold>254</bold></highlight> indicates the comparison by microprocessor <highlight><bold>202</bold></highlight> of the acquired integrator voltage against the alarm voltage and against the upper and lower tolerance limits of the clean air voltage, all of which are preassigned and stored in EEPROM <highlight><bold>204</bold></highlight>. These comparisons are done sequentially by microprocessor <highlight><bold>202</bold></highlight>. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> Decision block <highlight><bold>256</bold></highlight> represents a determination of whether the acquired integrator voltage exceeds the stored alarm voltage. If so, microprocessor <highlight><bold>202</bold></highlight> provides a continuous signal to an alarm announcing the presence of excessive smoke, as indicated by process block <highlight><bold>258</bold></highlight>. If not so, microprocessor <highlight><bold>202</bold></highlight> performs the next comparison. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> Decision block <highlight><bold>260</bold></highlight> represents a determination of whether the acquired integrator voltage falls within the stored clean air voltage tolerance limits. If so, the smoke detector system continues to acquire the next output voltage sample of photodiode <highlight><bold>28</bold></highlight> and, as indicated by process block <highlight><bold>262</bold></highlight>, a counter with a 2-count modulus monitors the occurrence of two consecutive acquired integrator voltages that fall within the clean air voltage tolerance limits. This counter is part of microprocessor <highlight><bold>202</bold></highlight>. If not so, a counter is indexed by one count, as indicated by process block <highlight><bold>264</bold></highlight>. However, each time two consecutive integrator voltages appear, the 2-count modulus counter resets the counter indicated by process block <highlight><bold>264</bold></highlight>. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Decision block <highlight><bold>266</bold></highlight> represents a determination of whether the number of counts accumulated in the counter of process block <highlight><bold>264</bold></highlight> exceeds 10,752 counts, which corresponds to consecutive integrator voltage samples in out-of-tolerance limit conditions for each of 9 second intervals over 27 hours. If so, microprocessor <highlight><bold>202</bold></highlight> provides a low duty-cycle blinking signal to LED <highlight><bold>210</bold></highlight>, as indicated in process block <highlight><bold>268</bold></highlight>. Skilled persons will appreciate that other signaling techniques, such as an audible alarm or a relay output, may be used. The blinking signal indicates that the optical sensor electronics have changed such that the clean air voltage has drifted out of calibration for either under- or over-sensitivity and need to be attended to. If the count in the counter of process block <highlight><bold>264</bold></highlight> does not exceed 10,752 counts, the smoke detector system continues to acquire the next output voltage sample of photodiode <highlight><bold>28</bold></highlight>. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> The self-diagnosis algorithm provides, therefore, a rolling 27-hour out-of-tolerance measurement period that is restarted whenever there are two consecutive appearances of integrator voltages within the clean air voltage tolerance limits. The smoke detector system monitors its own operational status, without a need for manual evaluation of its internal functional status. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Reed switch <highlight><bold>212</bold></highlight> is directly connected to microprocessor <highlight><bold>202</bold></highlight> to provide a self-test capability that together with the labyrinth passageway design of pegs <highlight><bold>80</bold></highlight> in canopy <highlight><bold>14</bold></highlight> permits on-site verification of an absence of an unserviceable hardware fault. To initiate a self-test, an operator holds a magnet near housing <highlight><bold>10</bold></highlight> to close reed switch <highlight><bold>212</bold></highlight>. Closing reed switch <highlight><bold>212</bold></highlight> activates a self-test program stored in EEPROM <highlight><bold>204</bold></highlight>. The self-test program causes microprocessor <highlight><bold>202</bold></highlight> to apply a voltage to photodiode <highlight><bold>28</bold></highlight>, read the integrator voltage stored in output shift register <highlight><bold>240</bold></highlight>, and compare it to the clean air voltage and its upper and lower tolerance limits in a manner similar to that described with reference to process blocks <highlight><bold>250</bold></highlight>, <highlight><bold>252</bold></highlight>, and <highlight><bold>254</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. The self-test program then causes microprocessor <highlight><bold>202</bold></highlight> to blink LED <highlight><bold>210</bold></highlight> two or three times, four to seven times, or eight or nine times if the optical sensor electronics are under-sensitive, within the sensitivity tolerance limits, or over-sensitive, respectively. If none of the above conditions is met, LED <highlight><bold>210</bold></highlight> blinks one time to indicate an unserviceable hardware fault. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> It will be obvious to those having skill in the art that many changes may be made to the details of the above-described preferred embodiment of the present invention without departing from the underlying principles thereof. For example, the system may use other than an LED a radiation source such as an ion particle or other source. The scope of the present invention should, therefore, be determined only by the following claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">We claim: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A self-diagnostic smoke detector assembly, comprising: 
<claim-text>a base including a substantially flat inner surface that supports a radiation emitter and a radiation sensor having respective lines of sight and positioned so that the lines of sight intersect each other and are substantially parallel to the inner surface of the base; </claim-text>
<claim-text>a signal sampler cooperating with the radiation sensor to produce signal samples indicative of periodic measurements of a smoke obscuration level in a spatial region; </claim-text>
<claim-text>a smoke detector chamber including the base and a field replaceable optical block that are removably attachable to each other and when attached define an interior of the chamber into which smoke particles representing the smoke obscuration level enter, the optical block including multiple elements that form low impedance labyrinthine passageways for smoke passing to the interior and direct spurious internally reflected light away from the radiation sensor; and </claim-text>
<claim-text>a processor receiving and processing the signal samples, the processor comparing the signal samples to multiple threshold values, one of the threshold values representing a smoke obscuration alarm level and another of the threshold values representing a tolerance limit for the radiation sensor, and the processor determining from the signal samples corresponding to smoke obscuration levels that exceed the alarm level and from signal samples corresponding to smoke obscuration levels that exceed the tolerance limit whether the signal samples are indicative of an alarm condition or an out-of-calibration condition of the smoke detector assembly.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001746A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001746A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001746A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001746A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001746A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001746A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001746A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001746A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001746A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001746A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001746A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
