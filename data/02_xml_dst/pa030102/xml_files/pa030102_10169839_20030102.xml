<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030000499A1-20030102-D00000.TIF SYSTEM "US20030000499A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00001.TIF SYSTEM "US20030000499A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00002.TIF SYSTEM "US20030000499A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00003.TIF SYSTEM "US20030000499A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00004.TIF SYSTEM "US20030000499A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00005.TIF SYSTEM "US20030000499A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030000499A1-20030102-D00006.TIF SYSTEM "US20030000499A1-20030102-D00006.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030000499</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10169839</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020710</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>100 06 341.1</doc-number>
</priority-application-number>
<filing-date>20000212</filing-date>
<country-code>DE</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>F02M007/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>123</class>
<subclass>435000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>123</class>
<subclass>501000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>System for regulating an internal combustion engine</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Armin</given-name>
<family-name>Doelker</family-name>
</name>
<residence>
<residence-non-us>
<city>Immenstaad</city>
<country-code>DE</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Thomas</given-name>
<family-name>Spaegele</family-name>
</name>
<residence>
<residence-non-us>
<city>Tettnang</city>
<country-code>DE</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Klaus</given-name>
<family-name>Wehler</family-name>
</name>
<residence>
<residence-non-us>
<city>Friedrichshafen</city>
<country-code>DE</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>CROWELL &amp; MORING LLP</name-1>
<name-2>INTELLECTUAL PROPERTY GROUP</name-2>
<address>
<address-1>P.O. BOX 14300</address-1>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20044-4300</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
<international-conventions>
<pct-application>
<document-id>
<doc-number>PCT/EP01/00841</doc-number>
<document-date>20010126</document-date>
<country-code>WO</country-code>
</document-id>
</pct-application>
</international-conventions>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">The invention relates to a system for regulating an internal combustion engine (<highlight><bold>1</bold></highlight>). Said system regulates the maximum combustion pressure by modifying the start of the injection process. The aim of the invention is to improve the operational reliability of the internal combustion engine (<highlight><bold>1</bold></highlight>) To this end, the invention provides that the maximum combustion pressure (pMAX(i)) is diagnosed by the detection of a freak value. This then determines a first or second mode and sets a diagnosis value depending on the modi. The invention also provides that the output of the injection start regulator is limited by a limiting mechanism </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND AND SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The invention relates to a control system for an internal combustion engine, wherein the maximum combustion pressure is controlled by changing the start of injection. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> DE 44 46 246 C1, originating from the applicant, discloses a control system for an internal combustion engine. In this system the maximum combustion pressure is controlled by changing the start of injection. Owing to the variable adjustability of the start of injection, the entire acceleration potential of the engine can be utilized, for example when there is a load. However, any errors, for example misfirings, are not taken into consideration in this control process. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Proceeding from the above described prior art, the object of the invention is to improve the control system with respect to operational reliability. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In the control system according to the invention, the maximum combustion pressure is diagnosed by means of outlier recognition. The outlier recognition determines a first or second mode and sets a diagnostic value as a function of the mode. To this end, the outlier recognition calculates a mean value from a first and an nth maximum combustion pressure value and determines for the values between the first and nth maximum combustion pressure their deviation from the mean value. If the deviations can be tolerated, the first mode is set. In the first mode the diagnostic value is then set to the maximum combustion pressure value. If the deviation cannot be tolerated, the second mode is set. In the second mode the diagnostic value is equivalent to the mean value. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> The diagnostic value, determined previously, is sent together with a maximum combustion pressure nominal value to an injection start controller, which determines the start of injection from this system deviation. For a negative system deviation, the start of injection is delayed. The system deviation is negative, when the diagnostic value is greater than the nominal value of the maximum combustion pressure. For a positive system deviation, the injection is started earlier. The system deviation is positive, when the diagnostic value is less than the nominal value of the maximum combustion pressure, i.e. when there is still an additional pressure potential available. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> The advantage of the invention lies in the fact that stochastic errors, in particular misfirings, are effectively eliminated. Thus, the quality of the control system is significantly increased. A limiting element is provided, according to the invention, as another measure to protect the control system. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> One embodiment of the invention provides that an injection start precontrol value is also included in the calculation of the start of injection. This precontrol value of the start of injection is calculated by means of a group of curves. This group of curves represents a function of the engine speed and of a power-determining signal. The power-determining signal is defined, according to the invention, as the quantity of fuel injected or the travel of a control rod. A precontrol has the advantage of a short reaction time to an immediate load change. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The major distinction between the prior art control system and the invention lies in the fact that the feedback control occurs at every engine operating point and not just when there is a load. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The control system, described in the invention, can be installed in internal combustion engines by common rail construction method, PLD construction method (pump-line-nozzle) or a conventional construction method.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The figures show a preferred embodiment. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a system diagram. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a block diagram. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> depicts a control circuit configuration. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a block diagram of the injection start precontrol. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> depicts an injection start controller. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a timing diagram. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a program flowchart.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram of an internal combustion engine with an accumulator fuel injection system (common rail). It shows an internal combustion engine <highlight><bold>1</bold></highlight> with a turbo charger and a charge air cooler, an electronic engine control unit <highlight><bold>10</bold></highlight>, a first pump <highlight><bold>3</bold></highlight>, a second pump <highlight><bold>5</bold></highlight>, a high pressure accumulator (rail) <highlight><bold>6</bold></highlight>, injectors <highlight><bold>7</bold></highlight>, attached thereto, and a throttle valve <highlight><bold>4</bold></highlight>. The first pump <highlight><bold>3</bold></highlight> conveys the fuel from a fuel tank <highlight><bold>2</bold></highlight> via the throttle valve <highlight><bold>4</bold></highlight> to the second pump <highlight><bold>5</bold></highlight>. It in turn conveys the fuel under high pressure into the high pressure accumulator <highlight><bold>6</bold></highlight>. The pressure level of the high pressure accumulator <highlight><bold>6</bold></highlight> is measured by a rail pressure sensor <highlight><bold>9</bold></highlight>. Lines with adjoining injectors <highlight><bold>7</bold></highlight> for each cylinder of the internal combustion engine <highlight><bold>1</bold></highlight> branch off from the high pressure accumulator <highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> The electronic engine control unit <highlight><bold>10</bold></highlight> controls and regulates the state of the internal combustion engine <highlight><bold>1</bold></highlight>. It has the usual components of a microcomputer system, for example a microprocessor, input/output components, buffer and memory components (EEPROM, RAM). In the memory components the operating data, relevant for operating the internal combustion engine <highlight><bold>1</bold></highlight>, are applied in groups of curves/characteristic lines. The input variables of the electronic engine control unit <highlight><bold>10</bold></highlight> that are shown as an example in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> are: maximum combustion pressure pMAX(i), which is measured by means of a pressure sensor <highlight><bold>8</bold></highlight>, pressure pCR(ACTUAL) of the high pressure accumulator <highlight><bold>6</bold></highlight>, pressure level of the turbo charger pLL and speed nMOT of the internal combustion engine <highlight><bold>1</bold></highlight>. Other input variables relevant for operating the internal combustion engine <highlight><bold>1</bold></highlight> are depicted with the reference character E. The actuating signals for the injectors <highlight><bold>7</bold></highlight>, corresponding to the start of injection SB and the duration of injection SD, and the actuating signal ADV for the throttle valve <highlight><bold>4</bold></highlight> are depicted as the output variables A of the electronic engine control unit <highlight><bold>10</bold></highlight>. The feed to the second pump <highlight><bold>5</bold></highlight> is set by way of the throttle valve <highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram of the control system of the internal combustion engine <highlight><bold>1</bold></highlight> with a coupled control circuit configuration. Depicted are: a speed controller <highlight><bold>14</bold></highlight>, an engine torque controller <highlight><bold>15</bold></highlight>, selection means <highlight><bold>16</bold></highlight>, an injection start controller <highlight><bold>20</bold></highlight> and the internal combustion engine <highlight><bold>1</bold></highlight> with the injection system. The internal combustion engine <highlight><bold>1</bold></highlight> drives via a clutch <highlight><bold>11</bold></highlight> an engine load <highlight><bold>12</bold></highlight>, for example a water jet drive. The tooth angles Phi<highlight><bold>1</bold></highlight> and Phi<highlight><bold>2</bold></highlight> of the clutch <highlight><bold>11</bold></highlight> are detected by speed sensors <highlight><bold>13</bold></highlight>. The engine speed nMOT is calculated from the tooth angle Phi<highlight><bold>1</bold></highlight> via the function block measure/filter <highlight><bold>18</bold></highlight>. Via the function block measure/filter <highlight><bold>17</bold></highlight> the engine torque MK at the output end of the internal combustion engine <highlight><bold>1</bold></highlight> is determined from the two tooth angles Phi<highlight><bold>1</bold></highlight> and Phi<highlight><bold>2</bold></highlight>. As an alternative to the measured engine torque MK it can also be calculated by means of a mathematical model. For example, the mathematical model can include a thermodynamic mapping of the internal combustion engine. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> The input variables of the speed controller <highlight><bold>14</bold></highlight> are: the engine speed nMOT, a speed differential dnMOT and a signal ve<highlight><bold>2</bold></highlight>. The speed differential, characterizing the desired power, is calculated from the engine speed nMOT and a nominal value. The signal ve<highlight><bold>2</bold></highlight> corresponds to the output signal of the engine torque controller <highlight><bold>15</bold></highlight>. The output variable of the speed controller <highlight><bold>14</bold></highlight> is a signal ve<highlight><bold>1</bold></highlight>. It is sent to the selection means <highlight><bold>16</bold></highlight> and the engine torque controller <highlight><bold>15</bold></highlight>. The input variables of the engine torque controller <highlight><bold>15</bold></highlight> are: the engine torque MK, a torque differential dMK, the signal ve<highlight><bold>1</bold></highlight> and a controller mode RM. The torque differential dMK is calculated from the engine torque MK and a maximum allowable engine torque. The output signal of the engine torque controller <highlight><bold>15</bold></highlight> is the signal ve<highlight><bold>2</bold></highlight>. It is sent to the selection means <highlight><bold>16</bold></highlight> and the speed controller <highlight><bold>14</bold></highlight>. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> By way of the selection means <highlight><bold>16</bold></highlight> it is determined which of the two controllers <highlight><bold>14</bold></highlight> or <highlight><bold>15</bold></highlight> is dominant. To this end, the selection means <highlight><bold>16</bold></highlight> has a minimum value choice. The signal ve<highlight><bold>1</bold></highlight> is set via the minimum value choice as the power determining signal ve, when the signal ve<highlight><bold>1</bold></highlight> is smaller than or equal to the signal ve<highlight><bold>2</bold></highlight>. In this case the controller mode RM is set to a first value. It is equivalent to operating the internal combustion engine in the speed mode. The signal ve<highlight><bold>2</bold></highlight> is set as the power determining signal ve, when it is less than the signal ve<highlight><bold>1</bold></highlight>. In this case the controller mode RM is set to a second value. It corresponds to operating the internal combustion engine in the torque limiting mode. The output signals of the selection means <highlight><bold>16</bold></highlight> are the power-determining signal ve and the controller mode RM. The power-determining signal ve is sent to the injection unit of the internal combustion engine <highlight><bold>1</bold></highlight> and the injection start controller <highlight><bold>20</bold></highlight>. The power-determining signal ve is defined, according to the invention, as the quantity of fuel injected or the travel of a control rod. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> The input variables of the injection start controller <highlight><bold>20</bold></highlight> are: the engine speed nMOT, the maximum combustion pressure pMAX(i), the nominal value of the maximum combustion pressure PMSW and the power-determining signal ve, provided by the selection means <highlight><bold>16</bold></highlight>. The output variable of the injection start controller <highlight><bold>20</bold></highlight> is the start of injection SB, which is sent to the internal combustion engine <highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows an alternative configuration of the block diagram of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. In contrast to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the signal ve<highlight><bold>1</bold></highlight> in this block diagram is calculated via a function block <highlight><bold>19</bold></highlight> as a function of the desired power, which is accelerator pedal FP in the illustrated embodiment. The function block <highlight><bold>19</bold></highlight> includes the conversion of the accelerator pedal position into the signal ve<highlight><bold>1</bold></highlight>. To this end, the corresponding characteristic lines, including a limit, are provided. The input variables that are necessary for the conversion are depicted with the reference character E, for example the engine speed NMOT, charge air pressure pLL, etc. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Another difference is that in the block diagram according to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the signal ve<highlight><bold>2</bold></highlight> is sent exclusively to the selection means <highlight><bold>16</bold></highlight>. In contrast to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, there is no comparison between the nominal and the actual engine speed, since the desired power is predetermined by means of the acceleration pedal. The rest of the configuration corresponds to that of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, so that what was stated there is applicable. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> depicts the control circuit for the start of injection. It includes: the injection start controller <highlight><bold>20</bold></highlight>, a limiting element <highlight><bold>21</bold></highlight>, the internal combustion engine <highlight><bold>1</bold></highlight>, corresponding to the controlled system, and the outlier recognition (ArE) <highlight><bold>23</bold></highlight>. The input variables of the control circuit are the nominal value of the maximum combustion pressure pMSW, an input variable E<highlight><bold>1</bold></highlight> and an injection start precontrol value SB(VS). The output variable of the control system is the maximum combustion pressure pMAX(i). It is measured by means of the pressure sensors <highlight><bold>8</bold></highlight>, as depicted in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The maximum combustion pressure pMAX(i) is the input variable for the outlier recognition <highlight><bold>23</bold></highlight>. It diagnoses the maximum combustion pressure. Thus, a first or second mode is determined as a function of the diagnosed values. The outlier recognition <highlight><bold>23</bold></highlight> sets a diagnostic value pMD(i) as a function of the modes. In the first mode the diagnostic value pMD(i) corresponds to the maximum combustion pressure pMAX(i). In the second mode the diagnostic value pMD(i) is equivalent to a calculated mean value. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> Additional explanations are based on an example, wherein three maximum combustion pressure values are measured chronologically in succession. At time t(<highlight><bold>1</bold></highlight>) a mean value is calculated from the first and third maximum combustion pressure value. Then, the mean value is subtracted from the second measurement value. This deviation is considered to be a measure for how plausible this second measurement value is. If this deviation is less than a limiting value, for example &minus;5 bar, then the diagnostic value pMD(i) is set to the mean value, calculated previously. Thereafter the process is repeated at time t(i&plus;1). </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> The system deviation dpMX(i) is determined via summation <highlight><bold>24</bold></highlight> from the diagnostic value pMD(i) and the nominal value of the maximum combustion pressure pMSW. The nominal value is calculated by means of a group of curves resulting from the engine speed NMOT and the power-determining signal ve. The system deviation dpMX(i) is the input variable of the injection start controller <highlight><bold>20</bold></highlight>. The output variable of the injection start controller <highlight><bold>20</bold></highlight> is the start of injection, marked SB<highlight><bold>1</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. In the case of a negative system deviation, the start of injection is delayed. The system deviation is negative when the diagnostic value pMD(i) is greater than the nominal value of the maximum combustion pressure PMSW. In the case of a positive system deviation, the injection is started earlier. The system deviation is positive, when the diagnostic value pMD(i) is less than the nominal value of the maximum combustion pressure PMSW, that is, when an additional pressure potential is still available. The internal structure of the injection start controller <highlight><bold>20</bold></highlight> is shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> and is explained in conjunction with <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The start of injection SB<highlight><bold>1</bold></highlight> is sent to a limiting element <highlight><bold>21</bold></highlight>. The changes in the start of injection are limited by way of the limiting element <highlight><bold>21</bold></highlight>. In practice a value of &plus;/&minus;5 degrees crankshaft angle has proved useful. The limiting can be done by means of a minimum and maximum value or a characteristic line or a group of curves. For the minimum and maximum value, the changes in the start of injection are limited to a minimum MIN and maximum MAX allowable value. If the limiting is done via a characteristic line, then it denotes a function of the engine speed nMOT or the filtered engine speed. As an alternative the characteristic line can also denote a function of the power-determining signal ve or the filtered power-determining signal. If a group of curves is used, another input variable E<highlight><bold>1</bold></highlight> is sent to the limiting element <highlight><bold>21</bold></highlight>. The input variable E<highlight><bold>1</bold></highlight> corresponds, as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, to the engine speed nMOT, filtered by means of a filter <highlight><bold>25</bold></highlight>, and the power-determining signal ve, filtered by means of a filter <highlight><bold>26</bold></highlight>. The output variable of the limiting element <highlight><bold>21</bold></highlight> is a start of injection SB<highlight><bold>2</bold></highlight>. It is linked additively to the injection start precontrol value SB(VS) at the summation point <highlight><bold>22</bold></highlight>. The injection start precontrol value SB(VS) is fixed by means of a group of curves <highlight><bold>27</bold></highlight> resulting from the engine speed nMOT and the power-determining signal ve, or its filtered values. The determination of the precontrol value SB(VS) is depicted in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. The precontrol operation has the advantage that the start of injection SB reaches faster the new stationary value when changing the operating point. In a simpler implementation of the invention the control system can also be designed without precontrol. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> Then the start of injection SB, resulting from the two variables SB<highlight><bold>2</bold></highlight> and SB(VS), is sent to the internal combustion engine <highlight><bold>1</bold></highlight>. Thus, the control circuit is closed. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> To obtain higher stationary accuracy of the maximum combustion pressure control, it can be provided that a filter follows the outlier recognition <highlight><bold>23</bold></highlight>. This feature is not depicted in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. This filter prevents the sudden changes in the nominal value of the maximum combustion pressure pMSW from inducing a sudden response of the maximum combustion pressure pMAX(i). </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 6</cross-reference> the internal structure of the injection start controller <highlight><bold>20</bold></highlight> is simplified. It includes essentially a limiting element <highlight><bold>29</bold></highlight> and two function blocks <highlight><bold>28</bold></highlight>, which are examples of the scanning time TA. The input variable of the injection start controller is the system deviation dpMX(i). The output variable is the start of injection, here SB<highlight><bold>1</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> depicts a PI controller. The system deviation dpMX(i) is added to a system differential, which is delayed by a scanning time (TA <highlight><bold>28</bold></highlight>), at a summation point and linked to a factor F at a multiplication point <highlight><bold>30</bold></highlight>. In this respect the factor F denotes a function of a proportional coefficient kp, the scanning time TA and a time constant Tn. The time constant Tn can be either constant or calculated as a function of the engine speed nMOT. The calculated product is linked at a summation point to an output variable (I) of the limiting element <highlight><bold>29</bold></highlight>. Said output variable is delayed by a scanning time (TA <highlight><bold>28</bold></highlight>). The limiting element <highlight><bold>29</bold></highlight> limits the integrating portion (I portion). The limiting element <highlight><bold>29</bold></highlight> can be designed like the limiting element <highlight><bold>21</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. The I portion is linked to a proportional portion (P portion) at the summation point <highlight><bold>32</bold></highlight>. The result is the start of injection, here SB<highlight><bold>1</bold></highlight>. The P portion is calculated from the system deviation pdMX(i) and a proportional coefficient kp. They are linked together multiplicatively by multiplication <highlight><bold>31</bold></highlight>. The proportional coefficient kp can be either constant or calculated as a function of the input variable E<highlight><bold>1</bold></highlight>. As depicted in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the input variable E<highlight><bold>1</bold></highlight> corresponds to the filtered engine speed NMOT and the filtered power-determining signal ve. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows a timing diagram for the operating mode of the outlier recognition <highlight><bold>23</bold></highlight>. The curve with the solid line, corresponding to points A to F, corresponds to an assumed course of the maximum combustion pressure pMAX(i). The curve with the dashed, two-dotted line, corresponding to points G to M, corresponds to the diagnostic value pMD(i), thus the output variable of the outlier recognition <highlight><bold>23</bold></highlight>. The period of time between two points in time, plotted on the abscissa, is equivalent to the scanning time TA. The curve of the diagnostic value pMD(i) is offset in time by one scanning period with respect to the curve of the maximum combustion pressure pMAX(i). </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> Additional explanations assume that the outliers are recognized by means of three values of the maximum combustion pressure pMAX(i): pMAX(1) to pMAX(3). Of course, it is also possible to use more values without altering the essence of the invention. These three measurement values pMAX(1) to pMAX(3) correspond, for example, to the points C, D and E. At time t<highlight><bold>5</bold></highlight> the mean value is determined from the first value and the third value. In <cross-reference target="DRAWINGS">FIG. 7</cross-reference> this mean value is depicted as a dashed line with the ordinate value MW(CE). Thereupon the mean value MW(CE) is subtracted from the maximum combustion pressure value of point D, thus the second measurement value pMAX(2). This difference is negative. In <cross-reference target="DRAWINGS">FIG. 7</cross-reference> the amount is shown as dp. In the present example it was assumed that this difference dp is less than a limiting value GW, for example &minus;5 bar. In this case the maximum combustion pressure value of the point D is recognized as implausible; and the outlier recognition <highlight><bold>23</bold></highlight> sets the second mode. In the second mode the diagnostic value pMD(i) is set to the mean value MW. In <cross-reference target="DRAWINGS">FIG. 7</cross-reference> this set diagnostic value pMD(i) is equivalent to the value of point L. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> In the next scanning step, thus at time t<highlight><bold>6</bold></highlight>, the corresponding mean value is determined from the values of points D and F. Then the second value, here the maximum combustion pressure value of point E, is brought into relation to this mean value. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows a program flowchart for diagnosing the maximum combustion pressure value pMAX(i) in a simplified form. In this program flowchart the example is based on <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. In step S<highlight><bold>1</bold></highlight> the starting values are set. Thereupon in step S<highlight><bold>2</bold></highlight> three current values of the maximum combustion pressure pMAX(1) to pMAX(3) are read in. Then in step S<highlight><bold>3</bold></highlight> the mean value MW is calculated from the first and third value of the maximum combustion pressure. In step S<highlight><bold>4</bold></highlight> a difference dp between the second value of the maximum combustion pressure pMAX(2) and the mean value MW is calculated. After that in step S<highlight><bold>5</bold></highlight> it is checked whether this difference is less than a limiting value GW. If the polling is positive, then in step S<highlight><bold>8</bold></highlight> the second mode MOD<highlight><bold>2</bold></highlight> is set, and in step S<highlight><bold>9</bold></highlight> the diagnostic value pMD(2) is set to the mean value MW. If the polling in step S<highlight><bold>5</bold></highlight> is negative, that is the second value pMAX(2) of the maximum combustion pressure is plausible, then in step S<highlight><bold>6</bold></highlight> the outlier recognition <highlight><bold>23</bold></highlight> sets the first mode MOD<highlight><bold>1</bold></highlight>. Thereafter in step S<highlight><bold>7</bold></highlight> the diagnostic value pMD(2) is set to the second value pMAX(2). In step S<highlight><bold>10</bold></highlight> the first value pMAX(1) is overwritten with the second value pMAX(2) of the maximum combustion pressure; or the second value pMAX(2) is overwritten with the third value pMAX(3). Thereafter in step S<highlight><bold>11</bold></highlight> a new maximum combustion pressure pMAX(3) is read in. In S<highlight><bold>12</bold></highlight> it is checked whether an end condition is recognized. If this is not the case, the program flowchart branches off to point A with a renewed calculation of the mean value MW. If an end condition is recognized in step S<highlight><bold>12</bold></highlight>, then the program run is terminated. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> The control system of the invention can be used in an internal combustion engine, wherein each cylinder is measured. The maximum combustion pressure is controlled by way of the start of injection, thus by individual cylinder. As an alternative the control system can also be used in an internal combustion engine, wherein only a specified number of cylinders has a corresponding pressure sensor. In this case the invention provides that a representative maximum combustion pressure is calculated from the measured maximum combustion pressure values of the specified cylinders; and from that a representative start of injection is calculated. Then the representative start of injection is used to control all cylinders. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. Control system for an internal combustion engine (<highlight><bold>1</bold></highlight>), wherein the maximum combustion pressure is controlled by changing the start of injection (SB), 
<claim-text>characterized in that the maximum combustion pressure (pMAX(i), i&equals;1, 2 . . . n) is diagnosed by means of an outlier recognition (<highlight><bold>23</bold></highlight>), that the outlier recognition (<highlight><bold>23</bold></highlight>) determines a first (MOD<highlight><bold>1</bold></highlight>) or second (MOD<highlight><bold>2</bold></highlight>) mode and that a diagnostic value (pMD(i)) is set as a function of the first (MOD<highlight><bold>1</bold></highlight>) or second (mod<highlight><bold>2</bold></highlight>) mode: </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the first (MOD<highlight><bold>1</bold></highlight>) or second (MOD<highlight><bold>2</bold></highlight>) mode is determined by calculating a mean value (MW) from a first (pMAX(1)) and an nth (pMAX(n)) maximum combustion pressure value; by calculating for each additional maximum combustion pressure value (pMAX(i), i&equals;2 . . . (n&minus;1)) a difference (dp) with respect to the mean value (MW) (dp&equals;pMAX(i)&minus;MW) and by setting the first mode (MOD<highlight><bold>1</bold></highlight>), when the difference (dp) is greater than or equal to a limiting value (GW) (dp&equals;&gt;GW); or by setting the second mode (MOD<highlight><bold>2</bold></highlight>), when the difference is less than the limiting value (GW) (dp&lt;GW). </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. Control system, as claimed in claims <highlight><bold>1</bold></highlight> and <highlight><bold>2</bold></highlight>, characterized in that in the first (MOD<highlight><bold>1</bold></highlight>) the diagnostic value (pMD(i)) is set to the current maximum combustion pressure value (pMAX(i)). </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. Control system, as claimed in claims <highlight><bold>1</bold></highlight> and <highlight><bold>2</bold></highlight>, characterized in that in the second (MOD<highlight><bold>2</bold></highlight>) the diagnostic value (pMD(i)) is set to the mean value (MW). </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. Control system, as claimed in claims <highlight><bold>3</bold></highlight> and <highlight><bold>4</bold></highlight>, characterized in that the diagnostic value (pMD(i)) is filtered. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, <highlight><bold>4</bold></highlight> or <highlight><bold>5</bold></highlight>, characterized in that a system deviation (dpMX(i)) is determined (dpMX(i)&equals;pMSW&minus;pMD(i)) from the diagnostic value (pMD(i)) and a nominal value of the maximum combustion pressure (pMSW), and the start of injection (SB) is determined from the system deviation (dpMW(i)) by means of an injection start controller (<highlight><bold>20</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, characterized in that the nominal value of the maximum combustion pressure (pMSW) is determined via a group of curves, whereby the group of curves denotes a function of an engine speed (NMOT) and a power-determining signal (ve). </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, characterized in tnat the start of injection (SB) is changed to late when the system deviation (dpMX(i)&lt;0)) is negative. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, characterized in that the start of injection (SB) is changed to early when the system deviation (dpMX(i)&gt;0)) is positive. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. Control system, as claimed in any one of the <dependent-claim-reference depends_on="CLM-00006">claims 6</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00009">9</dependent-claim-reference>, characterized in that the start of injection (SB), calculated by the injection start controller (<highlight><bold>20</bold></highlight>), is limited-by means of a limiting element (<highlight><bold>21</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, characterized in that the limiting element includes a minimum and maximum value so that the start of injection (SB) is limited to a minimum (MIN) and a maximum (MAX) allowable value. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, characterized in that the limiting element (<highlight><bold>21</bold></highlight>) includes a characteristic line (KL), whereby the characteristic line (KL) denotes a function of the engine speed (KL&equals;f(nMOT)) or the power-determining signal (ve) (KL&equals;f(ve)). </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, characterized in that the limiting element (<highlight><bold>21</bold></highlight>) includes a group of curves (KF), whereby the group of curves (KF) denotes a function of the engine speed (nMOT)) and the power-determining signal (ve) (KF&equals;f(nMOT, ve)). </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. Control system, as claimed in any one of the preceding claims, characterized in that an injection start precontrol value (SB(VS)) is also included in the calculation of the injection start (SB). </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 14</dependent-claim-reference>, characterized in that the injection start precontrol value (SB(VS)) is determined by way of a group of curves (<highlight><bold>27</bold></highlight>), whereby the group of curves (<highlight><bold>27</bold></highlight>) denotes a function of the engine speed (NMOT) and the power-determining signal (ve). </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, characterized in that the injection start controller (<highlight><bold>20</bold></highlight>) exhibits an integrating portion (I-portion), whose time constant (Tn) is either constant (Tn&equals;const) or is calculated as a function of the engine speed (nMOT) (Tn&equals;f(nMOT)). </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, characterized in that tne injection start controller (<highlight><bold>20</bold></highlight>) also exhibits a limiting element (<highlight><bold>29</bold></highlight>) for limiting the I portion, whereby the limiting element (<highlight><bold>29</bold></highlight>) is carried out according to <dependent-claim-reference depends_on="CLM-00011">claims 11</dependent-claim-reference> to <dependent-claim-reference depends_on="CLM-00013">13</dependent-claim-reference>. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, <highlight><bold>13</bold></highlight>, or <highlight><bold>17</bold></highlight>, characterized in that the engine speed (riMOT) and the power-determining signal (ve) are also filtered. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, characterized in that the injection start controller (<highlight><bold>20</bold></highlight>) also exhibits a proportional portion (P portion). </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, characterized in that a proportional coefficient (kp) of the P portion is constant (kp&equals;const.). </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, characterized in that the proportional coefficient (kp) of the P portion is calculated as a function of the power-determining signal (ve) (kp&equals;f(ve)). </claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, characterized in that the proportional coefficient (kp) of the P portion is also calculated as a function of the engine speed (nMOT) (kp&equals;f(nMOT, ve)). </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference> or <highlight><bold>22</bold></highlight>, characterized in that the engine speed (nMOT) and the power-determining signal (ve) for calculating the P portion are also filtered. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. Control system, as claimed in any one of the preceding claims, characterized in that of each cylinder of the internal combustion engine (<highlight><bold>1</bold></highlight>) the maximum combustion pressure (pMAX(i)) is measured; and the control of the maximum combustion pressure (pMAX(i)) is carried out for each individual cylinder by way of the injection start (SB). </claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. Control system, as claimed in any one of the preceding claims, characterized in that the maximum combustion pressure value (pMAX(i)) is measured for a specified number (k) of cylinders of the internal combustion engine (<highlight><bold>1</bold></highlight>). </claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00022">claim 25</dependent-claim-reference>, characterized in that a representative maximum combustion pressure (pMAX(RE)) and a representative injection start (SB(RE)) is determined from the maximum combustion pressure values (pMAX(i)) of the specified cylinders. </claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. Control system, as claimed in <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, characterized in that the representative injection start (SB(RE)) is used for controlling all cylinders. </claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. Control system, as claimed in the preamble of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the control system exhibits an injection start controller (<highlight><bold>20</bold></highlight>) for controlling the maximum combustion pressure (pMAX(i)); a limiting element (<highlight><bold>21</bold></highlight>) for limiting the injection start (SB), calculated by the injection start controller (<highlight><bold>20</bold></highlight>); a controlled system, corresponding to the internal combustion engine (<highlight><bold>1</bold></highlight>) with an injection unit and an outlier recognition (<highlight><bold>23</bold></highlight>) for diagnosing the maximum combustion pressure value (pMAX(i)).</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030000499A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030000499A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030000499A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030000499A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030000499A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030000499A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030000499A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
