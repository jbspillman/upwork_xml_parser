<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001686A1-20030102-D00000.TIF SYSTEM "US20030001686A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00001.TIF SYSTEM "US20030001686A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00002.TIF SYSTEM "US20030001686A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00003.TIF SYSTEM "US20030001686A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00004.TIF SYSTEM "US20030001686A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00005.TIF SYSTEM "US20030001686A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00006.TIF SYSTEM "US20030001686A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00007.TIF SYSTEM "US20030001686A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00008.TIF SYSTEM "US20030001686A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00009.TIF SYSTEM "US20030001686A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00010.TIF SYSTEM "US20030001686A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00011.TIF SYSTEM "US20030001686A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00012.TIF SYSTEM "US20030001686A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00013.TIF SYSTEM "US20030001686A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030001686A1-20030102-D00014.TIF SYSTEM "US20030001686A1-20030102-D00014.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001686</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10176175</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020621</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-195388</doc-number>
</priority-application-number>
<filing-date>20010627</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H03K007/08</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>332</class>
<subclass>109000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Pulsewidth modulation apparatus, printer, and control method thereof</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Toshiyuki</given-name>
<family-name>Sekiya</family-name>
</name>
<residence>
<residence-non-us>
<city>Ibaraki</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>FITZPATRICK CELLA HARPER &amp; SCINTO</name-1>
<name-2></name-2>
<address>
<address-1>30 ROCKEFELLER PLAZA</address-1>
<city>NEW YORK</city>
<state>NY</state>
<postalcode>10112</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">When pulsewidth modulation is performed with a digital data pattern, appropriate pulsewidth modulation is performed in accordance with variations of a device or a driving system. In a case of inputting data where one pixel is expressed by, e.g., 4 bits (16 tones), a 32-bit pattern having twice as many number of bits as a 16-bit pattern is prepared as a pattern corresponding to input data, and stored in digital data output unit <highlight><bold>1001. </bold></highlight>Pulsewidth addition circuit <highlight><bold>1007 </bold></highlight>is provided for adding a fine-adjustment pulsewidth so as to achieve a target amount of light. The pulsewidth addition circuit <highlight><bold>1007 </bold></highlight>is set so as to achieve a minimum pulsewidth that can generate a laser beam when input data is 0. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a pulsewidth modulation apparatus, applied to an electrophotography system utilizing exposure means, such as a laser beam or the like, an image printing apparatus using the pulsewidth modulation apparatus, and a control method thereof. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> A construction of a general laser-beam printer is shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, and operation thereof is described. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> A laser chip <highlight><bold>23</bold></highlight> comprises a laser diode and a photodiode which receives backlight of the laser diode. An LD driver <highlight><bold>24</bold></highlight> supplies a driving current Id for controlling emission of the laser diode. A monitor current Im, detecting the amount of light emitted from the photodiode, is inputted to the LD driver <highlight><bold>24</bold></highlight> to perform automatic power control (APC) of the amount of light emission of the laser diode. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> A modulated laser beam generated by the laser chip <highlight><bold>23</bold></highlight> is polarized by a polygon mirror <highlight><bold>18</bold></highlight>, which is fixed to a motor axle and rotated in the direction of the arrow shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, and scanned on a photosensitive drum <highlight><bold>20</bold></highlight>. An f-&thgr; lens <highlight><bold>19</bold></highlight> is provided to condense the polarized modulated laser beam on the photosensitive drum <highlight><bold>20</bold></highlight> at a regular linear velocity. The photosensitive drum <highlight><bold>20</bold></highlight> and printing toner are electrostatically charged to predetermined levels in advance. Since the amount of toner attachment changes in accordance with the amount of light irradiated on the photosensitive drum <highlight><bold>20</bold></highlight>, a halftone image can be printed. A BD mirror <highlight><bold>21</bold></highlight> is provided with a fixed mechanical position relation with the photosensitive drum <highlight><bold>20</bold></highlight>. A laser beam reflected by the BD mirror <highlight><bold>21</bold></highlight> is inputted to a photoreceptive diode <highlight><bold>22</bold></highlight>, and used to detect a data write starting position on the photosensitive drum <highlight><bold>20</bold></highlight>. An output of the photoreceptive diode <highlight><bold>22</bold></highlight> is inputted to a horizontal synchronization signal generator <highlight><bold>27</bold></highlight> to generate a horizontal synchronization signal BD. The signal BD is inputted to a pixel modulator <highlight><bold>25</bold></highlight>. The pixel modulator <highlight><bold>25</bold></highlight> generates a pixel clock synchronizing with the horizontal synchronization signal BD or a coefficient-fold clock of the signal BD. Based on the pixel clock, a read clock RK for reading pixel data is inputted to a pixel data generator <highlight><bold>26</bold></highlight>. The pixel data generator <highlight><bold>26</bold></highlight> outputs pixel data D and a write clock WK to the pixel modulator <highlight><bold>25</bold></highlight>. Based on the inputted pixel data, a pixel modulation signal ON, which enables modulation of a desired amount of a laser beam, is outputted to the LD driver <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Furthermore, the above-described construction may be provided for four photosensitive drums <highlight><bold>1020</bold></highlight><highlight><italic>a </italic></highlight>to <highlight><bold>1020</bold></highlight><highlight><italic>d </italic></highlight>as shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>. By providing each of the photosensitive drums with the structures for laser-scanning and developers respectively having Y, M, C and Bk toner located next to each other, it is possible to print a color image, produced by superimposing each of the color components, on a sheet of print paper <highlight><bold>1028</bold></highlight>. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> In order to express density of a print image (in a case of a color image, density of each color component), the amount of light corresponding to the density of an image to be printed is irradiated as described above. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In general, a pulsewidth modulation (PWM) system is known as effective means to control the amount of light irradiation. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows an example of a construction which realizes a PWM system. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, reference numeral <highlight><bold>1</bold></highlight> denotes a digital data output unit which converts printing data (multivalued image data) from an external device, such as a computer or the like, to a multivalued data string for each scanning line. Reference numeral <highlight><bold>2</bold></highlight> denotes a lookup table which inputs the multivalued data outputted from the digital data output unit <highlight><bold>1</bold></highlight>, executes table conversion corresponding to predetermined function processing, and outputs multivalued data. Reference numeral <highlight><bold>3</bold></highlight> denotes a D/A converter which inputs the multivalued data from the lookup table <highlight><bold>2</bold></highlight>, and outputs a corresponding analog voltage signal. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Reference numeral <highlight><bold>5</bold></highlight> denotes a horizontal synchronization signal generator based on the signal BD mentioned above; <highlight><bold>6</bold></highlight>, a reference frequency generator; <highlight><bold>7</bold></highlight>, a timing signal generator which generates a timing signal for each component of the apparatus; and <highlight><bold>8</bold></highlight>, a triangular wave generator which generates an analog triangular wave in accordance with the timing signal (clock signal) supplied by the timing signal generator <highlight><bold>7</bold></highlight>. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Reference numeral <highlight><bold>4</bold></highlight> denotes a comparator which compares the analog signal based on image data (output signal of the D/A converter <highlight><bold>3</bold></highlight>) with the triangular wave outputted by the triangular wave generator <highlight><bold>7</bold></highlight>, and outputs the comparison result as a logical high/low pulse signal. Accordingly, the comparator <highlight><bold>4</bold></highlight> outputs a signal having a pulsewidth corresponding to a pixel value. Reference numeral <highlight><bold>8</bold></highlight> denotes a raster scanning print engine, having a construction for driving a laser device in accordance with a pulsewidth of a pulsewidth modulation signal as described above with reference to <cross-reference target="DRAWINGS">FIG. 11</cross-reference>. Therefore, in one pixel cycle, light emission time of a laser beam is determined based on a pixel value. In this manner, the amount of light emission can be controlled. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The above-described construction realizes an image modulator, in which inputted multivalued image data is subjected to &ggr; conversion with an appropriate function and subjected to pulsewidth modulation with a weight corresponding to the result of the &ggr; conversion. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Note as the aforementioned comparator, although an analog comparator is employed, by employing a digital comparator and generating a digital triangular wave, a digital pulsewidth modulator which directly compares the &ggr;-converted multivalued image data with the digital triangular wave can be constructed. In the case of employing such digital system, characteristic variations due to a temperature drift and variations of components, which are problematic in the analog method, can generally be made small. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> However, in the case of employing the above-described digital pulsewidth modulator which adopts a triangular wave comparison method, there are disadvantages, such as a necessity of a fairly high-speed counter and a high-speed comparator, as well as an enlarged size of the circuit. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In view of this, recently proposed is an image modulator in which an output pattern of a pixel is expressed in advance by a string of binary data representing light emission/non light emission, plural types of the output patterns are set in advance in a digital circuit for the number corresponding to values of inputted image tones, then upon inputting multivalued image data, the output pattern is selected and read out, and the read binary data strings are serially outputted. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> For instance, assuming a case of inputting 4-bit input data (16 tones), 16 bits are prepared as pattern data. For input data &ldquo;3&rdquo;, a pattern having &ldquo;1&rdquo; for the first three bits and &ldquo;0&rdquo; for the subsequent thirteen bits is stored. When this data (value 3) is inputted, 1110000000000000B (B indicates binary data) is sequentially outputted, thereby generating a signal having a corresponding pulsewidth. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> However, the above technique has the following problems. </paragraph>
<paragraph id="P-0017" lvl="2"><number>&lsqb;0017&rsqb;</number> Because the number of bits in a light emission pattern is only 2<highlight><superscript>n </superscript></highlight>(or (2<highlight><superscript>n</superscript></highlight>)&minus;1) while the number of bits of input data is n, the light emission pattern is determined practically on a one-to-one basis with the inputted image data. Therefore, it is impossible to correct variations in input-output functions, due to the output driving pattern corresponding to each input data and unevenness in electric and optical characteristics of a laser driver and laser device that follow the output driving pattern. </paragraph>
<paragraph id="P-0018" lvl="2"><number>&lsqb;0018&rsqb;</number> In a case where a block in which the output light emission pattern is set is fixedly constructed with logical hardware, because the light emission pattern is determined on a one-to-one basis with inputted image data, it is impossible to correct variations in input-output functions, due to the output driving pattern corresponding to each input data and unevenness in electric and optical characteristics of a laser driver and laser device that follow the output driving pattern. </paragraph>
<paragraph id="P-0019" lvl="2"><number>&lsqb;0019&rsqb;</number> If the aforementioned variations are individually measured in advance in a stage of apparatus assembling adjustment and stored in ROM constituting the block where the output light emission pattern is set, the variations of initial characteristics can be corrected individually. However, variations caused by environmental changes or variations generated over time cannot be corrected. In a case of adopting a RAM system, values are initialized from the system side when starting up the apparatus. However, since this is only to rewrite set data held by the system, the problem is not solved. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> The present invention has been proposed in view of the conventional problems, and has as its object to provide a pulsewidth modulation apparatus, which enables appropriate pulsewidth modulation in accordance with variations of a device or a driving system in a case where pulsewidth modulation is performed with digital data patterns, and to provide a printer utilizing the pulsewidth modulation apparatus, and a control method thereof. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> In order to solve the above problems, the pulsewidth modulation apparatus according to the present invention has, for instance, the following configuration. More specifically, a pulsewidth modulation apparatus for inputting multivalued pixel data expressed in a plurality of bits, generating a signal having a pulsewidth corresponding to a value of the multivalued pixel data, and outputting the generated signal to a predetermined print engine, comprises storage means arranged to store a digital pattern in an address position corresponding to the value of each multivalued pixel data in order to generate a binary-valued pattern corresponding to the value of the multivalued pixel data; and output means arranged to access the storage means by using inputted multivalued pixel data as an address to read a corresponding binary-valued pattern, and output a pulsewidth signal corresponding to a state of bits of the pattern, wherein the pattern stored in the storage means has a number of bits larger than a number that can be expressed by a number of bits of the inputted multivalued pixel data, and the pattern is rewritable. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate embodiments of the invention and, together with the description, serve to explain the principles of the invention. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing a main unit of a printer according to an embodiment of the present invention; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram of a light amount detector according to the embodiment of the present invention; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a timing chart employed in the construction shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4A and 4B</cross-reference> are views showing a relation between a digital pulsewidth and an additional pulsewidth of laser driving devices A and B; </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a graph showing a bare characteristic of a relation between the pulsewidth and amount of light of the laser driving devices A and B, and a characteristic upon correction performed for the amount of light 0; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flowchart showing determination processing steps of a pulsewidth addition amount for the amount of light 0 in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a table showing a relation between the target amount of light for each input data and a PWM width of each device according to the embodiment; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a flowchart showing steps of PWM determination processing; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a flowchart showing steps of PWM determination processing; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a graph in which input data according to the present embodiment and the amount of light obtained as a result of corrected PWM are plotted; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a block diagram showing a construction of an engine unit of a laser beam printer; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a view showing a construction of a color printer using four drums; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram showing a construction of an apparatus employing analog PWM; and </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram showing a construction of a two-beam system printer engine unit adopted by the present embodiment.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Preferred embodiments of the present invention will now be described in detail in accordance with the accompanying drawings. Note in this embodiment, a laser beam printer is described. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> A laser beam printer adopts a pulsewidth modulation (PWM) system for printing tones of an image. Known means to realize PWM is to convert a multivalued image signal to an analog signal, compare the analog signal with a triangular wave to generate a pulsewidth signal corresponding to a value of a pixel, and use the generated signal to drive a laser device. In this embodiment, PWM is realized by employing digital control instead of the analog control. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram of a main unit realizing PWM according to this embodiment and a timing chart thereof. Note that the embodiment describes an example in which an input pixel value has 4 bits, i.e., an image can be reproduced in 0 to 15 tones (16 tones). However, the number of bits of an input pixel is not limited to this example. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, reference numeral <highlight><bold>1001</bold></highlight> denotes a digital data output unit storing 32-bit light emission patterns for addresses 0 to 15. The digital data output unit is configured with a non-volatile memory (e.g., EEPROM, flash memory or the like) to enable rewriting contents thereof and maintaining the data when the power is turned off. Reference numeral <highlight><bold>1002</bold></highlight> denotes input data (4-bit pixel data), which is supplied to the digital data output unit <highlight><bold>1001</bold></highlight> as an address. Reference numeral <highlight><bold>1003</bold></highlight> denotes a control signal. Normally, a read signal is inputted to the digital data output unit <highlight><bold>1001</bold></highlight> in synchronization with pixel data. Note in a case of rewriting data in the digital data output unit <highlight><bold>1001</bold></highlight>, the control signal is changed to a rewrite signal, a pixel value is supplied as an address, and 32-bit data is supplied through a data bus shown in the drawing, thereby rewriting the data stored in the digital data output unit <highlight><bold>1001</bold></highlight>. Reference numeral <highlight><bold>1004</bold></highlight> denotes a shift register, which loads 32 bits of data in the position designated by the input data, and outputs a logical high signal for one clock cycle to the bits having &ldquo;1&rdquo;, while shifting the data in units of 1 bit in synchronization with a reference clock <highlight><bold>1005</bold></highlight> (a 32-fold frequency of the clock of the input data). In other words, for a pattern serially having &ldquo;1&rdquo;, a PWM signal <highlight><bold>1006</bold></highlight> having a width corresponding to the number of 1 is outputted. Reference numeral <highlight><bold>1007</bold></highlight> denotes a pulsewidth addition circuit which adds a pulsewidth signal for fine adjustment to the end of the PWM signal <highlight><bold>1006</bold></highlight> (details will be described later in the description of pulsewidth addition amount setting processing). The additional pulsewidth signal can be changed by the control signal <highlight><bold>1008</bold></highlight> (in the timing chart shown in the lower portion of <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the pulsewidth is increased by the hatched portion). </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Described next is <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, showing a block diagram (light amount detector) of a driving unit of the laser device and its surroundings. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Referring to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, reference numeral <highlight><bold>1201</bold></highlight> denotes a power supply for biasing a laser device and a photo-detector (PD). Reference numeral <highlight><bold>1202</bold></highlight> denotes an amplifier which amplifies the amount of laser beam detected by the PD, located inside the laser device. Reference numeral <highlight><bold>1203</bold></highlight> denotes a filter for damping high-frequency ripples or noise components of an output of the amplifier. Reference numeral <highlight><bold>1204</bold></highlight> denotes an averaging processor for obtaining an average value of the filter&apos;s outputs. Reference numeral <highlight><bold>1205</bold></highlight> denotes an engine of an image forming apparatus. Reference numeral <highlight><bold>1206</bold></highlight> denotes an APC light amount FB (feedback) that is a feedback signal for feedback-controlling the amount of laser beam to a predetermined value. Reference numeral <highlight><bold>1207</bold></highlight> denotes an LD light emission control signal for controlling emission/non emission of the laser device. Reference numeral <highlight><bold>1208</bold></highlight> denotes an APC timing signal for designating opening or closing a control loop of the feedback control of the amount of laser beam. Each of these control signals is supplied to the LD driver <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is an operation timing chart in a test mode. In <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, reference numeral <highlight><bold>1210</bold></highlight> denotes an APC timing; <highlight><bold>1211</bold></highlight>, a beam detect timing; and <highlight><bold>1212</bold></highlight>, an image zone timing. In this embodiment, assume that a laser beam is emitted when a logical signal is High (hereinafter referred to as H), and turned off when a logical signal is Low (hereinafter referred to as L). In normal printing processing, a signal corresponding to each pixel data is outputted in the image zone timing <highlight><bold>1212</bold></highlight>. When a test mode is designated from an operation panel (not shown), signals indicative of input data 0 to 15 (although the drawing shows skipped values, in reality, data for 0, 1, 2, . . . , and 15) are serially outputted (for instance, one scan line). Since the test mode is intended to perform detection and correction of the amount of light, conveyance of printing paper or generation of a toner image by a developer is not performed. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Reference numeral <highlight><bold>1214</bold></highlight> denotes an APC timing where the feedback loop is closed at H (feedback control is performed) and opened at L. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Reference numeral <highlight><bold>1215</bold></highlight> denotes input data; <highlight><bold>1216</bold></highlight>, one pixel cycle in the image writing zone; <highlight><bold>1217</bold></highlight>, a light amount detection value indicative of an output of the filter; and <highlight><bold>1218</bold></highlight>, an average amount of light value indicative of the average output value. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> Reference numeral <highlight><bold>1209</bold></highlight> denotes a signal BD, representing detection of a laser beam passing detected by a sensor, which is located outside the image writing area by a predetermined width. Reference numeral <highlight><bold>1213</bold></highlight> denotes a beam-detected timing. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> Hereinafter, the sequence of the test mode is described with reference to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. First, the LD light emission control signal is made H to emit a laser beam (timing <highlight><bold>1210</bold></highlight>). Then, the APC timing signal is made H to close the laser light amount feedback loop, thereby generating a controllable state (timing <highlight><bold>1214</bold></highlight>). In this stage, the APC light amount FB signal corresponding to the filter output is sampled by the LD driver <highlight><bold>24</bold></highlight>, and the amount of laser beam is recognized. The amount of sampled laser beam is compared with a predetermined target value (not shown). If the amount is lower than the target value, the laser driving current is increased, whereas if the amount is higher than the target value, the laser driving current is decreased. In this manner, the amount of laser beam is controlled to match the target value after a predetermined damping time. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> After a predetermined damping time, the APC timing signal is returned to L. When the LD driver <highlight><bold>24</bold></highlight> recognizes this state, it opens (cut off) the feedback loop. At the same time, the control state is maintained as it is, and the value in this state is fixed for laser driving. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Next, normal beam detect operation (treated as horizontal synchronization signal) is described. Upon adjusting the amount of light beam to a predetermined level in the above-described APC operation, the LD light emission control signal is again made H (timing <highlight><bold>1211</bold></highlight>) to turn on the laser at the timing which is appropriately prior to the timing the laser beam passes the beam detect sensor. When the laser beam passes the beam detect sensor, the beam detect signal is inverted, confirming beam detection that notifies passing of the laser beam (timing <highlight><bold>1213</bold></highlight>). Then, the LD light emission control signal is returned to L to turn off the laser. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Next, a pulsewidth addition function (determining processing of the signal <highlight><bold>1008</bold></highlight> supplied to the pulsewidth addition circuit <highlight><bold>1007</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>) is described. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Due to a light emission rising characteristic of a laser device and a current rising characteristic of a laser driver provided before the laser device, a laser beam is not generally emitted by a pulse signal having a smaller pulsewidth than a predetermined pulsewidth. For this reason, for an input data value corresponding to the lowest light emission (normally 0), a pulse adding up the delay time (the smallest pulsewidth that can emit laser beam) is added to a PWM output from the shift register. Although this pulsewidth addition depends upon the construction of the apparatus, in this embodiment, assume that the pulse is added uniformly to each final edge of the pulse <highlight><bold>1006</bold></highlight> (<cross-reference target="DRAWINGS">FIG. 1</cross-reference>) regardless of input data as mentioned above (this will be described later with reference to <cross-reference target="DRAWINGS">FIG. 6</cross-reference>). </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Next, a description is provided on the characteristic point of the present embodiment, in which the number of binary-valued dots of a light emission pattern for one pixel is made larger (to be more specific, the twice as many number or more is preferable) than the number of types of multivalued input pixel data (4 bits&equals;2<highlight><superscript>4</superscript></highlight>&equals;16 types). </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 4A and 4B</cross-reference> are tables where output driving patterns are set for each input data. Two tables are provided for appropriately correcting unevenness of laser beam emission devices A and B. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> Since it is assumed in this embodiment that input data for one pixel is 4 bits, there are input data values 0 to 15, and an output pattern has 32 bits. In <cross-reference target="DRAWINGS">FIGS. 4A and 4B</cross-reference>, &ldquo;the number of ON bits&rdquo; indicates the number of dots (left-aligned) stored in the digital data output unit <highlight><bold>1001</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The hatched portions indicate portions added by the pulsewidth addition circuit <highlight><bold>1007</bold></highlight>. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Hereinafter, the process of generating the correction data is described. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a graph showing an average amount of laser beam for a duty of a pulse signal inputted to laser driving devices A and B. In the horizontal axis, 0 indicates the minimum value 0%, and 255 indicates the maximum value 100%. In the vertical axis, 0 indicates the minimum value and 255 indicates the APC light amount. The lines 50 and 51 in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> show bare characteristics of the devices A and B before the aforementioned pulsewidth addition is performed. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> Generally it is assumed that a driving system supplies a predetermined bias current to a laser device even when a minimum-level pulsewidth for obtaining a laser beam is inputted. Therefore, a predetermined offset LED emission component exists. On the contrary, the average amount of light becomes equal to the APC light amount when the pulsewidth is in the maximum level, because of a delay characteristic caused when the laser device and laser driver are turned off, contrary to the minimum-level pulsewidth. In this embodiment, a description is provided assuming that the minimum amount of light is 30. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> When input data is 0, in order to perform pulsewidth addition to achieve the amount of light 30 in the devices A and B, it is necessary to enlarge PWM for input data 0. In this embodiment, a pulsewidth is added so that the device A (having the bare characteristic 50) achieves the characteristic 52 and the device B (having the bare characteristic 51) achieves the characteristic 53 for input data 0 as shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> (the graph lines practically shift in parallel). </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> A method of pulsewidth addition amount setting (the amount of shifting) is described with reference to the flowchart shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> Note although this processing is performed in an adjusting step of apparatus assembling, it may be regularly performed by a user. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In step S<highlight><bold>1</bold></highlight>, the number of dots of the light emission pattern for data input 0 is set to 1 dot (a pattern having &ldquo;1&rdquo; followed by thirty-one &ldquo;0&rdquo;), thereby setting the pulsewidth addition to 0. In this example, the pulsewidth addition value includes a rough-adjustment set value and a fine-adjustment set value. Both values are set in 0. In this state, input data 0 is serially inputted (step S<highlight><bold>2</bold></highlight>). The light amount detector (<highlight><bold>1204</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>) measures an average value of the amount of laser beam emission in this stage. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> In steps S<highlight><bold>3</bold></highlight> to <highlight><bold>5</bold></highlight>, the rough-adjustment set value (value set in the pulsewidth addition circuit <highlight><bold>1007</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>) is incremented by one step, and each time the value is incremented, it is determined whether or not the amount of laser beam exceeds the target value. In this example, the target value is 30. When the amount of laser beam exceeds 30, the repeated routine ends. When it is determined that the amount of laser beam exceeds 30, the rough-adjustment set value is returned to the value of the previous step in step S<highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> In steps S<highlight><bold>7</bold></highlight> to S<highlight><bold>9</bold></highlight>, the fine-adjustment set value is incremented by one step, and each time the value is incremented, it is determined whether or not the amount of laser beam exceeds the target value 30. When the amount of laser beam exceeds 30, the adjustment routine ends. Although it is possible to perform a fine-adjustment setting step that more closely achieves the target value by using the value obtained when the amount of laser beam exceeds the target value and the value of the previous step, this example omits such process. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> In the foregoing manner, a pulsewidth that can most closely achieve the amount of light beam 30 for input data 0 is determined. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Since the pulsewidth addition is uniformly performed on each light emission pattern of all the input data, the relation between the amount of light beam emission and the duty of a pulse signal prior to pulsewidth addition is shifted in parallel, as represented by the lines 52 and 53 in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In this embodiment, since one output pattern is formed with 32 dots, pulsewidth adjustment is performed so that the amount of light beam 30 is achieved at a position of X coordinate 8 (&equals;256/32) which corresponds to 1 dot. Although there may be an adjustment remainder depending on a resolution of the adjustment steps, the drawing shows the state of perfect adjustment for the purpose of simplicity. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Next, a relation between input data and the amount of output light is described. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Conventionally, since the number of dots of the pattern is 2<highlight><superscript>n </superscript></highlight>while the number of bits of input data is n, the amount of output light is determined on a one-to-one basis with the input data. For instance, in a case where 16 types of 4-bit data are inputted, the number of dots in a pattern is 16. Therefore, the dot numbers 1 to 16 or 0 to 15 are practically allocated to the 16 types of input data. On the contrary, according to the present embodiment, it is possible to set the number of dots twice as many (or more) as the number of types of input data as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. Therefore, finer setting is possible. More specifically, since 32 dots can be allocated to 16 types of input data, it is possible to make adjustment so that a predetermined relation between the input data and the amount of light is achieved. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> For instance, assume that it is to achieve the amount of light 50 when input data is 1, achieve the amount of light 200 when input data is 14, and achieve the amount of light 255 when input data is 15. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, on the point of the step of horizontal axis 8 (&equals;256/32), a point that can most closely achieve each target amount of light is determined. There are cases that plural steps achieving the amount of light 255 exist. In this case, for instance, a rule adopting the smallest step is employed. Furthermore, the amount of light 50 to 200 are uniformly divided by 13, and the point that most closely achieves each of the 12 values of the amount of light on the point of the step of horizontal axis 8 is allocated to each of the input data 2 to 13. Each step determined in the foregoing manner is allocated to the light emission pattern table as the number of dots in units of 8 steps. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> The obtained number of dots is left aligned and set in the light emission pattern table as shown in <cross-reference target="DRAWINGS">FIGS. 4A and 4B</cross-reference>. &ldquo;The number of ON bits&rdquo; in the drawing indicates the number of bits of &ldquo;1&rdquo; in the data stored in the digital data output unit <highlight><bold>1001</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The hatched portions correspond to the set contents of the pulsewidth addition circuit <highlight><bold>1007</bold></highlight>. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> As described above, by virtue of having the number of binary-valued dots of a light emission pattern for one pixel twice as many as the number of types of multivalued input image data, in the light emission modulation means having in storage means a plurality of types of a light emission pattern for one pixel, expressed in an emission/non emission binary-valued dot string, for each multivalued input image data, which reads out the light emission pattern from the storage means in accordance with multivalued input image data inputted in time series and outputs a light emission driving signal to a light emission device, uneven transmission characteristics of a laser driving device or laser are absorbed, and the relation between the input data and the amount of output light can individually be adjusted to a predetermined characteristic. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> Hereinafter, a description is provided on setting processing of the number of dots for input data 0 to 15 (to be more specific, input data 1 to 15 excluding 0, since the number of dots for input data 0 has been determined in the pulsewidth addition processing). </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> To simplify the description, the target amount of light (average) for each input data is set as that shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, reflecting the above description. In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, values of the target amount of light for input data 0 to 15 are the final target values. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In this embodiment, data 0 is serially outputted in the test mode at timing <highlight><bold>1212</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> to determine a pulsewidth to be added for achieving the amount of light 30. As a result, a parameter to be set in the pulsewidth addition circuit <highlight><bold>1007</bold></highlight> is determined. Thereafter, processing for determining a 32-bit pattern for each of the data 1, 2, . . . , and 15 is performed. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> Herein, an initial number of dots for data 1 is determined (determined similarly for data 2 to 15), and a pattern that most closely achieves the target amount of light is decided as a dot pattern for data 1, and the pattern is stored in the digital data output unit <highlight><bold>1001</bold></highlight>. Hereinafter, details are described. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows processing contents for the input data 1 to 14. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> In step S<highlight><bold>11</bold></highlight>, 1 is set in the data address S. This is equivalent to setting input data 1 as an address of the digital data output unit <highlight><bold>1001</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> Next, data having 1 for the first one bit and 0 for the remaining thirty-one bits (if the data is expressed in a hexadecimal numeral (H) with the first bit being a MSB, 80000000H) is set in the address S. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> In step S<highlight><bold>13</bold></highlight>, LD driving is performed by serially supplying data 1. The driving result corresponds to the result of pulsewidth addition set prior to this processing. Next, in step S<highlight><bold>14</bold></highlight>, the average amount of light is acquired. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> In step S<highlight><bold>15</bold></highlight>, it is determined whether or not the amount of light is larger than the target amount of light. If the amount of light has not reached the target amount of light, a difference (absolute value) between the acquired amount of light and the target amount of light is calculated in step S<highlight><bold>16</bold></highlight>. In step S<highlight><bold>17</bold></highlight>, the number of bits of &ldquo;1&rdquo; of the pattern stored in the digital data output unit <highlight><bold>1001</bold></highlight> is increased by 1 (increased so that bit <highlight><bold>1</bold></highlight> is successive), and the control returns to step S<highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> When it is determined that the acquired amount of light exceeds the target amount of light, a difference (absolute value) between the acquired amount of light and the target amount of light is calculated in step S<highlight><bold>18</bold></highlight>, and the difference is compared with an immediately preceding difference (the timing at which the maximum amount of light that does not achieve the target amount of light is detected). The value having a smaller difference between the acquired amount of light and the target amount of light is selected and stored in the digital data output unit <highlight><bold>1001</bold></highlight> (steps S<highlight><bold>19</bold></highlight> and S<highlight><bold>20</bold></highlight>). </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> In step S<highlight><bold>21</bold></highlight>, it is determined whether or not the value of the data of interest is 14. If NO, the control proceeds to step S<highlight><bold>23</bold></highlight>. The next address position is set in the address S, and a previously determined pattern is set as an initial pattern, in preparation for the pattern determination processing of the next data. Thereafter, the above-described processing is repeated. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> Next, setting processing of table address S&equals;15 is described with reference to <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> In step S<highlight><bold>31</bold></highlight>, the table address S is set in 15 that is the last data. One dot is added to the pattern determined for data 14, and this pattern is set as the initial data of this table address. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> In step S<highlight><bold>32</bold></highlight>, the laser is driven with the set pattern, and the amount of light is acquired in step S<highlight><bold>33</bold></highlight>. If it is determined in step S<highlight><bold>34</bold></highlight> that the acquired amount of light does not exceed the target amount of light (L&prime;(15)), the number of bits of &ldquo;1&rdquo; in the pattern is increased and the processing is repeated from step S<highlight><bold>32</bold></highlight>. When it is determined that the acquired amount of light achieves the target amount of light, this processing ends and the pattern data is adopted. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> As a result of the foregoing processing, the number of ON bits for each input data, which is appropriate for each of the devices A and B, is determined as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a graph in which the amounts of light achieved by the 32-bit patterns for the devices A and B and the added pulsewidth are plotted on the target-value line. By virtue of the above-described processing, the amounts of light emitted by the devices having different characteristics are about the same as the target value as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> As has been described above, according to the present embodiment, it is possible to correct unevenness and variations of the relation between input data and the amount of output light, due to a disturbance including not only the variations in initial characteristics of the light emission device and light emission driving device but also variations caused by environmental changes or variations generated over time. Thus, it is possible to maintain high quality in formed images. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> Note although the above embodiment has described processing performed in factories, this processing may be executed when a predetermined operation is performed on an operation panel which is normally included in a printer. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> Furthermore, although the above embodiment has described that input multivalued pixel data has 4 bits, the present invention is not limited to this number of bits. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> Moreover, although the above embodiment has shown an example of scanning the drum with one laser beam, two laser beams may be generated as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, and the construction according to the above embodiment may be provided for each laser beam. In this case, it should be easy to understand if assumed that the two devices a and b in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> correspond to the aforementioned devices A and B. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> For the components in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> which are similar to those in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the same reference numerals are assigned to simplify the description. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> A two-beam-type laser chip <highlight><bold>23</bold></highlight>, having laser diodes a and b, comprises a photodiode c which receives backlight of each laser diode. The LD driver <highlight><bold>24</bold></highlight> supplies driving currents Id<highlight><bold>1</bold></highlight> and Id<highlight><bold>2</bold></highlight> for controlling emission of each laser diode. The monitor current Im, detecting the amount of light emitted from the photodiode, is inputted to the LD driver <highlight><bold>24</bold></highlight> to perform automatic power control (APC) of the amount of light emission of the laser diodes a and b. In the laser chip <highlight><bold>23</bold></highlight>, two laser beams cannot be emitted at intervals of one pixel (about 42 &mgr;m for 600 dpi) because of the characteristic of the laser chip. For this reason, the laser chip is arranged at an angle so as to generate two beams in the positions apart from each other by, for instance, 16 pixels (printing pixel) in the laser scanning direction as shown in FIG. <highlight><bold>14</bold></highlight>. A modulated laser beam generated by the laser chip <highlight><bold>23</bold></highlight> is polarized by the polygon mirror <highlight><bold>18</bold></highlight>, which is fixed to a motor axle and rotated in the direction of the arrow shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, and scanned on the photosensitive drum <highlight><bold>20</bold></highlight>. The f-&thgr; lens <highlight><bold>19</bold></highlight> is provided to condense the polarized modulated laser beam on the photosensitive drum <highlight><bold>20</bold></highlight> at a regular linear velocity. The photosensitive drum <highlight><bold>20</bold></highlight> and printing toner are electrostatically charged to predetermined levels in advance. Since the amount of toner attachment changes in accordance with the amount of light irradiated on the photosensitive drum <highlight><bold>20</bold></highlight>, a halftone image can be printed. The BD mirror <highlight><bold>21</bold></highlight> is provided with a fixed mechanical position relation with the photosensitive drum <highlight><bold>20</bold></highlight>. A laser beam reflected by the BD mirror <highlight><bold>21</bold></highlight> is inputted to the photoreceptive diode <highlight><bold>22</bold></highlight>, and used to detect a data write starting position on the photosensitive drum <highlight><bold>20</bold></highlight>. An output of the photoreceptive diode <highlight><bold>22</bold></highlight> is inputted to the horizontal synchronization signal generator <highlight><bold>27</bold></highlight> to generate a horizontal synchronization signal BD. The signal BD is inputted to the pixel modulator <highlight><bold>25</bold></highlight>. The pixel modulator <highlight><bold>25</bold></highlight> generates a pixel clock synchronizing with the horizontal synchronization signal BD or a coefficient-fold clock of the signal BD. Based on the pixel clock, read clocks RK<highlight><bold>1</bold></highlight> and RK<highlight><bold>2</bold></highlight> for reading pixel data are inputted to the pixel data generator <highlight><bold>26</bold></highlight>. The pixel data generator <highlight><bold>26</bold></highlight> outputs pixel data D<highlight><bold>1</bold></highlight> and D<highlight><bold>2</bold></highlight> and write clocks WK<highlight><bold>1</bold></highlight> and WK<highlight><bold>2</bold></highlight> to the pixel modulator <highlight><bold>25</bold></highlight>. Based on the inputted pixel data, pixel modulation signals ON<highlight><bold>1</bold></highlight> and ON<highlight><bold>2</bold></highlight>, which enable modulation of a desired amount of laser beam, are outputted to the LD driver <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> To print a color image with the above construction, the two-beam structure is provided to each of the four drums for Y, M, C and K. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> By employing the aforementioned construction of the above embodiment in the printer engine having foregoing construction, it is possible to realize position deviation correction in an image caused by a timing error of the signal BD in the image writing unit. This is electrically realized in a level of {fraction (1/32)} pixel by controlling a phase (delay) of the pixel clock with absolute pixel position setting data RG in the pixel modulator <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> Since the two-beam laser chip <highlight><bold>23</bold></highlight> is arranged at a gentle angle as mentioned above, an error or variation of the arrangement angle causes variations in the beam intervals, which then necessitate pixel position correction. However, the correction is also electrically possible in a level of {fraction (1/32)} pixel by controlling a phase (delay) of the pixel clock with relative pixel position setting data RP in the pixel modulator <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> Furthermore, it is necessary to correct an error of an image size, caused by unevenness in optical machine accuracy of the laser chip <highlight><bold>23</bold></highlight>, polygon mirror <highlight><bold>18</bold></highlight>, f-&thgr; lens <highlight><bold>19</bold></highlight>, and photosensitive drum <highlight><bold>20</bold></highlight>. The correction is realized by incorporating a frequency synthesizer in the pixel modulator to change the pixel clock frequency, and then using pixel frequency setting data DF. Therefore, pixel position setting data DS for pixel positioning is inputted to the pixel modulator of the image writing unit in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> Although the above embodiment has described an example of a printer in which a laser beam scans the photosensitive drum, the present invention is not limited to this example. For instance, the present invention may be applied to an apparatus employing an array of LEDs, each of which is turned on/off for forming an electrostatic latent image on the photosensitive drum. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> As has been described above, according to the present invention, in a case of performing pulsewidth modulation with the use of a digital data pattern, it is possible to perform appropriate pulsewidth modulation in accordance with variations of a device or a driving system. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A pulsewidth modulation apparatus for inputting multivalued pixel data expressed in a plurality of bits, generating a signal having a pulsewidth corresponding to a value of the multivalued pixel data, and outputting the generated signal to a predetermined print engine, comprising: 
<claim-text>storage means arranged to store a digital pattern in an address position corresponding to the value of each multivalued pixel data in order to generate a binary-valued pattern corresponding to the value of the multivalued pixel data; and </claim-text>
<claim-text>output means arranged to access said storage means by using inputted multivalued pixel data as an address to read a corresponding binary-valued pattern, and output a pulsewidth signal corresponding to a state of bits of the pattern, </claim-text>
<claim-text>wherein the pattern stored in said storage means has a number of bits larger than a number that can be expressed by a number of bits of the inputted multivalued pixel data, and the pattern is rewritable. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the number of bits of each pattern stored in said storage means is twice as many as the number that can be expressed by a number of bits of the inputted multivalued pixel data. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising rewrite means arranged to rewrite the pattern stored in said storage means in accordance with a characteristic of the print engine. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, 
<claim-text>wherein the print engine includes laser driving means which performs emission/non emission of a laser beam in accordance with a pulsewidth signal, and light emission amount detection means which detects an average value of the emission amount of the laser beam, </claim-text>
<claim-text>wherein upon sequentially outputting multivalued pixel test data, an average light emission amount is detected for each test data by said light emission amount detection means, a pattern to be written is determined based on the detected average light emission amount and a target light emission amount, and the determined pattern is stored in said storage means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising addition means arranged to generate a pulsewidth signal, having a pulsewidth smaller than a pulsewidth reproduced by bits of the pattern, and add the generated pulsewidth signal to the pulsewidth signal outputted by said output means. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein said addition means adds a pulsewidth which achieves a lowest density that can be reproduced by the print engine. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the print engine is a laser beam printer engine. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The pulsewidth modulation apparatus according to <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, comprising means for scanning two laser beams on one photosensitive drum of the laser beam printer engine, wherein each of said scanning means includes said storage means and said output means. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. An image printing apparatus for printing an image on a printing medium by inputting multivalued pixel data expressed in a plurality of bits, generating a pulsewidth modulation signal having a pulsewidth corresponding to a value of the multivalued pixel data, and outputting the pulsewidth modulation signal to a print engine, comprising: 
<claim-text>storage means arranged to store a digital pattern in an address position corresponding to the value of each multivalued pixel data in order to generate a binary-valued pattern corresponding to the value of the multivalued pixel data; and </claim-text>
<claim-text>output means arranged to access said storage means by using inputted multivalued pixel data as an address to read a corresponding binary-valued pattern, and output a pulsewidth signal corresponding to a state of bits of the pattern, </claim-text>
<claim-text>wherein the pattern stored in said storage means has a number of bits larger than a number that can be expressed by a number of bits of the inputted multivalued pixel data, and the pattern is rewritable. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A control method of an image printing apparatus for printing an image on a printing medium by outputting a pulsewidth modulation signal to a print engine, said image printing apparatus including: input means which inputs multivalued pixel data expressed in a plurality of bits; storage means which stores for a value of each multivalued pixel data a binary-valued pattern constructed with a number of bits larger than a maximum value that can be expressed by inputted multivalued pixel data; and output means which accesses the storage means by using the inputted multivalued pixel data as an address to read a corresponding binary-valued pattern and outputs a pulsewidth signal corresponding to a state of bits of the pattern, 
<claim-text>said control method comprising the steps of: 
<claim-text>detecting a state of the print engine for each test data by sequentially outputting multivalued pixel test data; </claim-text>
<claim-text>determining a pattern to be written based on the state detected in said detecting step and a target state; and </claim-text>
<claim-text>storing the determined pattern in the storage means. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The control method of an image printing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, said print engine including laser driving means which performs emission/non emission of a laser beam in accordance with a pulsewidth signal, and light emission amount detection means which detects an average value of the emission amount of the laser beam, 
<claim-text>wherein in said detecting step, multivalued pixel test data is sequentially outputted, and an average light emission amount is detected for each test data by the light emission amount detection means. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The control method of an image printing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, said image printing apparatus including addition means which generates a pulsewidth signal having a pulsewidth smaller than a pulsewidth reproduced by bits of the pattern, and adds the generated pulsewidth signal to the pulsewidth signal outputted by the output means, 
<claim-text>said control method further comprising the step of setting the addition means to add a pulsewidth which achieves a lowest density that can be reproduced by the print engine.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001686A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001686A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001686A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001686A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001686A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001686A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001686A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001686A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001686A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001686A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001686A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030001686A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030001686A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030001686A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030001686A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
