<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001564A1-20030102-P00900.TIF SYSTEM "US20030001564A1-20030102-P00900.TIF" NDATA TIF>
<!ENTITY US20030001564A1-20030102-D00000.TIF SYSTEM "US20030001564A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001564A1-20030102-D00001.TIF SYSTEM "US20030001564A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001564A1-20030102-D00002.TIF SYSTEM "US20030001564A1-20030102-D00002.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001564</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10176546</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020624</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-199168</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G01B007/30</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G01B007/14</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G06F019/00</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>324</class>
<subclass>207120</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>324</class>
<subclass>207250</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>324</class>
<subclass>207130</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>702</class>
<subclass>091000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>High precision position detecting apparatus capable of removing error contained in signal</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Yasukazu</given-name>
<family-name>Hayashi</family-name>
</name>
<residence>
<residence-non-us>
<city>Niwa-gun</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>OKUMA CORPORATION</organization-name>
<address>
<city>Nagoya-shi</city>
<country>
<country-code>JP</country-code>
</country>
</address>
<assignee-type></assignee-type>
</assignee>
<correspondence-address>
<name-1>OLIFF &amp; BERRIDGE, PLC</name-1>
<name-2></name-2>
<address>
<address-1>P.O. BOX 19928</address-1>
<city>ALEXANDRIA</city>
<state>VA</state>
<postalcode>22320</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A high precision position detecting apparatus is provided in which a periodical position detecting error caused by an offset, dispersion of an amplitude difference, or a phase difference in an output signal of a position sensor is reduced. Digitized values DS and DC of the position sensor are subjected to averaging processing to output values ADS and ADC. A multiplier and an integrator calculate values ADS and ADC, using an output DST of a distance calculator, and obtain values SOS and COS which are substantially proportional to a value derived by integrating two output signals of the position sensor by a movement quantity. A divider divides the values SOS and COS by a value DSTS which is equivalent to a displacement and outputs values SO and CO which are equivalent to the average of two output signals of the position sensor. When a signal SET changes from low to high for each integer multiple period of two output signals of the position sensor, values SO and CO as offset components are stored in a memory. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to a high precision position detecting apparatus capable of removing error caused by an offset in a signal from a position sensor outputting two signals which periodically vary in correspondence with measured displacement and differ 90&deg; in phase, or by an amplitude difference or a phase difference between the two signals. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Generally, when a movable unit or the like of a machine tool is moved, not only is positional control based on position information detected by a position detecting apparatus performed, but speed feedback control of an electric motor based on speed information derived from a difference in the position information is also performed. There has especially been a trend to increase a loop gain of the speed feedback in order to improve the response characteristics of a machine. The above-described conventional position detecting apparatus can remove an offset or an amplitude difference contained in output of a position sensor immediately after manufacture, but error caused by a change of an offset or an amplitude difference with the passage of a time after manufacture or by the installation environment of the position sensor cannot be removed. In other words, after the position detecting apparatus is manufactured, the offset or the amplitude difference generates a delicate change due to variations in the ambient temperature, changes in the components of the position sensor, leakage magnetic flux generated by an electric motor having the position detecting apparatus incorporated therein, and the like. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Furthermore, in the conventional position detecting apparatus, a generally used method of measuring the offset value or the amplitude correction value at the time of manufacture is to measure the maximum value and the minimum value of the output signal from the position sensor and derive the offset value and the amplitude value from the average thereof and the difference therebetween. Alternatively, as disclosed in Japanese Patent Laid-Open Publication No. Hei 5-256638, the offset value and the amplitude value can be derived from position sensor output signal values from a plurality of positions satisfying a specific condition. Because values of the position sensor output signal at a specific position are used in these methods, the methods are likely to be influenced by noise, waveform distortion, or the like, and there remains a problem that the offset and amplitude correction values cannot be precisely measured at the time of manufacture of the position detecting apparatus. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Ordinarily, influence exerted on the machining accuracy of a machine tool by a change of the offset, the amplitude difference, or the phase difference over time, or by measurement error at the time of shipment is, for practical purposes, negligibly small. However, because the position detecting error caused by such error becomes an error having a cycle equal to or twice that of the error of output signal of the position sensor, a frequency of speed ripple caused by the error and a machinery resonance frequency may, depending on the moving speed of the movable unit, coincide with each other and generate an irregular sound at the resonance position. In particular, because the irregular sound increases in proportion to the loop gain of the speed feedback and loop gain therefore cannot be increased, mechanical performance deteriorates. This problem is common also with optical type or magnetic type encoders in addition to a conventionally used resolver, whenever a position is derived by interpolation processing from two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The present invention was conceived to solve the above-described problems, and an object thereof is to provide a high precision position detecting apparatus capable of reducing periodic position detecting error caused by change in an offset, an amplitude difference or a phase difference over the passage of time or by installation environment, which is contained in an output signal of a position sensor having, as output, a plurality of signals which periodically vary in correspondence with measured displacement and respectively differ in phase, for improvement of the response characteristics of a movable unit of a machine tool or the like. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> In the following, <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram showing an example of a position detecting apparatus. In <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> position sensor <highlight><bold>1</bold></highlight> is a one-phase excitation two-phase output type resolver, which outputs a multiple of 100 times a rotational angle &thgr; of the input shaft of the position sensor. Namely, when an input shaft is rotated, an excitation signal is amplitude modulated to a sine value and cosine value of a rotation quantity by the resolver, and signals AS and AC amplified by amplifiers <highlight><bold>2</bold></highlight> and <highlight><bold>3</bold></highlight> are output. In the example shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, frequency of the excitation signal is 50 KHz, and, if the rotation angle of the input shaft of the position sensor <highlight><bold>1</bold></highlight> is set as &thgr; and the amplitude of the output signal is set as G, the signals AS and AC can be expressed by the following formulas 1 and 2: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>AS&equals;G</italic></highlight>&middot;Sin (100&thgr;) Sin (2&middot;&pgr;&middot;50000<highlight><italic>&middot;t</italic></highlight>&emsp;&emsp; . . . (1)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>AC&equals;G</italic></highlight>&middot;Cos (100&thgr;) Sin (2&middot;&pgr;&middot;50000<highlight><italic>&middot;t</italic></highlight>&emsp;&emsp; . . . (2)</in-line-formula></paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> These signals AS and AC are sampled and digitized by a pulse signal TIM of a period of 20 &mgr;S output in synchronism with the excitation signal from a timing controller <highlight><bold>13</bold></highlight> at a timing of Sin (100000&pgr;t)&equals;1 by respective AD converters <highlight><bold>4</bold></highlight> and <highlight><bold>5</bold></highlight>, and converted into values DS and DC, respectively. Consequently, the values DS and DC can be expressed by formulas 3 and 4 below, respectively, and the output of the position sensor can be regarded as two signals which periodically vary in correspondence with the measured displacement &thgr; and differ 90&deg; in phase each other, the formulas being: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DS&equals;G</italic></highlight>&middot;Sin (100&thgr;)&emsp;&emsp; . . . (3)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DC&equals;G</italic></highlight>&middot;Cos (100&thgr;)&emsp;&emsp; . . . (4)</in-line-formula></paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Because in actual practice the above-described digitized two values DS and DC contain an offset voltage and an amplitude difference due to product dispersion of the position sensor, or a signal amplifier, the above-described formulas 3 and 4 are more exactly expressed by the following formulas 5 and 6: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DS&equals;B&middot;G</italic></highlight>&middot;Sin (100&thgr;)&plus;SOF&emsp;&emsp; . . . (5)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DC&equals;G</italic></highlight>&middot;Cos (100&thgr;)&plus;COF&emsp;&emsp; . . . (6)</in-line-formula></paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> These offset values SOF, COF and an amplitude correction value BAJ (&equals;1/B) representing the amplitude ratio between two signals contained in these values DS and DC are measured at the time of manufacture of the position detecting apparatus, stored in a nonvolatile memory or the like in the position detecting apparatus, and set in respective memories <highlight><bold>6</bold></highlight>, <highlight><bold>7</bold></highlight>, and <highlight><bold>10</bold></highlight> prior to performance of position detection. In subtraction devices <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight>, the offset values SOF and COF stored in the memories <highlight><bold>6</bold></highlight> and <highlight><bold>7</bold></highlight> are subtracted from the values DS and DC, respectively, to create values DSA and DCA. The value DSA is further multiplied by a multiplier <highlight><bold>11</bold></highlight> with the amplitude correction value BAJ stored in the memory <highlight><bold>10</bold></highlight> to become a value DSB of an amplitude which is approximately equal to that of the value DCA. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The values DSB and DCA are subjected to inverse tangent calculation with two variables as input by an interpolation calculator <highlight><bold>12</bold></highlight> and converted into a position signal POS representing a rotation quantity within 1/100<highlight><superscript>th </superscript></highlight>of one rotation of the input shaft of the position sensor <highlight><bold>1</bold></highlight>. Then, although not shown in the drawing, in an actual position detecting apparatus, position data of at least more than one rotation of the input shaft of the position sensor <highlight><bold>1</bold></highlight> is derived by incremental processing or the like based on the change of the position signal POS. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> It should again be noted that, even after the manufacture of the position detecting apparatus, offset and amplitude differences are generated as a result of variation of ambient temperature, replacement of components comprising the position sensor, leakage magnetic flux generated by an electric motor having the position detecting apparatus incorporated therein, or the like. Removal of the offset or the amplitude error due to the passage of a time or the installation environment as such is not possible with the position detecting apparatus shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Furthermore, in the example shown in <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> minimal phase error for 90&deg; phase difference between the two signals of the position sensor output signal, and this minimal phase error cannot be corrected with high precision at the time of manufacture of the position detecting apparatus. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> According to the position detecting apparatus of the present invention, the periodical position detecting error generated by the change of the offset value, the amplitude difference, phase difference, or the like of the position sensor output signal with the passage of a time, which has conventionally been a problem, can be automatically and reliably reduced. Moreover, because the offset value, the amplitude correction value, or the phase correction value is automatically derived based on position sensor output signals at a plurality of positions, values less susceptible to influence of signal noise or waveform distortion can be precisely detected. Thereby high precision position detection is made possible, and the response characteristics of the movable unit of a machine tool or the like can thus be improved. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> The present invention relates to a position detecting apparatus for converting an output from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase, into position information, and the above-described object of the present invention is achieved by configuring an offset memory, an offset remover for removing an offset value stored in the offset memory from two output values of a position sensor, an interpolation calculator for converting the two output values from the offset remover into a position signal, a signal memory for storing the two output values of the position sensor, a distance calculator for calculating the displacement based on the two output values of the position sensor, a signal integrator for integrating the two output values of the position sensor and an output value of the distance calculator, an offset value calculator for calculating offset values based on the two output values of the signal integrator and the output value of the distance calculator, and an offset value setting device for setting the output values of the offset value calculator in the offset memory, after each period change of the position sensor output signal. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> Furthermore, the above-described object of the present invention is also achieved by configuring an offset memory, an offset remover for removing an offset value stored by the offset memory from two output values of a position sensor, an interpolation calculator for converting the two output values of the offset remover into a position signal, a signal memory for storing the two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each of the two output values and for calculating a square root of a value derived by adding the two values after the squaring calculations, a distance integrator for integrating the output value of the distance calculator, a signal multiplier for multiplying the two output values of the position sensor by the output value of the distance calculator, a signal integrator for integrating the two output values of the signal multiplier, an instructor for issuing a storage instruction and an integration instruction to the signal memory and the signal integrator, respectively, when the output value of the distance calculator exceeds a fixed value, a divider for dividing the two output values of the signal integrator by the output value of the distance integrator, and an offset value setting device for setting the two output values of the divider in the offset memory, after each period change of the position sensor output signal. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> Furthermore, the above-described object of the present invention may also be achieved by configuring an amplitude correction value memory for storing an amplitude correction value, an amplitude corrector for correcting the signal amplitude of one output signal of a position sensor in accordance with the amplitude correction value stored in the amplitude correction value memory, an interpolation calculator for converting another output value of the position sensor and the output value of the amplitude corrector into a position signal, a signal memory for storing the two output values of the position sensor, a distance calculator for calculating a displacement(distance moved)based on the two output values of the position sensor, a positive number converter for converting the two output values of the position sensor into positive numbers, a converted positive number integrator for integrating the two output values of the positive number converter and the output value of the distance calculator, an amplitude correction value calculator for calculating an amplitude correction value based on the output value of the converted positive number integrator and the output value of the distance calculator, and an amplitude correction value setting device for setting the output value of the amplitude correction value calculator in the amplitude correction value memory, after each one half the period change of the position sensor output signal. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> Furthermore, the above-described object of the present invention may still further be achieved by configuring an amplitude correction value memory for storing an amplitude correction value, an amplitude corrector for correcting the signal amplitude of one of the output signals of the position sensor in accordance with the amplitude correction value stored in the amplitude correction value memory, an interpolation calculator for converting another of the output values of the position sensor and the output value of the amplitude corrector into a position signal, a signal memory for storing the two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each the two output values of the position sensor and for calculating a square root of a value derived by adding the two values after the squaring calculations, a distance integrator for integrating the output value of the distance calculator, a positive number converter for calculating a product of the output value of the distance calculator and each of the squared output values of the position sensor, a converted positive number integrator for integrating the two output values of the positive number converter, an instructor for issuing a storage instruction to the signal memory and an integration instruction to the converted positive number integrator when the output value of the distance calculator exceeds a fixed value, an amplitude correction value calculator for calculating an amplitude correction value from the output values of the distance integrator and the converted positive number integrator, and an amplitude correction value setting device for setting the output value of the amplitude correction value calculator in the amplitude correction value memory, after each one half the period change of the position sensor output signal. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> Furthermore, the above-described object of the present invention may also be achieved by configuring a phase difference correction value memory for storing a phase difference correction value, a phase corrector for correcting one signal phase of one of the output signals of a position sensor in accordance with the phase difference correction value stored in the phase difference correction value memory and another of the output signals of the position sensor, an interpolation calculator for converting one of the output values of the position sensor and the output value of the phase corrector into a position signal, a signal memory for storing the two output values of the position sensor, a distance calculator for calculating a displacement based on the two output values of the position sensor, a correlation calculator for multiplying the two output values of the position sensor by the output value of the distance calculator, a correlation integrator for integrating the output value of the correlation calculator and the output value of the distance calculator, a phase difference correction value calculator for calculating the phase difference correction value based on the output value of the correlation integrator and the output value of the distance calculator, and a phase correction value setting device for setting the output value of the phase difference correction value calculator in the phase correction value memory, after each one half period change of the position sensor output signal. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> Moreover, the above-described object of the present invention is achieved by configuring a phase difference correction value memory for storing a phase difference correction value, a phase corrector for correcting one signal phase of one of the output signals of a position sensor in accordance with the phase difference correction value stored by the phase difference correction value memory and another of the output signals of the position sensor, an interpolation calculator for converting one output value of the position sensor and the output value of the phase corrector into a position signal, a signal memory for storing two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each of the two output values of the position sensor and for calculating a square root of a value derived by adding the two values after the squaring calculations, a distance integrator for integrating the output value of the distance calculator, a correlation calculator for multiplying a product of the two output values of the position sensor by the output value of the distance calculator, a correlation integrator for integrating the output value of the correlation calculator, an instructor for issuing a storage instruction to the signal memory and an integration instruction to the correlation integrator, when the output value of the distance calculator exceeds a fixed value, a phase difference correction value calculator for calculating the phase difference correction value from the output values of the distance calculator and the correlation integrator, and a phase correction value setting device for setting the output value of the phase difference correction value calculator in the phase correction value memory, after each one half period change of the position sensor output signal. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> In the position detecting apparatus according to the present invention, the offset value, the amplitude correction value, and the phase correction value of the position sensor output signal are automatically derived utilizing signals output by the position sensor at a plurality of positions. The offset value, the amplitude correction value, and the phase correction value, are therefore less susceptible to the influence of a signal noise or waveform distortion and can be precisely detected. By correcting the position sensor output signal with these values, high precision position detection is possible.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing an embodiment of a position detecting apparatus according to the present invention; and </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a block diagram showing a conventional position detecting apparatus.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The present invention is based on a concept that a rotational displacement of a position sensor is divided into each of micro rotational displacements (increments), for observation based on each period change or each one half period change of a position sensor output signal, whereby a change of an offset or an amplitude correction value with the passage of time after manufacture can be determined and used for calculation. For example, when an output signal, which is a function of a sine wave, is sequentially integrated by the micro rotational displacement for a integral region of one period of this signal, the integrated value must be zero if there is no offset. On the contrary, if the integrated value is not zero, this integrated value corresponds to an offset value. Similarly, when a square of an output signal is sequentially integrated by the micro rotational displacement for an integral region of one half the period of this signal, and the previously derived offset value is subtracted, then the value obtained is an effective value. From a ratio of the effective values of two output signals, an amplitude correction value or the like is obtained. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Hereinafter, a preferred embodiment of the present invention is described with reference to the drawings. <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing an embodiment of a position detecting apparatus according to the present invention corresponding to the conventional position detecting apparatus shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. Components of the position detecting apparatus shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> which have the same function as those shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> are labeled with the same numerals and their descriptions are not repeated. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> First, in the position detecting apparatus shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, values DS and DC derived by digitizing output signals from a position sensor <highlight><bold>1</bold></highlight> are subjected to the averaging processing shown by calculations of the following formulas 7 and 8 by averaging processors <highlight><bold>14</bold></highlight> and <highlight><bold>15</bold></highlight>: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>ADS</italic></highlight>(<highlight><italic>n</italic></highlight>)&equals;(<highlight><italic>DS&minus;ADS</italic></highlight>(<highlight><italic>n&minus;</italic></highlight>1))/<highlight><italic>N&plus;ADS</italic></highlight>(<highlight><italic>n&minus;</italic></highlight>1)&emsp;&emsp; . . . (7)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>ADC</italic></highlight>(<highlight><italic>n</italic></highlight>)&equals;(<highlight><italic>DC&minus;ADC</italic></highlight>(<highlight><italic>n&minus;</italic></highlight>1))/<highlight><italic>N&plus;ADC</italic></highlight>(<highlight><italic>n&minus;</italic></highlight>1)&emsp;&emsp; . . . (8)</in-line-formula></paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> Symbols n and N in the formulas 7 and 8 are numbers which are initialized at &thgr; when a signal SUM increases from low to high, and incrementally increase corresponding to each change of a signal TIM from low to high. Furthermore, when n is larger than 256, N is fixed at N&equals;256. It should be noted that ADS (n) and ADC (n) show the values of ADS and ADC at n, and that ADS(0)&equals;ADC(0)&equals;O. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> Then, the output values ADS and ADC from the position sensor <highlight><bold>1</bold></highlight> which are averaged by the averaging processors <highlight><bold>14</bold></highlight> and <highlight><bold>15</bold></highlight> are stored in memories <highlight><bold>37</bold></highlight> and <highlight><bold>38</bold></highlight> respectively when the signal SUM changes from low to high, and the stored values DSD and DCD in the memories <highlight><bold>37</bold></highlight> and <highlight><bold>38</bold></highlight> and values ADS and ADC are input into the following formula <highlight><bold>9</bold></highlight>, wherein SQRT indicates a square root operation and <highlight><bold>2</bold></highlight> refers to squaring, and a value DST is output by a distance calculator <highlight><bold>39</bold></highlight>: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DST&equals;SQRT</italic></highlight>((<highlight><italic>ADS&minus;DSD</italic></highlight>)<custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00001"/>2&plus;(<highlight><italic>ADC&minus;DCD</italic></highlight>)<custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00002"/>2)&emsp;&emsp; . . . (9)</in-line-formula></paragraph>
<paragraph id="P-0030" lvl="7"><number>&lsqb;0030&rsqb;</number> Here, the value DST is substantially proportional to a distance (a movement quantity) of measured displacement after the signal SUM inputs. The value DST is compared with the value DSC stored by a memory <highlight><bold>40</bold></highlight> in a comparator <highlight><bold>41</bold></highlight>, and when the value DST exceeds the value DSC, an output signal SM of the comparator <highlight><bold>41</bold></highlight> changes from low to high. Here, the value DSC is preset corresponding to a value DST that is calculated when an input shaft of the position sensor <highlight><bold>1</bold></highlight> moves a sufficiently smaller rotational distance than one rotation, which means smaller than 1/100<highlight><superscript>th </superscript></highlight>rotation of the resolver. When the signal SM changes from low to high, the signal SM becomes a signal SUM through an &ldquo;OR&rdquo; circuit <highlight><bold>52</bold></highlight>, and the signal SUM issues a storage instruction and an integration instruction to the memories <highlight><bold>37</bold></highlight> and <highlight><bold>38</bold></highlight> and all integrators, respectively. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> In this manner, the signal SUM changes from low to high for each micro rotational displacement DSC, and thus calculation for each of the following micro rotational displacements can be proceeded with the signal SUM as reference. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Furthermore, the value DST is integrated by an integrator <highlight><bold>35</bold></highlight> when the signal SUM changes from low to high, and the integrator <highlight><bold>35</bold></highlight> is initialized when a signal CL changes from high to low. Accordingly, the value DST output by the integrator <highlight><bold>35</bold></highlight> becomes a value substantially proportional to a displacement which is a rotated distance of an input shaft of the position sensor <highlight><bold>1</bold></highlight> from the time when the signal CL changes from high to low. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Next calculation of an offset value, which is the core of the first embodiment of the present invention, will be described. In the multipliers <highlight><bold>22</bold></highlight> and <highlight><bold>23</bold></highlight>, the values ADS and ADC are separately multiplied with the value DST and the results are output as respective values SOD and COD. The values SOD and COD are integrated by respective integrators <highlight><bold>24</bold></highlight> and <highlight><bold>25</bold></highlight> when the signal SUM changes from low to high, and output as values SOS and SOS. Furthermore, the integrators <highlight><bold>24</bold></highlight> and <highlight><bold>25</bold></highlight> are initialized at &thgr; when the signal CL changes from high to low. Accordingly, the values SOS and COS output by the integrators <highlight><bold>24</bold></highlight> and <highlight><bold>25</bold></highlight> are substantially proportional to a value integrated each of the two output signals of the position sensor <highlight><bold>1</bold></highlight> by a movement quantity from the time when the signal CL changes from high to low. Then, in dividers <highlight><bold>26</bold></highlight> and <highlight><bold>27</bold></highlight>, the values SOS and COS are divided by the value DSTS, and output as values SO and CO. Accordingly, the values SO and CO, divided the values SOS and COS by the value DSTS which is substantially proportional to the movement quantity, become the average values of the two output values DS and DC of the position sensor <highlight><bold>1</bold></highlight> from the time when the signal CL changes from high to low. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> In order to derive the offset value, it is necessary to observe the output signal of the position sensor <highlight><bold>1</bold></highlight> over an integer multiple of one period thereof. A signal equivalent to an integer multiple of one period is derived in the following manner. First, memories <highlight><bold>44</bold></highlight> and <highlight><bold>45</bold></highlight> store the values ADS and ADC, respectively, when the signal CL changes from low to high, and then a value DL is calculated from the stored values SS and SC and the values ADS and ADC by a calculator <highlight><bold>46</bold></highlight> using the formula 10, wherein: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>DL&equals;</italic></highlight>(<highlight><italic>ADS&minus;SS</italic></highlight>)<custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00003"/>2&plus;(<highlight><italic>ADC&minus;SC</italic></highlight>)<custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00004"/>2)&emsp;&emsp; . . . (10)</in-line-formula></paragraph>
<paragraph id="P-0035" lvl="7"><number>&lsqb;0035&rsqb;</number> A comparator <highlight><bold>48</bold></highlight> compares the value DL with the value DLC stored in a memory <highlight><bold>47</bold></highlight>, and &ldquo;1 &rdquo; is output from the comparator <highlight><bold>48</bold></highlight> when the value DL is smaller than the value DLC. In such a case, the value DLC is a value sufficiently smaller than a square of the value DSC. Accordingly, the output of the comparator <highlight><bold>48</bold></highlight> then changes from low to high at each time the values ADS and ADC periodically change to become substantially the same as the values SS and SC. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Consequently, when the input shaft of the position sensor <highlight><bold>1</bold></highlight> is rotated in a fixed direction, the output of the comparator <highlight><bold>48</bold></highlight> changes from low to high at each period portion of the signals AS and AC. The change of the comparator <highlight><bold>48</bold></highlight> from low to high is counted by a counter <highlight><bold>49</bold></highlight>, and a count value CF is output. Furthermore, the counter <highlight><bold>49</bold></highlight> is initialized at 0 when the signal CL changes from low to high. The count value CF is compared with an integer M stored by a memory <highlight><bold>50</bold></highlight> at a comparator <highlight><bold>51</bold></highlight>, and a signal SET changes from low to high when the count value CF exceeds the value M. Accordingly, the signal SET changes from low to high when the output signal of the position sensor <highlight><bold>1</bold></highlight> advances an integer M times period after the signal CL changes from low to high. Furthermore, when the signal SET changes from low to high, it becomes a signal SUM, which issues a storage instruction and an integration instruction to the memories <highlight><bold>37</bold></highlight> and <highlight><bold>38</bold></highlight> and all the integrators through the &ldquo;OR&rdquo; circuit <highlight><bold>52</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> In this manner, because the signal SET changes from low to high for each integer M times the period change of output signal of the position sensor using the signal CL change from low to high as reference, calculation can be performed over the period of the output signal. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> An inversion detector <highlight><bold>42</bold></highlight> detects a change of the rotational direction of the input shaft of the position sensor <highlight><bold>1</bold></highlight> from changes of the values ADS and ADC, and causes a signal RV to change to &ldquo;1 &rdquo; by a short pulse. An &ldquo;OR&rdquo; circuit <highlight><bold>43</bold></highlight> outputs the signal CL as a logical sum of the signal RV and the signal SET, and, when the output signal of the position sensor advances an integer M times period, or when the rotational direction of the input shaft is changed, the signal CL is caused to change to &ldquo;1&rdquo; by a short pulse. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> The values SO and CO are stored in respective memories <highlight><bold>18</bold></highlight> and <highlight><bold>19</bold></highlight> when the signal SET changes from low to high. Because the signal SET changes from low to high when the output signal of the position sensor <highlight><bold>1</bold></highlight> advances an integer multiple period after the signal CL changes from low to high, the output values SOF and COF of the memories <highlight><bold>18</bold></highlight> and <highlight><bold>19</bold></highlight> become average values of the two output values DS and DC of the position sensor <highlight><bold>1</bold></highlight> during an integer multiple period thereof. Consequently, because signal variation portions are cancelled out, the values SOF and COF become equivalent to offset components of the output values DS and DC. In this manner, the offset value is derived. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> From the values DS and DC, the values SOF and COF are subtracted by respective subtraction devices <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight>, in the same manner as the related art ,to derive values DSA and DCA from which the offset has been removed. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Next, calculation of an amplitude correction value, which is the core of a second preferred embodiment of the present invention, will be described. Positive number converters <highlight><bold>28</bold></highlight> and <highlight><bold>29</bold></highlight> convert the calculated values into positive numbers irrespective of whether the values ADS and ADC are positive or negative, by multiplying each value derived by squaring the values ADS and ADC by the value DST, and output values SSD and CCD. The values SSD and CCD are integrated by integrators <highlight><bold>30</bold></highlight> and <highlight><bold>31</bold></highlight> respectively when the signal SUM changes from low to high, and output as values SSS and CCS. Furthermore, the integrators <highlight><bold>30</bold></highlight> and <highlight><bold>31</bold></highlight> are initialized at 0 when the signal CL changes from high to low. Accordingly, the values SSS and CCS are substantially proportional to values derived by integrating squared values of the two output signals of the position sensor <highlight><bold>1</bold></highlight> by a movement quantity. An amplitude correction value calculator <highlight><bold>32</bold></highlight> calculates the following formula <highlight><bold>11</bold></highlight>, wherein &ldquo;*&rdquo; denotes multiplication, and outputs a value BA: </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>BA&equals;SQRT</italic></highlight>((<highlight><italic>CCS&minus;CO</italic></highlight><custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00005"/>2*<highlight><italic>DSTS</italic></highlight>)/(<highlight><italic>SSS&minus;SO</italic></highlight>)<custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00006"/>2<highlight><italic>*DSTS</italic></highlight>))&emsp;&emsp; . . . (11)</in-line-formula></paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> A memory <highlight><bold>20</bold></highlight> stores the value BA when the signal SET changes from low to high. From the above description, an output value BAJ of the memory <highlight><bold>20</bold></highlight> is a ratio derived by use of the formula <highlight><bold>11</bold></highlight>, wherein the squares of two output values DS and DC of the position sensor <highlight><bold>1</bold></highlight> are integrated by the movement quantity for the integral region of an integer multiple period thereof, and from the resulting values are subtracted the offset components, the square roots thereof are extracted, and the ratio between the two square roots is derived. Accordingly, the value BAJ represents a ratio of the effective values of the output values DS and DC, the ratio being equivalent to the amplitude ratio of the output values DS and DC. In this manner, the amplitude correction value is derived. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> A multiplier <highlight><bold>11</bold></highlight> multiplies the value DSA after removal of the offset by the value BAJ, in the same manner as the related art. The resulting value DSB of the amplitude is substantially equivalent to the amplitude of the value DCA. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> It should be noted that when a value after removal of the offset or an offset negligible sensor output value are input as the values ADS and ADC into positive number converters <highlight><bold>28</bold></highlight> and <highlight><bold>29</bold></highlight> respectively, input of the value SO, CO, or DSTS becomes unnecessary. Furthermore, because the amplitude correction value indicates a value slightly different from the value obtained by the formula <highlight><bold>11</bold></highlight> when the amplitude difference becomes larger, a modification quantity is precalculated and a modified calculation may be added. Alternatively, by repetitive correction calculations repeating a calculation for more precise amplitude correction value using the formerly corrected amplitude as input, precision of the amplitude correction value may be improved. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Next, a calculation of a phase correction value, which is the core of a third embodiment of the present invention, will be described. A correlation calculator <highlight><bold>33</bold></highlight> multiplies the product of the value ADS and the value ADC by the value DST, and outputs a value RD. The value RD is integrated by an integrator <highlight><bold>34</bold></highlight> when the signal SUM changes from low to high, and outputs as a value RS. Furthermore, the integrator <highlight><bold>34</bold></highlight> is initialized at <highlight><bold>0</bold></highlight> when the signal CL changes from high to low. Accordingly, the value RS becomes a value substantially proportional to a value derived by integrating the product of the two output signals of the position sensor <highlight><bold>1</bold></highlight> by a movement quantity over the time when the signal CL changes from high to low. A phase correction value calculator <highlight><bold>36</bold></highlight> calculates formulas 12, 13, and 14 below and outputs a value PH. </paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>X&equals;</italic></highlight>(<highlight><italic>RS/DSTS&minus;SO*CO</italic></highlight>)&emsp;&emsp; . . . (12)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>Y&equals;SQRT</italic></highlight>((<highlight><italic>SSS/DSTS&minus;SO <custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00007"/></italic></highlight>2) (<highlight><italic>CCS/DSTS&minus;CO <custom-character file="US20030001564A1-20030102-P00900.TIF" wi="20" he="20" id="custom-character-00008"/></italic></highlight>2))&emsp;&emsp; . . . (13)</in-line-formula></paragraph>
<paragraph lvl="0"><in-line-formula><highlight><italic>PH&equals;X/Y</italic></highlight>&emsp;&emsp; . . . (14)</in-line-formula></paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> A memory <highlight><bold>21</bold></highlight> stores the value PH when the signal SET changes from low to high. From the formula 12, a value X is obtained by subtracting the offset component from the average value of the product of the two output values DS and DC of the position sensor <highlight><bold>1</bold></highlight>. Accordingly, the value X represents a magnitude of the same phase component as the output values DS and DC. The formula 13 calculates the product of the effective values of the output values DS and DC. Accordingly, a numeral value Y is equivalent to one half of the amplitude product of the output values DS and DC. The formula 14 calculates a value derived by dividing the magnitude of the same phase component of the output values DS and DC by the amplitude product of the output values DS and DC to derive the value PH. Accordingly, an output PHJ of the memory <highlight><bold>21</bold></highlight> is a phase correction value representing a proportional ratio between the phase component of one of the two output values DS and DC, and another of the output values DS and DC. Thus, the phase correction value is derived. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> A multiplier <highlight><bold>16</bold></highlight> multiplies the value DCA after removal of the offset by the value PHJ, and a subtractor <highlight><bold>17</bold></highlight> subtracts the output value DCJ of the multiplier <highlight><bold>16</bold></highlight> from the value DSB after correction of the amplitude, and thus a component of the same phase as the value DCA contained in the value DSB can be removed. By this processing, the phase difference between an output value DSP of the subtractor <highlight><bold>17</bold></highlight> and the value DCA becomes exactly 90&deg;. The value DSP and the value DCA are subjected to inverse tangent calculation in an interpolation calculator <highlight><bold>12</bold></highlight> using two variables to output a position signal POS representing a rotation quantity in 1/100<highlight><superscript>th </superscript></highlight>of a rotation of the input shaft of the position sensor <highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> It should be noted that the amplitude of the value DSP after phase correction is slightly different from the amplitude of the value DCA and, thus, when the phase correction value is larger, the value modification should be performed such that the amplitude correction value BAJ and the amplitude corrected by phase correction value PHJ becomes to equal. Furthermore, when a value after removal of the offset or a negligible offset of the sensor output value are input as ADS and ADC into the correlation calculator <highlight><bold>33</bold></highlight>, the values SO and CO become unnecessary. Also, when the amplitude of the output values DS and DC are stable, input of the values SSS and CCS to the correlation calculator <highlight><bold>33</bold></highlight> becomes unnecessary and, in this case, the value X must be previously derived from the amplitude of the values DS and DC. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> In the above-described embodiment, although the value ADS and the value ADC are used as the inputs to the multipliers <highlight><bold>22</bold></highlight> and <highlight><bold>23</bold></highlight>, positive number converters <highlight><bold>28</bold></highlight> and <highlight><bold>29</bold></highlight>, or correlation calculator <highlight><bold>33</bold></highlight>, if the average value of the value ADS and the value DSD is used instead of the value ADS, and the average value of the value ADC and the value DCD is used instead of the value ADC, precision of integration calculation is improved, and more precise offset, amplitude correction, and phase correction values can be derived. Furthermore, when noise in the values DS and DC is small, the averaging processor may be omitted. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Moreover, in the position detecting apparatus according to the present invention, means for obtaining the offset value, amplitude correction value, and phase correction value need not be included in the shipped apparatus because at the time of manufacture stand alone inspection equipment or the like, having means for obtaining those values, measures values precisely for an apparatus to be shipped and stores those values to be used after shipment into a nonvolatile memory or the like in the apparatus. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Moreover, during the calculation of the amplitude correction value and phase correction value, the values are output when the signal SET changes from low to high for each integer multiple period, and also output for each integer multiple of half a period is possible, although setting an integer multiple period is may be preferable to conform with the calculation of the offset value. Furthermore, a distance integrator <highlight><bold>39</bold></highlight> may derive a displacement by use of rotational displacement of the position sensor. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A position detecting apparatus for converting an output from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase into position information, comprising: 
<claim-text>an offset memory, an offset remover for removing an offset value stored in the offset memory from two output values of the position sensor, and an interpolation calculator for converting the two output values of the offset remover into a position signal; </claim-text>
<claim-text>a signal memory for storing two output values of the position sensor; </claim-text>
<claim-text>a distance calculator for calculating a displacement based on the two output values of the position sensor; </claim-text>
<claim-text>a signal integrator for integrating the two output values of the position sensor and an output value of the distance calculator; </claim-text>
<claim-text>an offset value calculator for calculating offset values based on two output values of the signal integrator and an output value of the distance calculator, and </claim-text>
<claim-text>an offset value setting device for setting the output values of the offset value calculator into the offset memory, after each period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A position detecting apparatus for converting an output signal from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase, into position information, comprising: 
<claim-text>an offset memory, an offset remover for removing an offset value stored by the offset memory from two output values of the position sensor, respectively, and an interpolation calculator for converting two output values of the offset remover into a position signal, </claim-text>
<claim-text>a signal memory for storing the two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each of the two output values, and for calculating a square root of a value derived by adding the two values after the squaring calculations, and a distance integrator for integrating the output value of the distance calculator; </claim-text>
<claim-text>a signal multiplier for multiplying the two output values of the position sensor by the output value of the distance calculator, and a signal integrator for integrating the two output values of the signal multiplier; </claim-text>
<claim-text>an instructor for issuing a storage instruction and an integration instruction to the signal memory and the signal integrator, respectively, when the output value of the distance calculator exceeds a fixed value; </claim-text>
<claim-text>a divider for dividing two output values of the signal integrator with the output value of the distance integrator, and an offset value setting device for setting the two output values of the divider in the offset memory, after each period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A position detecting apparatus according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein an output from a position sensor is the average value of an actual output signal of the position sensor up to a point when the instructor issues a storage instruction. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A position detecting apparatus for converting an output signal from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase, into position information, comprising: 
<claim-text>an amplitude correction value memory for storing an amplitude correction value, an amplitude corrector for correcting the signal amplitude of one of the output signals of the position sensor in accordance with the amplitude correction value stored in the amplitude correction value memory, and an interpolation calculator for converting another of the output values of the position sensor and the output value of the amplitude corrector into a position signal; </claim-text>
<claim-text>a signal memory for storing the two output values of the position sensor; </claim-text>
<claim-text>a distance calculator for calculating a displacement based on the two output values of the position sensor; </claim-text>
<claim-text>a positive number converter for converting the two output values of the position sensor into positive numbers, and a converted positive number integrator for integrating the two output values of the positive number converter and the output value of the distance calculator; </claim-text>
<claim-text>an amplitude correction value calculator for calculating an amplitude correction value based on the output value of the converted positive number integrator and the output value of the distance calculator; and </claim-text>
<claim-text>an amplitude correction value setting device for setting the output value of the amplitude correction value calculator in the amplitude correction value memory, after each one half the period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A position detecting apparatus for converting an output signal from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase into position information, comprising: 
<claim-text>an amplitude correction value memory for storing an amplitude correction value, an amplitude corrector for correcting signal amplitude of one of the output signals of the position sensor in accordance with the amplitude correction value stored by the amplitude correction value memory, and an interpolation calculator for converting another of the output values of the position sensor and the output value of the amplitude corrector into a position signal, </claim-text>
<claim-text>a signal memory for storing two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each of the two output values of the position sensor, and for calculating a square root of a value derived by adding the two values after the squaring calculations, and a distance integrator for integrating the output value of the distance calculator; </claim-text>
<claim-text>a positive number converter for calculating a product of the output value of the distance calculator and each of the squared output values of the position sensor, and a converted positive number integrator for integrating the two output values of the positive number converter; </claim-text>
<claim-text>an instructor for issuing a storage instruction to the signal memory and an integration instruction to the converted positive number integrator, when the output value of the distance calculator exceeds a fixed value; </claim-text>
<claim-text>an amplitude correction value calculator for calculating an amplitude correction value from the output values of the distance integrator and the converted positive number integrator; and </claim-text>
<claim-text>an amplitude correction value setting device for setting the output value of the amplitude correction value calculator in the amplitude correction value memory, after each one half the period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A position detecting apparatus according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein an output from a position sensor is the average value of an actual output signal of the position sensor up to a point when the instructor issues a storage instruction. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A position detecting apparatus for converting an output signal from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase into position information, comprising: 
<claim-text>a phase difference correction value memory for storing a phase difference correction value, a phase corrector for correcting one signal phase of one of the output signals of the position sensor in accordance with the phase difference correction value stored in the phase difference correction value memory and another of the output signals of the position sensor, and an interpolation calculator for converting one of the output values of the position sensor and the output value of the phase corrector into a position signal; </claim-text>
<claim-text>a signal memory for storing the two output values of the position sensor; </claim-text>
<claim-text>a distance calculator for calculating a displacement based on the two output values of the position sensor; </claim-text>
<claim-text>a correlation calculator for multiplying the two output values of the position sensor by the output value of the distance calculator, and a correlation integrator for integrating the output value of the correlation calculator and the output value of the distance calculator, </claim-text>
<claim-text>a phase difference correction value calculator for calculating the phase difference correction value based on the output value of the correlation integrator and the output value of the distance calculator, and </claim-text>
<claim-text>a phase correction value setting device for setting the output value of the phase difference correction value calculator in the phase correction value memory, after each one half the period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A position detecting apparatus for converting an output signal from a position sensor which outputs two signals which periodically vary in correspondence with measured displacement and which differ 90&deg; in phase into position information, comprising: 
<claim-text>a phase difference correction value memory for storing a phase difference correction value, a phase corrector for correcting one of output signal phases of the position sensor in accordance with the phase difference correction value stored by the phase difference correction value memory and another of the output signals of the position sensor, and an interpolation calculator for converting one of the output values of the position sensor and the output value of the phase corrector into a position signal, </claim-text>
<claim-text>a signal memory for storing two output values of the position sensor, a distance calculator for calculating a square of a difference of the stored value of the signal memory with respect to each of the two output values of the position sensor, and for calculating a square root of a value derived by adding the two squared values, and a distance integrator for integrating the output value of the distance calculator; </claim-text>
<claim-text>a correlation calculator for multiplying a product of the two output values of the position sensor by the output value of the distance calculator, and a correlation integrator for integrating the output value of the correlation calculator; </claim-text>
<claim-text>an instructor for issuing a storage instruction to the signal memory and an integration instruction to the correlation integrator, when the output value of the distance calculator exceeds a fixed value; </claim-text>
<claim-text>a phase difference correction value calculator for calculating the phase difference correction value from the output values of the distance integrator and the correlation integrator, and </claim-text>
<claim-text>a phase correction value setting device for setting the output value of the phase difference correction value calculator in the phase correction value memory, after each one half the period change of the position sensor output signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A position detecting apparatus according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein an output from a position sensor is the average value of an actual output signal of the position sensor up to a point when the instructor issues a storage instruction.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>2</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001564A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001564A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001564A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
