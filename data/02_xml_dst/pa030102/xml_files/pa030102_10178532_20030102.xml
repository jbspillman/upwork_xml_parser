<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030003991A1-20030102-D00000.TIF SYSTEM "US20030003991A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00001.TIF SYSTEM "US20030003991A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00002.TIF SYSTEM "US20030003991A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00003.TIF SYSTEM "US20030003991A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00004.TIF SYSTEM "US20030003991A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00005.TIF SYSTEM "US20030003991A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00006.TIF SYSTEM "US20030003991A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00007.TIF SYSTEM "US20030003991A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00008.TIF SYSTEM "US20030003991A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00009.TIF SYSTEM "US20030003991A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00010.TIF SYSTEM "US20030003991A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00011.TIF SYSTEM "US20030003991A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00012.TIF SYSTEM "US20030003991A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00013.TIF SYSTEM "US20030003991A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00014.TIF SYSTEM "US20030003991A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00015.TIF SYSTEM "US20030003991A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00016.TIF SYSTEM "US20030003991A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00017.TIF SYSTEM "US20030003991A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030003991A1-20030102-D00018.TIF SYSTEM "US20030003991A1-20030102-D00018.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030003991</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10178532</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020625</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-199002</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>A63F013/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>463</class>
<subclass>030000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Game device, game controlling method and program</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Hidetoshi</given-name>
<family-name>Kuraishi</family-name>
</name>
<residence>
<residence-non-us>
<city>Tokyo</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>KONAMI CORPORATION</organization-name>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>SUGHRUE MION, PLLC</name-1>
<name-2></name-2>
<address>
<address-1>2100 PENNSYLVANIA AVENUE, N.W.</address-1>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20037</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A positional relationship between image capturing means and a player is properly adjusted before a game is started. An image of a player P is captured by a camera unit <highlight><bold>42, </bold></highlight>and from this image the head position of the player is recognized, so that the game proceeds based on the recognized result. At this time, the player image is displayed on the title screen, and the position where the head position of the player P should be located is displayed distinctively in the player image. As a result, the player P can properly adjust the positional relationship between the camera unit <highlight><bold>42 </bold></highlight>and himself/herself before starting a game. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a game device, a game controlling method and a program. The present invention more particularly relates to a game device for providing a player with a game based on a result of recognizing a player image or the like acquired by image capturing means, and a game controlling method and a program therefor. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> Arcade game machines having a camera unit located in front of a player and proceeding with a game in accordance with a recognition result of a player image captured by the camera unit are well-known. Such a game machine can provide players with a much wider variety of games than conventional game machines in which a controller is only operated with fingers. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> However, implementing such a game machine for home-use causes the following problem. For a home-use game machine the camera unit must be installed by a player, but it generally has a limited range for capturing images. If the positional relationship between the camera and the player is inappropriate, the player image cannot be recognized properly. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> The present invention has been conceived in view of the above-described problem, and an object thereof is to provide a game device, a game controlling method, and a program, capable of properly adjusting the positional relationship between image capturing means and a player or the like before starting a game. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In order to solve the above-described problem, a game device according to one aspect of the present invention comprises image capturing means for capturing player images, position recognizing means for recognizing a current position of a predetermined part of a player based on the player images captured by said image capturing means, game providing means for providing the player with a game based on the current position of the predetermined part of the player recognized by said position recognizing means, and guiding means for guiding a standard position of the predetermined part of the player with respect to said image capturing means before provision of said game is initiated. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> A game controlling method according to another aspect of the present invention comprises capturing player images by image capturing means, recognizing the player image captured by said image capturing means, providing a player with a game based on a recognized result, and guiding a standard position of a predetermined part of the player with respect to said image capturing means before provision of said game is initiated. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> A program according to a further aspect of the present invention causes a computer to execute capturing player images by image capturing means, recognizing the player image captured by said image capturing means, providing a player with a game based on a recognized result, and guiding a standard position of a predetermined part of the player with respect to said image capturing means before provision of said game is initiated. The program according to the present invention may be stored in a variety of information storage media that can be read by the computer. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> According to the present invention, player images are captured by image capturing means, and the current position of a predetermined part of a player is recognized based on the player images. A game is provided to the player based on the recognized current position of the predetermined part of the player. At this time, the standard position of the predetermined part of the player with respect to the image capturing means is guided before provision of the game is initiated. As a result, the positional relationship between the image capturing means and the player can be properly adjusted before starting the game. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> According to one embodiment of the present invention, the guiding means includes player image displaying means for displaying the player image captured by the image capturing means before provision of the game is initiated, so that the player can properly adjust the positional relationship between the image capturing means and himself/herself while watching the player image. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In this embodiment, the guiding means may further include standard position displaying means for displaying an image indicating the standard position of the predetermined part of the player to be superposed on the player image displayed by the player image displaying means. Such a configuration enables the player to properly adjust the positional relationship between the image capturing means and himself/herself by aligning the predetermined part of the player in the player image with the image indicating the standard position. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The guiding means may further include recognized result displaying means for displaying an image indicating the current position of the predetermined part of the player recognized by the position recognizing means to be superposed on the player image displayed by the player image displaying means. As a result, the player can properly adjust the positional relationship between the image capturing means and himself/herself by confirming the displayed position of the image indicating the current position of the predetermined part. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Further, according to another embodiment of the present invention, the guiding means further includes reporting means for reporting to the player that the current position of the predetermined part of the player recognized by the position recognizing means is located at the standard position of the predetermined part of the player with respect to the image capturing means when the current position is located at such a position. Such a configuration enables the player to properly adjust the positional relationship between the image capturing means and himself/herself by confirming the reported content. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> A game device according to a further aspect of the present invention comprises image capturing means for capturing images, position recognizing means for recognizing a current position of an object based on the images captured by the image capturing means, game providing means for providing a player with a game based on the current position of the object recognized by the position recognizing means, and guiding means for guiding a standard position of the object with respect to the image capturing means before provision of the game is initiated. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Further, a game controlling method according to a further aspect of the present invention comprises capturing images by image capturing means, recognizing a current position of an object based on the images captured by the image capturing means, providing a player with a game based on a recognized result, and guiding a standard position of the object with respect to the image capturing means before provision of the game is initiated. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> A program according to a further aspect of the present invention causes a computer to execute capturing images by image capturing means, recognizing a current position of an object based on the images captured by the image capturing means, providing a player with a game based on a recognized result, and guiding a standard position of the object with respect to the image capturing means before provision of the game is initiated. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> According to the present invention, an image of an object is acquired by image capturing means, and a current position of the object is recognized based on the image. The object is something whose position affects a game, such as a certain part of a player&apos;s body, an article in the player&apos;s hand, or the like. The game is provided to the player based on the recognized current position of the object. At this time, the standard position of the object with respect to the image capturing means is guided before provision of the game is initiated. As a result, the positional relationship between the image capturing means and the object can be properly adjusted before starting the game. </paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> illustrates a player enjoying a gun shooting game using a game device according to an embodiment of the present invention. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates an example of a title screen (start screen). </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> FIGS. <highlight><bold>3</bold></highlight>A-<highlight><bold>3</bold></highlight>D are views for explaining an exemplary game screen presented when the player moves vertically. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> FIGS. <highlight><bold>4</bold></highlight>A-<highlight><bold>4</bold></highlight>D are views for explaining an exemplary game screen presented when the player moves horizontally. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a diagram illustrating a hardware configuration of the game device. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flowchart for explaining a process for displaying the title screen. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> illustrates an example of a player&apos;s standing position guidance image included in the title screen. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 8 and 9</cross-reference> illustrate variations of a player&apos;s standing position guidance image included in the title screen. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a flowchart for explaining a player image processing. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart for explaining a process of filtering a recognized position. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> FIGS. <highlight><bold>12</bold></highlight>A-<highlight><bold>12</bold></highlight>D illustrate a series of player images. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a view illustrating a difference image between an averaged player image and the latest player image. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a view illustrating the result of extracting a region in the vicinity of the previously recognized position from the image illustrated in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a view illustrating a difference image between the averaged player image and the latest player image when the player makes a small movement. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a view illustrating the result of extracting a region in the vicinity of the previously recognized position from the image illustrated in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a view illustrating a difference image between the latest player image and the immediately preceding player image. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a view illustrating the result of extracting a region in the vicinity of the previously recognized position from the image illustrated in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a view illustrating a difference image between the latest player image and the immediately preceding player image when the previously recognized position is distant from the latest player image and the immediately preceding player image. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a view illustrating the result of extracting, from the image illustrated in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the area moved closer to the player from the previously recognized position. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 21A and 21B</cross-reference> illustrate the content stored in the recognized position buffer.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The entire disclosure of the corresponding Japanese application 2001-199002 filed on Jun. 29, 2001 including specification, claims, drawings and summary, is incorporated herein by reference. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Exemplary embodiments of the present invention will now be described in detail with reference to the drawings. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a perspective view for expressing a situation where a player plays a game using a game device according to one embodiment of the present invention. As illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the game device, which includes a home-use TV receiver <highlight><bold>40</bold></highlight>, a camera unit <highlight><bold>42</bold></highlight>, a home-use game machine <highlight><bold>46</bold></highlight>, and a gun controller <highlight><bold>48</bold></highlight>, is used for implementing a gun shooting game. The home-use TV receiver <highlight><bold>40</bold></highlight> and the home-use game machine <highlight><bold>46</bold></highlight> are mounted on a cabinet <highlight><bold>44</bold></highlight>, while the camera unit <highlight><bold>42</bold></highlight> is on the home-use TV receiver <highlight><bold>40</bold></highlight>. The camera unit <highlight><bold>42</bold></highlight> is a digital camera for presenting an image of a player P in real time, and connected to the home-use game machine <highlight><bold>46</bold></highlight> via a cable for supplying the captured player image to the game machine <highlight><bold>46</bold></highlight> in real time. The home-use game machine <highlight><bold>46</bold></highlight> is connected to the home-use TV receiver <highlight><bold>40</bold></highlight>, so that game screen images produced by the game machine <highlight><bold>46</bold></highlight> are displayed while providing game music or game effect sound. The gun controller <highlight><bold>48</bold></highlight> is a game controller in the form of a gun, and connected to a controller connection terminal of the home-use game machine <highlight><bold>46</bold></highlight> via a cable. When the player P holds the gun controller <highlight><bold>48</bold></highlight> in his/her hand and aims it at the home-use TV receiver <highlight><bold>40</bold></highlight>, the direction of its gun barrel is input to the home-use game machine <highlight><bold>46</bold></highlight>. The gun controller <highlight><bold>48</bold></highlight> is provided with a trigger, whose condition (i.e. whether or not the trigger is pulled) is supplied to the home-use game machine <highlight><bold>46</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> In the home-use game machine <highlight><bold>46</bold></highlight>, a three-dimensional game space (virtual three-dimensional space) is constructed in a memory, and how the three-dimensional game space is viewed from a viewpoint disposed at a predetermined spatial position is displayed on the TV receiver <highlight><bold>40</bold></highlight>. At this time, in the home-use game machine <highlight><bold>46</bold></highlight>, the position of the head of the player P is recognized from the player image, and the position of the viewpoint moves with the head position. As a result, when the player P moves his/her body in front of the camera unit <highlight><bold>42</bold></highlight>, the game screen image displayed on the home-use TV receiver <highlight><bold>40</bold></highlight> is changed in accordance with the movement, so that the player P can feel as if he/she entered the three-dimensional game space. Thus, the home-use game machine <highlight><bold>46</bold></highlight> implements a game in which the player P shoots an enemy game character appearing in the three-dimensional game space with the gun controller <highlight><bold>48</bold></highlight>, and avoids attacks (shooting) from the enemy game character by moving his/her body (specifically, the head position). </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> illustrates an example of a title screen (start screen) of the game provided by the home-use game machine <highlight><bold>46</bold></highlight>. The title screen in this figure is presented on the home-use TV receiver <highlight><bold>40</bold></highlight> after the home-use game machine <highlight><bold>46</bold></highlight> is activated or between games. As illustrated, on this title screen, menu button images <highlight><bold>62</bold></highlight> are displayed at either side of the screen, and a character string <highlight><bold>60</bold></highlight> indicating the title of the game is displayed at an upper central portion. Under the title character string <highlight><bold>60</bold></highlight>, an image <highlight><bold>50</bold></highlight> for guiding the position where the player stands is displayed. The menu button images <highlight><bold>62</bold></highlight> are targets used for proceeding to a variety of games or option setting. When the player P shoots the menu button image <highlight><bold>62</bold></highlight> with the gun controller <highlight><bold>48</bold></highlight>, the game or option setting corresponding to the shot menu button image <highlight><bold>62</bold></highlight> is initiated. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The player&apos;s standing position guidance image <highlight><bold>50</bold></highlight> is used for helping the player P to properly adjust the position where he/she stands before starting a game. The player P adjusts his/her standing position or posture in front of the camera unit <highlight><bold>42</bold></highlight>, or adjusts the image capturing direction or position of the camera unit <highlight><bold>42</bold></highlight> before the game is started. The image <highlight><bold>50</bold></highlight> is obtained by displaying a head standard position marker <highlight><bold>52</bold></highlight> and a current recognized position marker <highlight><bold>54</bold></highlight> superposed on the base image, that is, the image captured by the camera unit <highlight><bold>42</bold></highlight> in real time, i.e. a player image <highlight><bold>56</bold></highlight>. The head standard position marker <highlight><bold>52</bold></highlight> is a circular marker displayed at a fixed position of the player image <highlight><bold>56</bold></highlight> (such as the central position of the player image <highlight><bold>56</bold></highlight> located 15% from the top), and used for indicating the position (standard position) with which the image of (the uppermost part of) the player&apos;s head in the player image <highlight><bold>56</bold></highlight> should be aligned before the game is started. This game device <highlight><bold>10</bold></highlight> is designed such that the current position of the head of the player P can be recognized from the player image <highlight><bold>56</bold></highlight>, and a dot indicating the recognized position is displayed superposed on the player image <highlight><bold>56</bold></highlight> as the current recognized position marker <highlight><bold>54</bold></highlight>. The player P moves his/her body (the standing position or the posture) or changes the image capturing direction or position of the camera unit <highlight><bold>42</bold></highlight> so that the current recognized position marker <highlight><bold>54</bold></highlight> is placed within the circular head standard position marker <highlight><bold>52</bold></highlight>, thereby properly adjusting the standard position (initial playing position). At this time, the game device <highlight><bold>10</bold></highlight> determines whether or not the current recognized position marker <highlight><bold>54</bold></highlight> is displayed within the head standard position marker <highlight><bold>52</bold></highlight>, and changes the manner of displaying the head standard position marker <highlight><bold>52</bold></highlight> (such as color or blinking indication) in accordance with the determined result. Thus, the player P can easily carry out proper adjustment of the positional relationship between the player and the camera unit <highlight><bold>42</bold></highlight> while watching the player&apos;s standing position guidance image <highlight><bold>50</bold></highlight> before starting a game. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> FIGS. <highlight><bold>3</bold></highlight>A-<highlight><bold>3</bold></highlight>D illustrate an example of a series of game screens presented on the home-use TV receiver <highlight><bold>40</bold></highlight> when the head of the player P moves in the vertical direction. The figures show four screen images in the displayed order when the player P gradually rises from a half-sitting posture to a substantially erect posture in front of the camera unit <highlight><bold>42</bold></highlight>, i.e. when the head of the player P is raised from a lower position to a higher position. The game screen in <cross-reference target="DRAWINGS">FIG. 3A</cross-reference> includes a desk-shaped obstacle B immediately in front of the viewpoint, indicating that the player P is hiding in front of and below the obstacle B. In this situation, only part of the head of an enemy game character AC<highlight><bold>1</bold></highlight> located beyond the obstacle B and holding a gun in his hand is displayed on the game screen. The game screen in <cross-reference target="DRAWINGS">FIG. 3B</cross-reference> represents the situation where the player P raises his/her head a little so that the head is positioned substantially flush with the upper surface of the obstacle B. In such a situation, the enemy game character AC<highlight><bold>1</bold></highlight> is displayed up to the chest thereof on the game screen, and the heads of two more enemy game characters AC<highlight><bold>2</bold></highlight> and AC<highlight><bold>3</bold></highlight> are additionally displayed behind the character AC<highlight><bold>1</bold></highlight>. The game screen illustrated in <cross-reference target="DRAWINGS">FIG. 3C</cross-reference> indicates the situation where the player P further stretches his/her back to raise his/her head. In such a situation, the head of the player P is located slightly higher than the upper surface Bs of the obstacle, and upper bodies of the three enemy characters AC<highlight><bold>1</bold></highlight>-AC<highlight><bold>3</bold></highlight> and the upper surface Bs of the obstacle are displayed. The game screen illustrated in <cross-reference target="DRAWINGS">FIG. 3D</cross-reference> indicates the situation where the player P is in a substantially erect posture. In this situation, the player is exposed approximately up to the neck from the obstacle B, and the upper surface Bs of the obstacle is displayed more widely than that in the game screen of <cross-reference target="DRAWINGS">FIG. 3C</cross-reference>. As illustrated in these figures, as the player&apos;s head is raised, the position where the obstacle B is displayed moves downward, and the upper surface Bs of the obstacle and the enemy game characters AC<highlight><bold>1</bold></highlight>-AC<highlight><bold>3</bold></highlight> are gradually displayed on the game screen to reveal the whole images thereof. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> FIGS. <highlight><bold>4</bold></highlight>A-<highlight><bold>4</bold></highlight>D illustrate an example of a series of game screens presented on the home-use TV receiver <highlight><bold>40</bold></highlight> when the head of the player P moves sideways. FIGS. <highlight><bold>4</bold></highlight>A-<highlight><bold>4</bold></highlight>D show four screen images in the displayed order when the player P moves his/her body from right to left in front of the camera unit <highlight><bold>42</bold></highlight>, i.e. the head of the player P moves from right to left. The game screen in <cross-reference target="DRAWINGS">FIG. 4A</cross-reference> includes the obstacle B in the form of a door or a wall located on the right and immediately in front of the viewpoint, indicating the situation where the player P is hiding in front of the obstacle B. In such a situation, only part of an arm of the enemy game character AC<highlight><bold>1</bold></highlight> located beyond the obstacle B and holding a gun in his hand is displayed on the game screen. The game screen in <cross-reference target="DRAWINGS">FIG. 4B</cross-reference> represents the situation where the player P moves slightly to the left so that his/her head is substantially flush with the left edge of the obstacle B, showing up to the head and chest of the enemy game character AC<highlight><bold>1</bold></highlight>. The game screen in <cross-reference target="DRAWINGS">FIG. 4C</cross-reference> represents the situation where the player P moves further to the left, showing substantially the upper half of the enemy game character AC<highlight><bold>1</bold></highlight> and the enemy game character AC<highlight><bold>2</bold></highlight> behind the character AC. The game screen in <cross-reference target="DRAWINGS">FIG. 4D</cross-reference> represents the situation where the player P comes out from the obstacle B to the left. In this situation, the enemy game character AC<highlight><bold>3</bold></highlight> is also displayed in addition to the enemy game characters AC<highlight><bold>1</bold></highlight> and AC<highlight><bold>2</bold></highlight>. As illustrated in these figures, as the player&apos;s head moves from left to right, the displayed position of the obstacle B moves rightward and the enemy game characters AC<highlight><bold>1</bold></highlight>-AC<highlight><bold>3</bold></highlight> gradually appear on the game screen to reveal the whole images thereof. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> illustrates a hardware configuration of the game device <highlight><bold>10</bold></highlight>. As illustrated, the game device <highlight><bold>10</bold></highlight> is formed by a DVD&trade; (digital versatile disk) <highlight><bold>25</bold></highlight>, which is an information storage medium, placed in the home-use game machine <highlight><bold>46</bold></highlight> connected to the monitor <highlight><bold>18</bold></highlight> and the speaker <highlight><bold>22</bold></highlight>. While the DVD <highlight><bold>25</bold></highlight> is used for supplying a game program and game data to the home-use game machine <highlight><bold>46</bold></highlight> in this embodiment, any other information storage media, such as CD-ROMs (compact disk-read only memory) and ROM (read only memory) cards, may be used instead. The game program and the game data can be remotely supplied to the home-use game machine <highlight><bold>46</bold></highlight> through a data network such as Internet. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The home-use game machine <highlight><bold>46</bold></highlight> includes a microprocessor <highlight><bold>14</bold></highlight>, an image processing unit <highlight><bold>16</bold></highlight>, a main memory <highlight><bold>26</bold></highlight>, and an input/output processing unit <highlight><bold>30</bold></highlight>, a peripheral equipment interface <highlight><bold>31</bold></highlight>, a sound processing unit <highlight><bold>20</bold></highlight>, and a DVD reproducing unit <highlight><bold>24</bold></highlight>. The microprocessor <highlight><bold>14</bold></highlight>, the image processing unit <highlight><bold>16</bold></highlight>, the main memory <highlight><bold>26</bold></highlight>, the input/output processing unit <highlight><bold>30</bold></highlight>, and the peripheral equipment interface <highlight><bold>31</bold></highlight> are mutually connected via a bus <highlight><bold>12</bold></highlight> for data exchange, with the input/output processing unit <highlight><bold>30</bold></highlight> being further connected to the gun controller <highlight><bold>48</bold></highlight>, the sound processing unit <highlight><bold>20</bold></highlight>, and the DVD reproducing unit <highlight><bold>24</bold></highlight>. The peripheral equipment interface <highlight><bold>31</bold></highlight> is connected to the camera unit <highlight><bold>42</bold></highlight>. The respective elements of the home-use game machine <highlight><bold>46</bold></highlight> are all accommodated in a housing. In this embodiment, the home TV receiver <highlight><bold>40</bold></highlight> is used as the monitor <highlight><bold>18</bold></highlight>, and a speaker incorporated therein is used as the speaker <highlight><bold>22</bold></highlight>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> The microprocessor <highlight><bold>14</bold></highlight> controls the respective elements of the home-use game machine <highlight><bold>46</bold></highlight> based on an operating system stored in an unillustrated ROM and the game program read from the DVD <highlight><bold>25</bold></highlight>. The bus <highlight><bold>12</bold></highlight> is used for exchanging addresses and data among the respective elements of the home-use game machine <highlight><bold>46</bold></highlight>. The main memory <highlight><bold>26</bold></highlight> is used for storing the game program and game data read from the DVD <highlight><bold>25</bold></highlight> as required. The image processing unit <highlight><bold>16</bold></highlight>, which includes a VRAM (video random access memory), receives image data from the microprocessor <highlight><bold>14</bold></highlight>, and draws a game screen image in the VRAM. The image processing unit <highlight><bold>16</bold></highlight>, moreover, converts the content of the VRAM into a video signal provided to the monitor <highlight><bold>18</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The input/output processing unit <highlight><bold>30</bold></highlight> is an interface for relaying data communication between the microprocessor <highlight><bold>14</bold></highlight> and the gun controller <highlight><bold>48</bold></highlight>, the sound processing unit <highlight><bold>20</bold></highlight>, and the DVD reproducing unit <highlight><bold>24</bold></highlight>. The gun controller <highlight><bold>48</bold></highlight> is a game controller in the form of a gun, as illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, used for providing the home-use game machine <highlight><bold>46</bold></highlight> with a trigger state and the direction of the gun barrel or muzzle (specifically, the pointed position on the screen of the home-use TV receiver <highlight><bold>40</bold></highlight>). The gun controller <highlight><bold>48</bold></highlight> can be of, for example, a well-known structure. More specifically, the gun controller <highlight><bold>48</bold></highlight> is designed so that, when the player P pulls a trigger of the gun controller <highlight><bold>48</bold></highlight>, such information (trigger signal) is supplied from a controller terminal to the home-use game machine <highlight><bold>46</bold></highlight>. When the home-use game machine <highlight><bold>46</bold></highlight> receives the trigger signal, an illuminating spot is scanned on the screen of the home-use TV receiver <highlight><bold>40</bold></highlight> by causing the game program to, for example, present a white screen for a single frame. The gun controller <highlight><bold>48</bold></highlight> is designed to include a light-receiving sensor with strong directivity at the back of the gun muzzle, so that, when the illuminating spot on the home-use TV receiver <highlight><bold>40</bold></highlight> is detected by the light-receiving sensor, the time period between the start of scan and the detection of the illuminating spot is calculated, thereby obtaining the position (coordinates) of the spot on the screen of the TV receiver <highlight><bold>40</bold></highlight> from the time period thus calculated. The position, i.e. the direction of the gun barrel, is supplied to the home-use game machine <highlight><bold>46</bold></highlight>. Thus, the gun controller <highlight><bold>48</bold></highlight> can be suitably implemented. The time when scanning is started can be preferably obtained from a synchronous signal included in a video signal which is supplied from the home-use game machine <highlight><bold>46</bold></highlight> to the home-use TV receiver <highlight><bold>40</bold></highlight>. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The sound processing unit <highlight><bold>20</bold></highlight> includes a sound buffer, and reproduces data, such as music and game effect sound read by the DVD <highlight><bold>25</bold></highlight> and stored in the sound buffer, and outputs the data from the speaker <highlight><bold>22</bold></highlight>. The DVD reproducing unit <highlight><bold>24</bold></highlight> reads the game program and game data recorded in the DVD <highlight><bold>25</bold></highlight> in accordance with an instruction from the microprocessor <highlight><bold>14</bold></highlight>. The peripheral equipment interface <highlight><bold>31</bold></highlight> is an interface for connecting a variety of peripheral devices to the home-use game machine <highlight><bold>46</bold></highlight>, and can be formed by a USB (universal serial bus) interface or the like. In this embodiment, the camera unit <highlight><bold>42</bold></highlight> is connected to the peripheral equipment interface <highlight><bold>31</bold></highlight>. The camera unit <highlight><bold>42</bold></highlight> is, for example, a well-known digital camera for supplying to the home-use game machine <highlight><bold>46</bold></highlight> a captured gray scale image (256 levels of gray) at predetermined time intervals (such as {fraction (1/60)} seconds). In order to capture the image of the player P, the camera unit <highlight><bold>42</bold></highlight> is mounted on the home-use TV receiver <highlight><bold>40</bold></highlight> with its lens facing the player P in this embodiment. The process performed by the home-use game machine <highlight><bold>46</bold></highlight> for displaying a title screen will now be described. This process is performed based on the game program stored in the DVD <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flowchart for describing a process of displaying a title screen by the home-use game machine <highlight><bold>46</bold></highlight>. As illustrated, in the home-use game machine <highlight><bold>46</bold></highlight>, the microprocessor <highlight><bold>14</bold></highlight> first draws a background image of the title screen, a character string of the title <highlight><bold>60</bold></highlight>, the menu button image <highlight><bold>62</bold></highlight>, a copyright message, and the like in a VRAM included in the image processing unit <highlight><bold>16</bold></highlight> (S<highlight><bold>101</bold></highlight>). An image captured by the camera unit <highlight><bold>42</bold></highlight> (hereinafter referred to as a &ldquo;player image&rdquo; because capturing the image of the player P is intended) is acquired (S<highlight><bold>102</bold></highlight>). The player image acquired at the step S<highlight><bold>102</bold></highlight> is drawn in the VRAM so that the player image is placed where the player&apos;s standing position guidance image <highlight><bold>50</bold></highlight> is located in the title screen (S<highlight><bold>103</bold></highlight>). </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> The position of the head of the player P (head position) is recognized based on the player image acquired at the step S<highlight><bold>102</bold></highlight>, and information obtained by filtering the recognition result (filtered head position) is acquired (S<highlight><bold>104</bold></highlight>). The process of recognizing the position and filtering will be described later. The microprocessor <highlight><bold>14</bold></highlight> then draws the current recognized position marker <highlight><bold>54</bold></highlight> at the coordinates of the VRAM corresponding to the filtered head position so that the marker (red spot) is displayed at the head position of the player image included in the title screen (S<highlight><bold>105</bold></highlight>). </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> The microprocessor <highlight><bold>14</bold></highlight> then determines whether or not the filtered head position is located at the standard position (in the reference area). The standard position is the position in the player image where the head of the player P should be located before a game is started. If the filtered head position is located at the standard position, a red head standard position marker <highlight><bold>52</bold></highlight> is drawn at the standard position of the player image (S<highlight><bold>107</bold></highlight>). On the other hand, if the filtered head position is not at the standard position, a blue head standard position marker <highlight><bold>52</bold></highlight> is drawn at the standard position of the player image (S<highlight><bold>108</bold></highlight>). Next, the direction of the barrel of the gun controller <highlight><bold>48</bold></highlight> is acquired (S<highlight><bold>109</bold></highlight>), and at this position an aiming marker <highlight><bold>58</bold></highlight> is drawn (S<highlight><bold>110</bold></highlight>). </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Thus, when the positional relationship between the player P and the camera unit <highlight><bold>42</bold></highlight> is inappropriate, the currently recognized position marker <highlight><bold>54</bold></highlight> is displayed outside the circular head standard position marker <highlight><bold>52</bold></highlight>, which is displayed in blue, on the title screen as illustrated in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. On the other hand, when the positional relationship between the player P and the camera unit <highlight><bold>42</bold></highlight> is appropriate, the currently recognized position marker <highlight><bold>54</bold></highlight> is displayed inside the circular head standard position marker <highlight><bold>52</bold></highlight>, which is displayed in red, on the title screen. As a result, the player P can change the standing position or the position where the camera unit <highlight><bold>42</bold></highlight> is installed or the image capturing direction to cause the head standard position marker <highlight><bold>52</bold></highlight> to be displayed in red on the title screen, thereby easily adjusting the positional relationship between the player P and the camera unit <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> If the positional relationship between the player P and the camera unit <highlight><bold>42</bold></highlight> is not properly adjusted, the position of the head will not be placed within the player image when the player P bends down or sways during the game, causing possible misrecognition of the head position. However, according to the present game device <highlight><bold>10</bold></highlight>, the positional relationship between the player P and the camera unit <highlight><bold>42</bold></highlight> can be properly adjusted before starting a game, so that the head position can be correctly recognized even when the player P bends down or sways during the game. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The guidance provided to the player P is not limited to that described above. For example, as in the guidance image illustrated in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, it is possible to display only the current recognized position marker <highlight><bold>54</bold></highlight> and the head standard position marker <highlight><bold>52</bold></highlight> without displaying the player image. Instead of changing the manner of displaying the head standard position marker <highlight><bold>52</bold></highlight> based on the positional relationship between the current recognized position marker <highlight><bold>54</bold></highlight> and the head standard position marker <highlight><bold>52</bold></highlight>, the manner of displaying the current recognized position marker <highlight><bold>54</bold></highlight> (such as color or blinking pattern) may be changed. Alternatively, display may be presented at another position based on the positional relationship between the current recognized position marker <highlight><bold>54</bold></highlight> and the head standard position marker <highlight><bold>52</bold></highlight>. Further, the current recognized position marker <highlight><bold>54</bold></highlight> may not be displayed. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Further, as in the guidance image illustrated in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, only the current recognized position marker <highlight><bold>54</bold></highlight> may be displayed, and the manner of displaying the marker <highlight><bold>54</bold></highlight> may be changed when the marker <highlight><bold>54</bold></highlight> is moved to the position where the head standard position marker <highlight><bold>52</bold></highlight> indicated by a dashed line in <cross-reference target="DRAWINGS">FIG. 9</cross-reference> should be displayed (the circle indicated by the dashed line in the figure is not actually displayed on the screen). In this manner as well, the player P can correct the positional relationship between the camera unit <highlight><bold>42</bold></highlight> and himself/herself while watching the guidance image. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> Alternatively, messages, such as &ldquo;Move to the right&rdquo;, &ldquo;Move to the left&rdquo;, &ldquo;Move forward&rdquo;, and &ldquo;Move backward&rdquo;, may be displayed based on the relationship between the standard position and the currently recognized position of the head of the player P. Further, the shapes of the current recognized position marker <highlight><bold>54</bold></highlight> and the head standard position marker <highlight><bold>52</bold></highlight> are not limited to those described above, and a variety of shapes are possible. The guidance is preferably provided to the player P before the game is started, and therefore the guidance for the player P may be provided, for example, on a screen different from the title screen. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> The process performed on the player image in the home-use game machine <highlight><bold>46</bold></highlight> will next be described. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a flowchart for describing a process for recognizing the head position of the player P based on the player image captured by the camera unit <highlight><bold>42</bold></highlight> and filtering the recognized result. <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart for describing the filtering process in detail. These processes are performed in the home-use game machine <highlight><bold>46</bold></highlight> at predetermined time intervals (such as {fraction (1/60)} of a second) based on the game program stored in the DVD <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> When the player image is captured by the camera unit <highlight><bold>42</bold></highlight>, the microprocessor <highlight><bold>14</bold></highlight> first stores the player image in an image buffer provided in the main memory <highlight><bold>26</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> (S<highlight><bold>201</bold></highlight>). The image buffer is used for storing the player image captured by the camera unit <highlight><bold>42</bold></highlight> at predetermined time intervals, and stores a predetermined number (a total of four in this embodiment) of player images including the latest image in time sequence. When the latest player image is acquired, the newly acquired player image is additionally stored in the image buffer and the oldest player image is deleted. FIGS. <highlight><bold>12</bold></highlight>A-<highlight><bold>12</bold></highlight>D show an example of a series of player images stored in the image buffer. <cross-reference target="DRAWINGS">FIG. 12A</cross-reference> shows the latest player image, <cross-reference target="DRAWINGS">FIG. 12B</cross-reference> shows the immediately preceding player image, <cross-reference target="DRAWINGS">FIG. 12C</cross-reference> shows the player image immediately preceding the image in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>B, and <cross-reference target="DRAWINGS">FIG. 12D</cross-reference> shows the player image immediately preceding the image in <cross-reference target="DRAWINGS">FIG. 12C, i</cross-reference>.e. the oldest image in the image buffer. In this example of FIGS. <highlight><bold>12</bold></highlight>A-<highlight><bold>12</bold></highlight>D, the player P swings from left to right in front of the camera unit <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The microprocessor <highlight><bold>14</bold></highlight> then produces an averaged image of three player images stored in the image buffer excluding the latest image (S<highlight><bold>202</bold></highlight>). The averaged image is obtained by averaging the respective color information (256 levels of gray) assigned to the corresponding pixels of the three player images. The microprocessor <highlight><bold>14</bold></highlight> then produces a difference between the averaged image and the latest player image (S<highlight><bold>203</bold></highlight>). The difference image is produced by binarizing (monochroming) the image obtained by subtraction of color information assigned to the corresponding pixels of the two images. <cross-reference target="DRAWINGS">FIG. 13</cross-reference> shows an example of such a difference image. An image located within a circle centered at the previously recognized position (the head position of the player P) with a predetermined radius is extracted from the difference image (S<highlight><bold>204</bold></highlight>). <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows an example of the extracted image. In the figure, the black dot indicates the previously recognized position, which is not displayed in the extracted image in practice. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> The microprocessor <highlight><bold>14</bold></highlight> then determines whether or not the area of the region displayed in black in the extracted image (the region where a difference remains) is smaller than a predetermined threshold (S<highlight><bold>205</bold></highlight>). If the area of the black region in the extracted image is smaller than the predetermined threshold, the previous output prestored in the main memory <highlight><bold>26</bold></highlight> (filtered head position) is output again (S<highlight><bold>213</bold></highlight>). When the player P does move very much, the difference remains only at the contour of the player P in the difference image obtained at the step S<highlight><bold>203</bold></highlight> as illustrated in <cross-reference target="DRAWINGS">FIG. 15</cross-reference>. In such a case, by extracting the vicinity of the previously recognized position the area is reduced as illustrated in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. In the process from the step S<highlight><bold>202</bold></highlight> to the step S<highlight><bold>205</bold></highlight>, the previous output is thus provided again when the player P makes only a small movement, so that fluctuation in output value is suppressed. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> On the other hand, if the area of the black region in the extracted image is equal to or exceeds the predetermined threshold, the latest player image (<cross-reference target="DRAWINGS">FIG. 12A</cross-reference>) and the immediately preceding player image (<cross-reference target="DRAWINGS">FIG. 12B</cross-reference>) are read from the image buffer to produce the difference image (binarized image) (S<highlight><bold>206</bold></highlight>). <cross-reference target="DRAWINGS">FIG. 17</cross-reference> shows an example of such a difference image. The microprocessor <highlight><bold>14</bold></highlight> then extracts an image within a circle centered at the previously recognized position with a predetermined radius (selection range) from the difference image. <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows an example of the extracted image. In <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, the black dot indicates the previously recognized position, and is not displayed in the extracted image in practice. The position of the pixel displayed in black in the extracted image is used for recognizing the head position of the player P at the step S<highlight><bold>211</bold></highlight>. In other words, the extracted image includes a base position group for recognizing the head position of the player P. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> The microprocessor <highlight><bold>14</bold></highlight> measures the height and width of the black region in the extracted image (the base position group, i.e. the region where a difference remains), and determines whether or not the values are smaller than the respective predetermined thresholds (S<highlight><bold>208</bold></highlight>). If either value is smaller than the predetermined threshold, the extracted range (selection range) is shifted toward the player P and reproduces the extracted image (S<highlight><bold>210</bold></highlight>) until the extracted range (selection range) is sufficiently close to the player P (S<highlight><bold>209</bold></highlight>). More specifically, the barycenter of the region shown in black in the difference image (binarized image) obtained at the step S<highlight><bold>206</bold></highlight> is calculated, and the center of the extracted range (selection range) is moved closer to the barycenter from the previously recognized position by a predetermined distance at a time. <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a view for explaining such a process. The region with hatching indicates a region where the difference remains, a black triangle indicates the barycenter of the difference, and a black dot indicates the previously recognized position. This figure shows that the player P has rapidly moved in front of the camera unit <highlight><bold>42</bold></highlight> from the upper left to the lower right. In such a situation, the center of the extracted range (selection range) is gradually moved from the black dot position toward the black triangle in the figure at the step S<highlight><bold>210</bold></highlight>. If the black region in the extracted image is still small even after movement is made by a predetermined ratio, such as 70%, of the distance between the previously recognized position and the barycenter, the previous output is supplied again (S<highlight><bold>213</bold></highlight>). On the other hand, if both the height and width of the black region in the extracted image are equal to or exceed the predetermined threshold as illustrated in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> after shifting the extracted range (selection range), the head position of interest is determined from that particular extracted image (S<highlight><bold>211</bold></highlight>). For example, the position located at the center of the black region and several pixels from the top in the extracted image is selected as the head position of interest. The current head position thus selected (recognized) is filtered to supply a filtered head position (S<highlight><bold>212</bold></highlight>). </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Thus, the base position group is selected within the selection range corresponding to the previously recognized position in principle, and reselected by changing the selection range exceptionally, thereby eliminating effects of moving objects, if any, other than the player appearing in the player image and achieving proper recognition of the position even when the head position rapidly moves. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> In the above-described filtering process, a head position buffer is provided in the main memory <highlight><bold>26</bold></highlight> for storing a maximum of 16 head positions (P<highlight><subscript>n </subscript></highlight>to P<highlight><subscript>n&minus;15 </subscript></highlight>wherein the index corresponds to the time of recognition) as illustrated in <cross-reference target="DRAWINGS">FIG. 21A</cross-reference>. The head position buffer is used for storing the head position of the player P recognized at predetermined intervals. In this buffer, a maximum of 16 head positions are stored in time sequence including the latest head position. When the latest head position is recognized, this head position is additionally stored in the head position buffer, and the oldest head position is deleted. When, for example, the head position P<highlight><subscript>n&plus;1 </subscript></highlight>is recognized while the buffer is in the state illustrated in <cross-reference target="DRAWINGS">FIG. 21</cross-reference>A, the head position P<highlight><subscript>n&plus;1 </subscript></highlight>is additionally stored and the oldest head position P<highlight><subscript>n&minus;15 </subscript></highlight>is deleted from the head position buffer. The buffer size of this head position buffer, i.e. the number of head positions stored therein, is variable, and therefore assumes one of four states in which the number of stored head positions is two as in <cross-reference target="DRAWINGS">FIG. 21</cross-reference>B, four, eight, or sixteen as in <cross-reference target="DRAWINGS">FIG. 21A</cross-reference>. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> As illustrated in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>, the filtering process begins with acquisition of the current buffer size n of the head position buffer (S<highlight><bold>301</bold></highlight>). If the current buffer size n is equal to the maximum size Nmax (<highlight><bold>16</bold></highlight> in this example) (S<highlight><bold>302</bold></highlight>), the oldest head position is deleted from the head position buffer, and the latest head position is stored in the head position buffer (S<highlight><bold>305</bold></highlight>). On the other hand, if the current buffer size n is not equal to the maximum size Nmax, the latest head position is additionally stored in the head position buffer without deleting the oldest head position (S<highlight><bold>303</bold></highlight>), and adds one to the current buffer size n (S<highlight><bold>304</bold></highlight>). </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> The amount of movement for each head position stored in the head position buffer is next calculated (S<highlight><bold>306</bold></highlight>). More specifically, the distance between each head position and the immediately previous head position is obtained. For instance, in the example of FIG. <highlight><bold>21</bold></highlight>, the distances between the head positions P<highlight><subscript>n </subscript></highlight>and P<highlight><subscript>n&minus;1</subscript></highlight>, between the head positions P<highlight><subscript>n&minus;1 </subscript></highlight>and P<highlight><subscript>n&minus;2</subscript></highlight>, between the head positions P<highlight><subscript>n&minus;2 </subscript></highlight>and P<highlight><subscript>n&minus;3</subscript></highlight>, . . . , and between the head positions P<highlight><subscript>n&minus;14 </subscript></highlight>and P<highlight><subscript>n&minus;15 </subscript></highlight>are calculated. An average of the thus calculated movement amounts is obtained to determine the buffer size N corresponding to the average (S<highlight><bold>307</bold></highlight>). By way of example, the buffer size N is defined here as 2 when the average is not smaller than 11, 4 when the average is 9 or greater but smaller than 11, 8 when the average is 7 or greater but smaller than 9, and 16 when the average is smaller than 7. While the buffer size N is determined based on the averaged movement amount of the respective head positions stored in the head position buffer in this embodiment, other calculation methods may be used instead. For example, the movement amounts of the respective head positions may be weighted, or only the relatively new head positions among those stored in the head position buffer may be subjected to calculation of movement amount, so that the buffer size N can be rapidly reduced when the latest head position is determined as being rapidly moved. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Next, the current buffer size n and the buffer size N are compared (S<highlight><bold>308</bold></highlight>). If the current buffer size n exceeds the buffer size N, the head positions stored in the head position buffer are deleted starting from the oldest one in time sequence until the current buffer size n is equal to the buffer size N (S<highlight><bold>309</bold></highlight>). On the other hand, if the current buffer size n is equal to or smaller than the buffer size N, the step S<highlight><bold>309</bold></highlight> is skipped. The average of the head positions stored in the head position buffer is obtained and stored in the main memory <highlight><bold>26</bold></highlight> as the previous output (S<highlight><bold>311</bold></highlight>), and output as the filtered head position (S<highlight><bold>312</bold></highlight>). The filtered head position thus output is used for determining the viewpoint position when a three-dimensional game space is drawn, as described above. The filtered head position is also used for determining the display position of the currently recognized position marker <highlight><bold>54</bold></highlight> when the player&apos;s standing position guidance image <highlight><bold>50</bold></highlight> is displayed on the title screen. Note that although the average of the head positions stored in the head position buffer is used as the filtered head position in the above description, the head positions stored in the head position buffer may be weighted, so that, for example, the latest head position gives a greater effect on the filtered head position. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> According to the above-described filtering process, the average of the head positions stored in the head position buffer is output, thereby reducing fluctuation in the value of the filtered head position. Further, as the size of the head position buffer, i.e. the number of stored positions is varied in accordance with the movement amounts of the respective head positions stored in the head position buffer, the value of the filtered head position can be rapidly changed to cope with a rapid movement of the head position of the player P. As a result, the game process using the filtered head position can be properly performed. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> The present invention is not limited to the above-described embodiment. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> For example, while the present invention is applied to a gun shooting game in the above description, it is applicable to any kind of games that proceed based on an image captured by the image capturing means. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Although the head of the player P is the object for position recognition in the above description, any other parts can be such objects. Further, the object can be a variety of articles the player holds in his/her hands, such as a toy golf club, a toy tennis racket, a toy weapon, and the like. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A game device, comprising: 
<claim-text>image capturing means for capturing player images; </claim-text>
<claim-text>position recognizing means for recognizing a current position of a predetermined part of a player based on the player images captured by said image capturing means; </claim-text>
<claim-text>game providing means for providing the player with a game based on the current position of the predetermined part of the player recognized by said position recognizing means; and </claim-text>
<claim-text>guiding means for guiding a standard position of the predetermined part of the player with respect to said image capturing means before provision of said game is initiated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A game device according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said guiding means includes player image displaying means for displaying the player image captured by said image capturing means before provision of said game is initiated. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A game device according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein said guiding means further includes standard position displaying means for displaying an image indicating the standard position of the predetermined part of the player to be superposed on the player image displayed by said player image displaying means. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A game device according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> or <highlight><bold>3</bold></highlight>, wherein said guiding means further includes recognized result displaying means for displaying an image indicating the current position of the predetermined part of the player recognized by said position recognizing means to be superposed on the player image displayed by said player image displaying means. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A game device according to any of claims <highlight><bold>1</bold></highlight>-<highlight><bold>4</bold></highlight>, wherein said guiding means further includes reporting means for reporting to the player that the current position of the predetermined part of the player recognized by said position recognizing means is located at the standard position of the predetermined part of the player with respect to said image capturing means when said current position is located at such a position. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A game controlling method, comprising steps of: 
<claim-text>capturing player images by image capturing means; </claim-text>
<claim-text>recognizing the player image captured by said image capturing means; </claim-text>
<claim-text>providing a player with a game based on a recognized result; and </claim-text>
<claim-text>guiding a standard position of a predetermined part of the player with respect to said image capturing means before provision of said game is initiated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A program for causing a computer to execute steps of: 
<claim-text>capturing player images by image capturing means; </claim-text>
<claim-text>recognizing the player image captured by said image capturing means; </claim-text>
<claim-text>providing a player with a game based on a recognized result; and </claim-text>
<claim-text>guiding a standard position of a predetermined part of the player with respect to said image capturing means before provision of said game is initiated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A game device, comprising: 
<claim-text>image capturing means for capturing images; </claim-text>
<claim-text>position recognizing means for recognizing a current position of an object based on the images captured by said image capturing means; </claim-text>
<claim-text>game providing means for providing a player with a game based on the current position of the object recognized by said position recognizing means; and </claim-text>
<claim-text>guiding means for guiding a standard position of the object with respect to said image capturing means before provision of said game is initiated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A game controlling method, comprising steps of: 
<claim-text>capturing images by image capturing means; </claim-text>
<claim-text>recognizing a current position of an object based on the images captured by said image capturing means; </claim-text>
<claim-text>providing a player with a game based on a recognized result; and </claim-text>
<claim-text>guiding a standard position of the object with respect to said image capturing means before provision of said game is initiated. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A program for causing a computer to execute steps of: 
<claim-text>capturing images by image capturing means; </claim-text>
<claim-text>recognizing a current position of an object based on the image captured by said image capturing means; </claim-text>
<claim-text>providing a player with a game based on a recognized result; and </claim-text>
<claim-text>guiding a standard position of the object with respect to said image capturing means before provision of said game is initiated.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030003991A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030003991A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030003991A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030003991A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030003991A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030003991A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030003991A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030003991A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030003991A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030003991A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030003991A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030003991A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030003991A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030003991A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030003991A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030003991A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030003991A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030003991A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030003991A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
