<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030003924A1-20030102-M00001.NB SYSTEM "US20030003924A1-20030102-M00001.NB" NDATA NB>
<!ENTITY US20030003924A1-20030102-M00001.TIF SYSTEM "US20030003924A1-20030102-M00001.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-M00002.NB SYSTEM "US20030003924A1-20030102-M00002.NB" NDATA NB>
<!ENTITY US20030003924A1-20030102-M00002.TIF SYSTEM "US20030003924A1-20030102-M00002.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00000.TIF SYSTEM "US20030003924A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00001.TIF SYSTEM "US20030003924A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00002.TIF SYSTEM "US20030003924A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00003.TIF SYSTEM "US20030003924A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00004.TIF SYSTEM "US20030003924A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00005.TIF SYSTEM "US20030003924A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00006.TIF SYSTEM "US20030003924A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030003924A1-20030102-D00007.TIF SYSTEM "US20030003924A1-20030102-D00007.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030003924</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10178835</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020625</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>90115494</doc-number>
</priority-application-number>
<filing-date>20010626</filing-date>
<country-code>TW</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04Q007/20</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>455</class>
<subclass>456000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>455</class>
<subclass>459000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Apparatus and method for mobile unit positioning</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Tsui-Tsai</given-name>
<family-name>Lin</family-name>
</name>
<residence>
<residence-non-us>
<city>Taoyuan City</city>
<country-code>TW</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>RABIN &amp; BERDO, P.C.</name-1>
<name-2></name-2>
<address>
<address-1>SUITE 500</address-1>
<address-2>1101 14th STREET, N.W.</address-2>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20005</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">An apparatus for mobile positioning and a method therefor are disclosed for determining the location of a mobile unit in a wireless communication system. First, an angle of arrival of a wireless signal transmitted by a mobile unit and being incident on a base station is determined by using an arrival angle estimator including a switched cross-correlator, an accumulator, and a phase detector. Next, the distance between the mobile unit and the base station is estimated according to timing information provided by the base station, such as timing-advance parameter of global system for mobile communications. The mobile unit is then positioned according to the angle of arrival and the distance between the base station and the mobile unit. Mobile positioning can be achieved according to the invention, using one base station without substantially modifying the existing base stations. In addition, the performance of positioning can be significantly improved. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application incorporates by reference of Taiwan application Serial No. 90115494, filed on Jun. 26, 2001. </paragraph>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The invention relates in general to the apparatus and method for mobile unit positioning, and more particularly to the apparatus and method for mobile unit positioning utilizing angle of arrival and the timing information of the base station. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> The wireless communication system is popularly used for convenience. Because of mobile users&apos; safety, the wireless communication system is recently required to be capable of determining the positions of mobile units. Because of the positions of mobile callers, the emergency responsiveness of the emergency service, such as 911 service, can be improved. A network-based position location system, for example, uses the given position of a base station (BS) to locate a mobile unit (MU) of the BS. The MU may be a cellular phone or other mobile communication device. The conventional positioning system determines the position of an MU by either the angle-of-arrival (AOA) of the incoming wireless signal or the timing-advance parameter thereof. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a diagram showing a mobile positioning system by using AOA. In <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, an MU is positioned at the intersection of the first line of bearing (LOB) L<highlight><bold>1</bold></highlight> and the second LOB L<highlight><bold>2</bold></highlight>. The first base station, BS<highlight><bold>1</bold></highlight>, and the second base station, BS<highlight><bold>2</bold></highlight>, each have an antenna array. A wireless signal <highlight><bold>110</bold></highlight> is emitted by the MU in all directions and then arrives at the base stations BS<highlight><bold>1</bold></highlight> and BS<highlight><bold>2</bold></highlight>. The AOA &thgr;<highlight><subscript>1 </subscript></highlight>of the BS <highlight><bold>1</bold></highlight> and the AOA &thgr;<highlight><subscript>2 </subscript></highlight>of the BS<highlight><bold>2</bold></highlight> are obtained by performing an array signal processing on the received wireless signal. LOB L<highlight><bold>1</bold></highlight> and LOB L<highlight><bold>2</bold></highlight> are generated according to the angles of arrival &thgr;<highlight><subscript>1 </subscript></highlight>and &thgr;<highlight><subscript>2</subscript></highlight>, and then the MU is located at the intersection of LOB L<highlight><bold>1</bold></highlight> and LOB L<highlight><bold>2</bold></highlight>. From the above description, at least two BSs are required to determine the position of the MU. For more accurate position of the MU, more BSs are required to estimate the AOA of the MU. However, the complexity of the base stations increases. In the existing wireless communication system, each base station using space diversity technology has two or three antennas only, while the above-mentioned base station with AOA positioning capability needs an antenna array. The base station using space diversity technology is widely used because it is simpler and able to reduce most of the fading effect. Thus, great efforts in modifying the existing wireless system makes the AOA mobile positioning system difficult to realize in practice. In addition, the cost is much higher if antenna-array base stations are used. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram showing a mobile positioning system by using the single cell timing-advance (TA) positioning method with cell global identity (CGI). The cell of each base station has a specific CGI for identifying the position of the BS. The timing-advance parameter is the time that the wireless signal <highlight><bold>110</bold></highlight> takes to transmit from the MU to the BS. The distance D between the MU and the BS is obtained according to the speed of the wireless signal <highlight><bold>110</bold></highlight> and the timing-advance parameter. The MU is located at the circle around the BS with a radius of the distance D. The accuracy of the position of the MU depends mainly on the accuracy of the timing-advance parameter. In GSM system, the error of the timing-advance parameter is &frac12; bit, which results in a location estimation error of 550 meter. In other words, the position of the mobile unit in the GSM system lies on the ring with a width of 550 m around the base station. The position of the mobile unit can be more definite if more base stations are used in the mobile positioning. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The disadvantages of the conventional mobile positioning methods are as follows: (1) It is uneconomical and complicated in implementation. The AOA positioning method requires at least two base stations to determine a mobile location and each of them needs to be formed with an antenna array, for example. (2) It is cost-inefficient for obtaining a more accurate mobile location. In the TA positioning method, for example, a single base station is incapable of positioning accurately. For obtaining more accurate mobile location, multiple base stations should be required. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> It is therefore an object of the invention to provide a method for mobile positioning so as to perform mobile positioning using one base station without substantially modifying the existing base stations. In addition, the performance of positioning can be significantly improved. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> It is another object of the invention to provide a method and an apparatus for estimating angle of arrival. The apparatus and method for estimating angle of arrival are based on the existing antenna with space diversity technique that is widely used in wireless communications systems to reduce the fading effect of the radio signal which is introduced by multi-path signals so as to determine the angle of arrival of the radio signal and reduce the implementation cost of the base station. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> The invention achieves the above-identified object by providing a method of mobile positioning for use in a base station of a wireless communication system for positioning a mobile unit according to a wireless signal transmitted by the mobile unit. The base station includes a first antenna and a second antenna. The first antenna sends a first communication signal to the base station according to the wireless signal which transmitted by mobile unit and the second antenna sends a second communication signal to the base station according to the wireless signal which transmitted by mobile unit. The method includes the following steps. First, the mobile unit transmits the wireless signal. Second, a distance between the mobile unit and the base station according to timing information provided by the base station is calculated. Next, an angle of arrival which the wireless signal makes with respect to the base station is calculated according to the first communication signal and the second communication signal. The mobile unit is then positioned according to the angle of arrival and the distance. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The invention achieves another above-identified object by providing an arrival angle estimator for determining an arrival angle, wherein the arrival angle is an incident angle of a radio signal from a mobile unit with respect to a base station. The base station includes a first antenna and a second antenna. The first antenna is used for receiving the radio signal and producing a first communication signal according to the radio signal received by the first antenna. The second antenna is used for receiving the radio signal and producing a second communication signal according to the radio signal received by the second antenna. The arrival angle estimator includes a switched cross-correlator, an accumulator, and a phase detector. The switched cross-correlator is used for receiving the first communication signal and the second communication signal in a time-switching manner, performing a cross-relational operation on the first communication signal and the second communication signal, and outputting a plurality of cross-correlation parameters. The accumulator, coupled to the switched cross-correlator, is used for receiving the cross-correlation parameters and outputting an average of the cross-correlation parameters according to the cross-correlation parameters. The phase detector, coupled to the accumulator, is used for receiving the average of the cross-correlation parameters and outputting an arrival angle according to the average of the cross-correlation parameters. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> Other objects, features, and advantages of the invention will become apparent from the following detailed description of the preferred but non-limiting embodiments. The following description is made with reference to the accompanying drawings. </paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a diagram showing a mobile positioning system by using angle of arrival (AOA). </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram showing a mobile positioning system by using the single cell timing-advance (TA) positioning method with cell global identity (CGI). </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a method of mobile positioning according to a preferred embodiment of the invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a diagram illustrating the geometrical relationship of an AOA of a MU emitting a radio signal incident on a BS. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows a diagram of an AOA estimator according to the invention. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram of the switched cross-correlator shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> illustrates a timing diagram of signals in the switched cross-correlator shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> illustrates a circuit diagram of the accumulator shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE INVENTION </heading>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a method of mobile positioning according to a preferred embodiment of the invention. The method makes use of angle of arrival (AOA), timing-advance (TA) parameter and cellular global identity (CGI). Mobile positioning can be achieved by modifying an existing base station, according to the invention. In <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the method of mobile positioning is applied to a base station (BS) and the BS determines the location of a mobile unit (MU) according to a radio signal <highlight><bold>110</bold></highlight> transmitted by the MU. In <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, The BS includes two antennas A and B. Antenna A receives the radio signal <highlight><bold>110</bold></highlight> and outputs communication signal r<highlight><subscript>A </subscript></highlight>according to the radio signal received at antenna A. Antenna B receives the radio signal <highlight><bold>110</bold></highlight> and outputs communication signal r<highlight><subscript>B </subscript></highlight>according to the radio signal <highlight><bold>110</bold></highlight> received at antenna B. The method of mobile positioning according to the invention includes the following steps. First, the BS receives the radio signal <highlight><bold>110</bold></highlight> from the MU. An estimated distance, D, between the MU and the BS is then calculated, based on timing information, for example, TA parameter, provided by the BS. Next, an AOA estimate of the MU, &thgr;, which is the incident angle of the radio signal <highlight><bold>110</bold></highlight> with respect to the BS, is determined according to the communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B</subscript></highlight>. A directional line of bearing, L, is then obtained by using the AOA estimate. Finally, the location of the MU is determined by the intersection of the directional line of bearing and the circle obtained by the estimated distance D. For another objectives of the invention, a method and an apparatus for AOA determination is provided and will be described. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> Base stations based on space diversity technique are widely used in wireless communications system because not only do they effectively reduce the fading effect of the radio signal <highlight><bold>110</bold></highlight> which is introduced by multi-path signal, but they can also be implemented by a simple structure. Such base stations, in general, include more than one antenna, for example two or three antennas. Each antenna of a base station based on space diversity technique receives communication signal and outputs a signal called a branch output. To achieve reliable communication quality, the locations of the antennas of the base station are spaced out longer than a half of the wavelength so that the amplitudes of the branch outputs are statistically uncorrelated. That is, the expectation of the amplitudes of the branch outputs are equal to zero, as known by persons who are skill in this art. Although the branch outputs are uncorrelated, corresponding phase difference between the branch outputs are related to the respective incident angles of the radio signal <highlight><bold>110</bold></highlight> incident on their corresponding antennas at different locations. Since the base station can obtain the precise locations of its antennas, a specific incident, that is, &thgr;, of the radio signal <highlight><bold>110</bold></highlight> can be calculated by using the phase difference between the branch outputs. <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a diagram illustrating the geometrical relationship of an AOA of an MU emitting a radio signal incident on a BS. As shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, the phase difference &Dgr;&PSgr; between the radio signal <highlight><bold>110</bold></highlight> incident on the BS is given by:</paragraph>
<paragraph lvl="0"><in-line-formula>&Dgr;&PSgr;&equals;&bgr;&middot;&Dgr;<highlight><italic>d</italic></highlight>&equals;2&pgr;/&lgr;&middot;&Dgr;<highlight><italic>d</italic></highlight>&emsp;&emsp;(1)</in-line-formula></paragraph>
<paragraph id="P-0024" lvl="7"><number>&lsqb;0024&rsqb;</number> where &bgr;&equals;2&pgr;/&lgr;, &lgr;, &Dgr;d, and &thgr; denote the wave-number, the wavelength, the difference of the transmission distances from MU to the two antennas, and the incident angle (i.e., AOA), respectively. According to equation (1), the phase difference &Dgr;&PSgr; between the received signals of the antennas A and B depends only on the AOA &thgr; and the relative locations of the antennas A and B. Since the positions of the antennas A and B are known by the BS, the phase difference &Dgr;&PSgr; can be obtained from the corresponding received signals by employing array signal processing technique. Thus, the AOA &thgr; of the MU can also be calculated. The relationship between communication signal r received at the antennas A and B and their phrase difference &Dgr;&PSgr; are represented by:  
<math-cwu id="MATH-US-00001">
<number>1</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>r</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mo>[</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>r</mi>
                      <mi>A</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>r</mi>
                      <mi>B</mi>
                    </msub>
                  </mtd>
                </mtr>
              </mtable>
              <mo>]</mo>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mrow>
                <msub>
                  <mi>s</mi>
                  <mi>d</mi>
                </msub>
                <mo>&af;</mo>
                <mrow>
                  <mo>[</mo>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msup>
                          <mi>&ee;</mi>
                          <mrow>
                            <mi>j</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>&Delta;&varphi;</mi>
                          </mrow>
                        </msup>
                      </mtd>
                    </mtr>
                  </mtable>
                  <mo>]</mo>
                </mrow>
              </mrow>
              <mo>+</mo>
              <mi>n</mi>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00001" file="US20030003924A1-20030102-M00001.NB"/>
<image id="EMI-M00001" wi="216.027" he="23.04855" file="US20030003924A1-20030102-M00001.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0025" lvl="7"><number>&lsqb;0025&rsqb;</number> where n and s<highlight><subscript>d </subscript></highlight>denote the noise and the radio signal emitted by the MU, respectively. By performing cross-correlation operation of the communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B</subscript></highlight>, the following is obtained:  
<math-cwu id="MATH-US-00002">
<number>2</number>
<math>
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>&rho;</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>E</mi>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>r</mi>
                    <mi>A</mi>
                  </msub>
                  <mo>&it;</mo>
                  <msubsup>
                    <mi>r</mi>
                    <mi>B</mi>
                    <mo>*</mo>
                  </msubsup>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mrow>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>d</mi>
                  <mn>2</mn>
                </msubsup>
                <mo>&af;</mo>
                <mrow>
                  <mo>[</mo>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <msup>
                          <mi>&ee;</mi>
                          <mrow>
                            <mrow>
                              <mo>-</mo>
                              <mi>j</mi>
                            </mrow>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>&Delta;&varphi;</mi>
                          </mrow>
                        </msup>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msup>
                          <mi>&ee;</mi>
                          <mrow>
                            <mi>j</mi>
                            <mo>&it;</mo>
                            <mstyle>
                              <mtext>&emsp;</mtext>
                            </mstyle>
                            <mo>&it;</mo>
                            <mi>&Delta;&varphi;</mi>
                          </mrow>
                        </msup>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                  <mo>]</mo>
                </mrow>
              </mrow>
              <mo>+</mo>
              <mrow>
                <msubsup>
                  <mi>&sigma;</mi>
                  <mi>n</mi>
                  <mn>2</mn>
                </msubsup>
                <mo>&it;</mo>
                <mi>I</mi>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
<mathematica-file id="MATHEMATICA-00002" file="US20030003924A1-20030102-M00002.NB"/>
<image id="EMI-M00002" wi="216.027" he="24.97635" file="US20030003924A1-20030102-M00002.TIF" imf="TIFF" ti="MF"/>
</math-cwu>
</paragraph>
<paragraph id="P-0026" lvl="7"><number>&lsqb;0026&rsqb;</number> where &sgr;<highlight><superscript>2</superscript></highlight><highlight><subscript>d </subscript></highlight>is the power of the communication signals, &sgr;<highlight><superscript>2</superscript></highlight><highlight><subscript>n </subscript></highlight>is the power of the noise. The operators E and * denote expectation and conjugate operators, respectively. According to equation (3), the phase difference &Dgr;&PSgr; can be obtained by performing cross-correlation operation of the communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B</subscript></highlight>, and then the AOA &thgr; can be obtained according to equation (1). </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> Based on the principle of the invention described above, the invention further provides an arrival-of-angle (AOA) estimator for detecting the AOA of the radio signal <highlight><bold>110</bold></highlight> transmitted from the MU with respect to the BS. <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows a diagram of an AOA estimator according to the invention. The AOA estimator includes a switched cross-correlator <highlight><bold>510</bold></highlight>, an accumulator <highlight><bold>520</bold></highlight>, and a phase detector <highlight><bold>530</bold></highlight>. The switched cross-correlator <highlight><bold>510</bold></highlight> is used for receiving the communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B</subscript></highlight>, performing cross-correlation operation of the communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B</subscript></highlight>, and outputting an estimated cross-correlation coefficient {circumflex over (&rgr;)}. The accumulator <highlight><bold>520</bold></highlight> is coupled to the switched cross-correlator <highlight><bold>510</bold></highlight> and is used to smooth the channel variation during an observation period. In order to smooth the channel variation during an observation period, the accumulator <highlight><bold>520</bold></highlight> receives cross-correlation coefficients {circumflex over (&rgr;)} from the switched cross-correlator during the observation period, sums up the received cross-correlation coefficients {circumflex over (&rgr;)}, and outputs an average cross-correlation coefficient {overscore (&rgr;)}. The phase detector <highlight><bold>530</bold></highlight> is coupled to the accumulator <highlight><bold>520</bold></highlight>. The phase detector <highlight><bold>530</bold></highlight> is used to receive the average cross-correlation coefficient {overscore (&rgr;)}, perform phase detector, and outputs an estimate of the AOA of the MU, &thgr;. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> The AOA estimator <highlight><bold>510</bold></highlight> estimates an AOA by the following steps. Initially, a count value is set as m and a parameter p is set to zero, where m is a positive integer. First, the switched cross-correlator <highlight><bold>510</bold></highlight> receives the communication signal r<highlight><subscript>A </subscript></highlight>during time period T(<highlight><bold>2</bold></highlight><highlight><italic>k</italic></highlight>), and then receives the communication signal r<highlight><subscript>B </subscript></highlight>during time period (2<highlight><italic>k&plus;</italic></highlight>1), wherein k is a positive integer. The switched cross-correlator <highlight><bold>510</bold></highlight> then obtains a cross-correlation coefficient {circumflex over (&rgr;)} by performing cross-correlation operation of the communication signal r<highlight><subscript>A </subscript></highlight>received during time period T(<highlight><bold>2</bold></highlight><highlight><italic>k</italic></highlight>) and the communication signal r<highlight><subscript>B </subscript></highlight>during time period (2k&plus;1). Next, the accumulator <highlight><bold>520</bold></highlight> obtains a sum parameter A by adding the cross-correlation coefficient and the value of parameter p, and then sets the value of parameter p to sum parameter A. After that, it is determined whether k is less than m. If so, the method is repeated. If not, an average cross-correlation coefficient {overscore (&rgr;)} is calculated according to the value of parameter p. Finally, the AOA is obtained according to the average cross-correlation coefficient {overscore (&rgr;)} and the relative locations of the antennas A and B. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram of the switched cross-correlator <highlight><bold>510</bold></highlight>. The switched cross-correlator <highlight><bold>510</bold></highlight> includes a multiplexer <highlight><bold>610</bold></highlight> and a multiplication unit <highlight><bold>620</bold></highlight>. The multiplexer <highlight><bold>610</bold></highlight> receives communication signals r<highlight><subscript>A </subscript></highlight>and r<highlight><subscript>B </subscript></highlight>in a time division manner and selectively outputs one of them as a multiplexed signal S<highlight><bold>1</bold></highlight>. The multiplication unit <highlight><bold>620</bold></highlight>, coupled to the multiplexer <highlight><bold>610</bold></highlight>, receives the multiplexed signal S<highlight><bold>1</bold></highlight> and outputs cross-correlation coefficients {circumflex over (&rgr;)}. The multiplication unit <highlight><bold>620</bold></highlight> includes multiplexers Ma, Mb, flip-flops F<highlight><bold>1</bold></highlight>, F<highlight><bold>2</bold></highlight>, F<highlight><bold>3</bold></highlight>, and a multiplier MUL. The communication signal r<highlight><subscript>A </subscript></highlight>received during time period T<highlight><bold>0</bold></highlight> is defined as communication signal r<highlight><subscript>A0</subscript></highlight>, and the communication signal r<highlight><subscript>A </subscript></highlight>received during time period T<highlight><bold>1</bold></highlight> is defined as communication signal r<highlight><subscript>A1</subscript></highlight>. Likewise, the communication signal r<highlight><subscript>A </subscript></highlight>received time period T<highlight><bold>2</bold></highlight> is defined as communication signal r<highlight><subscript>A2</subscript></highlight>, and so on. In the same way, the communication signal r<highlight><subscript>B </subscript></highlight>is also divided into communication signals r<highlight><subscript>B0</subscript></highlight>, r<highlight><subscript>B1</subscript></highlight>, r<highlight><subscript>B2</subscript></highlight>. The clock signal CLK is at a high level during even time periods, such as T<highlight><bold>0</bold></highlight>, T<highlight><bold>2</bold></highlight>, T<highlight><bold>4</bold></highlight>, and is at a low level during odd time periods, such as T<highlight><bold>1</bold></highlight>, T<highlight><bold>3</bold></highlight>, T<highlight><bold>5</bold></highlight>, and so on. The multiplexer Ma receives the multiplexed signal S<highlight><bold>1</bold></highlight> and a data signal Da, and outputs a multiplexed signal Sa. The multiplexer Mb receives the multiplexed signal S<highlight><bold>1</bold></highlight> and a data signal Db, and outputs a multiplexed signal Sb. The flip-flop F<highlight><bold>1</bold></highlight> receives the multiplexed signal Sa at the data input end D<highlight><bold>1</bold></highlight>, receives a clock signal CLK<highlight><bold>2</bold></highlight> at its clock input end, outputs a data signal Da at the data output end Q<highlight><bold>1</bold></highlight>, and feeds back the data signal Da to the multiplexer Ma. The flip-flop F<highlight><bold>2</bold></highlight> receives the multiplexed signal Sb at the data input end D<highlight><bold>2</bold></highlight>, receives the clock signal CLK<highlight><bold>2</bold></highlight> at its clock input end, outputs a data signal Db at the data output end Q<highlight><bold>2</bold></highlight>, and feeds back the data signal Db to the multiplexer Mb. The multiplier MUL multiplies the data signals Da by the data signal Db and outputs a data signal Dm. The flip-flop F<highlight><bold>3</bold></highlight> receives the data signal Dm at the data input end D<highlight><bold>3</bold></highlight>, receives the clock signal CLK, and outputs cross-correlation coefficients {circumflex over (&rgr;)}. The multiplexers <highlight><bold>610</bold></highlight>, Ma, and Mb respectively output the multiplexed signals S<highlight><bold>1</bold></highlight>, Sa, and Sb according to the clock signal CLK. The flip-flops F<highlight><bold>1</bold></highlight> and F<highlight><bold>2</bold></highlight> are negative-edge triggered, and the flip-flop F<highlight><bold>3</bold></highlight> is positive-edge triggered. The clock signal CLK<highlight><bold>2</bold></highlight> is twice the frequency of the clock signal CLK. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> illustrates a timing diagram of signals in the switched cross-correlator <highlight><bold>510</bold></highlight>. During the time period T<highlight><bold>0</bold></highlight>, the clock signal CLK is in the high level, and the multiplexed signal S<highlight><bold>1</bold></highlight> outputted by the multiplexer <highlight><bold>610</bold></highlight> is a communication signal r<highlight><subscript>A0</subscript></highlight>. When the clock signal CLK<highlight><bold>2</bold></highlight> changes from the high level to the low level, the filp-flop F<highlight><bold>1</bold></highlight> is triggered and the value of the data signal Da is set equal to the communication signal r<highlight><subscript>A0</subscript></highlight>. During the time period T<highlight><bold>1</bold></highlight>, the clock signal CLK is in the low level, and the multiplexed signal S<highlight><bold>1</bold></highlight> outputted by the multiplexer <highlight><bold>610</bold></highlight> is a communication signal r<highlight><subscript>B1</subscript></highlight>. When the clock signal CLK<highlight><bold>2</bold></highlight> changes from the high level to the low level, the filp-flop F<highlight><bold>2</bold></highlight> is triggered and the value of the data signal Db is set equal to the communication signal r<highlight><subscript>B1</subscript></highlight>. At this time, the multiplier MUL outputs r<highlight><subscript>A0</subscript></highlight>&times;r<highlight><subscript>B1</subscript></highlight>. At the beginning of the time period T<highlight><bold>2</bold></highlight>, the clock signal CLK changes to the high level, and the filp-flop F<highlight><bold>3</bold></highlight> is triggered to set the value of the data signal Dm equal to the value of r<highlight><subscript>A0</subscript></highlight>&times;r<highlight><subscript>B1</subscript></highlight>, i.e., the cross-correlation coefficient {circumflex over (&rgr;)}(0) of r<highlight><subscript>A0 </subscript></highlight>and r<highlight><subscript>B1</subscript></highlight>. During the time period T<highlight><bold>4</bold></highlight>, the value of the data signal Dm is r<highlight><subscript>A2</subscript></highlight>&times;r<highlight><subscript>B3</subscript></highlight>, i.e., the cross-correlation coefficient {circumflex over (&rgr;)}(1) of r<highlight><subscript>A2 </subscript></highlight>and r<highlight><subscript>B3</subscript></highlight>. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> illustrates a circuit diagram of the accumulator <highlight><bold>520</bold></highlight>. The accumulator includes filp-flops F<highlight><bold>4</bold></highlight>, F<highlight><bold>5</bold></highlight>, and F<highlight><bold>6</bold></highlight>, and an adder ADD. The data input end D<highlight><bold>4</bold></highlight> of the flip-flop F<highlight><bold>4</bold></highlight> receives the cross-correlation coefficient {circumflex over (&rgr;)}, the clock input end of that receives the clock signal CLK, and the data output end Q<highlight><bold>4</bold></highlight> of that outputs data signal Dc. The adder ADD is coupled to the filp-flop F<highlight><bold>4</bold></highlight>, and is used for receiving data signals Dc and Dd and outputting an average data signal A which is the sum of the data signals Dc and Dd. The flip-flop F<highlight><bold>5</bold></highlight> is coupled to the adder ADD. The data input end D<highlight><bold>5</bold></highlight> of the flip-flop F<highlight><bold>5</bold></highlight> receives the accumulated data signal A, the clock input end of that receives the clock signal CLK, and the data output end Q<highlight><bold>5</bold></highlight> of that outputs data signal Dd. The flip-flop F<highlight><bold>6</bold></highlight> is coupled to the flip-flop F<highlight><bold>5</bold></highlight>. The data input end D<highlight><bold>6</bold></highlight> of the flip-flop F<highlight><bold>6</bold></highlight> receives the data signal Dd, the clock input end of that receives the clock signal CLK<highlight><bold>3</bold></highlight>, and the data output end Q<highlight><bold>6</bold></highlight> of that outputs average cross-correlation coefficient {circumflex over (&rgr;)}. The reset ends of the filp-flops F<highlight><bold>4</bold></highlight> and F<highlight><bold>5</bold></highlight> receive the clock signal CLK<highlight><bold>3</bold></highlight>, wherein the frequency of the clock signal CLK<highlight><bold>3</bold></highlight> is 1/N of the frequency of the clock signal CLK, and N is a positive integer. The period of the clock signal CLK<highlight><bold>3</bold></highlight> is an observation period. During one period of the clock signal CLK<highlight><bold>3</bold></highlight>, the accumulator <highlight><bold>520</bold></highlight> finishes adding N cross-correlation coefficients {circumflex over (&rgr;)}, and then the filp-flops F<highlight><bold>4</bold></highlight> and F<highlight><bold>5</bold></highlight> are reset, and the accumulator <highlight><bold>520</bold></highlight> outputs the average cross-correlation coefficient {overscore (&rgr;)} according to the data signal Dd. The signal received by the antenna of BS is a decayed signal varied with time and circumstances factors. In order to improve the accuracy of the detection of the decayed signal, all the cross-correlation coefficients {circumflex over (&rgr;)} within the observation period are averaged. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> As disclosed above, the invention achieves mobile positioning by only one base station. Moreover, the AOA estimator uses one base station having at least two antennas to estimate the angle of arrival with simple arithmetic operations, so that the existing base stations do not need to be modified substantially for estimating the angle of arrival. Thus, mobile positioning with the existing base stations can be achieved with a reduced cost. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> While the invention has been described by way of example and in terms of a preferred embodiment, it is to be understood that the invention is not limited thereto. On the contrary, it is intended to cover various modifications and similar arrangements and procedures, and the scope of the appended claims therefore should be accorded the broadest interpretation so as to encompass all such modifications and similar arrangements and procedures. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method of a mobile unit positioning, for using in a base station of a wireless communication system for positioning the mobile unit according to a wireless signal transmitted by the mobile unit, the base station including a first antenna and a second antenna, the first antenna outputting a first communication signal according to the wireless signal and the second antenna outputting a second communication signal according to the wireless signal, the method comprising the steps of: 
<claim-text>transmitting the wireless signal by the mobile unit; </claim-text>
<claim-text>calculating a distance between the mobile unit and the base station according to timing information provided by the base station; </claim-text>
<claim-text>(a) calculating an angle of arrival which the wireless signal makes with respect to the base station, according to the first communication signal and the second communication signal; and </claim-text>
<claim-text>positioning the mobile unit according to the angle of arrival and the distance. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said step (a) comprises the steps of: 
<claim-text>performing a cross-correlation operation of the first communication signal and the second communication signal to calculate a cross-correlation parameter; and </claim-text>
<claim-text>determining the angle of arrival according to the cross-correlation parameter and a relative position between the first antenna and the second antenna. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said step (a) comprises the steps of: 
<claim-text>setting a count value to m; </claim-text>
<claim-text>setting a parameter p to zero; </claim-text>
<claim-text>(b) receiving the first communication signal during a time period (<highlight><bold>2</bold></highlight><highlight><italic>k</italic></highlight>); </claim-text>
<claim-text>(c) receiving the second communication signal during a time period (2<highlight><italic>k&plus;</italic></highlight>1); </claim-text>
<claim-text>(d) calculating a cross-correlation parameter by a performing cross-correlation operation of the first communication signal and the second communication signal; and </claim-text>
<claim-text>(e) obtaining the sum of the parameter p and the cross-correlation parameter as a sum parameter and setting the value of the parameter p to the sum parameter; </claim-text>
<claim-text>(f) determining whether k is less than m; if so, adding 1 to k and proceeding to said step (b); </claim-text>
<claim-text>(g) generating an average cross-correlation parameter according to the sum parameter; and </claim-text>
<claim-text>(h) determining the angle of arrival according to the average cross-correlation parameter and the relative position of the first antenna and the second antenna; </claim-text>
<claim-text>wherein k and m are integers. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. An arrival angle estimator for determining an arrival angle, the arrival angle being an incident angle of a radio signal from a mobile unit with respect to a base station, the base station including a first antenna and a second antenna, the first antenna being used for receiving the radio signal and producing a first communication signal according to the radio signal received by the first antenna, the second antenna being used for receiving the radio signal and producing a second communication signal according to the radio signal received by the second antenna, the arrival angle estimator comprising: 
<claim-text>a switched cross-correlator for receiving the first communication signal and the second communication signal in a time-switching manner, performing a cross-relational operation on the first communication signal and the second communication signal, and outputting a plurality of cross-correlation parameters; </claim-text>
<claim-text>an accumulator, coupled to the switched cross-correlator, for receiving the cross-correlation parameters and outputting an average of the cross-correlation parameters according to the cross-correlation parameters; and </claim-text>
<claim-text>a phase detector, coupled to the accumulator, for receiving the average of the cross-correlation parameters and outputting an arrival angle according to the average of the cross-correlation parameters. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The arrival angle estimator according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein the switched cross-correlator comprising: 
<claim-text>a multiplexer for receiving the first communication signal and the second communication signal and outputting a multiplexed signal; and </claim-text>
<claim-text>a multiplication unit coupled to the multiplexer for receiving the multiplexed signal and outputting the plurality of the cross-correlation parameters according to the multiplexed signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The arrival angle estimator according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein the multiplexer according to a clock signal alternately selects one of the first communication signal and the second communication signal as a selected communication signal, and outputs the multiplexed signal according to the selected communication signal. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The arrival angle estimator according to <dependent-claim-reference depends_on="CLM-00004">claim 4</dependent-claim-reference>, wherein the multiplication unit, according to the clock signal, performs multiplication of the multiplexed signal during a kth time period and the multiplexed signal during a k&plus;lth time period and outputs the product thereof as one of the cross-correlation parameters. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A locating method for using in a wireless communication system, the locating method comprising the steps of: 
<claim-text>determining a distance between a mobile unit and a base station, based on timing information from the mobile unit; </claim-text>
<claim-text>calculating an arrival angle of a radio signal from the mobile unit according to the radio signal from the mobile unit, wherein the arrival angle is the incident angle of the radio signal with respect to the base station; </claim-text>
<claim-text>determining a location of the mobile unit, based on the distance and the arrival angle. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein the base station includes a first antenna and a second antenna, the first antenna is used for receiving the radio signal and producing a first communication signal according to the radio signal, the second antenna is used for receiving the radio signal and producing a second communication signal according to the radio signal, and the base station determines the arrival angle by calculating a cross-correlation parameter according the first communication and the second communication signal.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030003924A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030003924A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030003924A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030003924A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030003924A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030003924A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030003924A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030003924A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
