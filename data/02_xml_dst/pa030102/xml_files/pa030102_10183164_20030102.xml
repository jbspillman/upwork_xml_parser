<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001767A1-20030102-D00000.TIF SYSTEM "US20030001767A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00001.TIF SYSTEM "US20030001767A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00002.TIF SYSTEM "US20030001767A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00003.TIF SYSTEM "US20030001767A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00004.TIF SYSTEM "US20030001767A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00005.TIF SYSTEM "US20030001767A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00006.TIF SYSTEM "US20030001767A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00007.TIF SYSTEM "US20030001767A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001767A1-20030102-D00008.TIF SYSTEM "US20030001767A1-20030102-D00008.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001767</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10183164</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020628</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>P2001-198279</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H03M001/12</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>341</class>
<subclass>155000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Comparator circuit</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Yuji</given-name>
<family-name>Gendai</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<correspondence-address>
<name-1>RADER FISHMAN &amp; GRAUER PLLC</name-1>
<name-2></name-2>
<address>
<address-1>LION BUILDING</address-1>
<address-2>1233 20TH STREET N.W., SUITE 501</address-2>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20036</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">Differential signals output by a transfer unit of a latch stage are fed back to a comparator stage as negative feedback signals through a feedback circuit including a differential amplifier comprising two transistors. In this configuration, amplitudes of signals supplied to the transfer unit are stabilized by a feedback effect provided by the feedback circuit to become independent of a through-rate of an input signal supplied to the comparator stage. To be more specific, if the through-rate is high, the amplitudes are reduced but, if the through-rate is low, the amplitudes are increased. As a result, variations in sampling delay related to sampling clock signals are suppressed. With this configuration, for example, harmonic distortions in a flash A/D converter are also suppressed as well. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a comparator circuit employed in a flash A/D converter. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> In conversion of an analog signal into a digital signal at a high speed, the conventional flash A/D converter is used. The basic configuration of the flash A/D converter is commonly known and described in U.S. Pat. No. 4,276,543. In the flash A/D converter, it is necessary to compare an analog signal with a number of reference voltages by using the same number of comparator circuits. Thus, the performance of the flash A/D converter is affected by the performance of the comparator circuits. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is diagram showing a comparator circuit employed in the A/D converter disclosed in the U.S. Patent mentioned above. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> An analog input terminal <highlight><bold>104</bold></highlight> is a terminal common to all the comparator circuits <highlight><bold>102</bold></highlight>. An analog input signal Vin to be converted into a digital signal is supplied to the analog input terminal <highlight><bold>104</bold></highlight>. A reference voltage Vref is also supplied to each of the comparator circuits <highlight><bold>102</bold></highlight>. The reference voltage Vref which varies from comparator circuit <highlight><bold>102</bold></highlight> to comparator circuit <highlight><bold>102</bold></highlight> is supplied to a reference voltage <highlight><bold>106</bold></highlight>. A latch (or a master latch) circuit <highlight><bold>108</bold></highlight> at the first stage of the comparator circuit <highlight><bold>102</bold></highlight> is directly connected to the analog input terminal <highlight><bold>104</bold></highlight> for receiving the analog input signal Vin and a reference-voltage terminal <highlight><bold>106</bold></highlight> for receiving the reference voltage Vref. Thus, switching noises attributed to sampling clock signals CLK and CLK&prime; are returned to the input side in a phenomenon known as a &lsquo;kickback&rsquo;, causing conversion noises to increase. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> In order to avoid this phenomenon, there has been proposed a comparator circuit <highlight><bold>118</bold></highlight> having a configuration in which, as shown in <cross-reference target="DRAWINGS">FIG. 4, a</cross-reference> pre-amplifier is provided as a comparator stage <highlight><bold>112</bold></highlight> in front of a master latch <highlight><bold>110</bold></highlight>, the comparator stage <highlight><bold>112</bold></highlight> and the latch stage <highlight><bold>110</bold></highlight> are separated from each other, a power-supply line AVCC in the comparator stage <highlight><bold>112</bold></highlight> is separated from a power-supply line DVCC in the latch stage <highlight><bold>110</bold></highlight>, a ground line AGND in the comparator stage <highlight><bold>112</bold></highlight> is separated from a ground line DGND in the latch stage <highlight><bold>110</bold></highlight>, and the comparator stage <highlight><bold>112</bold></highlight> and the latch stage <highlight><bold>110</bold></highlight> are connected to each other only by an emitter follower comprising transistors <highlight><bold>114</bold></highlight> and <highlight><bold>116</bold></highlight>. For more information on the comparator circuit <highlight><bold>118</bold></highlight>, refer to a document authored by Yukio Akazawa, Atushi Iwata, Tsutomu Wakimoto, Tshuomu Kamato, Hiroaki Nakamura and Hyoh Ikawa with a title of &ldquo;A 400 MSPS 8b Flash AD Conversion LSI&rdquo; appearing on pp. 98-99 of ISSCC Digest of Technical Papers issued in February 1987. At the present time, such a configuration is adopted as a standard of comparator circuits employed in flash A/D converters. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> In addition, since the comparator stage <highlight><bold>112</bold></highlight> and the latch stage <highlight><bold>110</bold></highlight> are separated from each other in this configuration, the range of the reference voltages Vref in the comparator circuits <highlight><bold>112</bold></highlight> can be widened. Furthermore, at the latch stage <highlight><bold>110</bold></highlight>, the number of transistors provided in series between the power-supply line DVCC and the ground line DGND, that is, the number of vertically connected transistors, is small. A small number of such transistors is advantageous for efforts to reduce the level of the power supply. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Main characteristics of the flash A/D converter include an input-distortion-vs-frequency characteristic. <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a diagram showing a graph representing a typical result of a measurement of the input-distortion-vs-frequency characteristic in the conventional flash A/D converter. In the figure, the horizontal axis represents the frequency and the vertical axis represents an SNDR, which is an abbreviation of Signal to (Noise&plus;Distortion) Ratio. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The graph shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is obtained by supplying a voltage sinusoidal over almost its full range to a 6-bit A/D converter and applying FFT processing to the output of the A/D converter. The output of the A/D converter includes not only analog distortions but also quantization distortions. A signal including distortions of both the types is evaluated by using the SNDR. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, as the frequency increases, the SNDR decreases. A main cause of the decrease in SNDR is the increase in low-order harmonic components with frequencies of two to three times the frequency of the input signal. This cause is identified from results of a frequency analysis carried out on the signal output by the A/D converter. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> With regard to a mechanism in which such a low-order harmonic distortion (which is referred to simply as a harmonic distortion) is generated, there are many causes of the distortion. In addition, the causes are related to each other so that it is difficult to analyze the causes. As a result, the causes are not well identified so far. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> A typical analysis of harmonic distortions is disclosed in a document such as a reference entitled &ldquo;Integrated Analog-to-Digital and Digital-to-Analog Converters&rdquo; by Rudy van de Plassche, a publication of Kluwer Academic Publishers, in 1994, on page 189 to 203. <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a diagram showing a model of the comparator circuit, which is also shown on page 191 of this reference, in relation to the analysis of harmonic distortions. In accordance with this model, the comparator circuit comprises an amplitude limiter <highlight><bold>120</bold></highlight> and a primary delay system <highlight><bold>122</bold></highlight>. This model can be used for relatively well explaining the phenomenon in a qualitative manner. Since the latch stage is not taken into consideration, however, the model is too simple to represent the actual comparator circuit. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> It is thus an object of the present invention addressing the problems described above to provide a comparator circuit introducing only few variations in sampling delay and capable of suppressing harmonic distortions in a flash A/D converter or the like. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In order to achieve the object described above, the present invention provides a comparator circuit includes a comparator stage including a first differential amplifier circuit; a latch stage for fetching signals output by the comparator stage and holding as well as outputting level signals for the fetched signals synchronously with sampling clock signals; and a feedback circuit for feeding back signals output by the latch stage to the comparator stage as negative feedback signals; wherein the latch stage includes a second differential amplifier circuit for inputting the signals output by the comparator stage; and a latch main unit for holding signals output by the second differential amplifier circuit; and the second differential amplifier circuit and the latch main unit work alternately in synchronization with the sampling clock signals. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In the case of an input signal with a high through-rate, the comparator stage supplies differential signals each having a sufficient amplitude to the second differential amplifier circuit serving as a transfer unit of the latch stage as described above. Thus, even while the second differential amplifier circuit is transiting to a non-operative state to result in a low sensitivity, the second differential amplifier circuit is capable of driving and inverting the latch main unit. As a result, the sampling delay becomes shorter. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> In the case of the comparator circuit implemented by this embodiment, however, the signals output by the second differential amplifier circuit each also have a sufficient amplitude at that time. Thus, the signals output by the comparator stage are strongly suppressed by a negative feedback effect provided by the feedback circuit and, as a result, signals input to the second differential amplifier circuit become weaker. In consequence, the second differential amplifier circuit is no longer capable of inverting the latch main unit unless the timing is a timing providing a sensitivity higher than the conventional comparator circuit. As a result, the sampling delay becomes longer. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> In the case of an input signal with a low through-rate, on the other hand, the comparator stage supplies differential signals each having an insufficient amplitude to the second differential amplifier circuit of the latch stage as described above. Thus, if the second differential amplifier circuit is transiting to a non-operative state to result in a low sensitivity, the second differential amplifier circuit is not capable of driving the latch main unit. As a result, the sampling delay is longer. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> In the case of the comparator circuit implemented by this embodiment, however, the signals output by the second differential amplifier circuit each have a small amplitude at that time. Thus, the signals output by the comparator stage are not so suppressed by the negative feedback effect provided by the feedback circuit and, as a result, signals input to the second differential amplifier circuit become stronger. In consequence, the second differential amplifier circuit is capable of inverting the latch main unit even if the timing is a timing providing a sensitivity lower than the conventional comparator circuit. As a result, the sampling delay becomes shorter. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> As a result, in the case of the comparator circuit implemented by this embodiment, as a whole, variations in sampling delay are suppressed. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> In addition, in a flash A/D converter employing a comparator circuit provided by the present invention, variations in sampling delay in the comparator circuit are small so that harmonic distortions can be suppressed.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a circuit diagram showing a comparator circuit provided by the present invention; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a circuit diagram showing a comparator circuit implemented by the second embodiment of the present invention; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a circuit diagram showing a comparator circuit employed in the conventional A/D converter; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a circuit diagram showing another conventional comparator circuit; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a graph showing a typical result of a measurement of an input-distortion-vs-frequency characteristic in the conventional flash A/D converter; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a diagram showing a model of a comparator-circuit configuration relevant to analyses of harmonic distortions; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a diagram showing waveforms of an A/D converter&apos;s input and output signals superposed on each other in a virtual manner; and </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 8A and 8B</cross-reference> are diagrams showing respectively waveforms of a sampling clock signal CLKP and an analog input Vin supplied to the comparator circuit shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, and <cross-reference target="DRAWINGS">FIG. 8C</cross-reference> is a diagram showing a signal ZP output by a latch stage of the comparator circuit.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> From analyses and experiences conducted by the inventor of the present invention itself, the inventor drew a conclusion that, in a well designed flash A/D converter, a dominant cause of the harmonic distortions is a delay time of the comparator circuit. To put it in more detail, a sampling delay changes in accordance with the input signal. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a diagram showing waveforms input and output signals of an A/D converter superposed on each other in a virtual manner. In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the horizontal axis represents the lapse of time and the vertical axis represents the relative value of the amplitude. The solid-line curve is the waveform of the input signal whereas the dashed-line curve represents the output codes obtained as a result of conversion. For the sake of convenience, the output codes are transformed into an analog quantity. The output of an actual A/D converter has discrete amplitudes at discrete times. With regard to harmonic distortions, however, the fact that the output of the A/D converter has discrete amplitudes at discrete times is a trivial matter so that the output can be treated like an analog quantity. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> It should be noted that, in the actual A/D converter, an output code is output at a pipeline delay following a sampling operation of the input signal (The pipeline delay is a delay time corresponding to several clock periods of a sampling clock signal.) In order to make a sampling delay easy to understand, however, <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows output codes as a dashed-line curve by assuming that there is no pipeline delay. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the waveform of the output codes lags behind the input signal only by a sampling-delay time. The sampling delay has typical values &tgr;1 to &tgr;6, which are different from timing to timing in 1 period of the sinusoidal waveform. Thus, the output-code waveform is obtained not by merely delaying the input signal. Instead, the output-code waveform has a shape different from the waveform of the input signal and includes harmonic distortions. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> The variations in sampling delay, which cause harmonic distortions, are generated as follows. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 8A and 8B</cross-reference> are diagrams showing respectively waveforms of a sampling clock signal CLKP and an analog input Vin, which are supplied to the comparator circuit <highlight><bold>118</bold></highlight>, whereas <cross-reference target="DRAWINGS">FIG. 8C</cross-reference> is a diagram showing a signal ZP output by the latch stage. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> First of all, consider a case in which the input signal Vin crosses the reference voltage Vref from the lower side to the upper side of the reference voltage Vref with a timing lagging behind a sampling time Ts by a sufficiently long time delay as shown by a waveform <highlight><bold>124</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 8B</cross-reference> (The sampling time Ts is a timing with which the sampling clock signal CLKP changes from a low level to a high level.) In this case, the signal ZP output by the comparator circuit <highlight><bold>118</bold></highlight> does not change but stays at a low level as it is even after the sampling time Ts (shown by a dotted line in <cross-reference target="DRAWINGS">FIG. 8C</cross-reference>.) </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> Next, it considers a case in which the input signal Vin crosses the reference voltage Vref from the lower side to the upper side of the reference voltage Vref with a timing leading ahead of the sampling time Ts by a sufficiently long lead time as shown by a waveform <highlight><bold>126</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 8B</cross-reference>. In this case, a signal output by the comparator stage <highlight><bold>112</bold></highlight> is latched into the latch stage <highlight><bold>110</bold></highlight> and the signal ZP output by the comparator circuit <highlight><bold>118</bold></highlight> changes from a low level to a high level at the sampling time Ts (shown by a solid line in <cross-reference target="DRAWINGS">FIG. 8C</cross-reference>.) </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Thus, between these two lagging and leading timings, there is a boundary on which the output signal ZP can be either inverted or stay at a low level. With this boundary timing, the input signal Vin crosses the reference voltage Vref from the lower side to the upper side of the reference voltage Vref as shown by a waveform <highlight><bold>128</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 8B</cross-reference>. A time from this boundary timing to the sampling time Ts is referred to as a sampling delay &tgr;. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> The sampling delay &tgr; is much dependent on the through-rate of the input signal Vin. Strictly speaking, the sampling delay &tgr; can be considered to be expressible as a complex function depending on the waveform of the input signal Vin and the reference voltage Vref. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> It should be noted that, in <cross-reference target="DRAWINGS">FIGS. 8A through 8C</cross-reference>, the rising timing of the sampling clock signal CLKP or, accurately speaking, a time at which the sampling clock signal CLKP crosses the sampling clock signal CLKN having a phase different from the phase of the sampling clock signal CLKP by 180 degrees is taken as the sampling time Ts. In actuality, however, a time at which sampling occurs is shifted slightly from the time at which the sampling clock signal CLKP crosses the sampling clock signal CLKN. Nevertheless, this shift can be ignored without causing any problems in a study of variations in sampling delay. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> By referring to <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, the following description concretely explains a mechanism in which the sampling delay &tgr; changes in dependence on the input signal Vin. As an example, the description takes a case in which the sampling clock signal CLKP changes from a low level to a high level. The second differential amplifier circuit, that is, the transfer unit <highlight><bold>130</bold></highlight> which comprises the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight> to serve as the master latch <highlight><bold>110</bold></highlight>, has a gradually decreasing amplification since the transistor Q<highlight><bold>9</bold></highlight> changes from an on state to an off state, causing the current to no longer flow. Thus, the sensitivity as a comparator gradually decreases. On the other hand, the latch main unit <highlight><bold>132</bold></highlight>, which comprises the transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight> to serve as the master latch <highlight><bold>110</bold></highlight> enters an operative state since the transistor Q<highlight><bold>10</bold></highlight> changes from an off state to an on state, causing a current to flow. At a stage the sampling clock signal CLKP turns to a high level, the latch main unit <highlight><bold>132</bold></highlight> enters a state of holding an input signal prevailing in the immediately preceding state. What is described above is a normal operation of the master latch <highlight><bold>110</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> In order to assure the transitions described above with a high degree of reliability, the latch circuit normally has a prescribed setup time and a prescribed hold time and prohibits an input signal from changing during these times. As is obvious from <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, however, it is quite within the bounds of probability that, in the flash A/D converter, the input signal changes with either timing. As a result, a variation in sampling delay &tgr; occurs due to a cause explained as follows. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Assume that the through-rate of the input signal Vin is large and the input signal Vin changes from a level sufficiently lower than the reference voltage Vref to a level sufficiently higher than the reference voltage Vref. In this case, the first differential amplifier circuit <highlight><bold>134</bold></highlight>, which comprises the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> to serve as the comparator stage <highlight><bold>112</bold></highlight>, functions as a switch circuit with a fixed delay time. A signal output by this switch can completely change to a high or low level at a speed independent of the input signal. For this reason, in this case, the latch main body <highlight><bold>132</bold></highlight> is driven by the transfer unit <highlight><bold>130</bold></highlight> till a timing with which the sensitivity of the transfer unit <highlight><bold>130</bold></highlight> decreases to a certain degree. As a result, the sampling delay becomes a small value, which is all but fixed. Assume that such a state occurs in the middle of the amplitude of the input signal with a sinusoidal waveform in as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. In this case, in a comparator circuit <highlight><bold>118</bold></highlight> with a reference voltage Vref having the same level as the middle of the amplitude, the sampling delay does not change much and has a small value. Sampling delays &tgr;2 and &tgr;5 and sampling delays in close proximity to &tgr;2 and &tgr;5 in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> are each a sampling delay referred to in this case. It should be noted that, for a reason to be described later, the sampling delay &tgr;2 is generally slightly longer than the sampling delay &tgr;5. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> In the case of an input signal with a small through-rate, on the other hand, the differential amplifier circuit <highlight><bold>134</bold></highlight> functions as a linear amplifier instead of functioning as a switch circuit. Thus, recharging and discharging currents of parasitic capacitors relevant to the differential amplifier circuit <highlight><bold>134</bold></highlight> decrease and the propagation delay time of the comparator stage <highlight><bold>112</bold></highlight> thus increases. In addition, in the case of an input signal vin with a magnitude close to the reference voltage Vref, the comparator stage <highlight><bold>112</bold></highlight> is thus capable of outputting only a voltage proportional to a difference between the input signal Vin and the reference voltage even from a Direct-current point of view. As a result, these two causes are combined to result in a small amplitude of the input signal supplied to the master latch <highlight><bold>110</bold></highlight> so that the latch main unit <highlight><bold>132</bold></highlight> can thus be inverted only for a transition with a long period of time in which the sensitivity of the transfer unit <highlight><bold>130</bold></highlight> is large. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Assume that the input signal has a sinusoidal waveform like one shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. In this case, as the input signal approaches the peak of the waveform, the sampling delay increases abruptly in a comparator circuit <highlight><bold>118</bold></highlight> with its reference voltage Vref set at a level close to the peak. Sampling delays &tgr;3 and &tgr;6 are each a sampling delay referred to in this case. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> In addition, at levels close to the peak of the sinusoidal waveform, there are cases in which the comparator stage <highlight><bold>112</bold></highlight> cannot be inverted. As a result, the output-code amplitude decreases. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> In the comparator circuit <highlight><bold>118</bold></highlight> with a reference voltage Vref set at a level before or after the peak of the sinusoidal waveform, right after the input voltage exceeds the reference voltage Vref at a level before the peak, the input signal becomes lower than the reference voltage Vref. Thus, before a signal output by the comparator stage <highlight><bold>112</bold></highlight> completely becomes a high or low level in an inversion after the input signal Vin exceeds the reference voltage Vref, the input signal Vin becomes lower than the reference voltage Vref and returns to the original level. Thus, immediately following the peak of the sinusoidal waveform, after the input signal Vin becomes lower than the reference voltage Vref, the delay time becomes very short till the signal output by the comparator stage <highlight><bold>112</bold></highlight> becomes a supposed level. Thus, in an area around the peak of the sinusoidal waveform, the sampling delay becomes shorter like sampling delays &tgr;1 and &tgr;4. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In addition, the sampling delay for a rising input signal Vin is different from the sampling delay for a decreasing input signal Vin. As is obvious from comparator of the sampling delay &tgr;5 with the sampling delay &tgr;2, in general, the sampling delay for a rising input signal Vin is long while the sampling delay for a decreasing input signal Vin is short (It should be noted that this difference is particularly emphasized in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>.) This is mainly because the input signal Vin dynamically changes while the reference voltage Vref is a fixed voltage so that the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> as well as their parasitic capacitors enter different operating states. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> As described above, the sampling delay phenomenon is a very nonlinear phenomenon. It is thus difficult to make an analytical model. In addition, simulation based on numerical calculation was also difficult so far. For these reasons, no means effective for dealing with harmonics was identified so far. To the utmost, there is adopted a technique by which a circuit current flowing through each component in every comparator circuit is increased to raise the speed of the comparator circuit. In addition, with this technique, by increasing the currents to a certain degree, an effect can be obtained. If the currents are further increased, however, a limit at which harmonic distortions can no longer be improved is reached. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In addition, there is a conceivable method by which a sample-hold circuit is provided before the comparator circuit to keep the levels of the input signal before and after a sampling operation at fixed values. Since a sample-hold circuit having a high speed by itself requires an advanced technology, however, it is quite within the bounds of possibility that the problem is merely transferred from the comparator circuit to the sample-hold circuit. In addition, the sample-hold circuit generally requires a higher power-supply voltage than the A/D converter. Thus, there is raised a problem of more power consumption. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> A preferred embodiment of the present invention is explained by referring to diagrams as follows. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a diagram showing a comparator circuit <highlight><bold>2</bold></highlight> provided by the present invention. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> A flash A/D converter includes a number of comparator circuits <highlight><bold>2</bold></highlight> each implemented by an embodiment of the present invention and the same number of different reference voltages to be compared with an analog signal input to the converter. As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the comparator circuit <highlight><bold>2</bold></highlight> comprises a comparator stage <highlight><bold>4</bold></highlight>, a latch stage <highlight><bold>6</bold></highlight> and a feedback circuit <highlight><bold>8</bold></highlight>. The comparator stage <highlight><bold>4</bold></highlight> compares the magnitudes of two signals with each other and outputs two signals each having 2 levels different from each other in dependence on a result of the comparator. The two signals input to the comparator stage <highlight><bold>4</bold></highlight> are the input signal Vin and the reference voltage Vref. The latch stage <highlight><bold>6</bold></highlight> fetches the signals output by the comparator stage <highlight><bold>4</bold></highlight> and holds as well as outputs level signals for the fetched signals synchronously with sampling clock signals CLKP and CLKN. The feedback circuit <highlight><bold>8</bold></highlight> feeds the signals output by the latch stage <highlight><bold>6</bold></highlight> back to the comparator stage <highlight><bold>4</bold></highlight> as negative feedback signals. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> To put it in detail, the comparator stage <highlight><bold>4</bold></highlight> includes a first differential amplifier circuit <highlight><bold>10</bold></highlight> functioning as a comparator. The latch stage <highlight><bold>6</bold></highlight> receives differential signals <highlight><bold>12</bold></highlight> output by the first differential amplifier circuit <highlight><bold>10</bold></highlight> of the comparator stage <highlight><bold>4</bold></highlight> as input signals and outputs differential signals ZP and ZN having levels representing the input signals. The feedback circuit <highlight><bold>8</bold></highlight> feeds the differential signals ZP and ZN output by the latch stage <highlight><bold>6</bold></highlight> back to the first differential amplifier circuit <highlight><bold>10</bold></highlight> as negative feedback signals. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> The latch stage <highlight><bold>6</bold></highlight> comprises a second differential amplifier circuit <highlight><bold>14</bold></highlight> and a latch main unit <highlight><bold>16</bold></highlight>. The second differential amplifier circuit <highlight><bold>14</bold></highlight> is used for inputting the differential signals <highlight><bold>12</bold></highlight> output by the first differential amplifier circuit <highlight><bold>10</bold></highlight>, and the latch main unit <highlight><bold>16</bold></highlight> is used for holding signals output by the second differential amplifier circuit <highlight><bold>14</bold></highlight>. The second differential amplifier circuit <highlight><bold>14</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight> work alternately in synchronization with the sampling clock signals CLKP and CLKN. </paragraph>
<paragraph id="P-0054" lvl="7"><number>&lsqb;0054&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the feedback circuit <highlight><bold>8</bold></highlight> has a third differential amplifier circuit <highlight><bold>18</bold></highlight>. The differential signals ZP and ZN output by the second differential amplifier circuit <highlight><bold>14</bold></highlight> of the larch stage <highlight><bold>6</bold></highlight> are supplied to the third differential amplifier circuit <highlight><bold>18</bold></highlight>, which outputs differential signals <highlight><bold>20</bold></highlight> to the first differential amplifier circuit <highlight><bold>10</bold></highlight> of the comparator stage <highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The first differential amplifier circuit <highlight><bold>10</bold></highlight> includes transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight>, which form a differential pair (The transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> are respectively first and second transistors provided by the present invention.) The collector of the transistor Q<highlight><bold>1</bold></highlight> is connected to a power-supply line VCC by a circuit comprising resistors R<highlight><bold>1</bold></highlight> and R<highlight><bold>3</bold></highlight> connected to each other in series (The resistors R<highlight><bold>1</bold></highlight> and R<highlight><bold>3</bold></highlight> are respectively first and second resistors provided by the present invention.) By the same token, the collector of the transistor Q<highlight><bold>2</bold></highlight> is connected to the power-supply line VCC by a circuit comprising resistors R<highlight><bold>2</bold></highlight> and R<highlight><bold>4</bold></highlight> connected to each other in series (The resistors R<highlight><bold>2</bold></highlight> and R<highlight><bold>4</bold></highlight> are respectively the third and fourth resistors provided by the present invention.) One of the differential signals <highlight><bold>20</bold></highlight> output by the third differential amplifier circuit <highlight><bold>18</bold></highlight> is supplied to a junction point between the resistors R<highlight><bold>1</bold></highlight> and R<highlight><bold>3</bold></highlight> while the other differential signal <highlight><bold>20</bold></highlight> is supplied to a junction point between the resistors R<highlight><bold>2</bold></highlight> and R<highlight><bold>4</bold></highlight>. The emitters of the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> are both connected to one terminal of a constant-current generator <highlight><bold>22</bold></highlight>. The other end of the constant-current generator <highlight><bold>22</bold></highlight> is connected to the ground GND. The input signal Vin and the reference voltage Vref are supplied to the bases of the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> respectively. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> The latch stage <highlight><bold>6</bold></highlight> comprises the second differential amplifier circuit <highlight><bold>14</bold></highlight>, which serves as a transfer unit <highlight><bold>24</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight>. The second differential amplifier circuit <highlight><bold>14</bold></highlight> includes transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight>, which form a differential pair. The collectors of the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight> are connected to the power-supply line VCC by resistors R<highlight><bold>5</bold></highlight> and R<highlight><bold>6</bold></highlight> respectively. The emitters of the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight> are both connected to the collector of a transistor Q<highlight><bold>9</bold></highlight>, which functions as a switching means. The bases of the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight> are connected to the collectors of the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> respectively. The collectors of the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight> each serve as an output terminal of the first differential amplifier circuit <highlight><bold>10</bold></highlight>. The emitter of the transistor Q<highlight><bold>9</bold></highlight> is connected to one specific terminal of a constant-current generator <highlight><bold>26</bold></highlight>. The other end of the constant-current generator <highlight><bold>26</bold></highlight> is connected to the ground GND. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> The latch main unit <highlight><bold>16</bold></highlight> includes transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight>, which form a differential pair. The bases of the transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight> are connected to the collectors of the transistors Q<highlight><bold>6</bold></highlight> and Q<highlight><bold>5</bold></highlight> respectively. The emitters of the transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight> are both connected to the collector of a transistor Q<highlight><bold>10</bold></highlight>, which functions as a switching means. The collectors of the transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight> are connected to the bases of the transistors Q<highlight><bold>8</bold></highlight> and Q<highlight><bold>7</bold></highlight> respectively. The collectors of the transistors Q<highlight><bold>7</bold></highlight> and Q<highlight><bold>8</bold></highlight> output the differential signals ZP and ZN respectively. The emitter of the transistor Q<highlight><bold>10</bold></highlight> is connected to the specific terminal of the constant-current generator <highlight><bold>26</bold></highlight>. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> Two clock signals CLKN and CLKP with phases different from each other by 180 degrees are supplied to the transistors Q<highlight><bold>9</bold></highlight> and Q<highlight><bold>10</bold></highlight> to turn on and off the transistors Q<highlight><bold>9</bold></highlight> and Q<highlight><bold>10</bold></highlight> alternately. Thus, the transfer unit <highlight><bold>24</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight> also work alternately. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the third differential amplifier circuit <highlight><bold>18</bold></highlight> functioning as the feedback circuit <highlight><bold>8</bold></highlight> has transistors Q<highlight><bold>3</bold></highlight> and Q<highlight><bold>4</bold></highlight>, which form a differential pair. The collector of the transistor Q<highlight><bold>3</bold></highlight> (serving as an output terminal of the third differential amplifier <highlight><bold>18</bold></highlight>) is connected to a junction point between the resistors R<highlight><bold>1</bold></highlight> and R<highlight><bold>3</bold></highlight>. By the same token, the collector of the transistor Q<highlight><bold>4</bold></highlight> (serving as another output terminal of the third differential amplifier <highlight><bold>18</bold></highlight>) is connected to a junction point between the resistors R<highlight><bold>2</bold></highlight> and R<highlight><bold>4</bold></highlight>. The emitters of the transistors Q<highlight><bold>3</bold></highlight> and Q<highlight><bold>4</bold></highlight> are both connected to one terminal of a constant-current generator <highlight><bold>28</bold></highlight>. The other terminal of the constant-current generator <highlight><bold>28</bold></highlight> is connected to the ground GND. The bases of the transistors Q<highlight><bold>3</bold></highlight> and Q<highlight><bold>4</bold></highlight> are connected to respectively the collectors of the transistors Q<highlight><bold>6</bold></highlight> and Q<highlight><bold>5</bold></highlight> of the transfer unit <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> In addition, unlike the comparator circuit shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, in this embodiment, the power-supply line VCC and the ground line GND are each a line common to the comparator stage <highlight><bold>4</bold></highlight> and the latch stage <highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> In such a configuration, the comparator circuit <highlight><bold>2</bold></highlight> serving as a comparator means has the following basic operations. The comparator stage <highlight><bold>4</bold></highlight> compares the input signal Vin with the reference voltage Vref and outputs results of comparator, as differential signals <highlight><bold>12</bold></highlight>, appearing at the collectors of the transistors Q<highlight><bold>1</bold></highlight> and Q<highlight><bold>2</bold></highlight>. The differential signals <highlight><bold>12</bold></highlight> are supplied to the bases of the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight>, which form the transfer unit <highlight><bold>24</bold></highlight> of the latch stage <highlight><bold>6</bold></highlight>. During a period of time in which the sampling clock signal CLKN is set at a high level while the sampling clock signal CLKP is set at a low level, the transistor Q<highlight><bold>9</bold></highlight> is put in a conductive state. Thus, during this period of time, the transfer unit <highlight><bold>24</bold></highlight> outputs signals through the collectors of the transistors Q<highlight><bold>5</bold></highlight> and Q<highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> Later on, the phase of the sampling clock signal CLKN is changed to the phase of the sampling clock signal CLKP and vice versa, turning the transistor Q<highlight><bold>10</bold></highlight> on and the transistor Q<highlight><bold>9</bold></highlight> off. As a result, the latch main unit <highlight><bold>16</bold></highlight> takes and holds differential signals output by the transfer unit <highlight><bold>24</bold></highlight> right before the transfer unit <highlight><bold>24</bold></highlight> enters the non-conductive state. The differential signals held by the latch main unit <highlight><bold>16</bold></highlight> are output as the differential signals ZP and ZN. These operations are repeated each time the phase of the sampling clock signal CLKN is changed to the phase of the sampling clock signal CLKP and vice versa. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> In addition to the basic operations described above, the feedback circuit <highlight><bold>8</bold></highlight> employed in the comparator circuit <highlight><bold>2</bold></highlight> implemented by this embodiment feeds back the outputs of the latch stage <highlight><bold>6</bold></highlight> to the comparator stage <highlight><bold>4</bold></highlight> as negative feedback signals. As a result, variations in sampling delay are suppressed as follows. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> In the case of an input signal with a high through-rate, the comparator stage <highlight><bold>4</bold></highlight> supplies differential signals <highlight><bold>12</bold></highlight> each having a sufficient amplitude to the transfer unit <highlight><bold>24</bold></highlight> of the latch stage <highlight><bold>6</bold></highlight> as described above. Thus, even while the transfer unit <highlight><bold>24</bold></highlight> is transiting to a non-operative state to result in a low sensitivity, the transfer unit <highlight><bold>24</bold></highlight> is capable of driving and inverting the latch main unit <highlight><bold>16</bold></highlight>. As a result, the sampling delay becomes shorter. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> In the case of the comparator circuit <highlight><bold>2</bold></highlight> implemented by this embodiment, however, the signals output by the transfer unit <highlight><bold>24</bold></highlight> each have a sufficient amplitude at that time. Thus, the signals output by the comparator stage <highlight><bold>4</bold></highlight> are strongly suppressed by a negative feedback effect provided by the feedback circuit and, as a result, signals input to the transfer unit <highlight><bold>24</bold></highlight> become weaker. In consequence, the transfer unit <highlight><bold>24</bold></highlight> is no longer capable of inverting the latch main unit <highlight><bold>16</bold></highlight> unless the timing is a timing providing a sensitivity higher than the conventional comparator circuit. As a result, the sampling delay becomes longer. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> It should be noted that, while the transfer unit <highlight><bold>24</bold></highlight> is transiting to a non-operative state, the latch main unit <highlight><bold>16</bold></highlight> inversely transits to an operative state. At that instance, both the transfer unit <highlight><bold>24</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight> are operating simultaneously. During such a period of time, the negative feedback from the latch main unit <highlight><bold>16</bold></highlight> also works effectively to lengthen the sampling delay. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> In the case of an input signal with a low through-rate, on the other hand, the comparator stage <highlight><bold>4</bold></highlight> supplies differential signals each having a small amplitude to the transfer unit <highlight><bold>24</bold></highlight> of the latch stage <highlight><bold>6</bold></highlight> as described above. Thus, if the transfer unit <highlight><bold>24</bold></highlight> is transiting to a non-operative state to result in a low sensitivity, the transfer unit <highlight><bold>24</bold></highlight> is not capable of driving the latch main unit <highlight><bold>16</bold></highlight>. As a result, the sampling delay is longer. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> In the case of the comparator circuit <highlight><bold>2</bold></highlight> implemented by this embodiment, however, the signals output by the transfer unit <highlight><bold>24</bold></highlight> each have an insufficient amplitude at that time. Thus, the signals output by the comparator stage <highlight><bold>4</bold></highlight> are not so suppressed by the negative feedback effect provided by the feedback circuit and, as a result, signals input to the transfer unit <highlight><bold>24</bold></highlight> become stronger. In consequence, the transfer unit <highlight><bold>24</bold></highlight> is capable of inverting the latch main unit <highlight><bold>16</bold></highlight> even if the timing is a timing providing a sensitivity lower than the conventional comparator circuit. As a result, the sampling delay becomes shorter. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> It should be noted that, as described above, while the transfer unit <highlight><bold>24</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight> are each transiting to an opposite state, both the transfer unit <highlight><bold>24</bold></highlight> and the latch main unit <highlight><bold>16</bold></highlight> are operating simultaneously albeit on a temporary basis. During such a period of time, nevertheless, the negative feedback from the latch main unit <highlight><bold>16</bold></highlight> also works effectively to suppress variations in sampling delay. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> As a result, in the case of the comparator circuit <highlight><bold>2</bold></highlight> implemented by this embodiment, as a whole, variations in sampling delay are suppressed. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> In addition, variations in sampling delay are generated due a cause other than a difference in through-rate as described above. Also in this case, the negative feedback effect provided by the embodiment stabilizes the amplitudes of the differential signals <highlight><bold>12</bold></highlight> supplied to the transfer unit <highlight><bold>24</bold></highlight>. Thus, variations in sampling delay are suppressed effectively. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> In addition, in a flash A/D converter incorporating the comparator circuit <highlight><bold>2</bold></highlight> implemented by the embodiment, since variations in sampling delay that occur in the comparator circuit <highlight><bold>2</bold></highlight> are small, harmonic distortions can be suppressed. Results of simulation based on numerical calculation carried out by the inventor of the present invention also verify that harmonic distortions can be suppressed in a flash A/D converter incorporating the comparator circuit <highlight><bold>2</bold></highlight> implemented by the embodiment. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Next, a second embodiment of the present invention is explained. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram showing a comparator circuit implemented by the second embodiment of the present invention. Components of the second embodiment identical with their counterparts shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> are denoted by the same reference numerals as the counterparts. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> A comparator circuit <highlight><bold>30</bold></highlight> employed in the second embodiment shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is different from the comparator circuit <highlight><bold>2</bold></highlight> described above in that the feedback circuit <highlight><bold>8</bold></highlight> is replaced by a configuration in which the comparator stage and the latch stage have a common impedance. That is to say, in the second embodiment, resistors R<highlight><bold>5</bold></highlight> and R<highlight><bold>6</bold></highlight>, which serve as a load of a differential amplifier circuit <highlight><bold>15</bold></highlight>, form a feedback circuit <highlight><bold>32</bold></highlight>. The resistor R<highlight><bold>5</bold></highlight> connects the collector of the transistor Q<highlight><bold>5</bold></highlight> to the junction point between the resistors R<highlight><bold>1</bold></highlight> and R<highlight><bold>3</bold></highlight> while the resistor R<highlight><bold>6</bold></highlight> connects the collector of the transistor Q<highlight><bold>6</bold></highlight> to the junction point between the resistors R<highlight><bold>2</bold></highlight> and R<highlight><bold>4</bold></highlight>. A load circuit of the differential amplifier circuit <highlight><bold>15</bold></highlight> has a configuration including the resistors R<highlight><bold>5</bold></highlight> and R<highlight><bold>6</bold></highlight>, which form the feedback circuit <highlight><bold>32</bold></highlight>, and a load circuit of a differential amplifier circuit <highlight><bold>10</bold></highlight>. The load circuit of the differential amplifier circuit <highlight><bold>10</bold></highlight> includes resistors R<highlight><bold>3</bold></highlight> and R<highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In such a configuration, however, a feed-through from the comparator stage <highlight><bold>4</bold></highlight> to the latch stage <highlight><bold>6</bold></highlight> occurs. As a whole, nevertheless, a signal can be sufficiently fed back from the latch stage <highlight><bold>6</bold></highlight> to the comparator stage <highlight><bold>4</bold></highlight> as a negative feedback signal. Thus, the same effect as the comparator circuit <highlight><bold>2</bold></highlight> can be obtained. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> By means of simulation based on numerical calculation, the inventor of the present invention has verified that it is possible to suppress harmonic distortions in a flash A/D converter employing the comparator circuit <highlight><bold>30</bold></highlight> implemented by the second embodiment. The inventor also proved the suppression of harmonic distortions in an actual comparator circuit implemented as an integrated circuit. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> In addition, in this second embodiment, a negative feedback loop can be provided without increasing the number of components and the power consumption. In the case of a flash A/D converter, in particular, a number of comparator circuits are required. Thus, the effects demonstrated by the comparator circuits are great. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> It should be noted that the present invention can be applied to not only to a case in which a large number of comparator circuits are employed in a flash A/D converter, but of course also to a case of using a comparator circuit as a standalone unit. Also in the latter case, variations in sampling delay are suppressed to exhibit the effects described above. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> The embodiments described above and the conventional comparator circuit shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> have something in common, i.e., the comparator and latch stages. In the case of the conventional comparator circuit, however, one needs to pay attention to the fact that the comparator stage and the latch stage are separated from each other. In the case of the embodiments, on the other hand, there is provided a configuration in which the comparator stage is affected on the contrary by the latch stage through a feedback circuit. Thus, the comparator circuits implemented by the embodiments each have a design basically different from the conventional comparator circuit shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. In addition, unlike the conventional comparator circuit shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, in the case of the embodiments, the comparator stage and the latch stage share a common power-supply line and a common ground line. Development of a simulation technology in recent years makes it possible to verify that a kickback effect is so small that it can be ignored even if a common power-supply line and a common ground line are shared by the comparator and latch stages. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> While the preferred embodiments of the present invention have been described using the specific terms, such description is for illustrative purposes only, and it is to be understood that changes and variations may be made without departing from the spirit or scope of the following claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A comparator circuit comprising: 
<claim-text>a comparator stage including a first differential amplifier circuit; </claim-text>
<claim-text>a latch stage for fetching signals output by said comparator stage and holding as well as outputting level signals for said fetched signals synchronously with sampling clock signals; and </claim-text>
<claim-text>a feedback circuit for feeding back signals output by said latch stage to said comparator stage as negative feedback signals, wherein: 
<claim-text>said latch stage comprises: 
<claim-text>a second differential amplifier circuit for inputting said signals output by said comparator stage; and </claim-text>
<claim-text>a latch main unit for holding signals output by said second differential amplifier circuit; and </claim-text>
<claim-text>said second differential amplifier circuit and said latch main unit work alternately in synchronization with said sampling clock signals. </claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A comparator circuit according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said feedback circuit feeds back differential signals output by said latch stage to said comparator stage as negative feedback signals. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A comparator circuit according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> wherein said feedback circuit includes a third differential amplifier circuit for feeding back said differential signals output by said latch stage to said first differential amplifier circuit employed in said comparator stage. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A comparator circuit according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference> wherein: 
<claim-text>said first differential amplifier circuit comprises first and second transistors forming a differential pair; </claim-text>
<claim-text>a collector of said first transistor is connected to a power-supply line by a circuit comprising first and second resistors connected to each other in series; </claim-text>
<claim-text>a collector of said second transistor is connected to said power-supply line by a circuit comprising third and fourth resistors connected to each other in series; </claim-text>
<claim-text>one of said differential signals output by said third differential amplifier circuit is supplied to a junction point between said first and second resistors; and </claim-text>
<claim-text>the other one of said differential signals output by said third differential amplifier circuit is supplied to a junction point between said third and fourth resistors. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A comparator circuit according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference> wherein: 
<claim-text>said first differential amplifier circuit comprises first and second transistors forming a differential pair; </claim-text>
<claim-text>a collector of said first transistor is connected to a power-supply line by a circuit comprising first and second resistors connected to each other in series; </claim-text>
<claim-text>a collector of said second transistor is connected to said power-supply line by a circuit comprising third and fourth resistors connected to each other in series; </claim-text>
<claim-text>one of said differential signals output by said latch stage is supplied to a junction point between said first and second resistors by way of a resistor employed in said feedback circuit; and </claim-text>
<claim-text>the other one of said differential signals output by said latch stage is supplied to a junction point between said third and fourth resistors by way of another resistor employed in said feedback circuit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A comparator circuit according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, said comparator circuit embedded in a flash A/D converter.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001767A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001767A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001767A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001767A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001767A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001767A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001767A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001767A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001767A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
