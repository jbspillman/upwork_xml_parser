<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004992A1-20030102-D00000.TIF SYSTEM "US20030004992A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00001.TIF SYSTEM "US20030004992A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00002.TIF SYSTEM "US20030004992A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00003.TIF SYSTEM "US20030004992A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00004.TIF SYSTEM "US20030004992A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00005.TIF SYSTEM "US20030004992A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00006.TIF SYSTEM "US20030004992A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00007.TIF SYSTEM "US20030004992A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00008.TIF SYSTEM "US20030004992A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00009.TIF SYSTEM "US20030004992A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00010.TIF SYSTEM "US20030004992A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004992A1-20030102-D00011.TIF SYSTEM "US20030004992A1-20030102-D00011.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004992</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10183368</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020628</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>2001-198531</doc-number>
</priority-application-number>
<filing-date>20010629</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F015/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>707</class>
<subclass>512000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Data reproduction apparatus and data reproduction method</title-of-invention>
</technical-information>
<inventors>
<first-named-inventor>
<name>
<given-name>Yoshinori</given-name>
<family-name>Matsui</family-name>
</name>
<residence>
<residence-non-us>
<city>Ikoma-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Koji</given-name>
<family-name>Imura</family-name>
</name>
<residence>
<residence-non-us>
<city>Machida-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Naoto</given-name>
<family-name>Otake</family-name>
</name>
<residence>
<residence-non-us>
<city>Yokohama-shi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>WENDEROTH, LIND &amp; PONACK, L.L.P.</name-1>
<name-2></name-2>
<address>
<address-1>2033 K STREET N. W.</address-1>
<address-2>SUITE 800</address-2>
<city>WASHINGTON</city>
<state>DC</state>
<postalcode>20006-1021</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A data reproduction apparatus comprises a data request unit for requesting a server to transmit data; a reception buffer for holding received data; a control unit for detecting the beginning position of AV data, and instructing a decoding unit to start decoding of the AV data when the amount of data stored in the reception buffer has reached a set value after detection of the beginning position position; a decoding unit for decoding the AV data stored in the reception buffer; a clock circuit for outputting a clock signal; and a display unit for displaying the decoded data. Since the AV data of the size required for data reproduction can be reliably pre-buffered when receiving the data, stable data reproduction can be carried out. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to an apparatus and a method for reproducing data and, more particularly, to those for reproducing a file in which data of plural attributes are multiplexed, while downloading the file from a data server. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> In recent years, a PC (Personal Computer) and a mobile terminal have been allowed to reproduce a file in which data of plural attributes such as audio data and video data are multiplexed, while downloading the file from a data server. As an example of a file format employed for this purpose, there is a program stream (hereinafter referred to as a PS) standardized by MPEG (Motion Picture Experts Group) of ISO (International Standards Organization). </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Hereinafter, a description will be given of the construction and operation of a conventional data reproduction apparatus which receives a PS file in which audio data and video data are multiplexed, with reference to drawings. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram illustrating the construction of a conventional data reproduction apparatus <highlight><bold>200</bold></highlight>. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> With reference to <cross-reference target="DRAWINGS">FIG. 14</cross-reference>, the conventional data reproduction apparatus <highlight><bold>200</bold></highlight> includes a data request unit <highlight><bold>101</bold></highlight> for requesting a server to transmit a PS file; and a reception buffer <highlight><bold>102</bold></highlight> for receiving, as a response to the request, a PS file including header information and audio visual (hereinafter referred to as AV) data placed behind the header information, and sequentially accumulating the PS file for pre-buffering. Further, the data reproduction apparatus <highlight><bold>200</bold></highlight> includes a control unit <highlight><bold>201</bold></highlight> for outputting a decoding start instruction signal for instructing start of decoding of the received PS file when a predetermined period of time has passed after starting reception of the PS file; a decoding unit <highlight><bold>104</bold></highlight> for decoding the AV data included in the data stored in the reception buffer <highlight><bold>102</bold></highlight>, on the basis of the decoding start instruction signal; a clock circuit <highlight><bold>105</bold></highlight> for outputting a clock signal to the control unit <highlight><bold>201</bold></highlight>; and a display unit <highlight><bold>106</bold></highlight> for displaying the decoded data. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Hereinafter, the operation of the conventional data reproduction apparatus <highlight><bold>200</bold></highlight> constructed as described above will be described. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The data request unit <highlight><bold>101</bold></highlight> requests a PS file by using HTTP (Hypertext Transfer Protocol) that is standardized by IETF (Internet Engineering Task Force). To be specific, initially, the data request unit <highlight><bold>101</bold></highlight> requests a server to transmit a PS file, by using a GET method. <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows a protocol sequence for downloading the PS file by using HTTP. On receipt of a GET request (GET http://server.com/v.ps) M<highlight><bold>1</bold></highlight>, the server analyzes URL information included in this request to search for a specified file &ldquo;v.ps&rdquo;. When this file exists, the server transmits data M<highlight><bold>2</bold></highlight> including an acknowledgement and file data Df. The data reproduction apparatus <highlight><bold>200</bold></highlight> receives the data transmitted from the server, and pre-buffers the received data in the reception buffer <highlight><bold>102</bold></highlight>. The control unit <highlight><bold>201</bold></highlight> performs time counting on the basis of clock information supplied from the clock circuit <highlight><bold>105</bold></highlight>, and outputs a decoding start instruction signal to the decoding unit <highlight><bold>104</bold></highlight> when a predetermined pre-buffering time has passed after start of data reception. Then, the decoding unit <highlight><bold>104</bold></highlight> starts reading of data from the reception buffer <highlight><bold>102</bold></highlight> and decodes the data, and the decoded data is displayed on the display unit <highlight><bold>106</bold></highlight>. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows the structure of a conventional multiplexed file. The conventional-multiplexed file F adopts a packet structure, and file header information Hf including information relating to the whole file is placed at the beginning of the file, and the file header information Hf is followed by an AV data packet sequence Pav. The file header information Hf includes, for example, the file size of the multiplexed file, number of AV streams included in the file, coding method, bit rate, resolution, date of file formation, total display time, and the like. On the other hand, the AV data packet sequence Pav comprises audio packets Pa and video packets Pv being arranged at random. Each audio packet Pa comprises a packet header Ha and audio data Da, and the packet header Ha includes information indicating the file size, time stamp included in the corresponding packet, whether random access is possible or not, and the like. Each video packet Pv comprises a packet header Hv and video data Dv, and the packet header Hv includes information similar to that included in the audio packet Pa. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The size of the file header information Hf in the conventional multiplexed file F is usually as small as about 1 kbyte. This amount of data can be transmitted in about 125 msec at a transmission rate of 64 kbps. Usually, a pre-buffering time of about 3 sec is good enough for this amount of data. The time required for transmitting the file header information Hf is so small in comparison with the pre-buffering time that it can be ignored. Accordingly, even when the pre-buffering time is fixed to about 3 sec regardless of the size of the file header information Hf, no serious problem occurs. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> However, if the pre-buffering time is fixed as mentioned above in a multiplexed file F<highlight><bold>1</bold></highlight> based on an MP4 format that is standardized by MPEG as shown in <cross-reference target="DRAWINGS">FIG. 17, a</cross-reference> problem occurs as follows. Although the MP4 file F<highlight><bold>1</bold></highlight> comprises a file header information Hf<highlight><bold>1</bold></highlight> and AV data Pav<highlight><bold>1</bold></highlight> that follows the file header information Hf<highlight><bold>1</bold></highlight> like the conventional multiplexed file F, the file header information Hf<highlight><bold>1</bold></highlight> includes the sizes and time stamps of the respective frames, which are included in the AV data packet sequence Pav of the multiplexed file F, in addition to the various kinds of information included in the file header information F of the multiplexed file F, i.e., the file size of the multiplexed file, number of AV streams, coding mode, bit rate, resolution, date of file formation, total display time, etc. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In the MP4 file F<highlight><bold>1</bold></highlight>, the size of the file header information Hf<highlight><bold>1</bold></highlight> may vary from several kbytes to 100 kbytes according to the structure of the AV data Pav<highlight><bold>1</bold></highlight> or the length of reproduction time. For example, the time required for transmitting 100 kbytes of data at a transmission rate of 64 kbps is 12.5 sec. Accordingly, in the conventional data reproduction apparatus <highlight><bold>200</bold></highlight> in which the pre-buffering time is fixed at about 3 sec, the required amount of AV data Pav<highlight><bold>1</bold></highlight> is not yet stored in the buffer at the start of decoding and, therefore, smooth reproduction cannot be carried out. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The present invention is made to solve the above-described problems and has for its object to provide an apparatus and a method for reproducing data, which can reliably pre-buffer an amount of AV data required for data reproduction, thereby to perform stable data reproduction. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> Other objects and advantages of the invention will become apparent from the detailed description that follows. The detailed description and specific embodiments described are provided only for illustration since various additions and modifications within the scope of the invention will be apparent to those of skill in the art from the detailed description. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> According to a first aspect of the present invention, there is provided a data reproduction apparatus for reproducing data including header information and reproduction data that is placed behind the header information, while receiving the data, and the apparatus comprises: a data position detection unit for detecting the beginning position of the reproduction data in the received data, on the basis of the header information; a buffer for holding the received data; a decoding unit for decoding the reproduction data stored in the buffer; and a control unit for outputting, to the decoding unit, a decoding start instruction signal which instructs the decoding unit to start decoding of the reproduction data, when a predetermined period of time has passed after the control unit received the output from the data position detection unit; wherein the decoding unit starts decoding of the reproduction data stored in the buffer, on receipt of the decoding start instruction signal. Since data reproduction is started when a predetermined period of time has passed after detection of the beginning of the received reproduction data, an amount of reproduction data required for data reproduction can be reliably stored in the buffer by the time data reproduction is started, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> According to a second aspect of the present invention, in the data reproduction apparatus according to the first aspect, the control unit outputs the decoding start instruction signal when the amount of data stored in the buffer has reached a set value after the control unit received the output from the data position detection unit. Therefore, stable data reproduction can be carried out by starting data reproduction when a predetermined amount of reproduction data has been stored in the buffer. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> According to a third aspect of the present invention, in the data reproduction apparatus according to the second aspect, the control unit outputs the decoding start instruction signal when it has received an amount of data having a predetermined ratio to the data size of the received data. Therefore, an amount of reproduction data, which is required for data reproduction, can be stored in the buffer. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> According to a fourth aspect of the present invention, in the data reproduction apparatus according to the second aspect, the control unit calculates, on the basis of the reproduction data size information included in the reproduction data, a data size having a predetermined ratio to the size of the reproduction data, which size is indicated by the reproduction data size information, and outputs the decoding start instruction signal when it has received an amount of data equivalent to the calculated data size after reception of the output from the data position detection unit. Therefore, an amount of reproduction data, which is required for performing stable data reproduction, can be stored in the buffer. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> According to a fifth aspect of the present invention, in the data reproduction apparatus according to the second aspect, the reproduction data has plural attributes; the buffer has, for each attribute, an attribute-based storage region in which the reproduction data of each attribute is stored; and the control unit regards the amount of data stored in each attribute-based storage region, as the size of the reproduction data of each attribute to be received, and outputs the decoding start instruction signal when it has received the amount of data corresponding to the data size of any attribute. Therefore, an amount of reproduction data, which is required for performing stable data reproduction, can be stored in the buffer. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> According to a sixth aspect of the present invention, in the data reproduction apparatus according to the fifth aspect, the control unit regards a predetermined ratio of the amount of data stored in each attribute-based storage region, as the data size of the reproduction data of each attribute to be received. Therefore, an amount of reproduction data, which is required for performing stable data reproduction, can be calculated. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> According to a seventh aspect of the present invention, in the data reproduction apparatus according to the fifth or sixth aspect, the control unit outputs the decoding start instruction signal when it has received an amount of data that exceeds the data size of any attribute. Therefore, stable data reproduction can be carried out by storing a predetermined amount of reproduction data in the buffer. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> According to an eighth aspect of the present invention, in the data reproduction apparatus according to the second aspect, the reproduction data has plural attributes; and, on the basis of attribute size information indicating an amount of data of each attribute, which is included in the reproduction data, the control unit calculates, for each attribute, a data reception amount that is required for receiving a predetermined amount of reproduction data of each attribute, and regards the sum of the data reception amounts of all attributes as a reproduction data reception amount, and outputs the decoding start instruction signal when it has received an amount of data corresponding to the reproduction data reception amount. Therefore, an amount of reproduction data, which is required for performing stable data reproduction, can be calculated. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> According to a ninth aspect of the present invention, in the data reproduction apparatus according to the first aspect, on the basis of frame size information indicating the data size of each frame as well as display time information indicating the display time of each frame, which are included in the header information, the control unit calculates a data size of reproduction data corresponding to a predetermined display time, and outputs the decoding start instruction signal when it has received an amount of data equivalent to the data size after detection of the beginning position of the reproduction data. Therefore, stable data reproduction can be carried out by reliably storing an amount of reproduction data, which is required for data reproduction, in the buffer. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> According to a tenth aspect of the present invention, there is provided a data reproduction method for reproducing data which includes header information and reproduction data that is placed behind the header information, while receiving the data, and this method comprises: a data position detection step of detecting the beginning position of the reproduced data in the received data, on the basis of the header information; a storage step of storing the received reproduction data into a buffer; and a decoding step of decoding the stored reproduction data when a predetermined period of time has passed after detection of the beginning position of the reproduction data in the data position detection step. Since data reproduction is started when a predetermined period of time has passed after detection of the beginning of the received reproduction data, an amount of reproduction data required for data reproduction can be reliably stored in the buffer by the time data reproduction is started, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> According to an eleventh aspect of the present invention, there is provided a data reproduction method for reproducing data which includes header information and reproduction data that is placed behind the header information, while receiving the data, and this method comprises: a data position detection step of detecting the beginning position of the reproduced data in the received data, on the basis of the header information; a storage step of storing the reproduction data in a buffer until the amount of the stored data reaches a predetermined value after the beginning position of the reproduction data is detected in the data position detection step; and a decoding step of decoding the predetermined amount of reproduction data which is stored in the buffer. In this method, the beginning of the received reproduction data is detected and data reproduction is started when a predetermined amount of reproduction data has been stored in the buffer after the detection, whereby stable data reproduction can be carried out.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram for explaining the construction and operation of a data reproduction apparatus according to a first embodiment of the present invention. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram illustrating a logic data structure of an MP4 format multiplexed file. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a flowchart for explaining the operation of a control unit included in the data reproduction apparatus according to the first embodiment. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a diagram for explaining the structure sizes and structure IDs which are possessed by the respective structures in the MP4 format multiplexed file. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a flowchart for explaining another example of operation of the control unit included in the data reproduction apparatus according to the first embodiment. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram illustrating the construction and operation of a data reproduction apparatus according to a second embodiment of the present invention. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a flowchart for explaining the operation of a control unit included in the data reproduction apparatus according to the second embodiment. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a flowchart for explaining another example of operation of the control unit included in the data reproduction apparatus according to the second embodiment. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a diagram illustrating the data structure of an MP4 format multiplexed file. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> FIGS. <highlight><bold>10</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>10</bold></highlight>(<highlight><italic>b</italic></highlight>) are diagrams for explaining a video frame information table and an audio frame information table, respectively, which are formed on the basis of a header information section of the MP4 format multiplexed file. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart for explaining another example of operation of the control unit included in the data reproduction apparatus according to the second embodiment. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram illustrating the construction and operation of a data reproduction apparatus according to a third embodiment of the present invention. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a diagram for explaining a handy phone as a data reproduction apparatus according to a fourth embodiment of the present invention. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram illustrating the construction and operation of a conventional data reproduction apparatus. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a diagram for explaining a protocol sequence for downloading a file by using HTTP. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a diagram illustrating the structure of a conventional multiplexed file. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a diagram illustrating the structure of an MP4 format multiplexed file.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Hereinafter, the preferred embodiments of the present invention will be described with reference to the drawings. Since the embodiments described below are merely examples, the present invention is not restricted thereto. </paragraph>
<paragraph id="P-0043" lvl="7"><number>&lsqb;0043&rsqb;</number> &lsqb;Embodiment 1&rsqb;</paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Initially, a data reproduction apparatus as defined in claim 1 and a data reproduction method as defined in claim 10 will be described as a first embodiment of the present invention, with reference to <cross-reference target="DRAWINGS">FIGS. 1 and 2</cross-reference>. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram for explaining the construction and operation of a data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment reproduces a file including file header information and audio visual (hereinafter referred to as AV) data placed behind the file header information, while receiving the file from its beginning. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> More specifically, the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>includes a data request unit <highlight><bold>101</bold></highlight>, and a reception buffer <highlight><bold>102</bold></highlight>. The data request unit <highlight><bold>101</bold></highlight> requests a server to transmit a file. The reception buffer <highlight><bold>102</bold></highlight> holds data that is supplied from the server in response to the request, and pre-buffers the data. The data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>further includes a control unit <highlight><bold>103</bold></highlight>, a decoding unit <highlight><bold>104</bold></highlight>, a clock circuit <highlight><bold>105</bold></highlight>, and a display unit <highlight><bold>106</bold></highlight>. The control unit <highlight><bold>103</bold></highlight> analyzes the contents of the file on the basis of the data stored in the reception buffer <highlight><bold>102</bold></highlight> to detect the beginning position of the AV data, and outputs a decoding start instruction signal for instructing the decoding unit <highlight><bold>104</bold></highlight> to start decoding of the AV data, when a predetermined period of time has passed after the detection of the beginning position of the AV data. The decoding unit <highlight><bold>104</bold></highlight> decodes the AV data which is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>, on the basis of the decoding start instruction signal. The clock circuit <highlight><bold>105</bold></highlight> outputs a clock signal to the control unit <highlight><bold>103</bold></highlight>. The display unit <highlight><bold>106</bold></highlight> reproduces and displays the decoded data. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> When the operator performs an operation for requesting a file, the data request unit <highlight><bold>101</bold></highlight> requests the server to transmit the file, by using a GET method of known HTTP. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> The reception buffer <highlight><bold>102</bold></highlight> is constituted by, for example, a memory, and it sequentially accumulates the received data while pre-buffering the data, and supplies the data to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> The control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>detects the beginning position of the AV data, and outputs a decoding start instruction signal when a predetermined period of time has passed after the detection. To be specific, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>analyzes the contents of the received data to obtain size information possessed by the file header information, and detects a specific position in the received data as the beginning position of the AV data when it has received an amount of data indicated by the size information. After detecting the beginning position of the AV data, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>performs time count on the basis of the clock signal supplied from the clock circuit <highlight><bold>105</bold></highlight> to wait a preset pre-buffering time, and thereafter, outputs a decoding start instruction signal. Thereby, the amount of data to be pre-buffered in the reception buffer <highlight><bold>102</bold></highlight> is controlled, and at least a predetermined amount of AV data is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a diagram illustrating the logic data construction of the MP4-format multiplexed file F<highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. The MP4 file F<highlight><bold>1</bold></highlight> is composed of plural structures called &ldquo;Atoms&rdquo;, i.e., a structure including file header information Hf<highlight><bold>1</bold></highlight> (Movie Atom) F<highlight><bold>11</bold></highlight>, a structure including AV data Pav<highlight><bold>1</bold></highlight> (Movie Data Atom) F<highlight><bold>12</bold></highlight>, and a structure including a free space, user-definable data, and the like (Free Atom/Skip Atom/User Data Atom) F<highlight><bold>13</bold></highlight>. Each of the structures F<highlight><bold>11</bold></highlight>&tilde;F<highlight><bold>13</bold></highlight> is composed of a structure size section indicating the amount of data in the structure, a structure identifier section having a structure identifier that indicates the type of the structure, and a structure data section holding information unique to each structure. That is, the Movie Atom F<highlight><bold>11</bold></highlight> has a structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a</italic></highlight>, a structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b</italic></highlight>, and a structure data section F<highlight><bold>11</bold></highlight><highlight><italic>c</italic></highlight>. The Movie Data Atom F<highlight><bold>12</bold></highlight> has a structure size section F<highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, a structure identifier section F<highlight><bold>12</bold></highlight><highlight><italic>b</italic></highlight>, and a structure data section F<highlight><bold>12</bold></highlight><highlight><italic>c </italic></highlight>(not shown). The Free Atom/Skip Atom/User Data Atom F<highlight><bold>13</bold></highlight> has a structure size section F<highlight><bold>13</bold></highlight><highlight><italic>a</italic></highlight>, a structure identifier section F<highlight><bold>13</bold></highlight><highlight><italic>b</italic></highlight>, and a structure data section F<highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>(not shown). </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Although, in the MP4 file F<highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the file header information Hf<highlight><bold>1</bold></highlight> is illustrated as a single structure, this is merely an example, and the file header information Hf<highlight><bold>1</bold></highlight> may be composed of plural structures. Further, each structure may be composed of one or more sub-unit structures, i.e., it may have a nest structure. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Next, the operation of the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment will be described taking, as an example, the case where it receives the MP4 file F<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> When a file GET request is issued by the data request unit <highlight><bold>101</bold></highlight> to the server, the server analyzes URL information included in the GET request to detect a specified file, and transmits an acknowledgement as well as data including the file to the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a</italic></highlight>. The data received by the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight> and inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a</italic></highlight>. Then, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>analyzes the received data to obtain the size information from the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight> included in the Movie Atom F<highlight><bold>11</bold></highlight>. The control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>does not include, in the pre-buffering time, the time that elapses until reception of an amount of data equivalent to this size is completed, and treats, as the pre-buffering time, only the time required for receiving the AV data Pav<highlight><bold>1</bold></highlight> included in the Movie Data Atom F<highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> The operation of the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>will be described with reference to a flowchart shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. It assumed that the structure size and structure identifier of each structure in the MP4 file F<highlight><bold>1</bold></highlight> are as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. The MP4 file F<highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> includes a file header information Hf<highlight><bold>1</bold></highlight> having a size of 10,164 bytes and a structure identifier of moov, and AV data Pav<highlight><bold>1</bold></highlight> having a size of 360,000 bytes and a structure identifier of mdat. Each of the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>and the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the MP4 file F<highlight><bold>1</bold></highlight> has a data size of 4 bytes, and the structure data section F<highlight><bold>13</bold></highlight><highlight><italic>c </italic></highlight>has a data size of 10,156 bytes. Further, 0x means that numerals that follow 0x are expressed in hexadecimal notation. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Initially, a structure size section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>11</bold></highlight>) and, subsequently, a structure identifier section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>12</bold></highlight>). </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>judges whether the inputted structure identifier section is the structure identifier section F<highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>of the AV data pav<highlight><bold>1</bold></highlight> or not. To be specific, when the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>receives the MP4 file F<highlight><bold>1</bold></highlight>, it judges whether the structure identifier is &ldquo;mdat&rdquo; or not (step S<highlight><bold>13</bold></highlight>). </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> When the inputted structure identifier section is not the structure identifier section F<highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>of the AV data Pav<highlight><bold>1</bold></highlight>, i.e., when the structure identifier &ldquo;moov&rdquo; of the file header information Hf<highlight><bold>1</bold></highlight> is inputted, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>receives the structure data section F<highlight><bold>11</bold></highlight><highlight><italic>c </italic></highlight>(10,156 bytes) of the file header information Hf<highlight><bold>1</bold></highlight>, on the basis of the size information obtained from the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a</italic></highlight>. The time that elapses until reception of an amount of data equivalent to this size is completed, is not included in the pre-buffering time. When reception of the data of the file header information Hf<highlight><bold>1</bold></highlight> is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>returns to step S<highlight><bold>11</bold></highlight> to receive the AV data Pav<highlight><bold>1</bold></highlight> (step S<highlight><bold>14</bold></highlight>). </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> On the other hand, when it is judged in step S<highlight><bold>13</bold></highlight> that the inputted structure identifier is the structure identifier &ldquo;mdat&rdquo; of the AV data Pav<highlight><bold>1</bold></highlight>, i.e., when reception of the file header information Hf<highlight><bold>1</bold></highlight> is completed and the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> is detected, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>waits A sec, which is a predetermined pre-buffering time, to pre-buffer the AV data Pav<highlight><bold>1</bold></highlight> into the reception buffer <highlight><bold>102</bold></highlight>, on the basis of the clock signal supplied from the clock circuit <highlight><bold>105</bold></highlight> (step S<highlight><bold>15</bold></highlight>). </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> When A sec has passed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>outputs a decoding start instruction signal to the decoding unit <highlight><bold>104</bold></highlight> (step s<highlight><bold>16</bold></highlight>). </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> On receipt of the decoding start instruction signal, the decoding unit <highlight><bold>104</bold></highlight> reads the AV data Pav<highlight><bold>1</bold></highlight> which is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>, and decodes the data. The data decoded by the decoding unit <highlight><bold>104</bold></highlight> is supplied to the display unit <highlight><bold>106</bold></highlight>, wherein the data is reproduced and displayed. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> As described above, in the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment, after the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> is detected on the basis of the size information of the file header information Hf<highlight><bold>1</bold></highlight> included in the received data, the AV data Pav<highlight><bold>1</bold></highlight> is received for a predetermined period of time and, thereafter, decoding is started. Therefore, the AV data Pav<highlight><bold>1</bold></highlight> of the size required for data reproduction can be reliably pre-buffered without being influenced by the amount of data of the file header information Hf<highlight><bold>1</bold></highlight>, whereby stable data reproduction can be carried out. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> While in this first embodiment the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>judges that the inputted structure is either the structure of the file header information Hf<highlight><bold>1</bold></highlight> or the structure of the AV data Pav<highlight><bold>1</bold></highlight> according to whether the inputted structure identifier is the structure identifier of the AV data Pav<highlight><bold>1</bold></highlight> or not, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>may judge the type of the inputted structure according to whether the inputted identifier is the structure identifier of the file header information Hf<highlight><bold>1</bold></highlight> or not. Hereinafter, a description will be given of a method for controlling the pre-buffering time by judging the type of the inputted structure according to whether the structure identifier is that of the file header information Hf<highlight><bold>1</bold></highlight> or not, and detecting the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>, with reference to a flowchart shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> Initially, a structure size section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>21</bold></highlight>), and subsequently, a structure identifier section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>22</bold></highlight>). </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>judges whether the inputted structure identifier section is the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight> or not. To be specific, when the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>receives the MP4 file F<highlight><bold>1</bold></highlight>, it judges whether the structure identifier is &ldquo;moov&rdquo; or not (step S<highlight><bold>23</bold></highlight>). </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> When the inputted structure identifier section is not the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>receives the structure data section of the corresponding structure, on the basis of the size information of the structure size section that is inputted in step S<highlight><bold>21</bold></highlight>. When reception of the structure data section equivalent to this size is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>returns to step S<highlight><bold>21</bold></highlight> to receive a next-inputted structure (step S<highlight><bold>24</bold></highlight>). </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> On the other hand, when the structure identifier section inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>is the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight>, i.e., when the structure identifier &ldquo;moov&rdquo; of the file header information Hf<highlight><bold>1</bold></highlight> is inputted, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>receives the structure data section F<highlight><bold>11</bold></highlight><highlight><italic>c </italic></highlight>(10,156 bytes) of the file header information Hf<highlight><bold>1</bold></highlight>, on the basis of the size information obtained from the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>25</bold></highlight>). </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> When reception of the file header information Hf<highlight><bold>1</bold></highlight> is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>waits A sec, that is a predetermined pre-buffering time, to pre-buffer the AV data Pav<highlight><bold>1</bold></highlight> into the reception buffer <highlight><bold>102</bold></highlight>, on the basis of a clock signal supplied from the clock circuit <highlight><bold>105</bold></highlight> (step S<highlight><bold>26</bold></highlight>). </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> After A sec has passed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>outputs a decoding start instruction signal to the decoding unit <highlight><bold>104</bold></highlight> (step S<highlight><bold>27</bold></highlight>). </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> As described above, since the type of the inputted structure is judged according to whether the inputted structure identifier is that of the file header information Hf<highlight><bold>1</bold></highlight> or not, even when the structure identifier of the AV data pav<highlight><bold>1</bold></highlight> is omitted, the AV data Pav<highlight><bold>1</bold></highlight> can be pre-buffered into the reception buffer <highlight><bold>102</bold></highlight> by detecting the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> and waiting the predetermined pre-buffering time. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> While in this first embodiment the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>detects the beginning position of the AV data on the basis of the size information obtained from the file header information, this is merely an example, and the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>may detect the beginning position of the AV data by other methods. For example, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>calculates a header information reception time required for reception of the file header information Hf<highlight><bold>1</bold></highlight> from the obtained size information, performs time count on the basis of the time information supplied from the clock circuit <highlight><bold>105</bold></highlight>, and detects, as the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>, a specific position in the received data when the header information reception time has passed after the start of data reception. By obtaining the header information reception time from the file header information Hf<highlight><bold>1</bold></highlight> included in the received data, the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> can be detected when the header information reception time has passed after the start of data reception, whereby only the AV data Pav<highlight><bold>1</bold></highlight> can be pre-buffered without being influenced by the amount of data of the file header information Hf<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0072" lvl="7"><number>&lsqb;0072&rsqb;</number> &lsqb;Embodiment 2&rsqb;</paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> Next, data reproduction apparatuses as defined in claims 2 to 8 and a data reproduction method as defined in claim 11 will be described as a second embodiment of the present invention, with reference to FIGS. <highlight><bold>6</bold></highlight> to <highlight><bold>11</bold></highlight>. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram illustrating the construction and operation of a data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>according to the second embodiment. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, the same reference numerals as those shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> denote the same or corresponding parts. The data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>according to the second embodiment includes a data request unit <highlight><bold>101</bold></highlight> for requesting a server to transmit a file; and a reception buffer <highlight><bold>102</bold></highlight> for pre-buffering data which is transmitted from the server in response to the request. Further, the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>includes a control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>for outputting a decoding start instruction signal when a predetermined amount of data has been received after detection of the beginning position of AV data; a decoding unit <highlight><bold>104</bold></highlight> for decoding the AV data which is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>, on the basis of the decoding start instruction signal; a clock circuit <highlight><bold>105</bold></highlight> for outputting a clock signal to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b</italic></highlight>; and a display unit <highlight><bold>106</bold></highlight> for reproducing and displaying the decoded data. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>detects the beginning position of the AV data, and outputs the decoding start instruction signal when a predetermined amount of data has been received after the detection. To be specific, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>obtains the size information from the file header information section of the received data and, when an amount of data indicated by this size information has been received, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>detects a specific position in the received data, as the beginning position of the AV data. Further, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>waits a period of time during which a predetermined amount of data is received after the detection of the beginning position of the AV data, and thereafter, outputs the decoding start instruction signal. Thereby, the amount of data to be pre-buffered in the reception buffer <highlight><bold>102</bold></highlight> is controlled, and the predetermined amount of AV data is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> Next, the operation of the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>according to the second embodiment will be described taking, as an example, the case where it receives the MP4 file F<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> When the data request unit <highlight><bold>101</bold></highlight> issues a GET request for a file to the server, the server analyzes URL information included in the GET request to search for the designated file, and sends an acknowledgement as well as data including the file to the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b</italic></highlight>. The data received by the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight> and inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b</italic></highlight>. Then, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>analyzes the received data, and obtains the size information from the file header information Hf<highlight><bold>1</bold></highlight>. The control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>does not include an amount of data equivalent to this size in the amount of data to be pre-buffered, and treats only the amount of the AV data Pav<highlight><bold>1</bold></highlight> as the amount of data to be pre-buffered. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> Hereinafter, the operation of the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>will be described with reference to a flowchart shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. It is assumed that the structure size and the structure identifier of each structure in the MP4 file F<highlight><bold>1</bold></highlight> are as shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> A structure size section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>(step S<highlight><bold>31</bold></highlight>), and subsequently, a structure identifier section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>(step S<highlight><bold>32</bold></highlight>). </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>judges whether the inputted structure identifier section is the structure identifier section F<highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>of the AV data Pav<highlight><bold>1</bold></highlight> or not. To be specific, when the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>receives the MP4 file F<highlight><bold>1</bold></highlight>, it judges whether the inputted structure identifier is &ldquo;mdat&rdquo; or not (step S<highlight><bold>33</bold></highlight>). </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> When the inputted structure identifier is not the structure identifier F<highlight><bold>12</bold></highlight><highlight><italic>b </italic></highlight>of the AV data Pav<highlight><bold>1</bold></highlight>, i.e., when the structure identifier &ldquo;moov&rdquo; of the file header information Hf<highlight><bold>1</bold></highlight> is inputted, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>receives the structure data section F<highlight><bold>11</bold></highlight><highlight><italic>c </italic></highlight>(10,156 bytes) of the file header information Hf<highlight><bold>1</bold></highlight>, on the basis of the size information obtained from the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a</italic></highlight>. An amount of data corresponding to this size is not treated as the amount of data to be pre-buffered. Further, when reception of the data of the file header information Hf<highlight><bold>1</bold></highlight> is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>returns to step S<highlight><bold>31</bold></highlight> to receive the AV data Pav<highlight><bold>1</bold></highlight> (step S<highlight><bold>34</bold></highlight>). </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> On the other hand, when it is judged in step S<highlight><bold>33</bold></highlight> that the inputted structure identifier is the structure identifier &ldquo;mdat&rdquo; of the AV data Pav<highlight><bold>1</bold></highlight>, i.e., when reception of the file header information Hf<highlight><bold>1</bold></highlight> is completed and the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> is detected, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>waits until a predetermined amount of data, i.e., B bytes, is received, and pre-buffers the AV data Pav<highlight><bold>1</bold></highlight> in the reception buffer <highlight><bold>102</bold></highlight> (step S<highlight><bold>35</bold></highlight>). </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> When the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>has received the B bytes of AV data Pav<highlight><bold>1</bold></highlight>, it outputs a decoding start instruction signal to the decoding unit <highlight><bold>104</bold></highlight> (step S<highlight><bold>36</bold></highlight>). </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> On receipt of the decoding start instruction signal, the decoding unit <highlight><bold>104</bold></highlight> reads the AV data Pav<highlight><bold>1</bold></highlight> which is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>, and decodes the data. The data decoded by the decoding unit <highlight><bold>104</bold></highlight> is inputted to the display unit <highlight><bold>106</bold></highlight>, wherein the data is reproduced and displayed. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> As described above, in the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>according to the second embodiment, after the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> is detected on the basis of the size information of the file header information Hf<highlight><bold>1</bold></highlight> included in the received data, a predetermined amount of data is received and, thereafter, decoding is started. Therefore, a predetermined amount of AV data Pav<highlight><bold>1</bold></highlight> required for data reproduction can be reliably pre-buffered without being influenced by the amount of data of the file header information Hf<highlight><bold>1</bold></highlight>, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> While in this second embodiment the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>judges that the inputted structure is either the structure of the file header information Hf<highlight><bold>1</bold></highlight> or the structure of the AV data Pav<highlight><bold>1</bold></highlight> according to whether the inputted structure identifier is the identifier of the AV data Pav<highlight><bold>1</bold></highlight> or not, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>may judge the type of the inputted structure according to whether the inputted structure identifier is the identifier of the file header information Hf<highlight><bold>1</bold></highlight> or not. Hereinafter, a description will be given of a method of controlling the amount of data to be pre-buffered, by judging the type of structure according to whether the structure identifier of the file header information Hf<highlight><bold>1</bold></highlight> is inputted or not, and detecting the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>, with reference to a flowchart shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> Initially, a structure size section is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>(step S<highlight><bold>41</bold></highlight>), and then a structure identifier is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>(step S<highlight><bold>42</bold></highlight>). </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>judges whether the inputted structure identifier section is the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight> or not. When the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>receives the MP4 file F<highlight><bold>1</bold></highlight>, the it judges whether the inputted structure identifier is &ldquo;moov&rdquo; or not (step S<highlight><bold>43</bold></highlight>). </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> When the inputted structure identifier section is not the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>receives the structure data section of the corresponding structure on the basis of the size information of the structure size section that is inputted in step S<highlight><bold>41</bold></highlight>. When reception of the structure data section corresponding to this size is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>returns to step S<highlight><bold>41</bold></highlight> to receive a next-inputted structure (step S<highlight><bold>44</bold></highlight>). </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> On the other hand, when the structure identifier inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>is the structure identifier section F<highlight><bold>11</bold></highlight><highlight><italic>b </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight>, i.e., when the structure identifier &ldquo;moov&rdquo; of the file header information Hf<highlight><bold>1</bold></highlight> is inputted, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>receives the structure data section F<highlight><bold>11</bold></highlight><highlight><italic>c </italic></highlight>(10,156 bytes) of the file header information Hf<highlight><bold>1</bold></highlight>, on the basis of the size information obtained from the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>(step S<highlight><bold>45</bold></highlight>). </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> When reception of the file header information Hf<highlight><bold>1</bold></highlight> is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>waits until it receives a predetermined amount of data, i.e., B bytes, and pre-buffers the AV data Pav<highlight><bold>1</bold></highlight> in the reception buffer <highlight><bold>102</bold></highlight> (step S<highlight><bold>46</bold></highlight>). </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> On receipt of the B bytes of AV data Pav<highlight><bold>1</bold></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>outputs a decoding start instruction signal to the decoding unit <highlight><bold>104</bold></highlight> (step S<highlight><bold>47</bold></highlight>). </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> As described above, since the type of the inputted structure is judged according to whether the structure identifier of the file header information Hf<highlight><bold>1</bold></highlight> is inputted or not, even when the structure identifier of the AV data Pav<highlight><bold>1</bold></highlight> is omitted, it is possible to detect the beginning position of the AV data Pav<highlight><bold>1</bold></highlight> and pre-buffer a predetermined amount (B bytes) of AV data Pav<highlight><bold>1</bold></highlight>. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> Further, while in this second embodiment the amount of data to be received by the time the decoding start instruction signal is outputted is predetermined, it may be variably set according to the size of the file. For example, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>may output a decoding start instruction signal when it has received an amount of data having a predetermined ratio to the whole file size after detection of the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>. Preferably, the ratio can be set at 10%. By starting decoding after an amount of data having a predetermined ratio to the file size has been received, the AV data Pav<highlight><bold>1</bold></highlight> of the size required for data reproduction can be reliably pre-buffered, whereby stable data reproduction can be carried out. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> Further, the amount of data to be received by the time the decoding start instruction signal is outputted may be variably set on the basis of the size of the AV data Pav<highlight><bold>1</bold></highlight>. For example, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>may output the decoding start instruction signal when it has received an amount of data having a predetermined ratio to the structure size that is shown in the structure size section F<highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>of the AV data Pav<highlight><bold>1</bold></highlight>, after detection of the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>. Preferably, the ratio can be set at 10%. By starting decoding after an amount of data having a predetermined ratio to the size of the AV data Pav<highlight><bold>1</bold></highlight> has been received, the AV data Pav<highlight><bold>1</bold></highlight> of the size required for data reproduction can be reliably pre-buffered, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> Furthermore, the reception buffer <highlight><bold>102</bold></highlight> may be divided into a region where video data Pv<highlight><bold>1</bold></highlight> is stored (video buffer), and a region where audio data Pa<highlight><bold>1</bold></highlight> is stored (audio buffer), and an amount of data to be received by the time the decoding start instruction signal is outputted may be set for each of the video data Pv<highlight><bold>1</bold></highlight> and the audio data Pa<highlight><bold>1</bold></highlight>. For example, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>may output the decoding start instruction signal when either of the amount of the received video data Pv<highlight><bold>1</bold></highlight> or the amount of the received audio data Pa<highlight><bold>1</bold></highlight> reaches a set value. Alternatively, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>may output the decoding start instruction signal when either of the amount of the received video data Pv<highlight><bold>1</bold></highlight> or the amount of the received audio data Pa<highlight><bold>1</bold></highlight> exceeds the set value. For example, the set value of the video data Pv<highlight><bold>1</bold></highlight> can be &frac23; of the size of the video buffer, and the set value of the audio data Pa<highlight><bold>1</bold></highlight> can be equal to the size of the audio buffer. By starting decoding when either the amount of the received video data Pv<highlight><bold>1</bold></highlight> or the amount of the received audio data Pa<highlight><bold>1</bold></highlight> reaches or exceeds the set value, the AV data Pav<highlight><bold>1</bold></highlight> of the size required for data reproduction can reliably pre-buffered, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> Furthermore, the amount of data to be received by the time the decoding start instruction signal is outputted may be variably set by analyzing the file header information Hf<highlight><bold>1</bold></highlight>. To be specific, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>calculates the amount of video data Pv<highlight><bold>1</bold></highlight> and the amount of audio data Pa<highlight><bold>1</bold></highlight> to be received by the time it outputs the decoding start instruction signal, on the basis of the size information included in the structure size section F<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>of the file header information Hf<highlight><bold>1</bold></highlight>, and sets the sum of the calculated amounts of data as an amount of data to be received. The control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>outputs the decoding start instruction signal when the sum of the amounts of video data Pv<highlight><bold>1</bold></highlight> and audio data Pa<highlight><bold>1</bold></highlight> exceeds the set value. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> Hereinafter, a description will be given of a method for calculating an amount of AV data Pav<highlight><bold>1</bold></highlight> to be received, which is required for pre-buffering the video data Pv<highlight><bold>1</bold></highlight> equivalent to &frac23; of the size of the video buffer, and the audio data Pa<highlight><bold>1</bold></highlight> equivalent to the size of the audio buffer. It is assumed that the data structure of the MP4 file F<highlight><bold>1</bold></highlight> is as shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> Initially, the data structure of the MP4 file F<highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 9</cross-reference> will be described. Although the video data Pv<highlight><bold>1</bold></highlight> and the audio data Pa<highlight><bold>1</bold></highlight> are multiplexed in the AV data Pav<highlight><bold>1</bold></highlight>, only the video data Pv<highlight><bold>1</bold></highlight> is noticed in the following description. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> The video data Pv<highlight><bold>1</bold></highlight> in the MP4 file F<highlight><bold>1</bold></highlight> has data of the respective video frames, for example, it has data of video frame &num;1 as video frame data &num;1, data of video frame &num;2 as video frame data &num;2, and data of video frame &num;3 as video frame data &num;3. In <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, the start time of the video frame data &num;1 is 0 sec and the data size is 2,831 bytes, the start time of the video frame data &num;2 is 0.067 sec and the data size is 514 bytes, and the start time of the video frame data &num;3 is 0.133 sec and the data size is 247 bytes. Further, in the MP4 format file, when plural frames of the same attribute continue, these frames are managed together as a chunk. Chunks are appropriately determined when forming the MP4 format file. A chunk &num;1 of the MP4 file F<highlight><bold>1</bold></highlight> is composed of two frames of video frame data &num;1 and video frame data &num;2, a chunk &num;2 is composed of three frames of video frame data &num;3&tilde;&num;5, . . . , and a chunk &num;18 is composed of three frames of video frame data &num;44&tilde;&num;46. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> Further, the file header information Hf<highlight><bold>1</bold></highlight> of the MP4 file F<highlight><bold>1</bold></highlight> has a video header section Hv including information relating to the video data Pv<highlight><bold>1</bold></highlight>, and an audio header section Ha (not shown) including information relating to the audio data Pa<highlight><bold>1</bold></highlight>. The video header section Hv includes a time stamp table (hereinafter referred to as &ldquo;TS table&rdquo;) Hts indicating the duration of each frame, a chunk table (hereinafter referred to as &ldquo;SC table&rdquo;) Hsc indicating the number of frames included in each chunk, a size table (hereinafter referred to as &ldquo;SZ table&rdquo;) Hsz indicating the size of each frame, and an chunk offset table (hereinafter referred to as &ldquo;CO table&rdquo;) Hco indicating the beginning position of each chunk. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> When the display time of the video frame &num;1 is 0 sec, the display time of the video frame &num;2 is 0.067 sec, and the display time of the video frame &num;3 is 0.133 sec, the duration of the video frame &num;1 is 0.067 sec, and the duration of the video frame &num;2 is 0.066 sec. The TS table Hts describes the duration of each video frame. For example, &ldquo;0.067&rdquo; and &ldquo;0.066&rdquo; are described in (Hts1, Hts2) corresponding to the video frame &num;1 and the video frame &num;2, respectively. Further, in the SC table Hsc, &ldquo;2&rdquo; and &ldquo;3&rdquo; are described in sections (Hsc1, Hsc2) corresponding to the chunk &num;1 and the chunk &num;2, respectively. In the SZ table Hsz, &ldquo;2831&rdquo; and &ldquo;514&rdquo; are described in sections (Hsz1, Hsz2) corresponding to the video frame &num;1 and video frame &num;2, respectively. In the CO table Hco, &ldquo;110172&rdquo; and &ldquo;15517&rdquo; are described in sections (Hco1, Hco2) corresponding to the chunk &num;1 and the chunk &num;2, respectively. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> Next, a description will be given of a method for determining the amount of data to be received by the time the decoding start instruction signal is outputted. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> When reception of the file header information Hf<highlight><bold>1</bold></highlight> is completed, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>forms a video frame information table in which the display times, sizes, and start positions of the respective frames are organized, on the basis of the obtained video header section Hv. Further, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>forms an audio frame information table in which the display times, sizes, and start positions of the respective frames are organized, on the basis of the obtained audio header section Ha. FIGS. <highlight><bold>10</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>10</bold></highlight>(<highlight><italic>b</italic></highlight>) illustrate the video frame information table and the audio frame information table, which are formed on the basis of the file header information Hf<highlight><bold>1</bold></highlight> of the MP4 file F<highlight><bold>1</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> After forming the video frame information table and the audio frame information table, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>calculates the amount of data to be received by the time it outputs the decoding start instruction signal, on the basis of these tables. Hereinafter, the method of calculating this amount of data will be described with reference to a flowchart of <cross-reference target="DRAWINGS">FIG. 11</cross-reference>. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> Initially, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>initializes the various kinds of variables. To be specific, a set value V of the amount of video data to be received is &frac23; of the video buffer size, and a set value A of the amount of audio data to be received is equal to the size of the audio buffer. Further, &ldquo;0&rdquo; is assigned to the video data amount Sv indicating the current amount of video data and to the audio data amount Sa indicating the current amount of audio data, and &ldquo;1&rdquo; is assigned to the video frame number iv indicating the current video frame number and to the audio frame number ia indicating the current audio frame number (step S<highlight><bold>51</bold></highlight>). </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>obtains the start position of the iv-th video frame and the start position of the ia-th audio frame from the video frame information table and the audio frame information table, respectively, and assigns the start position of the iv-th video frame to a video frame start position ov indicating the start position of video frame (it is expressed by ov&lsqb;iv&rsqb;). Further, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>assigns the start position of the ia-th audio frame to an audio frame start position oa indicating the start position of audio frame (it is expressed as oa&lsqb;ia&rsqb;) (step S<highlight><bold>52</bold></highlight>). </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> Then, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a </italic></highlight>judges that either the video frame start position ov&lsqb;iv&rsqb; or the audio frame start position oa&lsqb;ia&rsqb; is larger, and it goes to step S<highlight><bold>54</bold></highlight> when the video frame start position ov&lsqb;iv&rsqb; is smaller than the audio frame start position oa&lsqb;ia&rsqb;, or goes to step S<highlight><bold>58</bold></highlight> when the video frame start position ov&lsqb;iv&rsqb; is not smaller than the audio frame start position oa&lsqb;ia&rsqb; (step S<highlight><bold>53</bold></highlight>). </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> When it is judged in step S<highlight><bold>53</bold></highlight> that the video frame start position ov&lsqb;iv&rsqb; is smaller than the audio frame start position oa&lsqb;ia&rsqb;, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>obtains the size of the iv-th video frame from the video frame information table, and assigns the size of the iv-th video frame to a video frame size sv (it is expressed as sv&lsqb;iv&rsqb;) (step S<highlight><bold>54</bold></highlight>). </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>adds the video frame size sv&lsqb;iv&rsqb; to the video data amount Sv (step S<highlight><bold>55</bold></highlight>), and increments the video frame number iv by 1 (step S<highlight><bold>56</bold></highlight>). </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> Then, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>judges whether or not the current video data amount Sv reaches the set value V of the amount of video data to be received. When the video data amount Sv is smaller than the set value V, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>returns to step S<highlight><bold>52</bold></highlight> to update the video data amount Sv (step S<highlight><bold>57</bold></highlight>). </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> When it is judged in step S<highlight><bold>53</bold></highlight> that the video frame start position ov&lsqb;iv&rsqb; is not smaller than the audio frame start position oa&lsqb;ia&rsqb;, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>obtains the size of the ia-th audio frame from the audio frame information table, and assigns the size of the ia-th audio frame to an audio frame size sa (it is expressed as sa&lsqb;ia&rsqb;) (step S<highlight><bold>58</bold></highlight>). </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> Next, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>adds the audio frame size sa&lsqb;ia&rsqb; to the audio data amount Sa (step S<highlight><bold>59</bold></highlight>), and increments the audio frame number ia by 1 (step S<highlight><bold>60</bold></highlight>). </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> The control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>judges whether or not the current audio data amount Sa reaches the set value A of the amount of audio data to be received. When the audio data amount Sa is smaller than the set value A, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>returns to step S<highlight><bold>52</bold></highlight> to update the audio data amount Sa (step S<highlight><bold>61</bold></highlight>). </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> When it is judged in step S<highlight><bold>57</bold></highlight> that the video data amount Sv is larger than the set value V of the amount of video data to be received and it is judged in step S<highlight><bold>61</bold></highlight> that the audio data amount Sa is larger than the set value A of the amount of audio data to be received, the control unit <highlight><bold>103</bold></highlight><highlight><italic>b </italic></highlight>calculates the sum of the video data amount Sv and the audio data amount Sa. The sum of the video data amount Sv and the audio data amount Sa is the amount of data to be received (step S<highlight><bold>62</bold></highlight>). </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> As described above, by setting the total amount of video data and audio data to be received on the basis of the file header information Hf<highlight><bold>1</bold></highlight>, the AV data Pav<highlight><bold>1</bold></highlight> of the size required for data reproduction can be reliably pre-buffered. </paragraph>
<paragraph id="P-0118" lvl="7"><number>&lsqb;0118&rsqb;</number> &lsqb;Embodiment 3&rsqb;</paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> Next, a data reproduction apparatus as defined in claim 9 of the present invention will be described as a third embodiment of the present invention, with reference to the drawings. </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a block diagram for explaining the construction and operation of a data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>according to the third embodiment. </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, the same reference numerals as those shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> denote the same or corresponding parts. The data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>includes a data request unit <highlight><bold>101</bold></highlight> for requesting a server to transmit a file, and a reception buffer <highlight><bold>102</bold></highlight> for pre-buffering data of the file that is transmitted from the server in response to the request. The data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>further includes a control unit <highlight><bold>103</bold></highlight> for calculating an amount of data that is required for performing data display for a predetermined period of time, on the basis of the data stored in the reception buffer <highlight><bold>102</bold></highlight>, detecting the beginning position of AV data, and outputting a decoding start instruction signal when it has received the calculated amount of data after detection of the beginning position of AV data; a decoding unit <highlight><bold>104</bold></highlight> for decoding the AV data that is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>, on the basis of the decoding start instruction signal; a clock circuit <highlight><bold>105</bold></highlight> for outputting a clock signal to the control unit <highlight><bold>103</bold></highlight><highlight><italic>c</italic></highlight>; and a display unit <highlight><bold>106</bold></highlight> for reproducing and displaying the decoded data. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> Next, the operation of the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>will be described taking, as an example, the case where the apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>receives an MP4 file. </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> When file header information Hf<highlight><bold>1</bold></highlight> is inputted to the control unit <highlight><bold>103</bold></highlight><highlight><italic>c</italic></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>c </italic></highlight>forms a video frame information table in which the display times, frame sizes, and start positions of the respective video frames are organized, on the basis of the file header information Hf<highlight><bold>1</bold></highlight>. Then, on the basis of the video frame information table, the control unit <highlight><bold>103</bold></highlight><highlight><italic>c </italic></highlight>calculates the frame size of video frames corresponding to a predetermined display time. The video frame information table is shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>(<highlight><italic>a</italic></highlight>). When the predetermined display time is 3 sec, the frame size corresponding to 3 sec is the sum of the frame sizes of frames from frame &num;1 to frame &num;46 (i.e., 2831&plus;514&plus;247&plus; . . . &plus;138&plus;209&plus;1412) and, for example, it is 21,020 bytes. After detecting the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>c </italic></highlight>waits a period during which the data corresponding to the calculated size is received, and thereafter, outputs a decoding start instruction signal. To be specific, when the control unit <highlight><bold>103</bold></highlight><highlight><italic>c </italic></highlight>is receiving the MP4 file F<highlight><bold>1</bold></highlight>, it detects the beginning position of the AV data Pav<highlight><bold>1</bold></highlight>, and waits a period during which it receives more than 21,020 bytes of data, and thereafter, outputs the decoding start instruction signal. Thereby, the amount of data to be pre-buffered in the reception buffer <highlight><bold>102</bold></highlight> is controlled, and at least a predetermined amount of data is pre-buffered in the reception buffer <highlight><bold>102</bold></highlight>. When there is no video frame that matches the predetermined display time, data of frames corresponding to either a longer display time or a shorter display time than the predetermined display time may also be pre-buffered. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> As described above, in the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>according to the third embodiment, since decoding is started after an amount of data required for performing data reproduction for a predetermined period of time is received, the AV data of the size required for data reproduction can be reliably pre-buffered, resulting in stable data reproduction. </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> While in the first to third embodiments a data reproduction apparatus which reproduces data requested to the server while receiving the data is described, a PC (Personal Computer), a handy phone, and the like are adopted as examples of the apparatus. </paragraph>
<paragraph id="P-0126" lvl="7"><number>&lsqb;0126&rsqb;</number> &lsqb;Embodiment 4&rsqb;</paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> Hereinafter, a description will be given of a handy phone which reproduces data requested to the server while receiving the data, as a fourth embodiment of the present invention, </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a diagram for explaining a handy phone <highlight><bold>300</bold></highlight> according to the fourth embodiment. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> The handy phone <highlight><bold>300</bold></highlight> of this fourth embodiment includes a signal processing unit <highlight><bold>302</bold></highlight> for performing various kinds of signal processing; and a radio communication unit <highlight><bold>303</bold></highlight> for outputting a radio signal N received by an antenna <highlight><bold>301</bold></highlight> as a reception signal to the signal processing unit <highlight><bold>302</bold></highlight>, and transmitting a signal generated by the signal processing unit <highlight><bold>302</bold></highlight> (transmission signal) as a radio signal N from the antenna <highlight><bold>301</bold></highlight>. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> Further, the handy phone <highlight><bold>300</bold></highlight> includes a liquid crystal display unit (LCD) <highlight><bold>306</bold></highlight> for performing image display; a microphone <highlight><bold>308</bold></highlight> for inputting voices; a speaker <highlight><bold>307</bold></highlight> for reproducing an audio signal; a display control unit <highlight><bold>304</bold></highlight> for receiving an image signal processed by the signal processing unit <highlight><bold>302</bold></highlight>, and controlling the LCD <highlight><bold>306</bold></highlight> so that image display is carried out on the basis of the image signal, and an audio I/O unit <highlight><bold>305</bold></highlight> for outputting an input audio signal from the microphone <highlight><bold>308</bold></highlight> to the signal processing unit <highlight><bold>302</bold></highlight>, and outputting the audio signal processed by the signal processing unit <highlight><bold>302</bold></highlight> to the speaker <highlight><bold>307</bold></highlight>. For simplification, a button operation unit of the handy phone is not shown in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> The signal processing unit <highlight><bold>302</bold></highlight> performs data reproduction using the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment. That is, the signal processing unit <highlight><bold>302</bold></highlight> includes the data request unit <highlight><bold>101</bold></highlight>, the reception buffer <highlight><bold>102</bold></highlight>, the control unit <highlight><bold>103</bold></highlight><highlight><italic>a</italic></highlight>, the decoding unit <highlight><bold>104</bold></highlight>, and the clock circuit <highlight><bold>105</bold></highlight> which are included in the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment. Further, the display control unit <highlight><bold>304</bold></highlight> and the LCD <highlight><bold>306</bold></highlight> of the handy phone <highlight><bold>300</bold></highlight> according to the fourth embodiment correspond to the display unit <highlight><bold>106</bold></highlight> according to the first embodiment. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> In the handy phone <highlight><bold>300</bold></highlight> constituted as described above, when an operation for reproducing a specific file is carried out by the user, the signal processing unit <highlight><bold>302</bold></highlight> requests the server to transmit the file specified by the user. Further, the signal processing unit <highlight><bold>302</bold></highlight> pre-buffers data transmitted from the server in the reception buffer <highlight><bold>102</bold></highlight> while receiving the data. When the AV data included in the received data has been pre-buffered for a predetermined period of time, the signal processing unit <highlight><bold>302</bold></highlight> starts decoding of the data. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> While in this fourth embodiment a handy phone which performs data reproduction using the data reproduction apparatus <highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>according to the first embodiment is described, a handy phone which performs data reproduction using the data reproduction apparatus <highlight><bold>100</bold></highlight><highlight><italic>b </italic></highlight>or <highlight><bold>100</bold></highlight><highlight><italic>c </italic></highlight>according to the second or third embodiment is also within the scope of the present invention. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A data reproduction apparatus for reproducing data including header information and reproduction data that is placed behind the header information, while receiving the data, said apparatus comprising: 
<claim-text>a data position detection unit for detecting the beginning position of the reproduction data in the received data, on the basis of the header information; </claim-text>
<claim-text>a buffer for holding the received data; </claim-text>
<claim-text>a decoding unit for decoding the reproduction data stored in the buffer; and </claim-text>
<claim-text>a control unit for outputting, to the decoding unit, a decoding start instruction signal which instructs the decoding unit to start decoding of the reproduction data, when a predetermined period of time has passed after the control unit received the output from the data position detection unit; </claim-text>
<claim-text>wherein the decoding unit starts decoding of the reproduction data stored in the buffer, on receipt of the decoding start instruction signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein the control unit outputs the decoding start instruction signal when the amount of data stored in the buffer has reached a set value after the control unit received the output from the data position detection unit. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein the control unit outputs the decoding start instruction signal when it has received an amount of data having a predetermined ratio to the data size of the received data. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein 
<claim-text>the control unit calculates, on the basis of the reproduction data size information included in the reproduction data, a data size having a predetermined ratio to the size of the reproduction data, which size is indicated by the reproduction data size information, and outputs the decoding start instruction signal when it has received an amount of data equivalent to the calculated data size after reception of the output from the data position detection unit. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein 
<claim-text>the reproduction data has plural attributes; </claim-text>
<claim-text>the buffer has, for each attribute, an attribute-based storage region in which the reproduction data of each attribute is stored; and </claim-text>
<claim-text>the control unit regards the amount of data stored in each attribute-based storage region, as the size of the reproduction data of each attribute to be received, and outputs the decoding start instruction signal when it has received the amount of data corresponding to the data size of any attribute. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein the control unit regards a predetermined ratio of the amount of data stored in each attribute-based storage region, as the data size of the reproduction data of each attribute to be received. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein the control unit outputs the decoding start instruction signal when it has received an amount of data that exceeds the data size of any attribute. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein the control unit outputs the decoding start instruction signal when it has received an amount of data that exceeds the data size of any attribute. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein 
<claim-text>the reproduction data has plural attributes; and </claim-text>
<claim-text>on the basis of attribute size information indicating an amount of data of each attribute, which information is included in the reproduction data, the control unit calculates, for each attribute, a data reception amount that is required for receiving a predetermined amount of reproduction data of each attribute, and regards the sum of the data reception amounts of all attributes as a reproduction data reception amount, and outputs the decoding start instruction signal when it has received an amount of data corresponding to the reproduction data reception amount. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A data reproduction apparatus as defined in <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>on the basis of frame size information indicating the data size of each frame as well as display time information indicating the display time of each frame, which are included in the header information, the control unit calculates a data size of reproduction data corresponding to a predetermined display time, and outputs the decoding start instruction signal when it has received an amount of data equivalent to the data size after detection of the beginning position of the reproduction data. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A data reproduction method for reproducing data which includes header information and reproduction data that is placed behind the header information, while receiving the data, said method comprising: 
<claim-text>a data position detection step of detecting the beginning position of the reproduced data in the received data, on the basis of the header information; </claim-text>
<claim-text>a storage step of storing the received reproduction data into a buffer; and </claim-text>
<claim-text>a decoding step of decoding the stored reproduction data when a predetermined period of time has passed after detection of the beginning position of the reproduction data in the data position detection step. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A data reproduction method for reproducing data which includes header information and reproduction data that is placed behind the header information, while receiving the data, said method comprising: 
<claim-text>a data position detection step of detecting the beginning position of the reproduced data in the received data, on the basis of the header information; </claim-text>
<claim-text>a storage step of storing the reproduction data in a buffer until the amount of the stored data reaches a predetermined value after the beginning position of the reproduction data is detected in the data position detection step; and </claim-text>
<claim-text>decoding step of decoding the predetermined amount of reproduction data which is stored in the buffer.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004992A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004992A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004992A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004992A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004992A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004992A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004992A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004992A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004992A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004992A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004992A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004992A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
