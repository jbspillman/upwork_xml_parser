<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004551A1-20030102-D00000.TIF SYSTEM "US20030004551A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00001.TIF SYSTEM "US20030004551A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00002.TIF SYSTEM "US20030004551A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00003.TIF SYSTEM "US20030004551A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00004.TIF SYSTEM "US20030004551A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00005.TIF SYSTEM "US20030004551A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00006.TIF SYSTEM "US20030004551A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00007.TIF SYSTEM "US20030004551A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00008.TIF SYSTEM "US20030004551A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00009.TIF SYSTEM "US20030004551A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00010.TIF SYSTEM "US20030004551A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00011.TIF SYSTEM "US20030004551A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00012.TIF SYSTEM "US20030004551A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00013.TIF SYSTEM "US20030004551A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00014.TIF SYSTEM "US20030004551A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00015.TIF SYSTEM "US20030004551A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00016.TIF SYSTEM "US20030004551A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00017.TIF SYSTEM "US20030004551A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00018.TIF SYSTEM "US20030004551A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00019.TIF SYSTEM "US20030004551A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00020.TIF SYSTEM "US20030004551A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030004551A1-20030102-D00021.TIF SYSTEM "US20030004551A1-20030102-D00021.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004551</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10211414</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020802</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>A61N001/365</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>607</class>
<subclass>014000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Cardiac rhythm management system with atrial shock timing optimization</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>10211414</doc-number>
<kind-code>A1</kind-code>
<document-date>20020802</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09316741</doc-number>
<document-date>19990521</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6430438</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</continuation-of>
</continuations>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Victor</given-name>
<middle-name>T.</middle-name>
<family-name>Chen</family-name>
</name>
<residence>
<residence-us>
<city>Minnetrista</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Jay</given-name>
<middle-name>A.</middle-name>
<family-name>Warren</family-name>
</name>
<residence>
<residence-us>
<city>North Oaks</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Gary</given-name>
<middle-name>T.</middle-name>
<family-name>Seim</family-name>
</name>
<residence>
<residence-us>
<city>Minneapolis</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>David</given-name>
<middle-name>B.</middle-name>
<family-name>Krig</family-name>
</name>
<residence>
<residence-us>
<city>Brooklyn Park</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Jesse</given-name>
<middle-name>W.</middle-name>
<family-name>Hartley</family-name>
</name>
<residence>
<residence-us>
<city>Lino Lakes</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Jeffrey</given-name>
<middle-name>E.</middle-name>
<family-name>Stahmann</family-name>
</name>
<residence>
<residence-us>
<city>Ramsey</city>
<state>MN</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<assignee>
<organization-name>Cardiac Pacemakers, Inc.</organization-name>
<assignee-type>02</assignee-type>
</assignee>
<correspondence-address>
<name-1>SCHWEGMAN, LUNDBERG, WOESSNER &amp; KLUTH, P.A.</name-1>
<name-2></name-2>
<address>
<address-1>P.O. BOX 2938</address-1>
<city>MINNEAPOLIS</city>
<state>MN</state>
<postalcode>55402</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A cardiac rhythm management system includes atrial shock timing optimization. Because an atrial tachyarrhythmia, such as atrial fibrillation typically causes significant variability in the ventricular heart rate, resulting in potentially proarrhythmic conditions. The system avoids delivering atrial cardioversion/defibrillation therapy during potentially proarrhythmic conditions because doing so could result in dangerous ventricular arrhythmias. Using Ventricular Rate Regularization (&ldquo;VRR&rdquo;) techniques, the system actively stabilizes the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy. The intrinsic ventricular heart rate is stabilized at a variable VRR-indicated rate, computed using an infinite impulse response (IIR) filter, and based on the underlying intrinsic ventricular heart rate. The system withholds delivery of atrial cardioversion/defibrillation therapy until the intervals between ventricular beats (&ldquo;V-V intervals&rdquo;) meet certain criteria that decrease the chance that the atrial cardioversion/defibrillation therapy will induce a ventricular arrhythmia. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">CROSS REFERENCE TO RELATED APPLICATIONS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application is a continuation of U.S. patent application Ser. No. 09/316,741, filed on May 21, 1999, the specification of which is herein incorporated by reference. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> This application is also related to the following commonly assigned patent applications: U.S. patent application Ser. No. 09/837,019, filed on Apr. 18, 2001, now issued as U.S. Pat. No. 6,411,848; U.S. patent application Ser. No. 09/693,402, filed on Oct. 20, 2000, now issued as U.S. Pat. No. 6,353,759; U.S. patent application Ser. No. 09/316,515, filed on May 21, 1999, entitled &ldquo;Method and Apparatus for Treating Irregular Ventricular Contractions Such as During Atrial Arrhythmia;&rdquo; U.S. patent application Ser. No. 09/316,682, filed on May 21, 1999, now issued as U.S. Pat. No. 6351,669; and U.S. patent application Ser. No. 09/316,588, filed on May 21, 1999, now issued as U.S. Pat. No. 6,285,907, the specifications of which are herein incorporated by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> This invention relates generally to cardiac rhythm management systems and particularly, but not by way of limitation, to a cardiac rhythm management system with atrial shock timing optimization. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND </heading>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> When functioning properly, the human heart maintains its own intrinsic rhythm, and is capable of pumping adequate blood throughout the body&apos;s circulatory system. However, some people have irregular cardiac rhythms, referred to as cardiac arrhythmias. Such arrhythmias result in diminished blood circulation. One mode of treating cardiac arrhythmias uses drug therapy. Drugs are often effective at restoring normal heart rhythms. However, drug therapy is not always effective for treating arrhythmias of certain patients. For such patients, an alternative mode of treatment is needed. One such alternative mode of treatment includes the use of a cardiac rhythm management system. Such systems are often implanted in the patient and deliver therapy to the heart. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Cardiac rhythm management systems include, among other things, pacemakers, also referred to as pacers. Pacers deliver timed sequences of low energy electrical stimuli, called pace pulses, to the heart, such as via a transvenous leadwire or catheter (referred to as a &ldquo;lead&rdquo;) having one or more electrodes disposed in or about the heart. Heart contractions are initiated in response to such pace pulses (this is referred to as &ldquo;capturing&rdquo; the heart). By properly timing the delivery of pace pulses, the heart can be induced to contract in proper rhythm, greatly improving its efficiency as a pump. Pacers are often used to treat patients with bradyarrhythmias, that is, hearts that beat too slowly, or irregularly. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Cardiac rhythm management systems also include cardioverters or defibrillators that are capable of delivering higher energy electrical stimuli to the heart. Defibrillators are often used to treat patients with tachyarrhythmias, that is, hearts that beat too quickly. Such too-fast heart rhythms also cause diminished blood circulation because the heart isn&apos;t allowed sufficient time to fill with blood before contracting to expel the blood. Such pumping by the heart is inefficient. A defibrillator is capable of delivering an high energy electrical stimulus that is sometimes referred to as a defibrillation countershock. The countershock interrupts the tachyarrhythmia, allowing the heart to reestablish a normal rhythm for the efficient pumping of blood. In addition to pacers, cardiac rhythm management systems also include, among other things, pacer/defibrillators that combine the functions of pacers and defibrillators, drug delivery devices, and any other systems or devices for diagnosing or treating cardiac arrhythmias. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> One problem faced by cardiac rhythm management systems is the proper treatment of atrial tachyarrhythmias, such as atrial fibrillation. Atrial fibrillation is a common cardiac arrhythmia which reduces the pumping efficiency of the heart, though not to as great a degree as in ventricular fibrillation. However, this reduced pumping efficiency requires the ventricle to work harder, which is particularly undesirable in sick patients that cannot tolerate additional stresses. As a result of atrial fibrillation, patients must typically limit their activity and exercise. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Although atrial fibrillation, by itself, is usually not life-threatening, prolonged atrial fibrillation may be associated with strokes, which are thought to be caused by blood clots forming in areas of stagnant blood flow. Treating such blood clots requires the use of anticoagulants. Atrial fibrillation may also cause pain, dizziness, and other irritation to the patient. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> An even more serious problem, however, is the risk that atrial fibrillation may induce irregular ventricular heart rhythms by processes that are yet to be fully understood. Moreover, treatment of atrial fibrillation may also induce irregular ventricular heart rhythms. Such induced ventricular arrhythmias compromise pumping efficiency even more drastically than atrial arrhythmias and, in some instances, may be life-threatening. For these and other reasons, there is a need for safe and more effective treatment of atrial fibrillation that avoids inducing ventricular arrhythmias. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY </heading>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The present cardiac rhythm management system provides, among other things, atrial shock timing optimization. The system detects an atrial tachyarhythmia, such as atrial fibrillation. Such atrial tachyarrhythmias typically cause significant variability in the ventricular heart rate. The present system avoids delivering atrial cardioversion/defibrillation therapy during such irregular ventricular heart activity, because such conditions may be potentially proarrhythmic, such that delivering atrial cardioversion/defibrillation therapy could result in dangerous ventricular arrhythmias. Using Ventricular Rate Regularization (&ldquo;VRR&rdquo;) techniques described below, the system stabilizes the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy. The system withholds delivery of atrial cardioversion/defibrillation therapy until the intervals between ventricular beats (&ldquo;V-V intervals&rdquo;) meet certain criteria that decrease the chance that the atrial cardioversion/defibrillation therapy will induce a ventricular arrhythmia. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In one embodiment, the system includes a first method. The first method includes: (a) detecting an atrial tachyarrhythmia, (b) stabilizing a ventricular heart rate at a variable indicated rate based on an underlying intrinsic ventricular heart rate, (c) determining if potentially proarrhythmic conditions exist based on V-V intervals between ventricular events, and (d) delivering cardioversion/defibrillation therapy to the atrium if step (c) indicates no potentially proarrhythmic conditions exist, otherwise withholding the delivery of cardioversion/defibrillation therapy to the atrium until conditions become less potentially proarrhythmic. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> In another embodiment, the system includes a second method. The second method includes: (a) obtaining V-V intervals between ventricular beats, (b) computing a first indicated pacing interval based on at least a most recent V-V interval duration and a previous value of the first indicated pacing interval, (c) providing pacing therapy, based on the first indicated pacing interval, (d) detecting a tachyarrhythmia in an atrium, and (e) delivering cardioversion/defibrillation therapy to the atrium. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In another embodiment, the system includes a cardiac rhythm management device. The device includes an atrial heart sensing circuit, a ventricular heart sensing circuit, a ventricular pacing therapy circuit, an atrial cardioversion/defibrillation therapy circuit, and a controller. The controller includes a ventricular rate stabilization module that stabilizes a ventricular heart rate at a variable indicated rate based on an underlying intrinsic ventricular heart rate. The controller also includes an atrial cardioversion/defibrillation control module that (a) determines if potentially proarrhythmic conditions exist based on V-V intervals between ventricular events, and (b) delivers cardioversion/defibrillation therapy to the atrium if conditions become less potentially proarrhythmic, and otherwise withholds the delivery of cardioversion/defibrillation therapy to the atrium. Other aspects of the invention will be apparent on reading the following detailed description of the invention and viewing the drawings that form a part thereof.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In the drawings, like numerals describe substantially similar components throughout the several views. Like numerals having different letter suffixes represent different instances of substantially similar components. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic drawing illustrating one embodiment of portions of a cardiac rhythm management system and an environment in which it is used. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a schematic drawing illustrating one embodiment of a cardiac rhythm management device coupled by leads to portions of a heart. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a schematic diagram illustrating generally one embodiment of portions of a cardiac rhythm management device which is coupled to a heart. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a schematic diagram illustrating generally one embodiment of a controller that includes several different inputs to modify the rate at which pacing or other therapy is delivered. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a schematic diagram illustrating generally one conceptualization of portions of a controller. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a signal flow diagram illustrating generally one embodiment of operating a filter. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a signal flow diagram illustrating generally aspects of another conceptualization of operating the filter. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a signal flow diagram illustrating generally aspects of a further conceptualization of operating the filter. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a schematic diagram illustrating generally another conceptualization of portions of a controller. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a schematic diagram illustrating generally a further conceptualization of portions of the controller. </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a graph illustrating generally one embodiment of operating a filter to provide a first indicated rate, such as a Ventricular Rate Regularization (&ldquo;VRR&rdquo;) indicated rate, for successive ventricular heart beats. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a graph illustrating generally another embodiment of operating a filter to provide a first indicated pacing rate, such as a VRR indicated rate, and delivering therapy based on the first indicated pacing rate and based on a second indicated pacing rate, such as a sensor indicated rate. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a graph illustrating generally another illustrative example of heart rate vs. time according to a VRR algorithm spreadsheet simulation. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a graph illustrating generally one embodiment of using at least one of coefficients a and b as a function of heart rate (or corresponding time interval). </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a schematic diagram illustrating generally another embodiment of a cardiac rhythm management device which is coupled to a heart. </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a schematic diagram illustrating generally another embodiment of portions of a cardiac rhythm management device which is coupled to a heart. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a flow chart illustrating generally one embodiment of operating a cardiac rhythm management device for delivering atrial cardioversion/defibrillation therapy to terminate an atrial tachyarrhythmia, such as atrial fibrillation, and enable the resumption of normal atrial heart rhythms. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a flow chart illustrating generally one embodiment of determining whether potentially proarrhythmic conditions exist. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a chart further illustrating generally one embodiment of determining whether potentially proarrhythmic conditions exist, such as described with respect to <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a flow chart, similar to <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, illustrating generally an embodiment of operating a cardiac rhythm management device in which stabilization of the ventricular heart rate using the VRR algorithm is independent of whether atrial tachyarrhythmias are detected. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a flow chart, similar to <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, illustrating generally an embodiment of operating a cardiac rhythm management device using different comparison values for sensed and paced ventricular beats.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> In the following detailed description, reference is made to the accompanying drawings which form a part hereof, and in which is shown by way of illustration specific embodiments in which the invention may be practiced. These embodiments are described in sufficient detail to enable those skilled in the art to practice the invention, and it is to be understood that the embodiments may be combined, or that other embodiments may be utilized and that structural, logical and electrical changes may be made without departing from the spirit and scope of the present invention. The following detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present invention is defined by the appended claims and their equivalents. In the drawings, like numerals describe substantially similar components throughout the several views. Like numerals having different letter suffixes represent different instances of substantially similar components. </paragraph>
</section>
<section>
<heading lvl="1">General Overview </heading>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> This document describes, among other things, a cardiac rhythm management system with atrial shock timing optimization. The system detects an atrial tachyarrhythmia, such as atrial fibrillation. Such atrial tachyarrhythmias typically cause significant variability in the ventricular heart rate. The present system avoids delivering atrial cardioversion/defibrillation therapy during such irregular ventricular heart activity, because such conditions may be potentially proarrhythmic, such that delivering atrial cardioversion/defibrillation therapy could result in dangerous ventricular arrhythmias. Using Ventricular Rate Regularization (&ldquo;VRR&rdquo;) techniques described below, the system stabilizes the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy. The system withholds delivery of atrial cardioversion/defibrillation therapy until the intervals between ventricular beats (&ldquo;V-V intervals&rdquo;) meet certain criteria that decrease the chance that the atrial cardioversion/defibrillation therapy will induce a ventricular arrhythmia. </paragraph>
</section>
<section>
<heading lvl="1">Ventricular Rate Regularization (VRR) Example </heading>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> One aspect of the present system includes actively stabilizing the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy. One suitable technique for stabilizing ventricular heart rate is referred to as Ventricular Rate Regularization (&ldquo;VRR&rdquo;), described in Krig et al., U.S. Patent Application Serial No. 09/316,515, filed on May 21, 1999, entitled &ldquo;Method and Apparatus For Treating Irregular Ventricular Contractions Such As During Atrial Arrhythmia,&rdquo; and assigned to the assignee of the present patent application, and which is herein incorporated by reference in its entirety. </paragraph>
</section>
<section>
<heading lvl="1">General System Overview and Examples </heading>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a schematic drawing illustrating, by way of example, but not by way of limitation, one embodiment of portions of a cardiac rhythm management system <highlight><bold>100</bold></highlight> and an environment in which it is used. In <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, system <highlight><bold>100</bold></highlight> includes an implantable cardiac rhythm management device <highlight><bold>105</bold></highlight>, also referred to as an electronics unit, which is coupled by an intravascular endocardial lead <highlight><bold>10</bold></highlight>, or other lead, to a heart <highlight><bold>115</bold></highlight> of patient <highlight><bold>120</bold></highlight>. System <highlight><bold>100</bold></highlight> also includes an external programmer <highlight><bold>125</bold></highlight> providing wireless communication with device <highlight><bold>105</bold></highlight> using a telemetry device <highlight><bold>130</bold></highlight>. Catheter lead <highlight><bold>110</bold></highlight> includes a proximal end <highlight><bold>135</bold></highlight>, which is coupled to device <highlight><bold>105</bold></highlight>, and a distal end <highlight><bold>140</bold></highlight>, which is coupled to one or more portions of heart <highlight><bold>115</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a schematic drawing illustrating, by way of example, but not by way of limitation, one embodiment of device <highlight><bold>105</bold></highlight> coupled by leads <highlight><bold>110</bold></highlight>A-B to heart <highlight><bold>115</bold></highlight>, which includes a right atrium <highlight><bold>200</bold></highlight>A, a left atrium <highlight><bold>200</bold></highlight>B, a right ventricle <highlight><bold>205</bold></highlight>A, a left ventricle <highlight><bold>205</bold></highlight>B, and a coronary sinus <highlight><bold>220</bold></highlight> extending from right atrium <highlight><bold>200</bold></highlight>A. In this embodiment, atrial lead <highlight><bold>110</bold></highlight>A includes electrodes (electrical contacts) disposed in, around, or near an atrium <highlight><bold>200</bold></highlight> of heart <highlight><bold>115</bold></highlight>, such as ring electrode <highlight><bold>225</bold></highlight> and tip electrode <highlight><bold>230</bold></highlight>, for sensing signals and/or delivering pacing therapy to the atrium <highlight><bold>200</bold></highlight>. Lead <highlight><bold>110</bold></highlight>A optionally also includes additional electrodes, such as for delivering atrial and/or ventricular cardioversion/defibrillation and/or pacing therapy to heart <highlight><bold>115</bold></highlight>. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 2, a</cross-reference> ventricular lead <highlight><bold>110</bold></highlight>B includes one or more electrodes, such as tip electrode <highlight><bold>235</bold></highlight> and ring electrode <highlight><bold>240</bold></highlight>, for delivering sensing signals and/or delivering pacing therapy. Lead <highlight><bold>110</bold></highlight>B optionally also includes additional electrodes, such as for delivering atrial and/or ventricular cardioversion/defibrillation and/or pacing therapy to heart <highlight><bold>115</bold></highlight>. Device <highlight><bold>105</bold></highlight> includes components that are enclosed in a hermetically-sealed can <highlight><bold>250</bold></highlight>. Additional electrodes may be located on the can <highlight><bold>250</bold></highlight>, or on an insulating header <highlight><bold>255</bold></highlight>, or on other portions of device <highlight><bold>105</bold></highlight>, for providing unipolar pacing and/or defibrillation energy in conjunction with the electrodes disposed on or around heart <highlight><bold>115</bold></highlight>. Other forms of electrodes include meshes and patches which may be applied to portions of heart <highlight><bold>115</bold></highlight> or which may be implanted in other areas of the body to help &ldquo;steer&rdquo; electrical currents produced by device <highlight><bold>105</bold></highlight>. The present method and apparatus will work in a variety of configurations and with a variety of electrical contacts or &ldquo;electrodes.&rdquo;</paragraph>
</section>
<section>
<heading lvl="1">Example Cardiac Rhythm Management Device </heading>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a schematic diagram illustrating generally, by way of example, but not by way of limitation, one embodiment of portions of device <highlight><bold>105</bold></highlight>, which is coupled to heart <highlight><bold>115</bold></highlight>. Device <highlight><bold>105</bold></highlight> includes a power source <highlight><bold>300</bold></highlight>, an atrial sensing circuit <highlight><bold>305</bold></highlight>, a ventricular sensing circuit <highlight><bold>310</bold></highlight>, a ventricular therapy circuit <highlight><bold>320</bold></highlight>, and a controller <highlight><bold>325</bold></highlight>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Atrial sensing circuit <highlight><bold>305</bold></highlight> is coupled by atrial lead <highlight><bold>110</bold></highlight>A to heart <highlight><bold>115</bold></highlight> for receiving, sensing, and/or detecting electrical atrial heart signals. Such atrial heart signals include atrial activations (also referred to as atrial depolarizations or P-waves), which correspond to atrial contractions. Such atrial heart signals include normal atrial rhythms, and abnormal atrial rhythms including atrial tachyarrhythmias, such as atrial fibrillation, and other atrial activity. Atrial sensing circuit <highlight><bold>305</bold></highlight> provides one or more signals to controller <highlight><bold>325</bold></highlight>, via node/bus <highlight><bold>327</bold></highlight>, based on the received atrial heart signals. Such signals provided to controller <highlight><bold>325</bold></highlight> indicate, among other things, the presence of atrial fibrillation. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Ventricular sensing circuit <highlight><bold>310</bold></highlight> is coupled by ventricular lead <highlight><bold>110</bold></highlight>B to heart <highlight><bold>115</bold></highlight> for receiving, sensing, and/or detecting electrical ventricular heart signals, such as ventricular activations (also referred to as ventricular depolarizations or R-waves), which correspond to ventricular contractions. Such ventricular heart signals include normal ventricular rhythms, and abnormal ventricular rhythms, including ventricular tachyarrhythmias, such as ventricular fibrillation, and other ventricular activity, such as irregular ventricular contractions resulting from conducted signals from atrial fibrillation. Ventricular sensing circuit <highlight><bold>310</bold></highlight> provides one or more signals to controller <highlight><bold>325</bold></highlight>, via node/bus <highlight><bold>327</bold></highlight>, based on the received ventricular heart signals. Such signals provided to controller <highlight><bold>325</bold></highlight> indicate, among other things, the presence of ventricular depolarizations, whether regular or irregular in rhythm. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Ventricular therapy circuit <highlight><bold>320</bold></highlight> provides ventricular pacing therapy, as appropriate, to electrodes located at or near one of the ventricles <highlight><bold>205</bold></highlight> of heart <highlight><bold>115</bold></highlight> for obtaining resulting evoked ventricular depolarizations. In one embodiment, ventricular therapy circuit <highlight><bold>320</bold></highlight> also provides cardioversion/defibrillation therapy, as appropriate, to electrodes located at or near one of the ventricles <highlight><bold>205</bold></highlight> of heart <highlight><bold>115</bold></highlight>, for terminating ventricular fibrillation and/or other ventricular tachyarrhythmias. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Controller <highlight><bold>325</bold></highlight> controls the delivery of therapy by ventricular therapy circuit <highlight><bold>320</bold></highlight> and/or other circuits, based on heart activity signals received from atrial sensing circuit <highlight><bold>305</bold></highlight> and ventricular sensing circuit <highlight><bold>310</bold></highlight>, as discussed below. Controller <highlight><bold>325</bold></highlight> includes various modules, which are implemented either in hardware or as one or more sequences of steps carried out on a microprocessor or other controller. Such modules are illustrated separately for conceptual clarity; it is understood that the various modules of controller <highlight><bold>325</bold></highlight> need not be separately embodied, but may be combined and/or otherwise implemented, such as in software/firmware. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> In general terms, sensing circuits <highlight><bold>305</bold></highlight> and <highlight><bold>310</bold></highlight> sense electrical signals from heart tissue in contact with the catheter leads <highlight><bold>110</bold></highlight>A-B to which these sensing circuits <highlight><bold>305</bold></highlight> and <highlight><bold>310</bold></highlight> are coupled. Sensing circuits <highlight><bold>305</bold></highlight> and <highlight><bold>310</bold></highlight> and/or controller <highlight><bold>325</bold></highlight> process these sensed signals. Based on these sensed signals, controller <highlight><bold>325</bold></highlight> issues control signals to therapy circuits, such as ventricular therapy circuit <highlight><bold>320</bold></highlight>, if necessary, for the delivery of electrical energy (e.g., pacing and/or defibrillation pulses) to the appropriate electrodes of leads <highlight><bold>110</bold></highlight>A-B. Controller <highlight><bold>325</bold></highlight> may include a microprocessor or other controller for execution of software and/or firmware instructions. The software of controller <highlight><bold>325</bold></highlight> may be modified (e.g., by remote external programmer <highlight><bold>105</bold></highlight>) to provide different parameters, modes, and/or functions for the implantable device <highlight><bold>105</bold></highlight> or to adapt or improve performance of device <highlight><bold>105</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> In one further embodiment, one or more sensors, such as sensor <highlight><bold>330</bold></highlight>, may serve as inputs to controller <highlight><bold>325</bold></highlight> for adjusting the rate at which pacing or other therapy is delivered to heart <highlight><bold>115</bold></highlight>. One such sensor <highlight><bold>330</bold></highlight> includes an accelerometer that provides an input to controller <highlight><bold>325</bold></highlight> indicating increases and decreases in physical activity, for which controller <highlight><bold>325</bold></highlight> increases and decreases pacing rate, respectively. Another such sensor includes an impedance measurement, obtained from body electrodes, which provides an indication of increases and decreases in the patient&apos;s respiration, for example, for which controller <highlight><bold>325</bold></highlight> increases and decreases pacing rate, respectively. Any other sensor <highlight><bold>330</bold></highlight> providing an indicated pacing rate can be used. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a schematic diagram illustrating generally, by way of example, but not by way of limitation, one embodiment of controller <highlight><bold>325</bold></highlight> that includes several different inputs to modify the rate at which pacing or other therapy is delivered. For example, Input &num;<highlight><bold>1</bold></highlight> may provide information about left ventricular rate, Input &num;<highlight><bold>2</bold></highlight> may provide an accelerometer-based indication of activity, and Input &num;<highlight><bold>3</bold></highlight> may provide an impedance-based indication of respiration, such as minute ventilation. Based on at least one of these and/or other inputs, controller <highlight><bold>325</bold></highlight> provides an output indication of pacing rate as a control signal delivered to a therapy circuit, such as to ventricular therapy circuit <highlight><bold>320</bold></highlight>. Ventricular therapy circuit <highlight><bold>320</bold></highlight> issues pacing pulses based on one or more such control signals received from controller <highlight><bold>325</bold></highlight>. Control of the pacing rate may be performed by controller <highlight><bold>325</bold></highlight>, either alone or in combination with peripheral circuits or modules, using software, hardware, firmware, or any combination of the like. The software embodiments provide flexibility in how inputs are processed and may also provide the opportunity to remotely upgrade the device software while still implanted in the patient without having to perform surgery to remove and/or replace the device <highlight><bold>105</bold></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Controller Example 1 </heading>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a schematic diagram illustrating generally, by way of example, but not by way of limitation, one conceptualization of portions of controller <highlight><bold>325</bold></highlight>. At least one signal from ventricular sensing circuit <highlight><bold>310</bold></highlight> is received by ventricular event module <highlight><bold>500</bold></highlight>, which recognizes the occurrence of ventricular events included within the signal. Such events are also referred to as &ldquo;beats,&rdquo; &ldquo;activations,&rdquo; &ldquo;depolarizations,&rdquo; &ldquo;QRS complexes,&rdquo; &ldquo;R-waves,&rdquo; &ldquo;contractions. &rdquo; Ventricular event module <highlight><bold>500</bold></highlight> detects intrinsic events (also referred to as sensed events) from the signal obtained from ventricular sensing circuit <highlight><bold>310</bold></highlight>. Ventricular event module <highlight><bold>500</bold></highlight> also detects evoked events (resulting from a pace) either from the signal obtained from ventricular sensing circuit <highlight><bold>310</bold></highlight>, or preferably from a ventricular pacing control signal obtained from pacing control module <highlight><bold>505</bold></highlight>, which also triggers the delivery of a pacing stimulus by ventricular therapy circuit <highlight><bold>320</bold></highlight>. Thus, ventricular events include both intrinsic/sensed events and evoked/paced events. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> A time interval between successive ventricular events, referred to as a V-V interval, is recorded by a first timer, such as V-V interval timer <highlight><bold>510</bold></highlight>. A filter <highlight><bold>515</bold></highlight> computes a &ldquo;first indicated pacing interval,&rdquo; i.e., one indication of a desired time interval between ventricular events or, stated differently, a desired ventricular heart rate. The first indicated pacing interval is also referred to as a ventricular rate regularization (VRR) indicated pacing interval. In various embodiments, filter <highlight><bold>515</bold></highlight> includes an averager, a weighted averager, a median filter, an infinite impulse response (IIR) filter, a finite impulse response (FIR) filter, or any other analog or digital signal processing circuit providing the desired signal processing described more particularly below. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> In one embodiment, filter <highlight><bold>515</bold></highlight> computes a new value of the first indicated pacing interval based on the duration of the most recent V-V interval recorded by timer <highlight><bold>510</bold></highlight> and on a previous value of the first indicated pacing interval stored in first indicated pacing interval register <highlight><bold>520</bold></highlight>. Register <highlight><bold>520</bold></highlight> is then updated by storing the newly computed first indicated pacing interval in register <highlight><bold>520</bold></highlight>. Based on the first indicated pacing interval stored in register <highlight><bold>520</bold></highlight>, pacing control module <highlight><bold>505</bold></highlight> delivers control signals to ventricular therapy circuit <highlight><bold>320</bold></highlight> for delivering therapy, such as pacing stimuli, at the VRR-indicated ventricular heart rate corresponding to the inverse of the duration of the first indicated pacing interval. </paragraph>
</section>
<section>
<heading lvl="1">Filter Example 1 </heading>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> In general terms, for one embodiment, device <highlight><bold>105</bold></highlight> obtains V-V intervals between successive sensed or evoked ventricular beats. Device <highlight><bold>105</bold></highlight> computes a new first indicated pacing interval based at least in part on the duration of the most recent V-V interval and a previous value of the first indicated pacing interval. Device <highlight><bold>105</bold></highlight> provides pacing therapy delivered at a rate corresponding to the inverse of the duration of the first indicated pacing interval. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a signal flow diagram illustrating generally, by way of example, but not by way of limitation, one embodiment of operating filter <highlight><bold>515</bold></highlight>. Upon the occurrence of a sensed or evoked ventricular beat, timer <highlight><bold>510</bold></highlight> provides filter <highlight><bold>515</bold></highlight> with the duration of the V-V interval concluded by that beat, which is referred to as the most recent V-V interval (VV<highlight><subscript>n</subscript></highlight>). Filter <highlight><bold>515</bold></highlight> also receives the previous value of the first indicated pacing interval (T<highlight><subscript>n&minus;1</subscript></highlight>) stored in register <highlight><bold>520</bold></highlight>. The most recent V-V interval VV<highlight><subscript>n </subscript></highlight>and the previous value of the first indicated pacing interval T<highlight><subscript>n&minus;1 </subscript></highlight>are each scaled by respective constants A and B, and then summed to obtain a new value of the first indicated pacing interval (T<highlight><subscript>n</subscript></highlight>), which is stored in register <highlight><bold>520</bold></highlight> and provided to pacing control module <highlight><bold>505</bold></highlight>. In one embodiment, the coefficients A and B are different values, and are either programmable, variable, or constant. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> If no ventricular beat is sensed during the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>. In one embodiment, operation of the filter is described by T<highlight><subscript>n</subscript></highlight>&equals;A&middot;VV<highlight><subscript>n</subscript></highlight>&plus;B&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, where A and B are coefficients (also referred to as &ldquo;weights&rdquo;), VV<highlight><subscript>n</subscript></highlight>, is the most recent V-V interval duration, and T<highlight><subscript>n&minus;1 </subscript></highlight>is the previous value of the first indicated pacing interval. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Initialization of filter <highlight><bold>515</bold></highlight> includes seeding the filter by storing, in register <highlight><bold>520</bold></highlight>, an initial interval value. In one embodiment, register <highlight><bold>520</bold></highlight> is initialized to an interval value corresponding to a lower rate limit (LRL), i.e., a minimum rate at which pacing pulses are delivered by device <highlight><bold>105</bold></highlight>. Register <highlight><bold>520</bold></highlight> could alternatively be initialized with any other suitable value. </paragraph>
</section>
<section>
<heading lvl="1">Filter Example 2 </heading>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In one embodiment, operation of filter <highlight><bold>515</bold></highlight> is based on whether the beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, is a sensed/intrinsic beat or a paced/evoked beat. In this embodiment, the pacing control module <highlight><bold>505</bold></highlight>, which controls the timing and delivery of pacing pulses, provides an input to filter <highlight><bold>515</bold></highlight> that indicates whether the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>was concluded by an evoked beat initiated by a pacing stimulus delivered by device <highlight><bold>105</bold></highlight>, or was concluded by an intrinsic beat sensed by ventricular sensing circuit <highlight><bold>310</bold></highlight>. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> In general terms, if the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, is concluded by a sensed/intrinsic beat, then filter <highlight><bold>515</bold></highlight> provides a new first indicated pacing interval T<highlight><subscript>n </subscript></highlight>that is adjusted from the value of the previous first indicated pacing interval T<highlight><subscript>n&minus;1 </subscript></highlight>such as, for example, decreased by an amount that is based at least partially on the duration of the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, and on the duration of the previous value of the first indicated pacing interval T<highlight><subscript>n&minus;1</subscript></highlight>. If, however, the most recent V-V interval VVn is concluded by a paced/evoked beat, then filter <highlight><bold>515</bold></highlight> provides a new first indicated pacing interval T<highlight><subscript>n </subscript></highlight>that is increased from the value of the previous first indicated pacing interval T<highlight><subscript>n&minus;1</subscript></highlight>, such as, for example, by an amount that is based at least partially on the duration of the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, and on the duration of the previous value of the first indicated pacing interval T<highlight><subscript>n&minus;1</subscript></highlight>. If no ventricular beat is sensed during the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a signal flow diagram, illustrating generally, by way of example, but not by way of limitation, another conceptualization of operating filter <highlight><bold>515</bold></highlight>, with certain differences from <cross-reference target="DRAWINGS">FIG. 6</cross-reference> more particularly described below. In this embodiment, the pacing control module <highlight><bold>505</bold></highlight>, which controls the timing and delivery of pacing pulses, provides an input to filter <highlight><bold>515</bold></highlight> that indicates whether the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>was concluded by an evoked beat initiated by a pacing stimulus delivered by device <highlight><bold>105</bold></highlight>, or was concluded by an intrinsic beat sensed by ventricular sensing circuit <highlight><bold>310</bold></highlight>. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> If the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>was concluded by an intrinsic beat, then the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>and the previous value of the first indicated pacing interval T<highlight><subscript>&minus;1 </subscript></highlight>are each scaled by respective constants A and B, and then summed to obtain the new value of the first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is stored in register <highlight><bold>520</bold></highlight> and provided to pacing control module <highlight><bold>505</bold></highlight>. Alternatively, if the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>was concluded by a evoked/paced beat, then the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>and the previous value of the first indicated pacing interval T<highlight><subscript>n&minus;1 </subscript></highlight>are each scaled by respective constants C and D, and then summed to obtain the new value of the first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is stored in register <highlight><bold>520</bold></highlight> and provided to pacing control module <highlight><bold>505</bold></highlight>. In one embodiment, the coefficients C and D are different from each other, and are either programmable, variable, or constant. In a further embodiment, the coefficient C is a different value from the coefficient A, and/or the coefficient D is a different value than the coefficient B, and these coefficients are either programmable, variable, or constant. In another embodiment, the coefficient D is the same value as the coefficient B. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> In one embodiment, operation of filter <highlight><bold>515</bold></highlight> is described by T<highlight><subscript>n</subscript></highlight>&equals;A&middot;VV<highlight><subscript>n</subscript></highlight>&plus;B&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n </subscript></highlight>is concluded by an intrinsic beat, and is described by T<highlight><subscript>n</subscript></highlight>&equals;C&middot;VV<highlight><subscript>n</subscript></highlight>&plus;D&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n </subscript></highlight>is concluded by a paced beat, where A, B, C and D are coefficients (also referred to as &ldquo;weights&rdquo;), VV<highlight><subscript>n </subscript></highlight>is the most recent V-V interval duration, T<highlight><subscript>n </subscript></highlight>is the new value of the first indicated pacing interval, and T<highlight><subscript>n&minus;1 </subscript></highlight>is the previous value of the first indicated pacing interval. If no ventricular beat is sensed during the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Filter Example 3 </heading>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> In another embodiment, these coefficients can be, more Particularly described using an intrinsic coefficient (a), a paced coefficient (b), and a weighting coefficient (w). In one such embodiment, A&equals;a&middot;w, B&equals;(1&minus;w), C&equals;b&middot;w, and D&equals;(1&minus;w). In one example, operation of the filter <highlight><bold>515</bold></highlight> is described by T<highlight><subscript>n</subscript></highlight>&equals;a&middot;w&middot;VV<highlight><subscript>n</subscript></highlight>&plus;(1&minus;w)&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n </subscript></highlight>is concluded by an intrinsic beat, otherwise is described by T<highlight><subscript>n</subscript></highlight>&equals;b&middot;w VV<highlight><subscript>n</subscript></highlight>&plus;(1&minus;w)&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n </subscript></highlight>is concluded by a paced beat, as illustrated generally, by way of example, but not by way of limitation, in the signal flow graph of <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. If no ventricular beat is sensed during the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>, which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the new first indicated pacing interval T<highlight><subscript>n</subscript></highlight>. In one embodiment, the coefficients a and b are different from each other, and are either programmable, variable, or constant. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> The above-described parameters (e.g., A, B, C, D, a, b, w) are stated in terms of time intervals (e.g., VV<highlight><subscript>n</subscript></highlight>, T<highlight><subscript>n</subscript></highlight>, T<highlight><subscript>n&minus;1</subscript></highlight>). However, an alternate system may produce results in terms of rate, rather than time intervals, without departing from the present method and apparatus. In one embodiment, weighting coefficient w, intrinsic coefficient a, and paced coefficient b, are variables. Different selections of w, a, and b, will result in different operation of the present method and apparatus. For example, as w increases the weighting effect of the most recent V-V interval VV<highlight><subscript>n </subscript></highlight>increases and the weighting effect of the previous first indicated pacing rate T<highlight><subscript>N&minus;1 </subscript></highlight>decreases. In one embodiment, w&equals;{fraction (1/16)}&equals;0.0625. In another embodiment, w&equals;{fraction (1/32)}. Another possible range for w is from w&equals;&frac12; to w&equals;{fraction (1/1024)}. A further possible range for w is from w&ap;0 to w&ap;1. Other values of w, which need not include division by powers of two, may be substituted without departing from the present method and apparatus. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> In one embodiment, intrinsic coefficient a, is selected to be greater than 0.5, or to be greater than 1.0. In one example, the intrinsic coefficient a is selected to be lesser in value than the pacing coefficient b. In one example, a&ap;1.1 and b&ap;1.2. In another embodiment a&equals;0.9 and b&equals;1.1. One possible range for a is from a&equals;0.5 to a&equals;2.0, and for b is from b&equals;1.0 to b&equals;3.0. The coefficients may vary without departing from the present method and apparatus. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> In one embodiment, for b&gt;1 and for substantially regular V-V intervals, filter <highlight><bold>515</bold></highlight> provides a new first indicated pacing interval T<highlight><subscript>n </subscript></highlight>that is at least slightly longer than the expected intrinsic V-V interval being measured by timer <highlight><bold>515</bold></highlight>. Thus, if the intrinsic V-V interval being timed is consistent with the duration of previously received V-V intervals, then filter <highlight><bold>515</bold></highlight> avoids triggering a pacing stimulus. In such a case, a pacing pulse is delivered only if the presently timed V-V interval becomes longer than the previous substantially constant V-V intervals. In general terms, filter <highlight><bold>515</bold></highlight> operates so that pacing pulses are typically inhibited if the ventricular rate is substantially constant. However, if the measured V-V intervals become irregular, then filter <highlight><bold>515</bold></highlight> operates, over a period of one or several such V-V intervals, to shorten the first indicated pacing interval T<highlight><subscript>n </subscript></highlight>so that pacing stimuli are being delivered. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> According to one aspect of the invention, it is believed that if the irregular V-V intervals are caused by a conducted atrial tachyarrhythmia, then pacing the ventricle will regularize the ventricular heart rate by establishing retrograde conduction from the ventricle. This, in turn, blocks forward conduction of atrial signals through the atrioventricular (A-V) node. As a result, irregular atrial signals do not trigger resulting irregular ventricular contractions. According to another aspect of the invention, however, this method and apparatus will not introduce pacing pulses until the heartbeat becomes irregular. Therefore, the heart is assured to pace at its intrinsic rate when regular ventricular contractions are sensed. </paragraph>
</section>
<section>
<heading lvl="1">Controller Example 2 </heading>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a schematic diagram illustrating generally, by way of example, but not by way of limitation, another conceptualization of portions of controller <highlight><bold>325</bold></highlight>, with certain differences from <cross-reference target="DRAWINGS">FIG. 5</cross-reference> more particularly described below. In <cross-reference target="DRAWINGS">FIG. 9</cross-reference>, controller <highlight><bold>325</bold></highlight> receives from sensor <highlight><bold>330</bold></highlight> a signal including information from which a physiologically desired heart rate (e.g., based on the patient&apos;s activity, respiration, or any other suitable indicator of metabolic need) can be derived. The sensor signal is digitized by an A/D converter <highlight><bold>900</bold></highlight>. The digitized signal is processed by a sensor rate module <highlight><bold>905</bold></highlight>, which computes a desired heart rate that is expressed in terms of a second indicated pacing interval stored in register <highlight><bold>910</bold></highlight>. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Pacing control module <highlight><bold>505</bold></highlight> delivers a control signal, which directs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a pacing pulse, based on either (or both) of the first or second indicated pacing intervals, stored in registers <highlight><bold>520</bold></highlight> and <highlight><bold>910</bold></highlight>, respectively, or both. In one embodiment, pacing control module <highlight><bold>505</bold></highlight> includes a selection module <highlight><bold>915</bold></highlight> that selects between the new first indicated pacing interval T<highlight><subscript>n </subscript></highlight>and the sensor-based second indicated pacing interval. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> In one embodiment, selection module <highlight><bold>915</bold></highlight> selects the shorter of the first and second indicated pacing intervals as the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>. If no ventricular beat is sensed during the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>, which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> In general terms, for this embodiment, the ventricle is paced at the higher of the sensor indicated rate and the VRR indicated rate. If, for example, the patient is resting, such that the sensor indicated rate is lower than the patient&apos;s intrinsic rate, and the patient&apos;s intrinsic rate is substantially constant, then the intrinsic rate is higher than the VRR indicated rate. As a result, pacing pulses generally will not be delivered. But if, for example, the patient is resting, but with an atrial tachyarrhythmia that induces irregular ventricular contractions, then pacing pulses generally will be delivered at the VRR indicated rate. In another example, if the patient is active, such that the sensor indicated rate is higher than the VRR indicated rate, then pacing pulses generally will be delivered at the sensor indicated rate In an alternative embodiment, the pacing rate is determined by blending the sensor indicated rate and the VRR indicated rate, rather than by selecting the higher of these two indicated rates (i.e., the shorter of the first and second indicated pacing intervals). </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> In another embodiment, selection module <highlight><bold>915</bold></highlight> provides a selected indicated pacing interval S<highlight><subscript>n </subscript></highlight>based on a blending of both the first and second indicated pacing intervals. In one such example, selection module <highlight><bold>915</bold></highlight> applies predetermined or other weights to the first and second indicated pacing intervals to compute the selected pacing interval S<highlight><subscript>n</subscript></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Controller Example 2 </heading>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a schematic diagram illustrating generally, by way of example, but not by way of limitation, another conceptualization of portions of controller <highlight><bold>325</bold></highlight>, with certain differences from <cross-reference target="DRAWINGS">FIG. 9</cross-reference> more particularly described below. In <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, controller <highlight><bold>325</bold></highlight> includes an atrial tachyarrhythmia (AT) detection module <highlight><bold>1000</bold></highlight> that receives a signal from atrial sensing circuit <highlight><bold>305</bold></highlight>. The received signal includes information about atrial events, from which AT detection module <highlight><bold>1000</bold></highlight> determines the presence or absence of one or more atrial tachyarrhythmias, such as atrial fibrillation. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> In one embodiment, AT detection module <highlight><bold>1000</bold></highlight> provides a control signal, to pacing control module <highlight><bold>505</bold></highlight>, that indicates the presence or absence of an atrial tachyarrhythmia, such as atrial fibrillation. In one embodiment, selection module <highlight><bold>915</bold></highlight> selects between the first and second indicated pacing intervals as illustrated, by way of example, but not by way of limitation, in Table 1.  
<table-cwu id="TABLE-US-00001">
<number>1</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Example Selection Based on AT Detection, 1st Indicated Pacing</entry>
</row>
<row>
<entry>Interval, and 2nd Indicated Pacing Interval</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="49PT" align="left"/>
<colspec colname="2" colwidth="84PT" align="left"/>
<colspec colname="3" colwidth="84PT" align="left"/>
<tbody valign="top">
<row>
<entry></entry>
<entry>1st Indicated Pacing</entry>
<entry>1st Indicated Pacing</entry>
</row>
<row>
<entry></entry>
<entry>Interval &lt; 2nd Indicated</entry>
<entry>Interval &gE; 2nd Indicated</entry>
</row>
<row>
<entry>AT Present&quest;</entry>
<entry>Pacing Interval&quest;</entry>
<entry>Pacing Interval&quest;</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Yes,</entry>
<entry>S<highlight><subscript>n </subscript></highlight>&larr; 1st Indicated Pacing</entry>
<entry>S<highlight><subscript>n </subscript></highlight>&larr; 2nd Indicated Pacing</entry>
</row>
<row>
<entry>AT Present</entry>
<entry>Interval (i.e., VRR)</entry>
<entry>Interval (e.g., Sensor)</entry>
</row>
<row>
<entry>No,</entry>
<entry>S<highlight><subscript>n </subscript></highlight>&larr; 2nd Indicated Pacing</entry>
<entry>S<highlight><subscript>n </subscript></highlight>&larr; 2nd Indicated Pacing</entry>
</row>
<row>
<entry>AT not Present</entry>
<entry>Interval (e.g., Sensor)</entry>
<entry>Interval (e.g., Sensor)</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> In this embodiment, if an atrial tachyarrhythmia is present and the first indicated pacing interval is shorter than the second indicated pacing interval, then selection module <highlight><bold>915</bold></highlight> selects the first indicated pacing interval, which is based on the VRR techniques described above, as the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>. Otherwise, selection module <highlight><bold>915</bold></highlight> selects the second indicated pacing interval, which in one embodiment is based on the sensor indications, as the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>. As discussed above, if no ventricular beat is sensed during the selected indicated pacing interval Snow which is measured as the time from the occurrence of the ventricular beat concluding the most recent V-V interval VV<highlight><subscript>n</subscript></highlight>, then pacing control module <highlight><bold>505</bold></highlight> instructs ventricular therapy circuit <highlight><bold>320</bold></highlight> to deliver a ventricular pacing pulse upon the expiration of the selected indicated pacing interval S<highlight><subscript>n</subscript></highlight>. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> Stated differently, for this embodiment, the ventricle is paced at the VRR indicated rate only if an atrial tachyarrhythmia, such as atrial fibrillation, is present and the VRR indicated rate exceeds the sensor indicated rate. Otherwise the ventricle is paced at the sensor indicated rate. If, for example, the patient is resting, such that the sensor indicated rate is lower than the patient&apos;s intrinsic rate, and no atrial tachyarrhythmia is present, then the device will sense the intrinsic rate or will deliver ventricular paces at the lower rate limit. But if, for example, the patient is resting, but with an atrial tachyarrhythmia that induces irregular ventricular contractions, then pacing pulses generally will be delivered at the VRR indicated rate. In another example, if the patient is active, such that the sensor indicated rate is higher than the VRR indicated rate, then pacing pulses generally will be delivered at the sensor indicated rate, whether or not atrial tachyarrhythmia is present As an alternative to the selection described with respect to Table 1, selection module <highlight><bold>915</bold></highlight> provides a fixed or variable weighting or blending of both the sensor-indicated rate and VRR indicated rate, such that pacing pulses are delivered based on the blended rate. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The second indicated pacing interval need not be based on sensor indications. In one embodiment, for example, the second indicated pacing interval tracks the sensed atrial heart rate when no atrial tachyarrhythmia is present. In this embodiment, selection module <highlight><bold>915</bold></highlight> performs a mode-switching function in which the first indicated pacing interval is used whenever atrial tachyarrhythmia is present and the second indicated pacing interval (e.g., atrial-tracking) is used when no atrial tachyarrhythmia is present. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> In another embodiment, heart rate/interval is used as a trigger turn on/off use of the first indicated pacing interval (e.g., the VRR indicated pacing interval). In one example, pacing therapy is based on the first indicated pacing interval if the first indicated pacing interval is longer than a first predetermined value, and pacing therapy is substantially independent of the first indicated pacing interval if the first indicated pacing interval is shorter than the first predetermined value. In this example, the VRR indicated pacing interval is used at low heart rates, but not at fast heart rates. </paragraph>
</section>
<section>
<heading lvl="1">Filter Rate Behavior Example 1 </heading>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a graph illustrating generally, by way of example, but not by way of limitation, one embodiment of a VRR indicated rate for successive ventricular heart beats for one mode of operating filter <highlight><bold>515</bold></highlight>. As discussed above, the VRR indicated rate is simply the frequency, between ventricular heart beats, associated with the first indicated pacing interval. Stated differently, the VRR indicated rate is the inverse of the duration of the first indicated pacing interval. If pacing is based solely on the VRR indicated rate, pacing control module <highlight><bold>505</bold></highlight> directs ventricular therapy circuit <highlight><bold>320</bold></highlight> to issue a pacing pulse after the time since the last ventricular beat equals or exceeds the first indicated pacing interval. However, as described above, in certain embodiments, pacing control module <highlight><bold>505</bold></highlight> directs ventricular therapy circuit <highlight><bold>320</bold></highlight> to issue a pacing pulse based on factors other than the VRR indicated rate such as for, example, based on the sensor indicated rate. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> In the example illustrated in <cross-reference target="DRAWINGS">FIG. 11, a</cross-reference> first sensed intrinsic ventricular beat, indicated by an &ldquo;S&rdquo; was detected just before expiration of the first indicated pacing interval (&ldquo;VRR indicated pacing interval&rdquo;) T<highlight><subscript>o</subscript></highlight>, as computed based on a previous ventricular beat. In one embodiment, the new VRR indicated pacing interval T<highlight><subscript>1 </subscript></highlight>is computed based on the duration of most recent V-V interval VV<highlight><subscript>1 </subscript></highlight>and a previous value of the VRR indicated pacing interval T<highlight><subscript>0</subscript></highlight>, as discussed above. In this example, the new VRR indicated pacing interval T<highlight><subscript>1 </subscript></highlight>corresponds to a lower rate limit (LRL) time interval. In one embodiment, the allowable range of the VRR indicated pacing interval is limited so that the VRR indicated pacing interval does not exceed the duration of the LRL time interval, and so that the VRR indicated pacing interval is not shorter than the duration of an upper rate limit (URL) time interval. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> The second ventricular beat is also sensed, just before expiration of the VRR indicated pacing interval T<highlight><subscript>1</subscript></highlight>. In one embodiment, the new VRR indicated pacing interval T<highlight><subscript>2 </subscript></highlight>is computed based on the duration of most recent V-V interval VV<highlight><subscript>2 </subscript></highlight>and a previous value of the VRR indicated pacing interval, T<highlight><subscript>1</subscript></highlight>, as discussed above. The first and second ventricular beats represent a stable intrinsic rhythm, for which no pacing is delivered because the VRR indicated pacing interval is at a lower rate than the sensed intrinsic ventricular beats. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> The third, fourth, and fifth ventricular beats represent the onset of atrial fibrillation, resulting in erratic ventricular rates. The third ventricular beat is sensed well before expiration of the VRR indicated pacing interval T<highlight><subscript>2</subscript></highlight>, such that no pacing pulse is issued. For the sensed third ventricular beat, filter <highlight><bold>515</bold></highlight> computes the new VRR indicated pacing interval T<highlight><subscript>3 </subscript></highlight>as being shorter in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>2</subscript></highlight>. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> The fourth ventricular beat is similarly sensed well before expiration of the VRR indicated pacing interval T<highlight><subscript>3</subscript></highlight>, such that no pacing pulse is issued. For the sensed fourth ventricular beat, filter <highlight><bold>515</bold></highlight> computes the new VRR indicated pacing interval T<highlight><subscript>4 </subscript></highlight>as being shorter in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>3</subscript></highlight>. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> The fifth ventricular beat is sensed before expiration of the VRR indicated pacing interval T<highlight><subscript>4</subscript></highlight>, such that no pacing pulse is issued. For the sensed fifth ventricular beat, filter <highlight><bold>515</bold></highlight> computes the new VRR indicated pacing interval T<highlight><subscript>5 </subscript></highlight>as being shorter in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>4</subscript></highlight>. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> The sixth, seventh, and eighth ventricular beats indicate regularization of the ventricular rate using the pacing techniques described above. No ventricular beat is sensed during the VRR indicated pacing interval T<highlight><subscript>5</subscript></highlight>, so a pacing pulse is issued to evoke the sixth ventricular beat. A new VRR indicated pacing interval T<highlight><subscript>6 </subscript></highlight>is computed as being increased in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>5</subscript></highlight>, lowering the VRR indicated rate. Similarly, no ventricular beat is sensed during the VRR indicated pacing interval. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> The ninth ventricular beat represents another erratic ventricular beat resulting from the atrial fibrillation episode. The ninth ventricular beat is sensed before expiration of the VRR indicated pacing interval T<highlight><subscript>8</subscript></highlight>. As a result, a shorter new VRR indicated pacing interval T<highlight><subscript>9 </subscript></highlight>is computed. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> The tenth and eleventh ventricular beats illustrate further regularization of the ventricular rate using the pacing techniques described above. No ventricular beat is sensed during the VRR indicated pacing interval T<highlight><subscript>9</subscript></highlight>, so a pacing pulse is issued to evoke the tenth ventricular beat. A new VRR indicated pacing interval T<highlight><subscript>10 </subscript></highlight>is computed as being increased in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>9</subscript></highlight>, lowering the VRR indicated rate. Similarly, no ventricular beat is sensed during the VRR indicated pacing interval T<highlight><subscript>10</subscript></highlight>, so a pacing pulse is issued to evoke the tenth ventricular beat. A new VRR indicated pacing interval T<highlight><subscript>11 </subscript></highlight>is compute as being increased in duration relative to the previous VRR indicated pacing interval T<highlight><subscript>10</subscript></highlight>, lowering the VRR indicated rate. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> The twelfth, thirteenth, fourteenth, and fifteenth ventricular beats illustrate resumption of a stable intrinsic rhythm after termination of the atrial fibrillation episode. For such a stable rate, the VRR indicated rate proceeds asymptotically toward a &ldquo;floor value&rdquo; that tracks, but remains below, the intrinsic rate. This allows the intrinsic heart signals to control heart rate when such intrinsic heart signals provide a stable rhythm. As a result, when the patient&apos;s intrinsic rate is constant, paces will be withheld, allowing the patient&apos;s intrinsic heart rhythm to continue. If the patient&apos;s heart rate includes some variability, and the VRR indicated floor value is close to the mean intrinsic heart rate, then occasional paced beats will occur. Such pace beats will gradually lengthen the VRR indicated pacing interval, thereby allowing subsequent intrinsic behavior when the patient&apos;s heart rate becomes substantially constant. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> The intrinsic coefficient a of filter <highlight><bold>515</bold></highlight> controls the &ldquo;attack slope&rdquo; of the VRR indicated heart rate as the VRR indicated heart rate increases because of sensed intrinsic beats. The paced coefficient b of filter <highlight><bold>515</bold></highlight> controls the &ldquo;decay slope&rdquo; of the VRR indicated heart rate as the VRR indicated heart rate decreases during periods of paced beats. In one embodiment, in which a&gt;1.0 and b&gt;1.0, decreasing the value of a toward 1.0 increases the attack slope such that the VRR indicated rate increases faster in response to sensed intrinsic beats, while decreasing the value of b toward 1.0 decreases the decay slope such that the VRR indicated rate decreases more slowly during periods of paced beats. Conversely, for a&gt;1.0 and b&gt;1.0, increasing the value of a from 1.0 decreases the attack slope such that the VRR indicated rate increases more slowly in response to sensed intrinsic beats, while increasing the value of b from 1.0 increases the decay slope such that the VRR-indicated rate decreases more quickly during periods of paced beats. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> In one embodiment, for a&gt;1.0 and b&gt;1.0, decreasing both a and b toward 1.0 increases VRR indicated rate during periods of sensed intrinsic activity so that the VRR indicated rate is closer to the mean intrinsic rate. Because the VRR indicated rate is closer to the mean intrinsic rate, variability in the intrinsic heart rate is more likely to trigger paces at the VRR indicated rate. On the other hand, for a&gt;1.0 and b&gt;1.0, increasing both a and b from 1.0 decreases the VRR indicated rate during periods of sensed intrinsic activity so that the VRR indicated rate is farther beneath the mean intrinsic rate. Because the VRR indicated rate is farther beneath the mean intrinsic rate, the same variability in the intrinsic heart rate becomes less likely to trigger paces at the VRR indicated rate. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> In one embodiment, these coefficients are programmable by the user, such as by using remote programmer <highlight><bold>125</bold></highlight>. In another embodiment, the user selects a desired performance parameter (e.g., desired degree of rate regularization, desired attack slope, desired decay slope, etc.) from a corresponding range of possible values, and device <highlight><bold>105</bold></highlight> automatically selects the appropriate combination of coefficients of filter <highlight><bold>515</bold></highlight> to provide a filter setting that corresponds to the selected user-programmed performance parameter, as illustrated generally by Table 2. Other levels of programmability or different combinations of coefficients may also be used.  
<table-cwu id="TABLE-US-00002">
<number>2</number>
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217PT" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center">TABLE 2</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry></entry>
</row>
<row><entry namest="1" nameend="1" align="center" rowsep="1"></entry>
</row>
<row>
<entry>Example of Automatic Selection of Aspects of Filter Setting Based</entry>
</row>
<row>
<entry>on a User-Programmable Performance Parameter.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="77PT" align="center"/>
<colspec colname="2" colwidth="70PT" align="center"/>
<colspec colname="3" colwidth="70PT" align="center"/>
<tbody valign="top">
<row>
<entry>User-Programmable</entry>
<entry></entry>
<entry></entry>
</row>
<row>
<entry>Performance Parameter</entry>
<entry>Intrinsic Coefficient a</entry>
<entry>Paced Coefficient b</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
<row>
<entry>1</entry>
<entry>2.0</entry>
<entry>3.0</entry>
</row>
<row>
<entry>(Less Rate</entry>
</row>
<row>
<entry>Regularization)</entry>
</row>
<row>
<entry>2</entry>
<entry>1.8</entry>
<entry>2.6</entry>
</row>
<row>
<entry>3</entry>
<entry>1.6</entry>
<entry>2.2</entry>
</row>
<row>
<entry>4</entry>
<entry>1.4</entry>
<entry>1.8</entry>
</row>
<row>
<entry>5</entry>
<entry>1.2</entry>
<entry>1.4</entry>
</row>
<row>
<entry>6</entry>
<entry>1.0</entry>
<entry>1.0</entry>
</row>
<row>
<entry>(More Rate</entry>
</row>
<row>
<entry>Regularization)</entry>
</row>
<row><entry namest="1" nameend="3" align="center" rowsep="1"></entry>
</row>
</tbody>
</tgroup>
</table>
</table-cwu>
</paragraph>
</section>
<section>
<heading lvl="1">Filter Rate Behavior Example 2 </heading>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a graph illustrating generally, by way of example, but not by way of limitation, one embodiment of selecting between more than one indicated pacing interval. <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is similar to <cross-reference target="DRAWINGS">FIG. 11</cross-reference> in some respects, but <cross-reference target="DRAWINGS">FIG. 12</cross-reference> includes a second indicated pacing interval. In one embodiment, the first indicated pacing interval is the VRR indicated pacing interval, described above, and the second indicated pacing interval is a sensor indicated pacing interval, from an accelerometer, minute ventilation, or other indication of the patient&apos;s physiological need for increased cardiac output. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> In one embodiment, a selected indicated pacing interval is based on the shorter of the first and second indicated pacing intervals. Stated differently, device <highlight><bold>105</bold></highlight> provides pacing pulses at the higher indicated pacing rate. In the example illustrated in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>, first and second beats and the twelfth through fifteenth beats are paced at the sensor indicated rate, because it is higher than the VRR indicated rate and the intrinsic rate. The third, fourth, fifth, and ninth beats are sensed intrinsic beats that are sensed during the shorter of either of the VRR and sensor indicated pacing intervals. The sixth through eighth beats and ninth and tenth beats are paced at the VRR indicated rate, because it is higher than the sensor indicated rate. Also, for these beats, no intrinsic beats are sensed during the VRR indicated intervals. In this embodiment, the ranges of both the sensor indicated rate and the VRR indicated rate are limited so that they do not extend to rates higher than the URL or to rates lower than the LRL. In one embodiment, the LRL and the URL are programmable by the user, such as by using remote programmer <highlight><bold>125</bold></highlight>. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> In a further embodiment, the selected indicated pacing interval is based on the shorter of the first and second indicated pacing intervals only if an atrial tachyarrhythmia, such as atrial fibrillation, is present. Otherwise, the second indicated pacing interval is used, as described above. </paragraph>
</section>
<section>
<heading lvl="1">Filter Rate Behavior Example 3 </heading>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a graph illustrating generally, by way of example, but not by way of limitation, another illustrative example of heart rate vs. time according to a spreadsheet simulation of the behavior of the above-described VRR algorithm. In <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the VRR algorithm is turned off until time <highlight><bold>130</bold></highlight>. Stable intrinsic lower rate behavior is modeled for times between 0 and 10 seconds. Erratic intrinsic ventricular rates, such as would result from atrial tachyarrhythmias including atrial fibrillation, are modeled during times between 10 seconds and 130 seconds. At time 130 seconds, the VRR algorithm is turned on. While some erratic intrinsic beats are subsequently observed, the VRR algorithm provides pacing that is expected to substantially stabilize the heart rate, as illustrated in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>. The VRR indicated pacing rate gradually decreases until intrinsic beats are sensed, which results in a slight increase in the VRR indicated pacing rate. Thus, the VRR algorithm favors the patient&apos;s intrinsic heart rate when it is stable, and paces at the VRR indicated heart rate when the patient&apos;s intrinsic heart rate is unstable. It is noted that <cross-reference target="DRAWINGS">FIG. 13</cross-reference> does not represent clinical data, but rather provides a simulation model that illustrates one example of how the VRR algorithm is expected to operate. </paragraph>
</section>
<section>
<heading lvl="1">Filter Example 4 </heading>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> In one embodiment, filter <highlight><bold>515</bold></highlight> includes variable coefficients such as, for example, coefficients that are a function of heart rate (or its corresponding time interval). In one example, operation of the filter <highlight><bold>515</bold></highlight> is described by T<highlight><subscript>n</subscript></highlight>&equals;a&middot;w&middot;VV<highlight><subscript>n</subscript></highlight>&plus;(1&minus;w)&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n</subscript></highlight>, is concluded by an intrinsic beat, otherwise is described by T<highlight><subscript>n</subscript></highlight>&equals;b&middot;w&middot;VV<highlight><subscript>n </subscript></highlight>&plus;(1&minus;w)&middot;T<highlight><subscript>n&minus;1</subscript></highlight>, if VV<highlight><subscript>n </subscript></highlight>is concluded by a paced beat, where at least one of a and b are linear, piecewise linear, or nonlinear functions of one or more previous V-V intervals such as, for example, the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a graph illustrating generally, by way of example, but not by way of limitation, one embodiment of using at least one of coefficients a and b as a function of one or more previous V-V intervals such as, for example, the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>. In one such example, a is less than 1.0 when VV<highlight><subscript>n </subscript></highlight>is at or near the lower rate limit (e.g., 1000 millisecond interval or 60 beats/minute), and a is greater than 1.0 when VV<highlight><subscript>n </subscript></highlight>is at or near the upper rate limit (e.g., 500 millisecond interval or 120 beats/minute). For a constant b, using a smaller value of a at lower rates will increase the pacing rate more quickly for sensed events; using a larger value of a at higher rates increases the pacing rate more slowly for sensed events. In another example, b is close to 1.0 when VV<highlight><subscript>n </subscript></highlight>is at or near the lower rate limit, and b is greater than 1.0 when VV<highlight><subscript>n </subscript></highlight>is at or near the upper rate limit. For a constant a, using a smaller value of b at lower rates will decrease the pacing rate more slowly for paced events; using a larger value of b at higher rates decreases the pacing rate more quickly for paced events. </paragraph>
</section>
<section>
<heading lvl="1">Using VRR for Optimizing Timing of Atrial Cardioversion/Defibrillation Therapy </heading>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a schematic diagram, similar to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, illustrating generally, by way of example, but not by way of limitation, another embodiment of portions of system <highlight><bold>100</bold></highlight> and an environment in which it is used. In this embodiment, atrial lead <highlight><bold>110</bold></highlight>A includes electrodes disposed in, around, or near right atrium <highlight><bold>200</bold></highlight>A of heart <highlight><bold>115</bold></highlight>, such as superior vena cava (SVC) ring electrode <highlight><bold>1500</bold></highlight> and coronary sinus (CS) ring electrode <highlight><bold>1505</bold></highlight> for delivering cardioversion/defibrillation therapy to right atrium <highlight><bold>200</bold></highlight>A. Atrial lead <highlight><bold>110</bold></highlight>A may also include additional electrodes, such as for sensing intrinsic heart signals and for delivering atrial or ventricular pacing or cardioversion/defibrillation therapy to heart <highlight><bold>115</bold></highlight>. Alternatively, electrodes for sensing intrinsic atrial heart signals and delivering atrial pacing therapy are included on a separate lead disposed in right atrium <highlight><bold>200</bold></highlight>A, as illustrated in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>. Moreover, additional electrodes may be located elsewhere, for sensing or delivering pacing or cardioversion/defibrillation therapy, such as using a portion of the can of hermetically sealed device <highlight><bold>105</bold></highlight> or using an electrode at a header portion extending therefrom. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a schematic diagram, similar to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, illustrating generally, by way of example, but not by way of limitation, another embodiment of portions of device <highlight><bold>105</bold></highlight>, which is coupled to heart <highlight><bold>115</bold></highlight>. In this embodiment, device <highlight><bold>105</bold></highlight> includes an atrial therapy circuit <highlight><bold>1600</bold></highlight> providing atrial cardioversion/defibrillation therapy, as appropriate, to electrodes located at or near one of the atria <highlight><bold>200</bold></highlight> of heart <highlight><bold>115</bold></highlight>, for terminating attrial fibrillation or other atrial tachyarrhythmias. In order, embodiment, atrial therapy circuit <highlight><bold>1600</bold></highlight> also provides atrial pacing therapy to electrodes located at or near one of the atria <highlight><bold>200</bold></highlight> of heart <highlight><bold>115</bold></highlight> for obtaining resulting evoked atrial depolarizations, i.e., paced atrial beats. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> Controller <highlight><bold>325</bold></highlight> controls the delivery of therapy, by atrial therapy circuit <highlight><bold>1600</bold></highlight> and ventricular therapy circuit <highlight><bold>320</bold></highlight>, based on heart activity signals received from atrial sensing circuit <highlight><bold>305</bold></highlight> and ventricular sensing circuit <highlight><bold>310</bold></highlight>, as discussed below. Controller <highlight><bold>325</bold></highlight> includes various modules, which are implemented either in hardware or as one or more sequences of steps carried out on a microprocessor or other microcontroller. Though such modules are illustrated separately for conceptual clarity, it is understood that the various modules of controller <highlight><bold>325</bold></highlight> need not be separately embodied, but may be combined or otherwise implemented differently, such as in software/firmware. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> In one embodiment, controller <highlight><bold>325</bold></highlight> includes a V-V interval timer <highlight><bold>510</bold></highlight>, for measuring time intervals (&ldquo;V-V intervals&rdquo;) between successive ventricular depolarizations obtained from ventricular event module <highlight><bold>500</bold></highlight>. The V-V intervals are provided to VRR module <highlight><bold>1605</bold></highlight>, which performs the ventricular rate regularization techniques described above with respect to FIGS. <highlight><bold>5</bold></highlight>-<highlight><bold>14</bold></highlight>. In one embodiment, detection of an atrial tachyarrhythmia by atrial sensing circuit <highlight><bold>305</bold></highlight> triggers the regularization of the ventricular rate using VRR techniques. In another embodiment, however, VRR techniques are used even when no atrial tachyarrhythmia is present. V-V interval timer <highlight><bold>510</bold></highlight> also provides the V-V intervals to atrial cardioversion/defibrillation control module <highlight><bold>1610</bold></highlight>, which evaluates the V-V intervals based on certain criteria to determine whether potentially proarrhythmic heart conditions exist. If such potentially proarrhythmic heart conditions exist, atrial cardioversion/defibrillation module <highlight><bold>1610</bold></highlight> withholds atrial cardioversion/defibrillation therapy until VRR module <highlight><bold>1605</bold></highlight> suitably stabilizes the ventricular heart rate using the VRR techniques. </paragraph>
</section>
<section>
<heading lvl="1">Example Method of Operating Cardiac Rhythm Management Device </heading>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> The present system recognizes that atrial tachyarrhythmias typically cause significant variability in the ventricular heart rate. Device <highlight><bold>105</bold></highlight> avoids delivering atrial cardioversion/defibrillation therapy during such irregular ventricular heart activity, because such conditions may be potentially proarrhythmic, such that delivering atrial cardioversion/defibrillation therapy could result in dangerous ventricular arrhythmias. Using the VRR techniques described above, device <highlight><bold>105</bold></highlight> stabilizes the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy as a result of the more regular ventricular heart rate. Device <highlight><bold>105</bold></highlight> withholds delivery of atrial cardioversion/defibrillation therapy until the V-V intervals meet certain criteria that indicate a decreased chance that the atrial cardioversion/defibrillation therapy will induce a ventricular arrhythmia. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a flow chart illustrating generally, by way of example, but not by way of limitation, one embodiment of operating device <highlight><bold>105</bold></highlight> for delivering atrial cardioversion/defibrillation therapy to terminate an atrial tachyarrhythmia, such as atrial fibrillation, and enable the resumption of normal atrial heart rhythms. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> At step <highlight><bold>1700</bold></highlight>, atrial sensing circuit <highlight><bold>305</bold></highlight> is used to detect an atrial tachyarrhythmia, such as atrial fibrillation. If atrial fibrillation is detected at step <highlight><bold>1700</bold></highlight>, then step <highlight><bold>1705</bold></highlight> initiates stabilization of the ventricular heart rate, using the VRR techniques discussed above, in order to obtain conditions that are not potentially proarrhythmic. (As described above, in one embodiment, VRR stabilization techniques provide pacing that overdrives the intrinsic ventricular heart rate unless the intrinsic ventricular heart rate is substantially regular). If atrial fibrillation is not detected at step <highlight><bold>1700</bold></highlight>, then at step <highlight><bold>1710</bold></highlight>, a conventional pacing algorithm is used to determine whether pacing therapy should be delivered to the heart <highlight><bold>115</bold></highlight>. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> Step <highlight><bold>1715</bold></highlight> performs a beat-by-beat determination of whether potentially proarrhythmic conditions exist in the ventricle, based on the V-V time interval between paced or sensed ventricular events. One embodiment of performing step <highlight><bold>1715</bold></highlight> is described more particularly below with respect to <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. If step <highlight><bold>1715</bold></highlight> indicates that no potentially proarrhythmic conditions exist, then atrial cardioversion/defibrillation therapy is delivered in step <highlight><bold>1720</bold></highlight>. Otherwise, potentially proarrhythmic conditions do exist, and such atrial-cardioversion/defibrillation therapy is withheld (i.e., step <highlight><bold>1720</bold></highlight> is bypassed) until no potentially proarrhythmic conditions exist, with stabilization of the ventricular heart rate using VRR continuing at step <highlight><bold>1705</bold></highlight>. Stabilization of the ventricular heart rate, at step <highlight><bold>1705</bold></highlight>, more quickly obtains conditions that are not potentially proarrhythmic, because the VRR techniques promote ventricular pacing at a rate that is close to the mean intrinsic ventricular heart rate during periods of erratic intrinsic ventricular heart rates. This, in turn, stabilizes the ventricular heart rate, as described above, more quickly obtaining conditions that are not potentially proarrhythmic. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> In one embodiment, delivery of the atrial cardioversion/defibrillation therapy at step <highlight><bold>1720</bold></highlight> is synchronized to the most recent ventricular beat, i.e., the ventricular beat that concludes VV<highlight><subscript>n </subscript></highlight>In one example, if the most recent ventricular beat is a paced beat, then, at step <highlight><bold>1720</bold></highlight>, a defibrillation countershock is delivered to the right atrium <highlight><bold>200</bold></highlight>A within approximately 20 to 150 milliseconds (e.g., 70 milliseconds) after the pacing pulse was delivered. In this same example, if the most recent ventricular beat is a sensed beat, then, at step <highlight><bold>1720</bold></highlight>, a defibrillation countershock is delivered to the right atrium <highlight><bold>200</bold></highlight>A during the QRS complex of the sensed ventricular beat. In one embodiment, an atrial defibrillation countershock of approximately between 1 Joule and 25 Joules (e.g., approximately 4 Joules) is delivered between electrode <highlight><bold>1505</bold></highlight> located in or near coronary sinus <highlight><bold>220</bold></highlight> and an electrode <highlight><bold>1500</bold></highlight> located in a supra ventricular region such as in or near the superior vena cava. In another embodiment, the atrial defibrillation countershock is delivered between an electrode <highlight><bold>1505</bold></highlight> located in or near coronary sinus <highlight><bold>220</bold></highlight> and a pair of intercoupled electrodes located (1) in or near coronary sinus <highlight><bold>220</bold></highlight> and (2) at device <highlight><bold>105</bold></highlight> or header <highlight><bold>225</bold></highlight>. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> By stabilizing the ventricular heart rate before delivering atrial cardioversion/defibrillation therapy, device <highlight><bold>105</bold></highlight> promotes conditions that not potentially proarrhythmic, such that atrial cardioversion/defibrillation therapy can be safely delivered at step <highlight><bold>1720</bold></highlight>. Thus, device <highlight><bold>105</bold></highlight> advantageously actively stabilizes the heart to obtain conditions that are not potentially proarrhythmic, and does so more quickly than if the heart were not actively stabilized. The stabilization is performed using the VRR techniques described above. In one embodiment, the VRR techniques stabilize the ventricular rate at a variable rate that is based at least in part on the patient&apos;s underlying intrinsic rate; the VRR indicated rate is based on either intrinsic or evoked ventricular activations, or both. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> Because the ventricular rate stabilization is based on the patient&apos;s underlying intrinsic ventricular rate, as determined using the VRR techniques described above, device <highlight><bold>105</bold></highlight> ensures that the ventricular pacing rate will be high enough to stabilize the ventricular heart rate during periods of erratic intrinsic ventricular activity. Moreover, because the ventricular pacing rate is based on the intrinsic ventricular rate, the patient need not be paced at excessive ventricular rates when stabilizing intrinsic ventricular heart activity. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a flow chart that illustrates generally, by way of example, but not by way of limitation, one embodiment of determining whether potentially proarrhythmic conditions exist at step <highlight><bold>1715</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. <cross-reference target="DRAWINGS">FIG. 18</cross-reference> illustrates one embodiment of a sequence of substeps underlying decision block <highlight><bold>1715</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. In <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, at step <highlight><bold>1800</bold></highlight>, the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, is compared to a first predetermined value, T<highlight><subscript>1</subscript></highlight>. At step <highlight><bold>1805</bold></highlight>, if VV<highlight><subscript>n </subscript></highlight>is greater than T<highlight><subscript>1 </subscript></highlight>(or, in an alternate embodiment, greater than or equal to T<highlight><subscript>1</subscript></highlight>), then at step <highlight><bold>1810</bold></highlight> the algorithm deems that no potentially proarrhythmic conditions exist. Otherwise, at step <highlight><bold>1815</bold></highlight>, VV<highlight><subscript>n </subscript></highlight>is compared to a third predetermined value, T<highlight><subscript>3</subscript></highlight>. At step <highlight><bold>1820</bold></highlight>, if VV<highlight><subscript>n </subscript></highlight>is less than T<highlight><subscript>3 </subscript></highlight>(or, in an alternate embodiment, less than or equal to T<highlight><subscript>3</subscript></highlight>), then at step <highlight><bold>1825</bold></highlight> the algorithm deems that potentially proarrhythmic conditions do exist. Otherwise, at step <highlight><bold>1830</bold></highlight> the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, is compared to the previous V-V interval, VV<highlight><subscript>n&minus;1</subscript></highlight>. At step <highlight><bold>1835</bold></highlight>, if the difference between VV<highlight><subscript>n </subscript></highlight>and VV<highlight><subscript>n&minus;1 </subscript></highlight>less than a second predetermined value, T<highlight><subscript>2 </subscript></highlight>(or, in an alternate embodiment, less than or equal to T<highlight><subscript>2</subscript></highlight>), then at step <highlight><bold>1840</bold></highlight> the algorithm deems that no potentially proarrhythmic conditions exist. Otherwise, at step <highlight><bold>1845</bold></highlight>, the algorithm deems that potentially proarrhythmic conditions do exist. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a chart that illustrates generally, by way of example, but not by way of limitation, one embodiment of determining whether potentially proarrhythmic conditions exist, such as described with respect to <cross-reference target="DRAWINGS">FIG. 18</cross-reference>. In <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, the Y-axis indicates increasing ventricular heart rate in a first direction, and increasing V-V interval duration in a second direction opposite to the first, as a result of the inverse relationship between rate and interval. In Zone 1, if the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, is longer than (or alternatively, longer than or equal to) T<highlight><subscript>1 </subscript></highlight>(e.g., T<highlight><subscript>1</subscript></highlight>&equals;800 milliseconds), then the algorithm deems that no potentially proarrhythmic conditions exist in the ventricle. In Zone 2, if the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, is shorter than (or alternatively, shorter than or equal to) T<highlight><subscript>3 </subscript></highlight>(e.g., T<highlight><subscript>3</subscript></highlight>&equals;500 milliseconds), then the algorithm deems that potentially proarrhythmic conditions do exist in the ventricle. In Zone 3, for VV<highlight><subscript>n </subscript></highlight>between T<highlight><subscript>n </subscript></highlight>and T<highlight><subscript>3 </subscript></highlight>(or alternatively, within such range including the endpoints T<highlight><subscript>1 </subscript></highlight>and T<highlight><subscript>3</subscript></highlight>), then a further comparison is made between the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, and the previous V-V interval, VV<highlight><subscript>n&minus;1</subscript></highlight>. If the magnitude of the difference between VV<highlight><subscript>n </subscript></highlight>and VV<highlight><subscript>n&minus;1 </subscript></highlight>is less than T<highlight><subscript>2 </subscript></highlight>(or alternatively, less than or equal to T<highlight><subscript>2</subscript></highlight>), then the algorithm deems that potentially proarrhythmic conditions do not exist (condition &ldquo;B&rdquo;); otherwise, the algorithm deems that potentially proarrhythmic conditions do exist (condition &ldquo;A&rdquo;). When the ventricular heart rate is in Zone 3, use of the VRR techniques in step <highlight><bold>1705</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 17</cross-reference> promotes condition B over condition A, because VRR stabilizes the ventricular heart rate, thereby reducing the time differences between successive V-V intervals. Thus, stabilization of the ventricular heart rate using the VRR techniques promotes conditions that are not potentially proarrhythmic, so that atrial cardioversion/defibrillation therapy can be delivered quickly, but also safely, i.e., without risking inducing a ventricular tachyarrhythmia. Moreover, stabilization of the ventricular heart rate using VRR techniques quickly obtains a regular ventricular heart rhythm because, as explained above, the VRR stabilization is based on the underlying intrinsic heart rate and, in one embodiment, uses an IIR filter than establishes a VRR-indicated rate based on the most recent V-V interval, VV<highlight><subscript>n</subscript></highlight>, and a previous value of the VRR-indicated rate. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> In one embodiment, T<highlight><subscript>1 </subscript></highlight>is programmable to values approximately between 700 milliseconds and 1000 milliseconds, with a default value of approximately 800 milliseconds. In this embodiment, T<highlight><subscript>3 </subscript></highlight>is programmable to values that are less than (or, alternatively, less than or equal to) T<highlight><subscript>1 </subscript></highlight>and in the range approximately between 350 milliseconds and 1000 milliseconds, with T<highlight><subscript>3 </subscript></highlight>having a default value of approximately 500 milliseconds. Also in this embodiment, T<highlight><subscript>2 </subscript></highlight>is programmable to values that are approximately between 0 milliseconds and 200 milliseconds, with T<highlight><subscript>2 </subscript></highlight>having a default value of approximately 90 milliseconds. The values of these time intervals are illustrative only, and not intended to be restrictive. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a flow chart, similar to <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, illustrating generally, by way of example, but not by way of limitation, an embodiment of operating device <highlight><bold>105</bold></highlight> in which stabilization of the ventricular heart rate using the VRR algorithm is independent of whether atrial tachyarrhythmias are detected. At step <highlight><bold>2000</bold></highlight>, pacing therapy is delivered to the ventricle at the VRR-indicated rate (either alone, or in combination with a sensor-indicated rate, as described above) even if no atrial tachyarrhythmia is present. At step <highlight><bold>1700</bold></highlight>, if an atrial tachyarrhythmia (AT) such as atrial fibrillation is detected, and no potentially proarrhythmic conditions exist at step <highlight><bold>1715</bold></highlight>, then device <highlight><bold>105</bold></highlight> provides atrial cardioversion/defibrillation therapy at step <highlight><bold>1720</bold></highlight>. If no atrial tachyarrhythmia is detected at step <highlight><bold>1700</bold></highlight> or if potentially proarrhythmic conditions exist at step <highlight><bold>1715</bold></highlight>, then device <highlight><bold>105</bold></highlight> withholds atrial cardioversion/defibrillation therapy (i.e., step <highlight><bold>1720</bold></highlight> is bypassed) and continues to provide pacing at the VRR-indicated rate at step <highlight><bold>2000</bold></highlight>. As a result, atrial cardioversion/defibrillation therapy is only delivered at step <highlight><bold>1720</bold></highlight> if the atrial tachyarrhythmia exists in the absence of potentially proarrhythmic conditions. By using the VRR pacing algorithm in step <highlight><bold>2000</bold></highlight>, the ventricular heart rate is stabilized to obtain conditions that are not potentially proarrhythmic so that atrial cardioversion/defibrillation therapy is delivered quickly and safely. In summary, while <cross-reference target="DRAWINGS">FIG. 17</cross-reference> illustrates using VRR only when an atrial tachyarrhythmia is detected (also referred to as &ldquo;fallback to VRR&rdquo; initiated by AT), <cross-reference target="DRAWINGS">FIG. 20</cross-reference> illustrates using VRR to determine the indicated ventricular heart rate even when atrial tachyarrhythmias are not present. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> is a flow chart, similar to <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, illustrating generally, by way of example, but not by way of limitation, an embodiment of operating device <highlight><bold>105</bold></highlight> in which one or more of the predetermined values to which V-V intervals are compared is different if VV<highlight><subscript>n </subscript></highlight>is initiated by a paced ventricular beat than if VV<highlight><subscript>n </subscript></highlight>is initiated by a sensed ventricular beat, as determined in step <highlight><bold>2100</bold></highlight>. In one embodiment, the algorithm uses a longer first predetermined value T<highlight><subscript>1B </subscript></highlight>when VV<highlight><subscript>n </subscript></highlight>is initiated by a paced beat than the corresponding first predetermined value T<highlight><subscript>1A </subscript></highlight>when VV<highlight><subscript>n </subscript></highlight>is initiated by a sensed beat. This is because a paced beat is followed by a refractory period during which time the ventricular sensing circuit is disconnected from ventricular lead <highlight><bold>110</bold></highlight>B to avoid saturating the ventricular sense amplifier circuits as a result of the after-potentials produced by delivering a pacing pulse. Because device <highlight><bold>105</bold></highlight> is &ldquo;blind&rdquo; to ventricular depolarizations occurring during the post-pace refractory period, the most recent V-V interval, if VV<highlight><subscript>n </subscript></highlight>is initiated by a paced ventricular beat, it is compared to a first predetermined value T<highlight><subscript>1B </subscript></highlight>that is longer than the first predetermined value T<highlight><subscript>1A </subscript></highlight>corresponding to a most recent V-V interval, VV<highlight><subscript>n </subscript></highlight>initiated by a sensed ventricular beat. Similarly, in one embodiment, the third predetermined value T<highlight><subscript>3B </subscript></highlight>is longer when VV<highlight><subscript>n </subscript></highlight>is initiated by a paced beat than the third predetermined value T<highlight><subscript>3A </subscript></highlight>when VV<highlight><subscript>n </subscript></highlight>is initiated by a sensed beat. This accounts for the additional time during which device <highlight><bold>105</bold></highlight> is &ldquo;blind&rdquo; following a paced ventricular beat. Similarly, in another embodiment, the second predetermined value T<highlight><subscript>3B </subscript></highlight>is longer when VV<highlight><subscript>n </subscript></highlight>is initiated by a paced beat than the second predetermined value T<highlight><subscript>3B </subscript></highlight>when VV<highlight><subscript>n </subscript></highlight>is initiated by a sensed beat. </paragraph>
</section>
<section>
<heading lvl="1">Conclusion </heading>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> The above-described system provides, among other things, atrial shock timing optimization. The system detects an atrial tachyarrhythmia, such as atrial fibrillation. Such atrial tachyarrhythmias typically cause significant variability in the ventricular heart rate. The system avoids delivering atrial cardioversion/defibrillation therapy during such irregular ventricular heart activity, because such conditions may be potentially proarrhythmic, such that delivering atrial cardioversion/defibrillation therapy could result in dangerous ventricular arrhythmias. Using Ventricular Rate Regularization (&ldquo;VRR&rdquo;) techniques described above, the system stabilizes the ventricular heart rate to obtain less potentially proarrhythmic conditions for delivering the atrial tachyarrhythmia therapy. The system withholds delivery of atrial cardioversion/defibrillation therapy until the intervals between ventricular beats (&ldquo;V-V intervals&rdquo;) meet certain criteria that decrease the chance that the atrial cardioversion/defibrillation therapy will induce a ventricular arrhythmia. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> It is to be understood that the above description is intended to be illustrative, and not restrictive. Many other embodiments will be apparent to those of skill in the art upon reviewing the above description. The scope of the invention should, therefore, be determined with reference to the appended claims, along with the full scope of equivalents to which such claims are entitled. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method comprising: 
<claim-text>computing a present indicated ventricular pacing interval, including infinite-impulse response (IIR) filtering using as inputs: (1) a most recent V-V interval duration between ventricular events; and (2) a previously-computed value of the indicated ventricular pacing interval that corresponds to a V-V interval that immediately precedes the most recent V-V interval, the IIR filtering providing, as an output, the present indicated ventricular pacing interval; </claim-text>
<claim-text>pacing a ventricle using the present indicated ventricular pacing interval; </claim-text>
<claim-text>detecting an atrial tachyarrhythmia; </claim-text>
<claim-text>determining whether potentially proarrhythmic conditions exist in the ventricle; and </claim-text>
<claim-text>after the pacing the ventricle, the detecting the atrial tachyarrhythmia, and the determining whether potentially proarrhythmic conditions exist, then delivering cardioversion/defibrillation therapy to the atrium if it is determined that no potentially proarrhythmic conditions exist in the ventricle, otherwise withholding the delivery of cardioversion/defibrillation therapy to the atrium until it is determined that no potentially proarrhythmic conditions exist in the ventricle. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, in which the determining whether potentially proarrhythmic conditions exist in the ventricle comprises: 
<claim-text>comparing the most recent V-V interval to a first predetermined value; </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is longer than a first predetermined value; </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is shorter than the first predetermined value and the most recent V-V interval exceeds or equals a preceding V-V interval less a second predetermined value; </claim-text>
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is shorter than a third predetermined value; and </claim-text>
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is longer than the third predetermined value and the most recent V-V interval is shorter than the preceding V-V interval less the second predetermined value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the determining whether potentially proarrhythmic conditions exist in the ventricle further comprises: 
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is equal to the third predetermined value; and </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is equal to the first predetermined value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the first predetermined value is approximately between 700 milliseconds and 1000 milliseconds. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the first predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the second predetermined value is approximately between 0 milliseconds and 200 milliseconds. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which second predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the third predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, in which the third predetermined value is approximately between 350 milliseconds and 1000 milliseconds, and the third predetermined value is at least one of: (1) less than the first predetermined value, and (2) less than or equal to the first predetermined value. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, in which the pacing the ventricle using the present indicated ventricular pacing interval is initiated by the detecting the atrial tachyarrhythmia. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, in which the pacing the ventricle using the present indicated ventricular pacing interval is independent of the detecting the atrial tachyarrhythmia. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A method comprising: 
<claim-text>detecting an atrial tachyarrhythmia; </claim-text>
<claim-text>stabilizing a ventricular heart rate, using an infinite impulse response filter, in response to the detecting the atrial tachyarrhythmia; </claim-text>
<claim-text>determining whether potentially proarrhythmic conditions exist; and </claim-text>
<claim-text>delivering cardioversion/defibrillation therapy to the atrium, in response to the detecting the atrial tachyarrhythmia, if the determining whether potentially proarrhythmia conditions exist indicates that no potentially proarrhythmic conditions exist, otherwise withholding the delivery of cardioversion/defibrillation therapy to the atrium until no potentially proarrhythmic conditions exist. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, in which the determining whether potentially proarrhythmic conditions exist comprises: 
<claim-text>comparing a most recent V-V interval to a first predetermined value; </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is longer than a first predetermined value; </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is shorter than the first predetermined value and the most recent V-V interval exceeds or equals a preceding V-V interval less a second predetermined value; </claim-text>
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is shorter than a third predetermined value; and </claim-text>
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is longer than the third predetermined value and the most recent V-V interval is shorter than the preceding V-V interval less the second predetermined value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the determining whether potentially proarrhythmic conditions exist in the ventricle further comprises: 
<claim-text>deeming potentially proarrhythmic conditions to exist if the most recent V-V interval is equal to the third predetermined value; and </claim-text>
<claim-text>deeming no potentially proarrhythmic conditions to exist if the most recent V-V interval is equal to the first predetermined value. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the first predetermined value is approximately between 700 milliseconds and 1000 milliseconds. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the first predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the second predetermined value is approximately between 0 milliseconds and 200 milliseconds. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which second predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the third predetermined value is different when the most recent V-V interval is initiated by a sensed beat than when the most recent V-V interval is initiated by a paced beat. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The method of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, in which the third predetermined value is approximately between 350 milliseconds and 1000 milliseconds, and the third predetermined value is at least one of: (1) less than the first predetermined value, and (2) less than or equal to the first predetermined value. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A cardiac rhythm management system, comprising: 
<claim-text>an atrial heart signal sensing circuit; </claim-text>
<claim-text>a ventricular heart signal sensing circuit, configured to sense V-V intervals between ventricular depolarizations of a ventricle; </claim-text>
<claim-text>a ventricular pacing therapy circuit; </claim-text>
<claim-text>an atrial cardioversion/defibrillation therapy circuit; and </claim-text>
<claim-text>a controller, communicatively coupled to the atrial heart signal sensing circuit, the ventricular heart signal sensing circuit, the ventricular pacing therapy circuit, and the atrial cardioversion/defibrillation therapy circuit, the controller including: 
<claim-text>a ventricular rate stabilization circuit, including an infinite impulse response (IIR) filter circuit outputting a variable indicated pacing interval using at least first input comprising a most recent V-V interval duration and a second input comprising a preceding value of the indicated pacing interval; and </claim-text>
<claim-text>an atrial cardioversion/defibrillation control circuit that (a) determines if potentially proarrhythmic ventricular conditions exist, and (b) includes an atrial therapy circuit that delivers cardioversion/defibrillation therapy to the atrium if no potentially proarrhythmic conditions exist, and otherwise withholds the delivery of cardioversion/defibrillation therapy to the atrium. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, further comprising a programmer, remote from and communicatively coupled to the controller. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, further comprising a leadwire adapted for being coupled between the device and at least one of: (1) a coronary sinus, and (2) a superior vena cava. </claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. The system of <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, in which the ventricular pacing therapy circuit is configured to initiate pacing of the ventricle at the variable indicated pacing interval, outputted by the IIR filter circuit, in response to an atrial tachyarrhythmia detected by the atrial heart sensing circuit.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>3</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004551A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004551A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004551A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004551A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004551A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004551A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004551A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004551A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004551A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004551A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004551A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004551A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004551A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004551A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004551A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030004551A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030004551A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030004551A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030004551A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030004551A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030004551A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030004551A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
