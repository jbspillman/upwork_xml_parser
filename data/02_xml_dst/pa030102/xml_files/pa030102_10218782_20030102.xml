<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030004682A1-20030102-D00000.TIF SYSTEM "US20030004682A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00001.TIF SYSTEM "US20030004682A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00002.TIF SYSTEM "US20030004682A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00003.TIF SYSTEM "US20030004682A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00004.TIF SYSTEM "US20030004682A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00005.TIF SYSTEM "US20030004682A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00006.TIF SYSTEM "US20030004682A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00007.TIF SYSTEM "US20030004682A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00008.TIF SYSTEM "US20030004682A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00009.TIF SYSTEM "US20030004682A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00010.TIF SYSTEM "US20030004682A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00011.TIF SYSTEM "US20030004682A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00012.TIF SYSTEM "US20030004682A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00013.TIF SYSTEM "US20030004682A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00014.TIF SYSTEM "US20030004682A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00015.TIF SYSTEM "US20030004682A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00016.TIF SYSTEM "US20030004682A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00017.TIF SYSTEM "US20030004682A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00018.TIF SYSTEM "US20030004682A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00019.TIF SYSTEM "US20030004682A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030004682A1-20030102-D00020.TIF SYSTEM "US20030004682A1-20030102-D00020.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030004682</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10218782</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020814</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F015/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>702</class>
<subclass>183000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Furnace diagnostic system</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>10218782</doc-number>
<kind-code>A1</kind-code>
<document-date>20020814</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09772252</doc-number>
<document-date>20010126</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-of>
</continuations>
<non-provisional-of-provisional>
<document-id>
<doc-number>60178837</doc-number>
<document-date>20000128</document-date>
<country-code>US</country-code>
</document-id>
</non-provisional-of-provisional>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Anthony</given-name>
<middle-name>W.</middle-name>
<family-name>Abraham</family-name>
</name>
<residence>
<residence-us>
<city>Laguna Nigel</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Joseph</given-name>
<middle-name>G.</middle-name>
<family-name>Raffaelli</family-name>
</name>
<residence>
<residence-us>
<city>La Canada</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Robert</given-name>
<middle-name>W.</middle-name>
<family-name>Cuomo</family-name>
</name>
<residence>
<residence-us>
<city>Fort Collins</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Derek</given-name>
<middle-name>Daniel</middle-name>
<family-name>Johnson</family-name>
</name>
<residence>
<residence-us>
<city>Loveland</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Robert</given-name>
<middle-name>Wayne</middle-name>
<family-name>Lewis</family-name>
</name>
<residence>
<residence-us>
<city>Gardena</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Eldon</given-name>
<family-name>Vaughn</family-name>
</name>
<residence>
<residence-us>
<city>Fullerton</city>
<state>CA</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>FULWIDER PATTON LEE &amp; UTECHT, LLP</name-1>
<name-2></name-2>
<address>
<address-1>200 OCEANGATE, SUITE 1550</address-1>
<city>LONG BEACH</city>
<state>CA</state>
<postalcode>90802</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A furnace diagnostic system includes sensors that monitor various functions of the furnace. Data generated by such sensors may be stored for subsequent transfer or may be transferred in real time via an infra red link to a remote handheld device with which an analysis thereof is performed. The handheld device additionally allows the technician to control various furnace functions to facilitate the generation of relevant real time data. In order to further enhance the system&apos;s diagnostics capabilities, the communication may be established with a centralized computing facility which includes a data base containing data relating to an entire population of similar furnaces. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention generally relates to residential furnace diagnostic systems. More particularly, the invention pertains to a method for measuring, storing, reporting and analyzing furnace diagnostic information as well as the electronic circuitry and software capable of implementing such method. </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The complexity of modern heating systems has complicated the diagnosis and repair of faults from which such systems may suffer. Misdiagnosis and the replacement of the wrong components is both expensive and time consuming and can pose a substantial nuisance to all involved. On the one hand, the homeowner is subjected to a continued malfunction of the heating system and must accommodate repetitive service calls. On the other hand, the service provider must expend time and labor to repeatedly send personnel into the field to address the problem while the furnace manufacturer may be called upon to supply replacements for components that are in fact fault free and fully operational. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Some progress has previously been made to facilitate a more comprehensive analytical approach to the operation of furnace systems and to thereby allow problems to be more quickly and efficiently diagnosed and the underlying faults to be correctly identified. This has included both the modification of furnace configurations to actively accommodate the monitoring of various functions as well as the development of external analytical tools that are capable of probing the operation of existing furnace systems. However, none of the heretofore known approaches have provided an adequately comprehensive system that exploits all of the tools that are currently available to thereby allow problems to be identified as quickly and accurately as possible. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> In certain previously known systems, monitoring and diagnostic systems have been integrated within a furnace to thereby provide for a data collection and memory capability. Operating data, including malfunctions are logged and can be accessed by a service technician using a portable, hardwired data reading unit. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Other systems have been devised wherein an integrated electronic furnace control arrangement incorporates a self test feature which shuts down the furnace in the event of any one of a number of possible sensed faults. This system tests furnace sensors for false indications both while the sensor should be detecting a particular burner parameter as well as when the sensor should not be sensing that parameter and in the event of a discrepancy, performs a safety interrupt and lockout command to shut down the furnace. Additional features that may be present include a multipurpose display for selectively showing component indicative failure codes, temperature setback schedules, time of day, and day of the week. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Systems have been described that incorporate a direct ignition gas burner control system using a microcomputer and related circuitry for controlling the energizing of the ignitor and valves and for numerous checks on the integrity of the system components. Such systems may include an ignition control processor which transmits coded data signals to a portable display module via a hard-wire conduit connection. The portable display module contains a processor to process the signals received from the ignition control processor and to control a display device to display selected operating modes and last known failure conditions in human-readable form. Residence appliance management and communication systems are also known that include an interface module installed on each home appliance. In the case of the furnace, the interface module interfaces with the furnace microprocessor and reports furnace component status and failures to a central controller. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> However, while such systems aid in the diagnosis of certain faults a furnace may suffer from, none of the systems that have previously been described enable a technician to enjoy the full benefit of computerized analysis of real time as well as historical data. A system is needed wherein all such capabilities can simultaneously be brought to bear on a particular problem to allow an underlying fault to be quickly and accurately identified. Such system must not only be efficient in its operation but must be easy to transport and use in the field. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The present invention provides a novel method and apparatus for acquiring, reporting and analyzing diagnostic information for furnaces to facilitate troubleshooting and repair. The invention is couched in the recognition that a number of different factors can contribute to a misdiagnosis, including a technician&apos;s inability to quickly and easily test a system&apos;s various functions to thereby identify faults in real time. Additionally, in the event a particular failure mode is intermittent, an inability to recall the circumstances relating to previous malfunctions can prevent positive identification of the problem. A technician&apos;s unfamiliarity with the failure and repair history of the particular unit subject to the malfunction may additionally inhibit a quick and accurate diagnosis. Finally, the inability to quickly and properly analyze a particular set of symptoms in the context of the past history of the individual heating system as well as the whole population of such systems may thwart efforts to accurately diagnose and hence quickly and efficiently remedy a particular problem. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The present invention addresses each of the above-described sources of or reasons for misdiagnosis. Moreover, the invention enables a technician to quickly and easily generate and retrieve all relevant data from the furnace and avails the analytical power of remote diagnostic facilities to analyze the data. As such, the system of the present invention includes various sensors that are integrated throughout a furnace that monitor its various functions, is capable of storing data generated by such sensors to create a fault history and allows a technician to access such data via a remote, handheld device. The handheld device additionally allows the technician to control the system&apos;s various functions and thereby generate real time data relevant to its operation. The handheld device serves to analyze the data to diagnose the underlying problem. Finally, the system allows data to be transferred to a remote centralized computing facility for further processing. Such centralized facility is capable of storing a large body of data pertaining to the operation and fault history of the entire population of individual furnace systems in the field. The ability to draw from such database provides further assistance for the technician to enable him to more quickly and accurately correlate a particular set real time and/or historical data with an underlying fault. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Thus, briefly and in general terms, in one aspect the present invention is directed to a plurality of sensors in combination with electronic circuitry for measuring various furnace parameters. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In another aspect, a software system is provided to reside on a microcontroller and interface with the electronic circuitry to access the acquired diagnostic information, and to further interface with a portable handheld device to provide the information to a system user. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> In another aspect, electronic circuitry and software is provided that is capable of storing data pertaining to the operation of the furnace for future access thereto. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In a further aspect, the invention consists of a microcontroller based furnace controller for a residential furnace with various sensors and a wireless hand held display device (such as a PalmOS&trade; device). Both real time data as well as stored historical data is accessible by the handheld device for analysis. The invention thereby makes the integrates detailed diagnostic information and the latest in computing technology for the benefit of the service technician. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In another aspect, the invention imparts an ability to the technician to control the operation of the furnace via the handheld device to thereby generate real time data points without having to physically access the furnace control circuits. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Finally, in a further aspect, the invention provides for the storage of and access to performance/fault data from a population of similar furnace systems in a centralized database to further enhance the system&apos;s diagnostic ability. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> These and other features and advantages of the present invention will become apparent from the following detailed description of preferred embodiments, which taken in conjunction with the accompanying drawings, illustrate by way of example the principles of the invention.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> presents a block diagram of a furnace diagnostic system in accordance with the present invention; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a logic control diagram depicting generally the method-of the present invention; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a flowchart of the IGNITION portion of the control diagram of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a flowchart of the BURNER portion of the control diagram of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a flowchart of the COOL portion of the control diagram of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a flowchart of the LOCKOUT portion of the control diagram of <cross-reference target="DRAWINGS">FIG. 2</cross-reference>; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is an electronic circuit diagram depicting one preferred embodiment of a device to perform the functions of the method of the present invention; and </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> FIGS. <highlight><bold>8</bold></highlight>A-M depict the various lockout codes, and associated diagnostic messages presented to the user, including possible actions to be taken by the user, associated with the LOCKOUT control diagram of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT </heading>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> The present invention discloses a new method of communicating controls and historical as well as real-time diagnostic information between a residential furnace controller and a portable hand held device carried by a service technician. The system provides a method of interrogating the furnace while operating, diagnosing the real time information as well as stored historical data on the furnace operations, controlling furnace components and monitoring the resulting response in real-time, and providing knowledge based troubleshooting assistance to the service technician in an expeditious manner. One preferred embodiment of the method provides infrared communication ports on the furnace controller and handheld device to obviate the need to make physical attachments to the furnace. A wireless link not only makes access quicker and more convenient but allows electronic controls to be accessed without the risk of inadvertently affecting the operation of the furnace control circuitry with physical attachments which may possibly mask the cause of a malfunction. The handheld device, containing a microcontroller, display, and keyboard, provides the logic that interprets the diagnostic information from the furnace and presents the field technician with instructions for troubleshooting and quickly repairing malfunctions. The system also allows a centralized computing facility with a performance/fault database pertaining to an entire population of such furnace systems to be accessed to further enhance the system&apos;s diagnostics capability. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Thus, in one preferred embodiment, as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the present invention is directed to an electronic control system <highlight><bold>10</bold></highlight> and associated software for use as a diagnostic tool in a residential furnace application targeted for 100,000 BthU, 80% efficiency residential furnaces. The invention provides a detailed diagnostic capability to a residential furnace controller <highlight><bold>30</bold></highlight> installed on the furnace <highlight><bold>20</bold></highlight>. During normal operations, the furnace controller <highlight><bold>30</bold></highlight> interfaces with thermostat <highlight><bold>50</bold></highlight> to receive manual furnace control signals and also interfaces with furnace control elements and sensors to provide the required operation. During troubleshooting and diagnostic operations, an infrared communication port <highlight><bold>31</bold></highlight> on the furnace controller interfaces via an infrared link with an infrared communication port <highlight><bold>41</bold></highlight> on the service technician&apos;s handheld device <highlight><bold>40</bold></highlight>. Using the infrared link, the service technician has the ability to read troubleshooting advice on the hand held device <highlight><bold>40</bold></highlight> display <highlight><bold>42</bold></highlight> and issue commands using the hand held device <highlight><bold>40</bold></highlight> key pad <highlight><bold>43</bold></highlight> at the same time that the furnace <highlight><bold>20</bold></highlight> is operating. The hand held device <highlight><bold>40</bold></highlight> uses a knowledge base to correlate the types of errors found and gives the technician suggestions about where to start looking for problems. This helps identify at what point in the control cycle there is a failure and what component or subsystem could be the cause. The system additionally includes a centralized computing facility <highlight><bold>45</bold></highlight> with which is accessible via modem <highlight><bold>60</bold></highlight>. Such facility includes a database of the fault history of the entire population of similar furnaces as well as advance diagnostics capabilities to thereby extend the diagnostic capability of the handheld device. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> As shown in FIGS. <highlight><bold>2</bold></highlight>-<highlight><bold>6</bold></highlight>, the system provides the following diagnostic support: </paragraph>
<paragraph id="P-0028" lvl="2"><number>&lsqb;0028&rsqb;</number> Furnace Control Status: The furnace controller <highlight><bold>30</bold></highlight> communicates to the hand held device <highlight><bold>40</bold></highlight> the current state of the control system. </paragraph>
<paragraph id="P-0029" lvl="2"><number>&lsqb;0029&rsqb;</number> Real-time Help: The hand held device <highlight><bold>40</bold></highlight> correlates the current state of the control system to the appropriate potential problem causes in the troubleshooting scheme. </paragraph>
<paragraph id="P-0030" lvl="2"><number>&lsqb;0030&rsqb;</number> Inducer Function: In addition to automatic monitoring, the technician can turn on the inducer fan and &ldquo;see&rdquo; the state of the pressure switch when the controller does. </paragraph>
<paragraph id="P-0031" lvl="2"><number>&lsqb;0031&rsqb;</number> Ignitor Function: In addition to automatic monitoring, the technician can turn on the hot surface ignition device and &ldquo;see&rdquo; the amount of current drawn. </paragraph>
<paragraph id="P-0032" lvl="2"><number>&lsqb;0032&rsqb;</number> Manifold Pressure: In addition to automatic monitoring, the technician can monitor the magnitude of the manifold gas pressure. </paragraph>
<paragraph id="P-0033" lvl="2"><number>&lsqb;0033&rsqb;</number> Filter Differential Pressure: In addition to automatic monitoring, the technician can monitor the pressure differential across the filter for identifying a clogged filter. </paragraph>
<paragraph id="P-0034" lvl="2"><number>&lsqb;0034&rsqb;</number> Ignition Function: in addition to automatic monitoring, the technician can launch an ignition sequence to observe events or troubleshoot a particular component. </paragraph>
<paragraph id="P-0035" lvl="2"><number>&lsqb;0035&rsqb;</number> Circulation Function: In addition to automatic monitoring, the technician can turn on the various speeds of the circulation blower to aid in troubleshooting the motor. </paragraph>
<paragraph id="P-0036" lvl="2"><number>&lsqb;0036&rsqb;</number> Read Thermostat Signals: In addition to automatic monitoring, the technician can verify the signals that the furnace controller <highlight><bold>30</bold></highlight> &ldquo;sees&rdquo; from the thermostat <highlight><bold>50</bold></highlight>. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> With reference now to <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the electronic circuit diagram depicts the preferred embodiment of a control device for performing the method of the invention. The controller contains a 24V DC power supply consisting of diode CR<highlight><bold>1</bold></highlight> and capacitor C<highlight><bold>1</bold></highlight>. The 24V DC power supply provides power to the relays. The controller also has a 5V DC power supply consisting of diode CR<highlight><bold>2</bold></highlight>, three-terminal 5V regulator U<highlight><bold>11</bold></highlight>, and capacitor C<highlight><bold>2</bold></highlight>. The 5V DC power supply provides power to the rest of the circuit. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> A relay driver, U<highlight><bold>3</bold></highlight>, is used to pull-down the relays to ground. In order to give additional protection from a fault enabling the gas valve relay K<highlight><bold>6</bold></highlight>, a 1 kHz signal is applied to an integrator to bias on the relay driver for the gas valve. The integrator consists of capacitors C<highlight><bold>6</bold></highlight> and C<highlight><bold>7</bold></highlight>, diodes CR<highlight><bold>3</bold></highlight> and CR<highlight><bold>4</bold></highlight>, and resistors R<highlight><bold>30</bold></highlight> and R<highlight><bold>31</bold></highlight>. This integrator, in conjunction with a steady signal applied from the microprocessor U<highlight><bold>1</bold></highlight> through resistor R<highlight><bold>13</bold></highlight> to the base of the transistor Q<highlight><bold>1</bold></highlight>, provides the ground path to the gas valve relay K<highlight><bold>6</bold></highlight>. Another unique and novel feature of this circuit is the ability to verify the condition of transistor Q<highlight><bold>1</bold></highlight> and the relay driver U<highlight><bold>3</bold></highlight>. This is accomplished by providing a 2.5V DC reference signal through resistor R<highlight><bold>34</bold></highlight> and reference diode CR<highlight><bold>13</bold></highlight>. This 2.5V DC signal is fed through resistor R<highlight><bold>33</bold></highlight> to the net between the emitter of Q<highlight><bold>1</bold></highlight> and the open collector output of U<highlight><bold>3</bold></highlight>. The signal is also fed back to an analog input of the microprocessor U<highlight><bold>1</bold></highlight>. If both of these drivers are off, the 2.5V DC signal can be read by the microprocessor and can be used as a calibration for the analog to digital converter. If transistor Q<highlight><bold>1</bold></highlight> is turned on the signal will rise to near 5V DC. If the relay driver, U<highlight><bold>3</bold></highlight>, is turned on by feeding a 1 kHz signal to the integrator, the signal at the microprocessor will be reduced to approximately 0.7V DC. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> Transformer T<highlight><bold>1</bold></highlight>, diode CR<highlight><bold>11</bold></highlight>, capacitors C<highlight><bold>4</bold></highlight> and C<highlight><bold>5</bold></highlight>, and resistors R<highlight><bold>54</bold></highlight> and R<highlight><bold>55</bold></highlight> generate a voltage that is proportional to the igniter current. This voltage is fed into an analog input to the microprocessor. This allows the microprocessor to measure the igniter current. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> The circuit also uses a unique method of measuring flame current. The flame sense circuit consists of capacitors C<highlight><bold>8</bold></highlight> and C<highlight><bold>9</bold></highlight>, resistors R<highlight><bold>23</bold></highlight>, R<highlight><bold>24</bold></highlight>, R<highlight><bold>25</bold></highlight>, R<highlight><bold>26</bold></highlight>, R<highlight><bold>27</bold></highlight> and R<highlight><bold>28</bold></highlight>, and transistors Q<highlight><bold>2</bold></highlight> and Q<highlight><bold>3</bold></highlight>. An AC signal is fed to the flame sense circuit by capacitor C<highlight><bold>8</bold></highlight>. In the presence of flame, a negative DC current will be introduced on the flame sense input. This DC current is enough to discharge capacitor C<highlight><bold>9</bold></highlight> until it is low enough to bias the FET Q<highlight><bold>3</bold></highlight> off, thus indicating the presence of flame. The circuit is automatically adjusted to its maximum sensitivity by the microprocessor pulsing transistor Q<highlight><bold>2</bold></highlight> on and off. When transistor Q<highlight><bold>2</bold></highlight> is turned on, capacitor C<highlight><bold>9</bold></highlight> is charged to 5V DC. The pulse width of the signal going to transistor Q<highlight><bold>2</bold></highlight> starts at a 50% duty cycle. If flame is not detected, the duty cycle is decreased by a factor of two repeatedly until flame is detected. Then the pulse duty cycle is gradually increased until C<highlight><bold>9</bold></highlight> is discharged sufficiently to bias the FET Q<highlight><bold>3</bold></highlight> on and flame sense is no longer detected. The pulse width just before flame sense is no longer detected is directly proportional to the flame current. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> The circuit also has two pressure transducers that are interfaced to the microprocessor U<highlight><bold>1</bold></highlight>. These pressure transducers, U<highlight><bold>6</bold></highlight> and U<highlight><bold>7</bold></highlight>, are amplified through U<highlight><bold>2</bold></highlight> and various gain resistors to provide an analog voltage on the microprocessor that is proportional to the pressures being measured. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> The standard external thermostat <highlight><bold>50</bold></highlight> contacts R, W, Y, and G are monitored to determine if the thermostat is calling for heat, cool, or if a manual fan is on. The inputs from the thermostat contacts are resistor divided and are clamped to the 5V DC and ground levels through the diode array U<highlight><bold>8</bold></highlight>. Also, the circuit monitors the high limit thermostat, rollout switches, and a pressure switch. These inputs are also resistor divided and clamped to 5V DC and ground by diode array U<highlight><bold>8</bold></highlight> and diodes CR<highlight><bold>12</bold></highlight> and CR<highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Within the furnace controller <highlight><bold>30</bold></highlight>, the circuitry for controlling and monitoring functions such as air circulation blower heat speed, cool speed and manual fan speed, igniter, gas valve, and induced draft blower are connected to connector blocks or terminals for easy connection to a furnace. A four-position DIP-switch is used to select various fan on and off delays. The circuit also has a flash programming port. This allows the microprocessor to be reprogrammed while in circuit. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The circuit also has methods of communicating to other computers. The first method is through an IRDA interface. The serial input and output leads from the microprocessor are routed through analog bilateral switch U<highlight><bold>9</bold></highlight> to the HSDL-7001 infrared communications controller U<highlight><bold>4</bold></highlight>. U<highlight><bold>4</bold></highlight> then connects to HSDL-3610, an infrared transolver that provides the infrared input and output of the circuit. This infrared communications port is shown as item <highlight><bold>31</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. The other method of external communications is with an RS232 interface. A DCE RS232 connection is accomplished by taking the serial input and output leads from the internal UART of the microprocessor and switching them through the analog bilateral switch U<highlight><bold>9</bold></highlight> to the MAX232E, U<highlight><bold>10</bold></highlight>. RS232 voltage levels are attained through U<highlight><bold>10</bold></highlight> and capacitors C<highlight><bold>10</bold></highlight>, C<highlight><bold>11</bold></highlight>, C<highlight><bold>12</bold></highlight> and C<highlight><bold>13</bold></highlight>. These signals are then routed to the SUB-D9 connector. This port is shown as item <highlight><bold>32</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> and can be used to connect to a modem <highlight><bold>60</bold></highlight> so that historical data can also be gathered over a phone line or over the Internet. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> The communication capabilities provided above are one of the important novel features of the method and device of the present invention, and they allow the control device to be accessed through either the IRDA interface <highlight><bold>31</bold></highlight> or the RS232 interface <highlight><bold>32</bold></highlight>. This access provides the service technician the capability to troubleshoot the furnace controller <highlight><bold>30</bold></highlight> and measure various parameters without touching any of the circuits. In a preferred embodiment, a software interface is implemented on a hand held device <highlight><bold>40</bold></highlight> that allows the technician to operate portions of the furnace controller circuit on demand, as well as identify possible problems through various diagnostic messages displayed on the hand held device display <highlight><bold>42</bold></highlight> as shown in FIGS. <highlight><bold>8</bold></highlight>A-M. This greatly enhances the technician&apos;s ability to troubleshoot and diagnose what is wrong with the circuit. The software also allows the technician to generate a call for heat, in which instance the controller <highlight><bold>30</bold></highlight> operates as if the thermostat <highlight><bold>50</bold></highlight> has been turned up and a call for heat has been generated. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> The two-way interface also provides real time data on the conditions within the appliance (e.g. the furnace). The igniter current, flame sense current, manifold pressure, inlet pressure, etc. can be read in real time. When a call for heat is generated, the handheld device <highlight><bold>40</bold></highlight> can display all of the measured information in real time. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> The controller <highlight><bold>30</bold></highlight> microprocessor U<highlight><bold>1</bold></highlight> also stores historical data. The historical data is then transferred to the handheld device <highlight><bold>40</bold></highlight>. This data can then be archived to provide information on the history of the controller. Data such as number of cycles, number of successful ignition cycles on first attempt, second attempt, third attempt and number of times in various lockouts, flame sense loss, etc. is stored for later retrieval. The controller gives this data over the life of the controller and since the last interrogation by the handheld device <highlight><bold>40</bold></highlight>. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The following is a summary of the software features: </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> 1. The software is designed for safety critical applications and will be compliant with Underwriters Laboratory (UL) 1998 table 7 specification for software safety. Other features are added above and beyond UL 1998 to ensure reliability and robust performance. </paragraph>
<paragraph id="P-0050" lvl="2"><number>&lsqb;0050&rsqb;</number> Software recovery from noise and transients. This enables recovery without a hard reset if possible. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> 2. The software is designed as a state machine controlling all stages of gas ignition in furnace applications. </paragraph>
<paragraph id="P-0052" lvl="2"><number>&lsqb;0052&rsqb;</number> WAIT STATE </paragraph>
<paragraph id="P-0053" lvl="2"><number>&lsqb;0053&rsqb;</number> PRE PURGE STATE </paragraph>
<paragraph id="P-0054" lvl="2"><number>&lsqb;0054&rsqb;</number> WARMUP STATE </paragraph>
<paragraph id="P-0055" lvl="2"><number>&lsqb;0055&rsqb;</number> IGNITION STATE </paragraph>
<paragraph id="P-0056" lvl="2"><number>&lsqb;0056&rsqb;</number> BURNER STATE </paragraph>
<paragraph id="P-0057" lvl="2"><number>&lsqb;0057&rsqb;</number> INTER PURGE STATE </paragraph>
<paragraph id="P-0058" lvl="2"><number>&lsqb;0058&rsqb;</number> POST PURGE STATE </paragraph>
<paragraph id="P-0059" lvl="2"><number>&lsqb;0059&rsqb;</number> COOL STATE </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> 3. The software kernel is designed to be generic in order to function in multiple hardware configurations. </paragraph>
<paragraph id="P-0061" lvl="2"><number>&lsqb;0061&rsqb;</number> All port I/O in the main kernel program is generic in order to add a layer of abstraction to port definitions. </paragraph>
<paragraph id="P-0062" lvl="2"><number>&lsqb;0062&rsqb;</number> Software library routines are used to assign port definitions for specific products. This allows new products to be added without changing the main kernel software. </paragraph>
<paragraph id="P-0063" lvl="2"><number>&lsqb;0063&rsqb;</number> All configuration information will be read from EEPROM in order for the main kernel program to remain generic. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> 4. The software is designed to provide the following diagnostic capability to a hand held device <highlight><bold>40</bold></highlight> via an infrared port: </paragraph>
<paragraph id="P-0065" lvl="2"><number>&lsqb;0065&rsqb;</number> Real-time data availability on the hand held device display <highlight><bold>41</bold></highlight>. </paragraph>
<paragraph id="P-0066" lvl="3"><number>&lsqb;0066&rsqb;</number> System State and timings </paragraph>
<paragraph id="P-0067" lvl="3"><number>&lsqb;0067&rsqb;</number> Ignitor Current </paragraph>
<paragraph id="P-0068" lvl="3"><number>&lsqb;0068&rsqb;</number> Flame Current </paragraph>
<paragraph id="P-0069" lvl="3"><number>&lsqb;0069&rsqb;</number> Gas Inlet Pressure </paragraph>
<paragraph id="P-0070" lvl="3"><number>&lsqb;0070&rsqb;</number> Gas Valve Differential Pressure </paragraph>
<paragraph id="P-0071" lvl="3"><number>&lsqb;0071&rsqb;</number> Manifold Pressure </paragraph>
<paragraph id="P-0072" lvl="3"><number>&lsqb;0072&rsqb;</number> Air Filter Differential Pressure </paragraph>
<paragraph id="P-0073" lvl="2"><number>&lsqb;0073&rsqb;</number> System primitive activation capability from the hand held device <highlight><bold>40</bold></highlight> for troubleshooting </paragraph>
<paragraph id="P-0074" lvl="3"><number>&lsqb;0074&rsqb;</number> ACB Manual Fan On/Off </paragraph>
<paragraph id="P-0075" lvl="3"><number>&lsqb;0075&rsqb;</number> ACB Heat Speed On/Off </paragraph>
<paragraph id="P-0076" lvl="3"><number>&lsqb;0076&rsqb;</number> ACB Cool Speed On/Off </paragraph>
<paragraph id="P-0077" lvl="3"><number>&lsqb;0077&rsqb;</number> Inducer blower On/Off with pressure switch Open/Closed feedback </paragraph>
<paragraph id="P-0078" lvl="3"><number>&lsqb;0078&rsqb;</number> Igniter On/Off with amperage reading </paragraph>
<paragraph id="P-0079" lvl="2"><number>&lsqb;0079&rsqb;</number> Historical data will be available to the hand held device <highlight><bold>40</bold></highlight>. This will include data relating to all critical aspects of furnace control and maintenance over time. </paragraph>
<paragraph id="P-0080" lvl="3"><number>&lsqb;0080&rsqb;</number> Number of heat, cool, and manual fan cycles </paragraph>
<paragraph id="P-0081" lvl="3"><number>&lsqb;0081&rsqb;</number> Number of first, second, and third ignition attempts </paragraph>
<paragraph id="P-0082" lvl="3"><number>&lsqb;0082&rsqb;</number> Number of retries following flame loss </paragraph>
<paragraph id="P-0083" lvl="3"><number>&lsqb;0083&rsqb;</number> Lockouts and associated reasons for error </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> Appendix A attached hereto contains a listing of source code for the software system described above. In particular, the HEADER program contains configuration data for implementing the method of the invention on an Atmel microcontroller, MAIN contains the functional code for operating the system, PROTO contains function prototypes used by the compiler to define for the compiler which functions to compile, RF2001 contains application specific definitions such as which microcontroller pins are assigned to what functions in the system, and SERIAL contains the code necessary for the infrared and RS232 communication for the system. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> While a particular form of the invention has been illustrated and described, it will also be apparent to those skilled in the art that various modifications can be made without departing from the spirit and scope of the invention. Accordingly, it is not intended that the invention be limited except by the appended claims. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A furnace diagnostic system for facilitating the troubleshooting of malfunctions in the operation of a furnace, comprising: 
<claim-text>sensors disposed within said furnace for monitoring various parameters associated with the operation of said furnace; </claim-text>
<claim-text>electronic circuitry for transmitting by wireless means data generated by said sensors, for storing data generated by said sensors and for controlling the operation of said furnace pursuant to commands received by wireless means; </claim-text>
<claim-text>a handheld device for receiving by wireless means data from said electronic circuitry, for transmitting commands to said electronic circuitry by wireless means to control the operation of said furnace and for analyzing data received from said circuitry so as to provide guidance for identifying faulty components that may underlie a particular malfunction of said furnace. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said wireless means comprises an infra red link. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, further comprising a centralized computing facility capable of storing historical data relating to a population of furnaces wherein said handheld device is capable of communicating with such facility to enhance its ability to diagnose malfunctions of said furnace. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein said centralized computing facility is further capable of providing diagnostic assistance to said handheld device. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said parameters monitored by said sensors include ignitor operation and burner operation. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said handheld device is capable of performing diagnostics by controlling operations of said furnace. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> wherein said handheld device is capable of performing diagnostics based on historical data stored by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said handheld device is capable of performing diagnostics based on real time data generated by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said handheld device is capable of performing diagnostics based on data stored in a centralized computing facility with which said handheld device is able to communicate. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on historical data stored by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00011">claim 10</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on real time data generated by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference> <highlight><bold>1</bold></highlight>, wherein said handheld device is further capable of performing diagnostics based on data stored in a centralized computing facility with which said handheld device is able to communicate. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein said handheld is device is further capable of performing diagnostics based on real time data generated by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on data stored in a centralized computing facility with which said handheld device is able to communicate. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on data stored in a centralized computing facility with which said handheld device is able to communicate. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on real time data generated by said electronic circuitry. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. The diagnostic system of <dependent-claim-reference depends_on="CLM-00007">claim 7</dependent-claim-reference>, wherein said handheld device is further capable of performing diagnostics based on data stored in a centralized computing facility with which said handheld device is able to communicate. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A method to assist a service technician in diagnosing faults in a furnace while it is operating, said method comprising the steps of: 
<claim-text>providing a furnace mounted controller containing a microcontroller and electronic circuitry for monitoring furnace control commands, controlling furnace operations in response to these commands, monitoring and conditioning a plurality of furnace sensor signals, converting furnace data to IRDA format, transmitting such information through an infrared communication port for external use, and receiving external commands in IRDA format through said infrared port and converting to electrical signals; providing software resident on said microcontroller, said software designed as a state machine controlling all stages of furnace operations and performing diagnostics on furnace data; </claim-text>
<claim-text>using said microcontroller for acquiring furnace data from said electronic circuitry, storing said data, performing diagnostics on said data, providing furnace system control instructions to said electronic circuitry, and providing real time and historical data to said electronic circuitry for conversion to IRDA format and transmittal through an infrared communication port for external use; </claim-text>
<claim-text>receiving said information on a wireless hand held device containing a knowledge base and performing multiple levels of diagnostics, including controlling the said furnace controller from the hand held device, gathering historical data from the said furnace controller, gathering real time data from the said furnace controller, and analyzing data gathered from said furnace controller to determine which component or components are the cause of the malfunction and displaying this information to the service technician; and guiding the service technician through repair steps determined by the knowledge base resident in the hand held device and the data received from the furnace controller. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A method to assist a service technician in diagnosing faults in an ignition system of a residential furnace while it is operating, said furnace having an inducer fan with pressure switch, an ignition device, manifold gas pressure sensor, filter differential pressure sensor, circulation blower, gas valve, and thermostat, said method comprising the steps of: 
<claim-text>providing a furnace mounted controller containing a microcontroller and electronic circuitry for monitoring furnace control commands, controlling furnace operations in response to these commands, monitoring and conditioning a plurality of furnace sensor signals, converting furnace data to IRDA format, transmitting such information through an infrared communication port for external use, and receiving external commands in IRDA format through said infrared communication port and converting to electrical signals; </claim-text>
<claim-text>providing software resident on said microcontroller, said software designed as a state machine controlling all stages of furnace ignition and performing diagnostics on furnace data; </claim-text>
<claim-text>using said microcontroller for acquiring furnace data from said electronic circuitry, storing said data, performing diagnostics on said data, providing furnace system control instructions to said electronic circuitry, and providing real time and historical data to said electronic circuitry for conversion to IRDA format and transmittal through an infrared communication port for external use; </claim-text>
<claim-text>receiving said information on a wireless hand held device containing a knowledge base capable of performing multiple levels of diagnostics, including controlling said furnace controller from the hand held device, gathering historical data from the said furnace controller, gathering real time data from the said furnace controller, and analyzing the data gathered from the said furnace controller and determining which component or components are the cause of the malfunction and displaying this information to the service technician; </claim-text>
<claim-text>guiding the service technician through repair steps determined by the knowledge base resident in the hand held device and the data received from the furnace controller. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A method for determining flame current in the furnace as recited in <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference> wherein electronic circuitry contains a flame current measuring circuit which, in conjunction with logic contained in the micro controller, determines flame current by applying an AC signal and a micro controller controlled pulse to a circuit which also receives a negative current from a flame sensor, such pulse providing positive current proportional to duty cycle to the flame present indicator circuit tending to turn off a flame present indicator, such flame sensor providing negative current to the flame present indicator circuit tending to turn on the flame present indicator, such pulse duty cycle starting at a nominal value and, if flame is not detected, being halved repeatedly until flame is detected, then being increased gradually until flame presence is no longer detected, the pulse width just before the flame sense is no longer detected being directly proportional to the flame current.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030004682A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030004682A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030004682A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030004682A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030004682A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030004682A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030004682A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030004682A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030004682A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030004682A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030004682A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030004682A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030004682A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030004682A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030004682A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030004682A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030004682A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030004682A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030004682A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030004682A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030004682A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
