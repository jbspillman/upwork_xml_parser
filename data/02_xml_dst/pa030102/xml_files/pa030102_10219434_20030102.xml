<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030001036A1-20030102-D00000.TIF SYSTEM "US20030001036A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00001.TIF SYSTEM "US20030001036A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00002.TIF SYSTEM "US20030001036A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00003.TIF SYSTEM "US20030001036A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00004.TIF SYSTEM "US20030001036A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00005.TIF SYSTEM "US20030001036A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00006.TIF SYSTEM "US20030001036A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00007.TIF SYSTEM "US20030001036A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00008.TIF SYSTEM "US20030001036A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00009.TIF SYSTEM "US20030001036A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00010.TIF SYSTEM "US20030001036A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00011.TIF SYSTEM "US20030001036A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00012.TIF SYSTEM "US20030001036A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00013.TIF SYSTEM "US20030001036A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00014.TIF SYSTEM "US20030001036A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00015.TIF SYSTEM "US20030001036A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00016.TIF SYSTEM "US20030001036A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00017.TIF SYSTEM "US20030001036A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030001036A1-20030102-D00018.TIF SYSTEM "US20030001036A1-20030102-D00018.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030001036</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10219434</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020815</filing-date>
</domestic-filing-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>B65H059/38</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G11B027/36</ipc>
</classification-ipc-secondary>
<classification-ipc-secondary>
<ipc>G11B015/46</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>242</class>
<subclass>334500</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>360</class>
<subclass>073060</subclass>
</uspc>
</classification-us-secondary>
<classification-us-secondary>
<uspc>
<class>360</class>
<subclass>031000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Variable speed recording method and apparatus for a magnetic tape drive</title-of-invention>
</technical-information>
<continuity-data>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>10219434</doc-number>
<kind-code>A1</kind-code>
<document-date>20020815</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09946414</doc-number>
<document-date>20010904</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6459540</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>09946414</doc-number>
<document-date>20010904</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09176079</doc-number>
<document-date>19981020</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6307701</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Kelly</given-name>
<middle-name>J.</middle-name>
<family-name>Beavers</family-name>
</name>
<residence>
<residence-us>
<city>Boulder</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Michael</given-name>
<middle-name>A.</middle-name>
<family-name>Blatchley</family-name>
</name>
<residence>
<residence-us>
<city>Longmont</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>David</given-name>
<middle-name>L.</middle-name>
<family-name>Detro</family-name>
</name>
<residence>
<residence-us>
<city>Longmont</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Christopher</given-name>
<middle-name>J.</middle-name>
<family-name>Turner</family-name>
</name>
<residence>
<residence-us>
<city>Longmont</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Thomas</given-name>
<middle-name>E.</middle-name>
<family-name>Zaczek</family-name>
</name>
<residence>
<residence-us>
<city>Louisville</city>
<state>CO</state>
<country-code>US</country-code>
</residence-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>The Law Offices of Jessica Costa, PC</name-1>
<name-2></name-2>
<address>
<address-1>501 Collings Avenue</address-1>
<city>Collingswood</city>
<state>NJ</state>
<postalcode>08107-1607</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A method and apparatus for varying track recording speed to maximize host-to-tape data transfer rates is presented. Variable data transfer rates of host systems and networks are accommodated by continually adjusting the tape speed to match the tape drive to the host&apos;s actual transfer rate. jThe speed of the tape is adjusted according to both the level of data present in the tape drive data buffer and whether the current mode of the drive is write mode or read mode. In the preferred embodiment, when the tape speed is accelerated or decelerated while writing a number of data track pairs to tape, a predetermined number of dummy track pairs are first written to tape at the current speed. On the next write head phase after the speed is increased or decreased as appropriate while the read heads are over the track, a predetermined number of dummy track pairs followed by more data track pairs are written to the tape at the new speed. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<heading lvl="1">RELATED PATENTS </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention is related to co-pending U.S. patent application entitled &ldquo;Overscan Helical Scan Head for Non-Tracking Tap Subsystems Reading at up to 1&times; Speed and Method for Simulation of Same&rdquo;, invented by Blatchley et al., and having an internal docket number of 9086/106 and a Ser. No. of ______, filed concurrently herewith on Oct. 20, 1998, and co-pending U.S. patent application entitled &ldquo;Fine Granularity Rewrite Method and Apparatus for Data Storage Device&rdquo;, invented by Zaczek, and having an internal docket number of 9086/106 and a Ser. No. of ______, filed concurrently herewith on Oct. 20, 1998, and co-pending U.S. patent application entitled &ldquo;Multi-level Error Detection and Correction Technique for Data Storage Recording Device&rdquo;, invented by McAuliffe et al., and having an internal docket number of 9086/102 and a Ser. No. of ______, filed concurrently herewith on Oct. 20, 1998, all of which are commonly owned and all of which are hereby incorporated by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">FIELD OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention pertains generally to magnetic tape drives, and more particularly to a variable speed data recording/recovery mechanism and method thereof. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Tape storage technology is routinely used for routine system back up and long-term data archiving. Various tape technologies such as DAT, DLT, and 8 mm, have been developed over recent years to meet industry needs for higher performance and increased data storage capacity. While they differ widely in format, capacity, and performance, conventional tape storage devices rely on some form of track-following architecture. Whether the underlying recording technology is based on linear serpentine or helical scan recording, track-following architecture tape drives attempt to read a track completely in a single pass using a single head assembly and operating at a single fixed tape speed. The drive mechanism and media tolerances are tightly controlled to maintain a very precise alignment between the path traced by the heads and the written tracks on a tape. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Track-following architecture tape drives save some common inherent limitations. To either write or read data, track-following tape technologies depend upon a constant head-to-tape speed for linear recording or constant track pitch for helical scan recording. Accordingly, the tape drive must either receive stream data at a constant transfer rate, or, when this does not occur, initiate a stop/backhitch/start sequence. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> Due to normal speed variations found in network and workstation applications, the data transfer rate to or from the host rarely matches the tape drive&apos;s fixed read or write speed. Whenever a mismatch occurs, the read or write operation is suspended and the tape is repositioned backwards to allow enough space to accelerate again to the forward operating speed. The time required for this repositioning cycle, known as backhitching, increases data retrieval time. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> Furthermore, backhitching not only impairs performance, but also seriously impacts data reliability. In operation, backhitching induces extremely high transient forces that greatly increase tape wear and reduce the mechanical reliability of the drive. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> Another limitation imposed by the track-following architecture is the significant area of the tape required to record track-following servo data. This servo overhead consumes physical space on the tape and limits the amount of data that can be written onto an individual tape. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> Finally, the tight tolerances required for track-following technologies challenge the production margins of even the most sophisticated manufacturing facilities. Minute differences in assembly result in data availability and tape interchange issues. Nominal production variations, sometimes accentuated by differences in handling or environmental conditions, can make it impossible to exchange media between supposedly identical units from the same manufacturer. In other words, data written on one tape drive may not be read on another similar tape drive. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> In view of the inherent limitations of track-following tape control architectures and need in the tape drive industry to keep pace with the disk drive industry in terms of performance, capacity, and cost, a need exists for a new methodology for delivering the required performance and capacity while reducing costs to the end-user. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The present invention is a novel method and apparatus for varying track recording speed to maximize host-to-tape data transfer rates. Variable data transfer rates of host systems and networks are accommodated by continually adjusting the tape speed to match the tape drive to the host&apos;s actual transfer rate. This speed-matching capability eliminates backhitching along with its associated delays and reliability impacts. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In accordance with the invention, the speed of the tape is adjusted according to both the level of data present in the tape drive data buffer and whether the current mode of the drive is write mode or read mode. In the preferred embodiment, when the tape speed is accelerated or decelerated while writing a number of data track pairs to tape, a predetermined number of dummy track pairs are first written to tape at the current speed. On the next write head phase after the speed is increased or decreased as appropriate while the read heads are over the track, a predetermined number of dummy track pairs followed by more data track pairs are written to the tape at the new speed. Any resulting previously recorded track residue zones or overlap zones do not affect the reliability of any data written onto the tape since they occur between dummy track pairs, a detectable condition in read mode. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The present invention eliminates larger data errors that occur with traditional designs due to limitations of track following servo system and track curvature. These errors historically flow from tension variations, mechanical misalignment, interchange tolerances, and tape edge wear and damage. The tape speed control is based upon the maximum data transfer rate to the host computer or the fastest rate the device can receive data on reading. For writing operations, the speed control is based upon either the fastest rate the system will support or the speed data is received from a host computer. The speed of a remote host is matched for data transfer although data reading from the tape is possible even with the tape stopped.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWING </heading>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The invention will be better understood from a reading of the following detailed description taken in conjunction with the drawing in which like reference designators are used to designate like elements, and in which: </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram of a tape drive in accordance with the invention; </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a more detailed block diagram of a tape drive implemented in accordance with one embodiment of the present invention; </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a top angular view of a tape path in one embodiment of the tape transport mechanism; </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a side view of the tape transport mechanism of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a top view of the tape transport mechanism of <cross-reference target="DRAWINGS">FIG. 3</cross-reference>; </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a side view of a portion of a magnetic tape illustrating a track pair; </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>a</italic></highlight>) is a graphical view of tape speed plotted against tape position and further correlated with the content of a data buffer for an example write operation; </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>b</italic></highlight>) is a graphical view of tape speed plotted against tape position and further correlated with the content of a data buffer for an example write operation; </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a block diagram of a variable speed architecture tape transport control system in accordance with the invention; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a flowchart of a method for preventing the writing of thin tracks; </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a timing diagram illustrating a method for the synchronization of the write head position relative to tracks on the tape with a change in tape speed; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart of one embodiment of a method for recording at variable tape speeds; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference>(<highlight><italic>a</italic></highlight>) is a side view of a portion of tape that illustrates recorded track angle changes resulting from an acceleration in tape speed; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference>(<highlight><italic>b</italic></highlight>) is a side view of a portion of tape that illustrates recorded track angle changes resulting from deceleration in tape speed; </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference>(<highlight><italic>a</italic></highlight>) is a side view of a portion of tape that illustrates a residue zone resulting from variations in the acceleration control after an acceleration in tape speed from a completely stopped position; </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference>(<highlight><italic>b</italic></highlight>) is a side view of a portion of tape that illustrates an overlap zone resulting from variations in the acceleration control after an acceleration in tape speed from a completely stopped position; </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a timing diagram illustrating the detection of speed errors encountered while the drive is in write mode; </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a timing diagram illustrating the detection of track pitch errors encountered while the drive is in write mode; </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart of one embodiment of a method for detecting conditions for rewriting a track; </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a flowchart illustrating one embodiment of a method for adjusting the tape speed during read mode; </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>a</italic></highlight>) is a side view of a portion of tape that illustrates how data is read from a tape having track angle changes resulting from a acceleration in tape speed; </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>b</italic></highlight>) is a side view of a portion of tape that illustrates how data is read from a tape having track angle changes resulting from a deceleration in tape speed; </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a flowchart of the operation of a reel tension controller in accordance with the invention; and </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a flowchart of the calibration method used by reel tension controller.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DETAILED DESCRIPTION </heading>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> A variable speed recording mechanism and method for a tape drive for supporting variable data transfer rates from a host system is described in detail hereinafter. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram illustrating the functionality of a tape drive in accordance with the invention. Tape controller <highlight><bold>10</bold></highlight> manages a plurality of functionally separated blocks, including a host computer interface <highlight><bold>12</bold></highlight>, a tape drive interface <highlight><bold>14</bold></highlight> which electromechanically cooperates with motors <highlight><bold>15</bold></highlight> for performing various drive functions, and read/write circuitry <highlight><bold>16</bold></highlight> which response to commands from the controller <highlight><bold>10</bold></highlight> to perform reading and writing functions relative to the tape through head assemblies <highlight><bold>18</bold></highlight>. Interaction with the user is through display <highlight><bold>20</bold></highlight> and manual input <highlight><bold>21</bold></highlight>. Typically, tape controller <highlight><bold>10</bold></highlight> is an application specific integrated circuit (ASIC) that includes a microprocessor <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a more detailed block diagram of a tape drive implemented in accordance with one embodiment of the present invention. In this embodiment, host computer interface <highlight><bold>12</bold></highlight> is implemented in the form of a Small Computer System Interface (SCSI), which includes a SCSI interface integrated circuit <highlight><bold>25</bold></highlight> to provide an interface between host interface microcontroller <highlight><bold>30</bold></highlight> and SCSI bus connector <highlight><bold>26</bold></highlight>. Microcontroller <highlight><bold>30</bold></highlight> provides a control mechanism to support data and command transfers on the SCSI bus <highlight><bold>11</bold></highlight> according to the standard SCSI interface protocol. Microcontroller <highlight><bold>30</bold></highlight> performs high-level tape control functions via tape controller <highlight><bold>10</bold></highlight>. Host interface microcontroller <highlight><bold>30</bold></highlight> communicates with tape controller <highlight><bold>10</bold></highlight> over bus <highlight><bold>33</bold></highlight>. Program memory <highlight><bold>35</bold></highlight> stores a control program for host interface microcontroller <highlight><bold>30</bold></highlight>, which is either an electrically erasable and reprogrammable programmable memory (Flash EPROM) or a static random access memory (SRAM). </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Head assembly <highlight><bold>18</bold></highlight> includes the recording and check-after-write (CAW) heads <highlight><bold>40</bold></highlight>. These are four ferrite heads mounted on a rotor assembly <highlight><bold>40</bold></highlight>. The recording heads convert the input electrical signals into a magnetic near-field equivalent that is impressed onto the magnetic tape. All four heads are useable to read data from the tape. In read mode, the impressed magnetic field from the tape is converted by the head and output as an equivalent electrical signal. The CAW heads are located behind the recording heads and are always used to read data from the tape, but during write mode are used exclusively to verify that the written data is reliably readable. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Motors <highlight><bold>15</bold></highlight> include drum motor <highlight><bold>44</bold></highlight>, capstan motor <highlight><bold>45</bold></highlight>, reel motor <highlight><bold>46</bold></highlight>, and load/mode motor <highlight><bold>48</bold></highlight>. Drum motor <highlight><bold>44</bold></highlight> drives the rotating heads assembly <highlight><bold>40</bold></highlight> that scans the tape surface in a helical pattern. Capstan motor <highlight><bold>45</bold></highlight> drives the capstan, which is responsible for regulating tape speed. The capstan motor <highlight><bold>45</bold></highlight> is bidirectional and can drive the tape in the forward or reverse direction. Reel motor <highlight><bold>46</bold></highlight> drives the supply and take-up reels of the tape cartridge and can likewise drive the tape in either direction. The load/mode motor <highlight><bold>48</bold></highlight> provides power to a mechanical mechanism that loads and unloads the tape cartridge from the tape mechanism. It is also used to select the mode of operation, i.e.: forward, reverse, fast forward and rewind. Tape controller <highlight><bold>10</bold></highlight> controls each of drum motor <highlight><bold>44</bold></highlight>, capstan motor <highlight><bold>45</bold></highlight>, and reel motor <highlight><bold>46</bold></highlight> via respective 3-phase driver circuits <highlight><bold>71</bold></highlight>, <highlight><bold>72</bold></highlight>, and <highlight><bold>73</bold></highlight>. Load/mode motor <highlight><bold>48</bold></highlight> is controlled by tape controller via motor driver circuit <highlight><bold>74</bold></highlight>. Motor drivers <highlight><bold>71</bold></highlight>, <highlight><bold>72</bold></highlight>, <highlight><bold>73</bold></highlight>, <highlight><bold>74</bold></highlight> are conventional voltage/current translation interfaces that are external to digital ASIC <highlight><bold>62</bold></highlight>. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> Tape drive interface <highlight><bold>14</bold></highlight> includes sensors for determining the position and status of a tape cartridge in the cartridge mechanism. Load/mode motor position sensor <highlight><bold>50</bold></highlight> provides feedback on the position of the mode control mechanism. This is used by tape controller <highlight><bold>10</bold></highlight> to control the operation of the mode motor <highlight><bold>48</bold></highlight>. Reel tachometers <highlight><bold>51</bold></highlight> provide speed feedback information for each reel. This is used by tape controller <highlight><bold>10</bold></highlight> to control reel speed. Reel voltage measurements are monitored and used to control the tape tension between the capstan and takeup reel during forward movement of the tape and between the capstan and supply reel during backward movement of the tape. Capstan tachometer <highlight><bold>52</bold></highlight> can typically be a single-phase tachometer that provides speed information about the capstan. It is used by tape controller <highlight><bold>10</bold></highlight> to verify proper direction and speed control of the capstan motor <highlight><bold>45</bold></highlight>. End-of-tape (EOT) and beginning-of-tape (BOT) indicators are sensed by optical sensors <highlight><bold>54</bold></highlight> when the transparent tape leader passes in front of those sensors. This information is used by tape controller <highlight><bold>10</bold></highlight> to stop the reel motor(s) <highlight><bold>46</bold></highlight> and capstan motor <highlight><bold>45</bold></highlight>. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Cartridge switches <highlight><bold>55</bold></highlight> interact with specific locations of the tape cartridge to provide tape controller <highlight><bold>10</bold></highlight> with information about the tape cartridge such as whether a tape cartridge is inserted in the drive, the type of tape (data vs. cleaning), the length of the tape, and its write protection status. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Read/write circuitry <highlight><bold>16</bold></highlight> manages the conversion of digital data from tape controller <highlight><bold>10</bold></highlight> into analog signals that are appropriate for the recording heads <highlight><bold>40</bold></highlight> and vice versa. It includes write driver <highlight><bold>56</bold></highlight> which convert the digital data stream from tape controller <highlight><bold>10</bold></highlight> into a large enough current to drive the recording heads <highlight><bold>40</bold></highlight>. Equalization circuit <highlight><bold>59</bold></highlight> is a series of filters designed to reduce noise and condition the signal out from the read heads <highlight><bold>40</bold></highlight>. An analog application specific integrated circuit (ASIC) <highlight><bold>60</bold></highlight> is responsible for creating a clock and data stream from the serial data stream received from the read heads <highlight><bold>40</bold></highlight> after being passed through equalization circuit <highlight><bold>59</bold></highlight>. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> Tape controller <highlight><bold>10</bold></highlight> interfaces with a host system via SCSI controller <highlight><bold>25</bold></highlight>, and with the tape drive via the tape drive interface <highlight><bold>14</bold></highlight> and motors <highlight><bold>15</bold></highlight>. Controller <highlight><bold>10</bold></highlight> employs a digital ASIC <highlight><bold>62</bold></highlight> for a variety of functions including among others speed and direction control of all motors, data formatting and unformatting, and generation and use of error correction. A static random access memory (SRAM) <highlight><bold>64</bold></highlight> provides a large memory that is used as a data buffer to temporarily store data before being transferred from the host onto tape, or before being transferred from tape to the host. Another memory <highlight><bold>65</bold></highlight> is a relatively small SRAM memory used to store table and error correction redundant terms. It is also used to temporarily buffer small amounts of data from the data stream between the tape controller <highlight><bold>10</bold></highlight> and the read/write circuitry <highlight><bold>16</bold></highlight>. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> A small, non-volatile random access memory (NVRAM) <highlight><bold>66</bold></highlight> stores personality information about the drive such as serial number and drive calibration parameters. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> The tape drive in the illustrative embodiment utilizes an 8 mm tape cartridge that has tracks recorded thereon in a helical scan pattern. It is, for example, intended to store 33 gigabytes of data with recovery speeds of up to 3 megabytes per second and a 5.25 inch form factor. It relies upon a variable speed architecture wherein servo controls are applied to tape speed and position during read operations. The variable speed architecture permits excellent performance under all conditions and reduces wear of heads, mechanisms, and media by eliminating reposition cycles characteristic of streaming tape drives. It is also relatively simple and low cost to design. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is a top angular view and <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a side view of the tape path resulting from one arrangement of motors including a pair of single reel drive motors <highlight><bold>81</bold></highlight> and <highlight><bold>82</bold></highlight>, capstan motor <highlight><bold>83</bold></highlight>, drum motor <highlight><bold>84</bold></highlight>, and drum <highlight><bold>85</bold></highlight>. Drum <highlight><bold>85</bold></highlight> cooperates with capstan <highlight><bold>91</bold></highlight> and idler rollers <highlight><bold>92</bold></highlight> and <highlight><bold>93</bold></highlight> to retain the tape <highlight><bold>80</bold></highlight> in an arc of <highlight><bold>196</bold></highlight> degrees relative to the circumferential periphery of drum <highlight><bold>85</bold></highlight>. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> Capstan <highlight><bold>91</bold></highlight> is operated by capstan motor <highlight><bold>83</bold></highlight> so as to modify the position of tape <highlight><bold>80</bold></highlight> relative to the path of head <highlight><bold>96</bold></highlight>, <highlight><bold>97</bold></highlight>, <highlight><bold>98</bold></highlight>, <highlight><bold>99</bold></highlight> rotating on drum <highlight><bold>85</bold></highlight> to maximize the rate at which packets are read from tape <highlight><bold>80</bold></highlight>. In other words, the relationship between tape position (or track position) and the path of the read/write heads is adjustable to alter the rate at which data is read from the tape. In the illustrative embodiment, data is read over a continuously variable transfer rate of up to a maximum of over 100% of the rate at which data is nominally recorded. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Data is written at integer fractions of the nominal recording data rate with a &ldquo;pause&rdquo; mode available for use during both read and write operations, discussed hereinafter with respect to FIGS. <highlight><bold>7</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>7</bold></highlight>(<highlight><italic>b</italic></highlight>). Pause mode is useful when data over-run or data under-run conditions occur. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> Data is written in tracks in an alternate azimuth, helical pattern by heads <highlight><bold>96</bold></highlight>-<highlight><bold>99</bold></highlight> on drum rotor <highlight><bold>85</bold></highlight> with an alternate azimuth technique. That is, a pair of alternate azimuth data tracks are recorded simultaneously at an angle across the tape by a pair alternate azimuth adjacent write heads. A tape speed servo controller (not shown) maintains the period of drum rotor <highlight><bold>85</bold></highlight> and speed of tape <highlight><bold>80</bold></highlight>. Data is checked half a drum rotation after writing by a pair of alternate azimuth CAW heads located 180 degrees relative to the pair of write heads, and offending tracks re-written &ldquo;on the fly&rdquo; as required. Accordingly, for each rotation of drum rotor <highlight><bold>85</bold></highlight>, two tracks are written and a write check of those two tracks is performed. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Data is read with all four heads <highlight><bold>96</bold></highlight>-<highlight><bold>99</bold></highlight> using the alternate azimuth reading technique. The tape speed servo controller, discussed in detail hereinafter, maintains the period of drum rotor <highlight><bold>85</bold></highlight> and speed of tape <highlight><bold>80</bold></highlight>. The tape <highlight><bold>80</bold></highlight> advances a maximum of one track per rotation and error correction is effected after scanning the track with both like-azimuth heads. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a top view of the tape drive configuration of <cross-reference target="DRAWINGS">FIGS. 3 and 4</cross-reference>, illustrating the path followed by tape <highlight><bold>80</bold></highlight>. Tape <highlight><bold>80</bold></highlight> circulates between supply reel <highlight><bold>88</bold></highlight> and take-up reel <highlight><bold>89</bold></highlight> after passing over a series of idler rollers <highlight><bold>94</bold></highlight><highlight><italic>a</italic></highlight>, <highlight><bold>94</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>94</bold></highlight><highlight><italic>c, </italic></highlight><highlight><bold>94</bold></highlight><highlight><italic>d, </italic></highlight><highlight><bold>94</bold></highlight><highlight><italic>e, </italic></highlight>and <highlight><bold>94</bold></highlight><highlight><italic>f, </italic></highlight>a biased tension arm and roller <highlight><bold>95</bold></highlight>, and between capstan <highlight><bold>91</bold></highlight> and pinch roller <highlight><bold>92</bold></highlight>. Drum <highlight><bold>85</bold></highlight> rotates so as to magnetically exchange data between heads <highlight><bold>96</bold></highlight>-<highlight><bold>99</bold></highlight> (see <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) mounted thereon and tape <highlight><bold>80</bold></highlight> as it passes over the periphery of the drum <highlight><bold>85</bold></highlight>. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a side view of a portion of a magnetic tape <highlight><bold>136</bold></highlight> illustrating the angle and position of a pair of typical data tracks <highlight><bold>131</bold></highlight> and <highlight><bold>132</bold></highlight> written on it. While only two tracks <highlight><bold>131</bold></highlight> and <highlight><bold>132</bold></highlight> are shown, it is understood that many more tracks can precede and/or follow these two examples. Each data track <highlight><bold>131</bold></highlight>, <highlight><bold>132</bold></highlight> is similar and includes a track packet <highlight><bold>133</bold></highlight>, a series of data packets <highlight><bold>134</bold></highlight>, and an error correction packet <highlight><bold>135</bold></highlight>. In the illustrative embodiment, data packets <highlight><bold>134</bold></highlight> include approximately four hundred packets of data comprising up to sixty-four user bytes of data. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> The variable speed architecture of the invention is well suited for high density TPI (tracks per inch) recording. Importantly, no tracking servo is required. This improves the data capacity of the tape cartridge since the portion of the tape traditionally occupied by servo information is made available for data instead. The elimination of the tracking servo also decreases the number components and assemblies of the system, thereby reducing overall cost and lowering power demand. Advantages realized further include operation over a wide range of mechanical component and alignment tolerances. Improved data reliability is obtained under varying conditions of data interchange, temperature, humidity, shock, and vibration. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> A WRITE operation for a variable speed architecture tape drive implemented in accordance with the invention is illustrated in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>a</italic></highlight>). The tape speed is plotted against tape position and further correlated with the content of a data buffer <highlight><bold>100</bold></highlight>, such as <highlight><bold>64</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, whose various conditions are presented along the upper portion of the plot. When buffer <highlight><bold>100</bold></highlight> is loaded with data up to the &ldquo;F&rdquo; location, this indicates that buffer <highlight><bold>100</bold></highlight> is full, whereas when the data level is all the way down to the &ldquo;E&rdquo; location, this indicates that buffer <highlight><bold>100</bold></highlight> is empty. The proportional buffer contents between those two boundary states are shown by the shaded portion of each buffer. Thus, while the system might employ an array of storage locations to perform the buffer <highlight><bold>100</bold></highlight> function, the various locations shown in FIGS. <highlight><bold>7</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>7</bold></highlight>(<highlight><italic>b</italic></highlight>) reflect the contents of the buffer <highlight><bold>100</bold></highlight> at particular points in time. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> In the example WRITE operation of <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>a</italic></highlight>), it is assumed that the drive is initially moving at full speed and that the data buffer <highlight><bold>100</bold></highlight> is fully loaded at <highlight><bold>101</bold></highlight>. As buffer <highlight><bold>100</bold></highlight> approaches empty, the speed of the drive is reduced, and vice versa, up to the point shown at <highlight><bold>106</bold></highlight> where the buffer is empty. At that time, a Pause Mode is entered wherein the tape speed is reduced to zero as at time point <highlight><bold>110</bold></highlight>. However, receipt of any data into buffer <highlight><bold>100</bold></highlight> causes the driver to resume motion and ultimately regain full speed as at the end of the <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>a</italic></highlight>) plot. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> As buffer <highlight><bold>100</bold></highlight> attains full status, the tape speed is shifted upwards until full speed is reached. Data draining of buffer <highlight><bold>100</bold></highlight> results in a slowing of the tape speed whereas detection of a filling buffer <highlight><bold>100</bold></highlight> results in a shift to a faster tape speed. If buffer <highlight><bold>100</bold></highlight> is empty, the tape is stopped as at <highlight><bold>110</bold></highlight> and the Pause Mode is entered. The next WRITE operation received from the host system is started from the paused tape position, but no repositioning of the tape occurs. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> A READ operation for a variable speed architecture tape drive implemented in accordance with the invention is illustrated in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>b</italic></highlight>). In this example, buffer <highlight><bold>100</bold></highlight> is shown filling at <highlight><bold>111</bold></highlight>, <highlight><bold>112</bold></highlight> and <highlight><bold>113</bold></highlight>, with the tape speed approaching a maximum of full speed. From an empty state, maximum acceleration is employed. The tape velocity is reduced as data buffer <highlight><bold>100</bold></highlight> fills. That is, as data buffer <highlight><bold>100</bold></highlight> approaches a full state, the tape speed is reduced to prevent data losses. When buffer <highlight><bold>100</bold></highlight> is completely filled as at <highlight><bold>118</bold></highlight>, the tape is stopped and the Pause Mode is entered as shown at <highlight><bold>120</bold></highlight>. The next read operation is commenced from position <highlight><bold>120</bold></highlight> without the need for any tape repositioning. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a block diagram of a variable speed architecture tape transport system <highlight><bold>300</bold></highlight> in accordance with the invention. In system <highlight><bold>300</bold></highlight> unformatted data <highlight><bold>334</bold></highlight> is entered into data buffer <highlight><bold>302</bold></highlight> during write mode and is formatted by data formatter <highlight><bold>304</bold></highlight>. The formatted data <highlight><bold>332</bold></highlight> is recorded onto a magnetic tape by write channel circuitry <highlight><bold>306</bold></highlight>. The head widths <highlight><bold>317</bold></highlight> and head placement <highlight><bold>318</bold></highlight> are selected to optimize the check after write and overscan performance. Adjustable head timing <highlight><bold>316</bold></highlight> allows the drive to automatically coordinate the time the read heads are activated with the physical position of the data written on the tape. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> Radius calculator <highlight><bold>330</bold></highlight> continuously calculates the supply and takeup reel radii as tape moves between the supply real and the takeup reel. This calculation is based upon the capstan and reel tachs <highlight><bold>331</bold></highlight>. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> Data is removed from buffer <highlight><bold>302</bold></highlight> as it is written onto tape, and a data buffer level <highlight><bold>303</bold></highlight> is adjusted to reflect the current amount of data in the buffer relative to the maximum buffer capacity. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> During read mode, read channel circuitry <highlight><bold>306</bold></highlight> recovers formatted data <highlight><bold>332</bold></highlight> from tape, which is deformatted by deformatter <highlight><bold>304</bold></highlight> and entered into data buffer <highlight><bold>302</bold></highlight>. Unformatted data <highlight><bold>234</bold></highlight> is added to buffer <highlight><bold>302</bold></highlight> as it is read from tape and is removed from buffer <highlight><bold>302</bold></highlight> as it retrieved for transmission to a host system. Again, the data buffer level <highlight><bold>303</bold></highlight> is adjusted to reflect the current amount of data in the buffer relative to the maximum buffer capacity. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Controller <highlight><bold>310</bold></highlight> monitors the buffer level <highlight><bold>303</bold></highlight> to determine the appropriate transport speed (or position) of the tape. The appropriate speed (or position) of the tape may be different between read mode and write mode for a given buffer level <highlight><bold>303</bold></highlight>, as described in conjunction with FIGS. <highlight><bold>7</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>7</bold></highlight>(<highlight><italic>b</italic></highlight>). In either mode, however, controller <highlight><bold>310</bold></highlight> determines whether an adjustment of the current write speed is required based on the current buffer level <highlight><bold>303</bold></highlight>. If the tape speed requires adjusting, controller <highlight><bold>310</bold></highlight> determines a new tape speed <highlight><bold>311</bold></highlight> based on the current buffer level <highlight><bold>303</bold></highlight>. A head timing controller <highlight><bold>314</bold></highlight> synchronizes the change in tape speed with the detection of a beginning of a track on the tape. The details of the head timing controller <highlight><bold>314</bold></highlight> are described hereinafter. Tape speed controller <highlight><bold>312</bold></highlight> changes the speed (or position) of the tape in accordance with the new write speed <highlight><bold>311</bold></highlight> and a speed change enable signal <highlight><bold>315</bold></highlight> generated by head timing controller <highlight><bold>314</bold></highlight>. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Reel tension controller <highlight><bold>326</bold></highlight> controls the tape tension between the capstan and takeup reel during forward tape movement, and between the capstan and supply reel during backwards tape movement. During manufacturing, the values of reel amplifier voltage <highlight><bold>328</bold></highlight> for the correct tensions are stored in non-volatile RAM <highlight><bold>66</bold></highlight>. When running, the reel tension controller <highlight><bold>326</bold></highlight> outputs a pulse width modulation (PWM) signal to the reel amplifier <highlight><bold>72</bold></highlight>. The PWM signal changes based upon the radii <highlight><bold>329</bold></highlight> and the measured amplifier voltage <highlight><bold>328</bold></highlight>. An illustrative embodiment of the method implemented by reel tension controller <highlight><bold>326</bold></highlight> is illustrated in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>, and <cross-reference target="DRAWINGS">FIG. 20</cross-reference> is a flowchart of the calibration method used by reel tension controller. This system maintains the correct tension as the radii vary and as the drive temperature or power supply voltages fluctuate. To accomplish this, other tape devices have used active tension sensors and dual reel motors or slip clutches in the supply and takeup hubs. The active tension sensors and dual reel motors added significant cost and complexity to the tape drive. The slip clutches provided inconsistent tension from unit to unit and over the life of the tape drive. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The position on tape, as indicated by tapecount <highlight><bold>321</bold></highlight> is calculated by physical position identifier <highlight><bold>322</bold></highlight> using the reel tachs <highlight><bold>324</bold></highlight>. The tapecount <highlight><bold>321</bold></highlight> is defined as the sum of the supply reel and takeup reel tachs. As tape moves from the supply reel to the takeup reel, the count value increases. As tape moves from the takeup reel onto the supply reel, the count value decreases. Tapecount <highlight><bold>321</bold></highlight> is set to zero at the beginning of tape. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Highspeed tape repositioning is accomplished with tape position controller <highlight><bold>320</bold></highlight>. The reel motor is used to reposition the tape to a target position <highlight><bold>325</bold></highlight> provided by the read/write controller <highlight><bold>310</bold></highlight>. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> A thin track could be written if the tape moves too slowly (i.e., reducing the track spacing). The condition of moving too slowly is detected as a speed error and/or position error. This detected error causes the track to be rewritten. Since rewriting a track reduces the amount of data that can be written on a tape, the number of rewrites are attempted to be minimizes. <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a flowchart of a method to prevent writing thin tracks. The track spacing error is calculated every predetermined interval (e.g., 1 msec) in step <highlight><bold>500</bold></highlight>. A reference position is calculated based upon the desired tape speed in step <highlight><bold>501</bold></highlight>. In step <highlight><bold>502</bold></highlight> the current tape spacing is inferred from the measured capstan tach <highlight><bold>502</bold></highlight>. These two terms are used to form the track spacing error <highlight><bold>503</bold></highlight>. If the track spacing is too large, as determined in step <highlight><bold>504</bold></highlight>, it means that the tape has moved too quickly. If the spacing is too small, the tape has moved too slowly. The natural response is to slow down when the tape is moving too quickly. To avoid this, when the position is further than the target <highlight><bold>505</bold></highlight>, the reference position is set in step <highlight><bold>505</bold></highlight> to the measured position. The new position error is then set to zero in step <highlight><bold>506</bold></highlight>. The position error is used in step <highlight><bold>507</bold></highlight> by the read/write controller <highlight><bold>310</bold></highlight> as one parameter for determining the new read/write speed <highlight><bold>311</bold></highlight>. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a timing diagram illustrating the synchronization of the write head position relative to tracks on the tape with a change in tape speed, as performed by head timing controller <highlight><bold>314</bold></highlight>. In this embodiment, head timing controller <highlight><bold>314</bold></highlight> receives a head type signal WRITE_HEAD that is logically high when the two recording, or &ldquo;write&rdquo;, heads are positioned over the tape and logically low when the two CAW heads are positioned over the tape. Head timing controller <highlight><bold>314</bold></highlight> generates a SYNC pulse a predetermined time)(t<highlight><bold>1</bold></highlight>) after the rising edge of WRITE_HEAD. This triggers the output of speed change enable signal <highlight><bold>315</bold></highlight> SPEED_CHANGE_EN pulse a predetermined time)(t<highlight><bold>2</bold></highlight>) later, during the phase in which the read heads are positioned over the tape. Tape speed controller <highlight><bold>312</bold></highlight> adjusts the speed (or position) of the tape to the new speed <highlight><bold>311</bold></highlight> in synchronization with the SPEED_CHANGE_EN <highlight><bold>315</bold></highlight> pulse. The allowable difference in adjusted speed is limited to that which results in the final desired speed being achieved within the phase)(t<highlight><bold>3</bold></highlight>) in which the read head is over the tape. This ensures that the tape is moving at a constant speed during the time the track is being recorded (i.e., while the write heads are over the track) such that unintentional track curvature does not result. <cross-reference target="DRAWINGS">FIG. 10</cross-reference> illustrates an example of the actual tape velocity for a deceleration example, labeled TAPE_VELOCITY_<highlight><bold>1</bold></highlight>, and an acceleration example, labeled TAPE_VELOCITY_<highlight><bold>2</bold></highlight>. In both the deceleration and acceleration examples, the actual initial speed and actual final speed may represent different values anywhere between the maximum and minimum speeds in order to accommodate various speed change trajectories. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a flowchart of the method employed by the variable speed architecture of the tape drive while it is in write mode. According to the method, variable speed recording is begun in step <highlight><bold>400</bold></highlight> when the drive enters write mode. An initial tape speed is selected in step <highlight><bold>402</bold></highlight> based on the amount of data present in the data buffer <highlight><bold>302</bold></highlight>. The data formatter <highlight><bold>304</bold></highlight> is configured in step <highlight><bold>404</bold></highlight> to write a predetermined number of dummy tracks before changing speed. The head timing controller <highlight><bold>314</bold></highlight> is configured for a speed change in step <highlight><bold>406</bold></highlight>. The dummy tracks are poised to be written to tape via the write channel circuitry <highlight><bold>306</bold></highlight> in step <highlight><bold>408</bold></highlight>. Meanwhile, head timing controller <highlight><bold>314</bold></highlight> monitors the position of the heads in step <highlight><bold>410</bold></highlight>, generating speed change enable signal SPEED_CHANGE_EN in synchronization with the beginning of the phase in which the read heads are positioned over the tape. Tape speed controller <highlight><bold>312</bold></highlight> changes the speed of the tape to the new speed in step <highlight><bold>412</bold></highlight>. Meanwhile, data formatter <highlight><bold>304</bold></highlight> is configured to write a programmable number of data tracks in step <highlight><bold>414</bold></highlight>, which are written to tape the next time the write heads are positioned over the track in step <highlight><bold>416</bold></highlight>, followed by writing actual data tracks in step <highlight><bold>418</bold></highlight> containing data (formatted into data tracks) from the buffer <highlight><bold>302</bold></highlight>. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> FIGS. <highlight><bold>12</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>12</bold></highlight>(<highlight><italic>b</italic></highlight>) illustrate recorded track angle changes resulting from a respective deceleration and acceleration in tape speed. When the tape speed is decelerated while writing a number of data track pairs <highlight><bold>481</bold></highlight> to tape <highlight><bold>480</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>(<highlight><italic>a</italic></highlight>), a predetermined number of dummy track pairs <highlight><bold>482</bold></highlight> is first written to tape at the current speed. The speed is decreased while the read heads are over the track. On the next write head phase, a predetermined number of dummy track pairs <highlight><bold>483</bold></highlight> followed by more data track pairs <highlight><bold>484</bold></highlight> are written to the tape at the new slower speed. As shown, this results in a &ldquo;residue&rdquo; zone <highlight><bold>485</bold></highlight> on tape <highlight><bold>480</bold></highlight> wherein data is indeterminate. The residue zone <highlight><bold>485</bold></highlight> does not affect the reliability of any data written onto the tape, however, since no data tracks overlap. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> When the tape speed is accelerated while writing a number of data track pairs <highlight><bold>486</bold></highlight> to tape <highlight><bold>480</bold></highlight>, as shown in <cross-reference target="DRAWINGS">FIG. 12</cross-reference>(<highlight><italic>b</italic></highlight>), a predetermined number of dummy track pairs <highlight><bold>487</bold></highlight> are first written to tape at the current speed. The speed is increased while the read heads are over the track. On the next write head phase, a predetermined number of dummy track pairs <highlight><bold>488</bold></highlight> followed by more data track pairs <highlight><bold>489</bold></highlight> are written to the tape at the new faster speed. As shown, this results in an overlap zone <highlight><bold>490</bold></highlight> between dummy track pair <highlight><bold>487</bold></highlight> and dummy track pairs <highlight><bold>488</bold></highlight>. The overlap zone <highlight><bold>490</bold></highlight> does not affect the reliability of any data written onto the tape, however, since it occurs only between dummy track pairs <highlight><bold>488</bold></highlight> and <highlight><bold>489</bold></highlight>. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> If the tape speed is accelerated from a completely stopped position, for example after resuming from a paused mode as at <highlight><bold>110</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>(<highlight><italic>a</italic></highlight>), variations in the acceleration control may result in either residue zones <highlight><bold>492</bold></highlight> or overlap zones <highlight><bold>494</bold></highlight> as illustrated respectively in FIGS. <highlight><bold>13</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>13</bold></highlight>(<highlight><italic>b</italic></highlight>). However, dummy track pairs are again written both before acceleration and after acceleration just as during a normal acceleration operation, so these regions do not affect the reliability of the data written to tape from the paused mode. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a timing diagram illustrating the detection of speed errors encountered during the read-back-check of the data by the tape speed controller <highlight><bold>312</bold></highlight> while the drive is in write mode. In this example, the capstan signal WRITE_HEAD indicates the position of the write head over the tape. A maximum speed threshold and minimum speed threshold are programmable and set to values which, if respectively exceeded or not met, could possibly lead to a residue zone or overlap region regardless of the type of track being written. This is undesirable if the tracks being written are actual data tracks. Accordingly, in the illustrative embodiment, if the tape speed TAPE_VELOCITY does not remain between the thresholds MAX_SPEED and MIN_SPEED, a respective threshold violation signal OVER_MAX_SPEED or UNDER_MIN_SPEED is asserted, which results in the assertion of check-after-write fail signal FAILED_CAW <highlight><bold>313</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> Check-after-write fail signal FAILED_CAW <highlight><bold>313</bold></highlight> may also be raised due to unacceptable tape position control. <cross-reference target="DRAWINGS">FIG. 15</cross-reference> illustrates the response of tape speed controller <highlight><bold>312</bold></highlight> to a violation of a position control failure. In this example, a measure of the track spacing is taken and compared to a programmable maximum spacing threshold MAX_PITCH and minimum spacing threshold MIN_PITCH. If the measured track pitch is below the minimum spacing threshold MIN_PITCH, error signal UNDER_MIN_PITCH is signaled; if the measured track pitch is beyond the maximum spacing threshold MAX_PITCH, error signal OVER_MAX_PITCH is signaled. The generation of either error signal UNDER_MIN_PITCH or OVER_MAX_PITCH asserts the check-after-write fail signal FAILED_CAW <highlight><bold>313</bold></highlight>, which causes the offending track to be rewritten. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a flowchart of the method used by tape speed controller <highlight><bold>312</bold></highlight> to detect conditions for rewriting a track. When the drive is in write mode, the capstan tachometer signal WRITE_HEAD is monitored in step <highlight><bold>442</bold></highlight> until it indicates that the write heads are positioned at the beginning of a new track. Once the write heads are positioned over a new track, the drive begins to measure the track pitch in step <highlight><bold>444</bold></highlight>. The tape speed is monitored in step <highlight><bold>446</bold></highlight> and compared in step <highlight><bold>448</bold></highlight> to the maximum and minimum speed thresholds MAX_SPEED and MIN_SPEED as shown in <cross-reference target="DRAWINGS">FIG. 14</cross-reference> to detect any threshold violations. If a threshold violation is detected the particular speed threshold violation is denoted in step <highlight><bold>450</bold></highlight>. In step <highlight><bold>452</bold></highlight>, the position of the tape is checked to determine whether the write heads have reached the end of the new track. If not, steps <highlight><bold>446</bold></highlight>, <highlight><bold>448</bold></highlight>, and <highlight><bold>450</bold></highlight> (if appropriate) are repeated. Once the write heads have reached the end of the new track in step <highlight><bold>454</bold></highlight>, the tape speed signal is no longer monitored. The position of the write heads is continuously monitored in step <highlight><bold>456</bold></highlight> until the beginning of the next track is detected, at which time the track pitch is calculated in step <highlight><bold>458</bold></highlight>. The track pitch is compared in step <highlight><bold>460</bold></highlight> to the maximum and minimum allowed track pitches MAX_PITCH and MIN_PITCH to detect any pitch threshold violations. If a track pitch threshold violation is detected, the particular position threshold violation is denoted in step <highlight><bold>462</bold></highlight>. If a speed or position threshold violation as determined to have occurred during step <highlight><bold>464</bold></highlight>, the check-after-write fail signal FAILED_CAW is asserted in step <highlight><bold>466</bold></highlight> to indicate that the check-after-write of the previous track failed. The previous track is then rewritten in step <highlight><bold>468</bold></highlight>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a flowchart illustrating the method employed by the variable speed architecture of the tape drive while it is in read mode. According to the method, variable speed reading is begun in step <highlight><bold>420</bold></highlight> when the drive enters read mode. An initial tape speed is selected in step <highlight><bold>422</bold></highlight> according to the amount of data present in the data buffer <highlight><bold>302</bold></highlight>. The head timing controller <highlight><bold>314</bold></highlight> is configured for a speed change in step <highlight><bold>424</bold></highlight>. Head timing controller <highlight><bold>314</bold></highlight> monitors the position of the heads in step <highlight><bold>410</bold></highlight>, generating speed change enable signal SPEED_CHANGE_EN in synchronization with read heads positioned over the tape. This triggers tape speed controller <highlight><bold>312</bold></highlight> to change the speed of the tape to the new speed. Read channel circuitry <highlight><bold>306</bold></highlight> reads data from the tape, which is deformatted by deformatter <highlight><bold>304</bold></highlight> and put into data buffer <highlight><bold>322</bold></highlight> in step <highlight><bold>426</bold></highlight>. The buffer level <highlight><bold>303</bold></highlight> indicating the current amount of data in buffer <highlight><bold>322</bold></highlight> relative to its maximum capacity is monitored in step <highlight><bold>428</bold></highlight>. If the buffer level <highlight><bold>303</bold></highlight> indicates that data buffer <highlight><bold>302</bold></highlight> is nearly full (relative to a predetermined threshold), controller <highlight><bold>310</bold></highlight> calculates a slower read speed in step <highlight><bold>430</bold></highlight>, and steps <highlight><bold>424</bold></highlight>, <highlight><bold>426</bold></highlight>, and <highlight><bold>428</bold></highlight> are repeated. If the buffer level <highlight><bold>303</bold></highlight> indicates that data buffer <highlight><bold>302</bold></highlight> is nearly empty (relative to a predetermined threshold) in step <highlight><bold>432</bold></highlight>, controller <highlight><bold>310</bold></highlight> calculates a faster read speed in step <highlight><bold>434</bold></highlight> and steps <highlight><bold>424</bold></highlight>-<highlight><bold>428</bold></highlight> are repeated. If the buffer level appears to remain steady (indicating that the data transfer rate is sustained at a streaming rate), no adjustment in speed is made. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> It will be appreciated by those skilled in the art that any number of buffer level thresholds may be set which result in a tape speed change more or less often. Furthermore, each buffer level threshold may be set at any level between those representing a full and empty buffer, preferably at levels determined to optimize the matching of the tape speed to that of the host system. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> FIGS. <highlight><bold>18</bold></highlight>(<highlight><italic>a</italic></highlight>) and <highlight><bold>18</bold></highlight>(<highlight><italic>b</italic></highlight>) illustrate how data is read from a tape having track angle changes resulting from a respective deceleration and acceleration in tape speed. When the tape <highlight><bold>480</bold></highlight> contains a residue zone <highlight><bold>475</bold></highlight> resulting from a deceleration in tape speed during write mode, as shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>a</italic></highlight>), portions of opposite-azimuth dummy track pairs <highlight><bold>471</bold></highlight> and <highlight><bold>472</bold></highlight> are read first by leading write head A and then by trailing write head B one revolution of the drum later. If the angle of the heads with respect to the tracks <highlight><bold>471</bold></highlight>-<highlight><bold>474</bold></highlight> do not match, any given head A or B will not read an entire track during a first pass. Instead, as illustrated in the example of <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>a</italic></highlight>), at position P<highlight><bold>1</bold></highlight> leading head A can read portions of dummy A-azimuth track <highlight><bold>472</bold></highlight> and any old A-azimuth data found in the residue zone <highlight><bold>475</bold></highlight>, while trailing head B can read portions of dummy B-azimuth track <highlight><bold>471</bold></highlight>. At position P<highlight><bold>1</bold></highlight> any A-azimuth data from dummy track <highlight><bold>471</bold></highlight> is not read by head A and any A-azimuth data from dummy track <highlight><bold>472</bold></highlight> is not read by head B due to the opposite azimuths of the tracks and the ability of the heads to detect data written along the appropriate azimuth. At position P<highlight><bold>2</bold></highlight> head A is completely aligned over dummy B-azimuth track <highlight><bold>473</bold></highlight> and head B is completely aligned over dummy A-azimuth track <highlight><bold>474</bold></highlight>, and hence neither head A nor B detect any data. At position P<highlight><bold>3</bold></highlight> head A is positioned over a portion of dummy A-azimuth track <highlight><bold>474</bold></highlight> and a portion of dummy B-azimuth track <highlight><bold>473</bold></highlight>, and hence detects only A-azimuth data from track <highlight><bold>474</bold></highlight> indicating that it is a dummy track. Head B is positioned over a portion of dummy B-azimuth track <highlight><bold>473</bold></highlight>, a portion of residue zone <highlight><bold>475</bold></highlight>, and a portion of dummy A-azimuth track <highlight><bold>472</bold></highlight>, and hence detects any B-azimuth data from track <highlight><bold>473</bold></highlight> indicating that it is a dummy track, and any old B-azimuth data present in residue zone <highlight><bold>475</bold></highlight> left over from a previous recording. Data formatter <highlight><bold>304</bold></highlight> must therefore keep track of, and discard, any detected data found between two adjacent dummy tracks. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> When the tape <highlight><bold>480</bold></highlight> contains an overlap region resulting from an acceleration in tape speed during write mode, as shown in <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>b</italic></highlight>), the use of dummy tracks again ensures reliable data recovery as follows. Portions of opposite-azimuth dummy track pairs are read first by leading write head A and then by trailing write head B one revolution of the drum later. If the angle of the heads with respect to the tracks <highlight><bold>476</bold></highlight>-<highlight><bold>479</bold></highlight> do not match, any given head A or B will not read an entire track during a first pass. Instead, as illustrated in the example of <cross-reference target="DRAWINGS">FIG. 18</cross-reference>(<highlight><italic>b</italic></highlight>), at position P<highlight><bold>4</bold></highlight> leading head A can read portions of dummy A-azimuth track <highlight><bold>477</bold></highlight> and dummy A-azimuth track <highlight><bold>479</bold></highlight>, while trailing head B can read portions of dummy B-azimuth track <highlight><bold>476</bold></highlight>. At position P<highlight><bold>4</bold></highlight> any A-azimuth data from dummy track <highlight><bold>478</bold></highlight> is not read by head A and any A-azimuth data from dummy track <highlight><bold>477</bold></highlight> is not read by head B due to the opposite azimuths of the tracks. At position P<highlight><bold>5</bold></highlight> head A is completely aligned over dummy A-azimuth track <highlight><bold>479</bold></highlight> and head B is completely aligned over dummy A-azimuth track <highlight><bold>478</bold></highlight>, and hence heads A and B both detect correct data. At position P<highlight><bold>6</bold></highlight> head A is positioned over a portion of dummy A-azimuth track <highlight><bold>479</bold></highlight>, and hence detects A-azimuth data from track <highlight><bold>479</bold></highlight> indicating that it is a dummy track. Head B is positioned over a portion of dummy A-azimuth track <highlight><bold>479</bold></highlight>, a portion of dummy B-azimuth track <highlight><bold>478</bold></highlight>, and a portion of dummy A-azimuth track <highlight><bold>477</bold></highlight>, and hence detects only B-azimuth data from track <highlight><bold>478</bold></highlight> indicating that it is a dummy track. Accordingly, because all detected data during this portion of the tape is a dummy track of one azimuth or the other, and hence not entered into the data buffer, the use of dummy tracks immediately before and after changing tape speeds during write mode eliminates any data recovery problems when the same portion of the tape is read during read mode. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> It will be appreciated from the above description of the invention that the dynamic variable tape speed control, in combination with the ready mode, dramatically boost performance during read and write operations, when the host system cannot achieve or maintain the tape drive&apos;s rated throughput. The variable speed architecture produces a match of the average data transfer rate of a host computer and eliminates tape repositioning cycles. The read data rate is continuously variable. The architecture of the invention operates to slow the tape speed to enhance read accuracy. This is particularly valuable when interchanging data tapes amongst similar tape drives. Accordingly, back up and restore times are accelerated through the elimination of backhitching. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> Although the invention has been described in terms of the illustrative embodiments, it will be appreciated by those skilled in the art that various changes and modifications may be made to the illustrative embodiments without departing from the spirit or scope of the invention. It is intended that the scope of the invention not be limited in any way to the illustrative embodiment shown and described but that the invention be limited only by the claims appended hereto. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A method for recording data at variable speeds onto a magnetic tape that is being transported across a rotating drum at a current tape transport speed, said rotating drum having a recording head disposed thereon to pass over said tape once per single rotation of said drum, said data being received from a host system and temporarily stored in a data buffer, said method comprising: 
<claim-text>monitoring a current buffer level of said data buffer, said current buffer level indicating an amount of data currently present in said data buffer; </claim-text>
<claim-text>determining a new tape transport speed based on said current buffer level; and </claim-text>
<claim-text>adjusting said current tape transport speed to said new tape transport speed; </claim-text>
<claim-text>wherein said current tape transport speed and said new tape transport speed are each non-zero. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, comprising: 
<claim-text>recording a track onto said magnetic tape at said new tape transport speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein: 
<claim-text>said recording step comprises: 
<claim-text>recording a first set of tracks onto said tape at said current tape transport speed prior to adjusting said current tape transport speed to said new tape transport speed; and </claim-text>
<claim-text>recording a second set of tracks onto said tape after said current tape transport speed has been adjusted to said new tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first data track, said first data track comprising a first set of said data in said data buffer that has been formatted into said first data track; and </claim-text>
<claim-text>said second set of tracks comprises a second data track, said second data track comprising a second set of said data in said data buffer that has been formatted into said second data track. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first predetermined number of dummy tracks; and </claim-text>
<claim-text>said second set of tracks comprises a second predetermined number of dummy tracks. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first data track followed by a first predetermined number of dummy tracks, said first data track comprising a first set of data in said data buffer that has been formatted into said first data track; and </claim-text>
<claim-text>said second set of tracks comprises a second data track followed by a second predetermined number of dummy tracks, said second data track comprising a second set of data in said data buffer that has been formatted into said second data track. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein said new tape transport speed is slower than said current tape transport speed. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein: 
<claim-text>said new tape transport speed is faster than said current tape transport speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, comprising: 
<claim-text>measuring said current tape transport speed; </claim-text>
<claim-text>determining whether said current tape transport speed is outside a speed control limit; and </claim-text>
<claim-text>if said current tape transport speed is outside said speed control limit, performing the steps of: 
<claim-text>setting said new tape transport speed to a speed within said speed control limit; </claim-text>
<claim-text>adjusting said current tape transport speed to said new tape transport speed; and </claim-text>
<claim-text>re-recording said track onto said magnetic tape at said new tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, comprising: 
<claim-text>measuring a track pitch, said track pitch comprising the distance between said recorded track and an immediately-previous previously-recorded track; </claim-text>
<claim-text>determining whether said track pitch is outside a track pitch control limit; and </claim-text>
<claim-text>if said track pitch is outside said track pitch control limit, performing the steps of: 
<claim-text>setting said new tape transport speed to a speed that will place a next measured track pitch within said track pitch control limit; </claim-text>
<claim-text>adjusting said current tape transport speed to said new tape transport speed; and </claim-text>
<claim-text>re-recording said track onto said magnetic tape at said new tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein: 
<claim-text>said adjusting step comprises: 
<claim-text>commencing said speed adjustment when said rotating drum is positioned such that said recording head is not positioned over said tape; and </claim-text>
<claim-text>completing said speed adjustment before said recording head becomes positioned over said tape. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, comprising: 
<claim-text>reading back said recorded track at said new tape transport speed immediately after said recorded track is recorded onto said magnetic tape. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 12</dependent-claim-reference>, comprising: 
<claim-text>re-recording said track if said recorded track is unreadable. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, comprising: 
<claim-text>reading a track from said magnetic tape at said new speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A method for recording data at variable speeds onto a magnetic tape that is being transported across a rotating drum at a first tape transport speed, said rotating drum having a recording head disposed thereon to pass over said tape once per single rotation of said drum, said data being received from a host system and temporarily stored in a data buffer, said method comprising: 
<claim-text>halting tape transport such that a current tape transport speed is reduced to zero; </claim-text>
<claim-text>monitoring a current buffer level of said data buffer, said current buffer level indicating an amount of data currently present in said data buffer; </claim-text>
<claim-text>determining a second tape transport speed based on said current buffer level, said second tape transport speed being non-zero; and </claim-text>
<claim-text>adjusting said current tape transport speed from zero to said second tape transport speed to commence tape transport. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, comprising: 
<claim-text>recording a track onto said magnetic tape at said second tape transport speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, wherein: 
<claim-text>said recording step comprises: 
<claim-text>recording a first set of tracks onto said tape at said first tape transport speed prior to adjusting said current tape transport speed to said second tape transport speed; and </claim-text>
<claim-text>recording a second set of tracks onto said tape after said current tape transport speed has been adjusted to said second tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first data track, said first data track comprising a first set of said data in said data buffer that has been formatted into said first data track; and </claim-text>
<claim-text>said second set of tracks comprises a second data track, said second data track comprising a second set of said data in said data buffer that has been formatted into said second data track. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first predetermined number of dummy tracks; and </claim-text>
<claim-text>said second set of tracks comprises a second predetermined number of dummy tracks. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein: 
<claim-text>said first set of tracks comprises a first data track followed by a first predetermined number of dummy tracks, said first data track comprising a first set of data in said data buffer that has been formatted into said first data track; and </claim-text>
<claim-text>said second set of tracks comprises a second data track followed by a second predetermined number of dummy tracks, said second data track comprising a second set of data in said data buffer that has been formatted into said second data track. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein: 
<claim-text>said first tape transport speed is identical to said second tape transport speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein said second tape transport speed is slower than said first tape transport speed. </claim-text>
</claim>
<claim id="CLM-00023">
<claim-text><highlight><bold>23</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein: 
<claim-text>said second tape transport speed is faster than said first tape transport speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00024">
<claim-text><highlight><bold>24</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, comprising: 
<claim-text>measuring said current tape transport speed; </claim-text>
<claim-text>determining whether said current tape transport speed is outside a speed control limit; and </claim-text>
<claim-text>if said current tape transport speed is outside said speed control limit, performing the steps of: 
<claim-text>setting a third tape transport speed to a speed within said speed control limit; </claim-text>
<claim-text>adjusting said current tape transport speed to said third tape transport speed; and </claim-text>
<claim-text>re-recording said track onto said magnetic tape at said third tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025">
<claim-text><highlight><bold>25</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, comprising: 
<claim-text>measuring a track pitch, said track pitch comprising the distance between said recorded track and an immediately-previous previously-recorded track; </claim-text>
<claim-text>determining whether said track pitch is outside a track pitch control limit; and </claim-text>
<claim-text>if said track pitch is outside said track pitch control limit, performing the steps of: 
<claim-text>setting a third tape transport speed to a speed that will place a next measured track pitch within said track pitch control limit; </claim-text>
<claim-text>adjusting said current tape transport speed to said third tape transport speed; and </claim-text>
<claim-text>re-recording said track onto said magnetic tape at said third tape transport speed. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026">
<claim-text><highlight><bold>26</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, wherein: 
<claim-text>said adjusting step comprises: 
<claim-text>commencing said speed adjustment when said rotating drum is positioned such that said recording head is not positioned over said tape; and </claim-text>
<claim-text>completing said speed adjustment before said recording head becomes positioned over said tape. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027">
<claim-text><highlight><bold>27</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, comprising: 
<claim-text>reading back said recorded track at said second tape transport speed immediately after said recorded track is recorded onto said magnetic tape. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00028">
<claim-text><highlight><bold>28</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00022">claim 26</dependent-claim-reference>, comprising: 
<claim-text>re-recording said track if said recorded track is unreadable. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00029">
<claim-text><highlight><bold>29</bold></highlight>. A method in accordance with <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, comprising: 
<claim-text>reading a track from said magnetic tape at said second speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00030">
<claim-text><highlight><bold>30</bold></highlight>. A reel tension controller for a tape transport mechanism, said tape transport mechanism comprising a capstan which controls tape transport, a supply reel and a takeup reel between which a magnetic tape is transported, comprising: 
<claim-text>a reel amplifier responsive to a reel amplifier input signal to adjust the tension between said capstan and said supply reel and said takeup reel; </claim-text>
<claim-text>a controller responsive to correct tension parameters, a supply reel radius signal, and a takeup reel radius signal, said controller generating said reel amplifier input signal based on said correct tension parameter, said supply reel radius signal and said takeup reel radius signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00031">
<claim-text><highlight><bold>31</bold></highlight>. A method for preventing the recording of a thin track on a magnetic medium by a magnetic tape drive, said magnetic tape drive comprising a tape transport mechanism comprising a supply reel, a takeup reel, a recording head, and a capstan which moves a magnetic tape between said supply reel and said takeup reel in a path across said recording head, said capstan comprising a capstan tachometer which maintains a capstan tach count proportional to a number of revolutions of said capstan that have occurred relative to a beginning-of-tape position of said magnetic tape in said drive, said method comprising the steps of: 
<claim-text>determining a reference position of a track based upon a current tape speed; </claim-text>
<claim-text>measuring a current position of said track based upon said current tach count of said capstan; </claim-text>
<claim-text>determining a current track spacing, said current track spacing comprising the distance between a first track and a second adjacent track; </claim-text>
<claim-text>calculating a current track spacing error from said reference position and said current position; and </claim-text>
<claim-text>if said current track spacing error is below an acceptable track spacing error threshold: 
<claim-text>setting said reference position to said current position; </claim-text>
<claim-text>setting said current track spacing error to zero. </claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00032">
<claim-text><highlight><bold>32</bold></highlight>. A method in accordance with claim <highlight><bold>31</bold></highlight>, comprising the step of: 
<claim-text>repeating each of said steps periodically.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>5</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030001036A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030001036A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030001036A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030001036A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030001036A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030001036A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030001036A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030001036A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030001036A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030001036A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030001036A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030001036A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030001036A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030001036A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030001036A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030001036A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030001036A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030001036A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030001036A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
