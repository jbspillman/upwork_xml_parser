<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030002316A1-20030102-D00000.TIF SYSTEM "US20030002316A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00001.TIF SYSTEM "US20030002316A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00002.TIF SYSTEM "US20030002316A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00003.TIF SYSTEM "US20030002316A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00004.TIF SYSTEM "US20030002316A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00005.TIF SYSTEM "US20030002316A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00006.TIF SYSTEM "US20030002316A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00007.TIF SYSTEM "US20030002316A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00008.TIF SYSTEM "US20030002316A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00009.TIF SYSTEM "US20030002316A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00010.TIF SYSTEM "US20030002316A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00011.TIF SYSTEM "US20030002316A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00012.TIF SYSTEM "US20030002316A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00013.TIF SYSTEM "US20030002316A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00014.TIF SYSTEM "US20030002316A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030002316A1-20030102-D00015.TIF SYSTEM "US20030002316A1-20030102-D00015.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030002316</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10231286</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020830</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>11-245820</doc-number>
</priority-application-number>
<filing-date>19990831</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G11C005/06</ipc>
</classification-ipc-primary>
<classification-ipc-secondary>
<ipc>G11C008/00</ipc>
</classification-ipc-secondary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>365</class>
<subclass>063000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>365</class>
<subclass>230030</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Semiconductor device</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>10231286</doc-number>
<kind-code>A1</kind-code>
<document-date>20020830</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09964669</doc-number>
<document-date>20010928</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-of>
</continuations>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>09964669</doc-number>
<document-date>20010928</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09531467</doc-number>
<document-date>20000320</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6335901</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Sadayuki</given-name>
<family-name>Morita</family-name>
</name>
<residence>
<residence-non-us>
<city>Higashiyamato</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Takeshi</given-name>
<family-name>Sakata</family-name>
</name>
<residence>
<residence-non-us>
<city>Kodaira</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Satoru</given-name>
<family-name>Hanzawa</family-name>
</name>
<residence>
<residence-non-us>
<city>Hachiouji</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Takahiro</given-name>
<family-name>Sonoda</family-name>
</name>
<residence>
<residence-non-us>
<city>Fussa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Haruko</given-name>
<family-name>Tadokoro</family-name>
</name>
<residence>
<residence-non-us>
<city>Higashimurayama</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Hiroshi</given-name>
<family-name>Ichikawa</family-name>
</name>
<residence>
<residence-non-us>
<city>Hachiouji</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
<inventor>
<name>
<given-name>Osamu</given-name>
<family-name>Nagashima</family-name>
</name>
<residence>
<residence-non-us>
<city>Hamura</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>ANTONELLI TERRY STOUT AND KRAUS</name-1>
<name-2></name-2>
<address>
<address-1>SUITE 1800</address-1>
<address-2>1300 NORTH SEVENTEENTH STREET</address-2>
<city>ARLINGTON</city>
<state>VA</state>
<postalcode>22209</postalcode>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A Synchronous Dynamic Random Access Memory (SDRAM) has its operation mode selected to be the Single Data Rate (SDR) mode in response to the first state of the external terminal (OPT), thereby releasing data, which has been read out of a memory mat, in response to a clock signal produced by a clock regenerating circuit having a function of comparing the phases of the input and output of the circuit, or selected to be the Double Data Rate (DDR) mode in response to the second state of the external terminal (OPT), thereby releasing data, which has been read out of the memory mat, in response to a clock signal produced by a clock signal generation circuit in synchronism with an external clock. In the SDR mode, data are transferred via data lines in SDRAM unidirectionally and in the DDR mode, data are transferred via the data lines bidirectionally. </paragraph>
</subdoc-abstract>
<subdoc-description>
<cross-reference-to-related-applications>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> This application is a continuation of U.S. application Ser. No. 09/964,669, filed Sep. 28, 2001, which, in turn, is a divisional of U.S. application Ser. No. 09/531,467, filed Mar. 20, 2000, and now U.S. Pat. No. 6,335,901 issued Jan. 1, 2002, the entire disclosures of which are incorporated herein by reference.</paragraph>
</cross-reference-to-related-applications>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to the technology of semiconductor devices, and particularly to a semiconductor device which is suitable for an SDRAM (Synchronous Dynamic Random Access Memory) which can be switched to perform a SDR (Single Data Rate) operation and a DDR (Double Data Rate) operation </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> Synchronous memories such as SDRAMs have their operational timing controlled based on an external clock signal such as a system clock signal supplied from the outside Synchronous memories of this type are characterized by relatively easy treatment of the internal operational timing by use of the external clock signal and the ability to achieve relatively fast operation </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> SDRAMs are known which perform SDR type operations, in which data input/output is timed to the rising edge of the external clock signal, and DDR type operations, in which data input/output is timed to both the rising and falling edges of the external clock signal </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> SDRAMs of the SDR type can operate relatively fast and can be used easily for general electronic systems which operate under control of a clock signal Specifically, the relation between data input/output and the external clock signal, i e, data input/output timed to the rising edge of the external clock signal, of the SDR-type SDRAM is fairly analogous to the operation of general electronic systems, in which operations are timed to the rising or falling edge or the transition from a low level to a high level (or from high to low) of the clock signal, or, in other words, it is analogous to the relation between the clock signal and the signal to be transferred in general electronic systems which operate by being timed to the leading edge or trailing edge of a clock signal. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> In contrast, SDRAMs of the DDR type operate for data input/output by being timed to the rising and falling edges of a clock signal. Although DDR-type SDRAMs involve application electronic systems having some intricate timing design, these SDRAMs perform twice the data input/output operations per unit time as SDR-type SDRAMs at the same clock frequency Namely, DDR-type SDRAMs are capable of faster data access. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> SDRAMs of the SDR type and DDR type have similar characteristics such as the introduction of external control signals and command signals in synchronism with the external clock signal, the address input operation, and the data input/output operation, and have like circuit arrangements of the memory cell matrix and associated address selection circuit and the peripheral circuits such as the sense amplifiers and main amplifiers </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> The inventors of the present invention have studied the design of a uniform semiconductor chip which can be employed both as an SDR-spec SDRAM and a DDR-spec SDRAM by switching Accomplishing this semiconductor chip design enables the common use of photolithography masks for fabricating both SDR-spec and DDR-spec SDRAMs and the implementation of a common fabrication process and a common test process for both SDRAMS. As a result, the reduction of manufacturing cost can be expected. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Another expectation, which is derived from the configuration of any of the SDR-spec and DDR-spec SDRAMs embodied in a uniform semiconductor chip, is the potential capability to meet an increased demand of any type of SDRAMS. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> In the course of the in-depth studies on the designing of SDR-spec and DDR-spec SDRAMs embodied in a uniform semiconductor chip, the inventors of the present invention have found the presence of the following problems to be solved </paragraph>
<paragraph id="P-0011" lvl="7"><number>&lsqb;0011&rsqb;</number> (1) Problem on the Internal Clock System </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> It is necessary for the internal circuits of an SDRAM to be operative by being timed to both the rising edge and falling edge of the external clock signal so that the SDRAM can operate in the DDR mode. In this case, for controlling the internal circuits to operate in response to the rising and falling edges of the external clock signal, it is desired to generate an internal clock signal which is timed to both the rising and falling edges of the external clock signal, i e, transitions from one level to another timed to the rising edge and falling edge of the external clock signal, so that the internal circuits operate in response to the rising and falling edges of the external clock signal </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> Clock-based componential circuits, such as the input buffer, which operate in response to the external clock signal have inevitably a time lag or phase shift of the output signal relative to the input signal. Regardless of this inevitable output delay of componential circuits which base their operation on the external clock signal, it is desirable for the internal clock signal to have a reduced phase shift relative to the external clock signal Another crucial design factor in the case of the relatively fast operation in the DDR mode is the generation of an internal clock signal in consideration of the operation delay of the internal circuits It is desired to connect the semiconductor device to an external device such as a memory controller or microprocessor in a proper timing relation with the external clock signal regardless of the operation delay in the internal circuits More desirable operation of the semiconductor device is made possible by providing an internal clock signal which has a leading phase relative to the external clock signal to a sufficient extent to compensate for the operation delay of the internal circuits. In order to produce an internal clock signal with a proper phase relation regardless of the operation delay and phase shift of the componential circuits, a clock regenerating circuit provided in the SDRAM for producing the internal clock signal from the external clock signal is designed to use the functions of signal phase judgement and adjustment, called DLL (delayed lock loop), PLL (phase-locked loop) and SMD (synchronous mirror delay), and to use the known circuit technique of signal phase control for producing a signal which is synchronized and phase-controlled to the input signal </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> The clock-based circuit which produces an internal clock signal from the external clock signal for the device operation in SDR operation (or SDR mode or SDR specification) can conceivably be shared with the circuit for the DDR operation to achieve simplification of the whole uniform semiconductor chip. Nevertheless, these circuits are desirably separate from the clock-based circuit for the DDR operation under the following technical considerations. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> Signals such as system clock signals produced in electronic systems are not necessarily designed to have a constant period and constant phase Instead, it is even desirable for some electronic systems to have their clock period changed periodically. For example, in an electronic system operating based on a clock signal, a change of operation current of a clock-based circuit often produces a noise of a relatively large level In case the clock period is changed periodically, noises attributable to the clock signal have their frequency spectrum dispersed by the alteration of the clock period, resulting in a reduced noise level at certain frequencies For the effective dispersion of the noise frequency spectrum, it is desirable to change the clock period in a short interval, such as in every one or several clock cycles. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> On the other hand, the above-mentioned circuit technique of signal phase control generally necessitates multiple clock cycles for phase control, and therefore it is not easily responsive to fast changing clock periods intended for the dispersion of the noise frequency spectrum. On this account, it should be a primary aim for the DDR mode to produce a fast clock signal from the external clock signal. In contrast, for the SDR mode, the internal clock signal virtually corresponds with the external clock signal, and it is desirably highly responsive to changing periods of the external clock signal </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> Therefore, it is desirable to design separate clock-based circuits for the SDR mode and DDR mode. </paragraph>
<paragraph id="P-0018" lvl="7"><number>&lsqb;0018&rsqb;</number> (2) Problem on the Data Transfer Line </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> In the SDR-spec SDRAM, there are states in which read-out data and input data to be stored are processed simultaneously, whereas in the DDR-spec SDRAM, such states can be prevented. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> In case a large number of data transfer lines are laid on a semiconductor chip so that it is adapted to both SDR and DDR modes simply, it will be necessary to provide an increased area for the layout of lines. This gives rise to problems of the chip cost and chip size </paragraph>
<paragraph id="P-0021" lvl="7"><number>&lsqb;0021&rsqb;</number> (3) Problem on Data Input Timing Control </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> In the SDR-spec SDRAM, external data supply is enabled in the same clock cycle as that of the external command of a write operation, whereas in the DDR-spec SDRAM, external data supply is enabled in the clock cycle next to the clock cycle of the external command of a write operation Accordingly, the SDR-spec SDRAM and DDR-spec SDRAM must receive Input data to be stored at different timings of supply Therefore, the data input circuit must have different operations for the SDR-spec SDRAM and DDR-spec SDRAM. </paragraph>
<paragraph id="P-0023" lvl="7"><number>&lsqb;0023&rsqb;</number> (4) Problem on Mask Register Control </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> In correspondence to the difference of the data input of writing between the SDR-spec SDRAM and DDR-spec SDRAM, it becomes necessary to have different control timings (data mask control timings) for validating or invalidating data supplied to the data input circuit depending on the type of SDRAM </paragraph>
</section>
<section>
<heading lvl="1">Relation to Prior Art </heading>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> Based on the survey conducted after the present invention was made, the inventors of the present invention have found the presence of the following patent publications The following comments concern the relationship between the present invention and these publications. </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> Japanese Patent Unexamined Publication No. Hei 10(1998)-302465 discloses a semiconductor memory device which is &ldquo;intended to improve the productivity and reduce the manufacturing cost based on the adoption of an option system which enables the selection of SDR mode and DDR mode&rdquo; (quoted from paragraph number 0007) Specifically, the memory device is designed to include, at the location between a clock buffer for receiving an input clock signal and a pulse generator, a shift register which reverses its output signal level in response to the transition in one direction of the clock signal and a relay device, i e, multiple inverters, which reverses its output signal level in response to the transition in both directions of the clock signal, with either the path of the shift register or the path of relay device being selected by the master signal of a mode selector. The mode selector which implements the switching based on the master signal has photo-mask switches or has NMOS transistors and fuses A pulse generation circuit, which is made up of an inversion-delay means and logic means constituting an edge detecting circuit as a whole, produces a pulse signal in response to each of the rising edge and falling edge of the output signal from the shift register or the relay device </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> However, the pulse generation circuit described in the Patent Publication No. Hei 10(1998)-302465 is a relatively simple circuit made up of a delay circuit and logic circuit, and the publication does not disclose any innovative arrangement intended for high-speed operation based on the compensation of the delay characteristics of the PLL, DLL and SMD circuits that the present invention is concerned with Accordingly, this publication does not reveal the above-mentioned problems pointed out by the inventors of the present invention. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> Moreover, this Patent Publication No. Hei 10(1998)-302465 does not describe the signal switching scheme and line routing scheme to be considered for enabling the switching among multiple operation modes, as will be explained in detail later, besides the switching of internal clock signals. </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> It is an object of the present invention to provide a semiconductor device which is based on the innovative scheme of operation mode switching of a synchronous memory </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> Another object of the present invention is to provide the technique of operation mode switching for SDRAMS. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> Still another object of the present invention is to provide an innovative semiconductor device having multiple clock signal generation circuits with different operational characteristics for the input signal </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> Still another object of the present invention is to provide a semiconductor device for an SDRAM having an operation mode switching ability which is responsive to changing clock signal periods </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Still another object of the present invention is to provide a semiconductor device for an SDRAM having an operation mode switching ability including operations with different data input timings. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Still another object of the present invention is to provide a semiconductor device which is operative in multiple modes and can have a relatively small line layout area </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> Still another object of the present invention is to provide a line layout technique which enables signal transfer adapted to operation mode switching </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Still another object of the present invention is to provide a line layout technique suitable for signal transfer </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> Still another object of the present invention is to provide an SDRAM design technique which enables the switching of specifications and the reduction of manufacturing cost </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> These and other objects and novel features of the present invention will become apparent from the following description taken in conjunction with the accompanying drawings </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> Typical forms of the present invention are summarized as follows </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> (1) A semiconductor device includes a mode signal generation circuit which produces a mode selection signal, a first clock signal generation circuit (will also be called clock signal output circuit or clock regenerating circuit hereinafter) which has functions of signal phase judgement and adjustment and produces an output clock signal which is synchronized with an input clock signal and is phase-controlled, and a second clock signal generation circuit (will also be called clock signal output circuit hereinafter) which produces another output clock signal based on the buffering of the input clock signal. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> In operation, when the selection signal from the selection signal generation circuit is in a first state, the output clock signal from the first clock signal generation circuit is validated Consequently, the clock-based internal circuits in the semiconductor device operate in accordance with the timing of the output clock signal provided by the first clock signal generation circuit </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> When the selection signal is in a second state which is different from the first state, the output clock signal from the second clock signal generation circuit is validated </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> In a typical example, the semiconductor device is an SDRAM, and the selection signal operates to select the SDR-spec or DDR-spec. For example, the selection signal in the first state causes the semiconductor device to configure an SDR-spec SDRAM, and the data read-out operation, for example, takes place in synchronism with the output clock signal of the clock regenerating circuit. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> Otherwise, the selection signal in the second state causes the semiconductor device to configure a DDR-spec SDRAM, and the data read-out operation takes place in synchronism with the output clock signal of the second clock signal generation circuit </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> (2) A semiconductor device includes a selection signal generation circuit which produces a selection signal and a data line switching circuit which operates under control of the selection signal generation circuit </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> In operation, if the selection signal from the selection signal generation circuit is in a first state, data lines made up of first and second data lines are set by the data line switching circuit to become unidirectional data lines which can implement one of data transfer from one circuit node to another circuit node and data transfer from the other circuit node to the one circuit node Otherwise, if the selection signal is in a second state which is different from the first state, the first and second data lines are set to become bidirectional data lines which can implement both of data transfer from one circuit node to another circuit node and data transfer from the other circuit node to the one circuit node. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> In a typical example, the semiconductor device is an SDRAM, and the selection signal operates to select the SDR-spec or DDR-spec, as in the case of the item (1) </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> Specifically, if the semiconductor device configures an SDR-spec SDRAM in response to the selection signal in the first state, the data lines become unidirectional data lines, with one data line being a writing data line and another data line being a read-out data line In other words, the data lines are separated for the transfer of data for writing and for read-out. Consequently, the semiconductor device can deal with an internal situation of simultaneous data read-out and data writing </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> Otherwise, if the semiconductor device configures a DDR-spec SDRAM in response to the selection signal in the second state, the data lines become bidirectional data lines which function as writing data lines or read-out data lines depending on the operational timing </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> This data line switching scheme reduces the number of data transfer lines laid on the semiconductor chip even in the case of providing the ability of adaption to both SDR-spec and DDR-spec SDRAMs, whereby the chip area can be kept small </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> (3) A semiconductor device includes a selection signal generation circuit which produces a selection signal and a timing control circuit which operates under control of the selection signal generation circuit A data input circuit has its data input timing varied in steps of a multiple of the clock signal period </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> In a typical example, the semiconductor device is an SDRAM, and the selection signal operates to select the SDR-spec or DDR-spec, as in the cases of the items (1) and (2) </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> In operation, if the semiconductor device configures an SDR-spec SDRAM in response to the selection signal in the first state, the data input circuit is controlled to place data, which has been received on the data terminal, on the data transfer line at a time point which is later by one clock period than the write command input </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> Otherwise, if the selection signal is in the second state, the data input circuit is controlled to place data, which has been received on the data terminal, on the data transfer line at the time point which is later by two clock periods than tile write command input </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> In consequence, it is possible for the uniform semiconductor device which is operative as SDR-spec or DDR-spec SDRAMs to transfer input data to be stored to the data transfer line at the optimal timing adapted to the data input timing of each mode </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> (4) A semiconductor device includes a selection signal generation circuit which produces a selection signal and a mask control circuit. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> In operation, when the selection signal is in a first state, input data on the data terminal is taken into the data input circuit in response to the clock signal, and a first control signal is taken into the mask control circuit in response to the clock signal </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> Otherwise, when the selection signal is in a second state, input data on the data terminal is taken into the data input circuit in response to a second control signal, and the first control signal is taken into the mask control circuit in response to the second control signal </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> In consequence, it becomes possible for the semiconductor device to have different control timings (data mask control timings) for the validation or invalidation of data supplied to the data input circuit for the SDR-spec SDRAM and DDR-spec SDRAM so as to be compatible with the different write data inputs of the SDR-spec and DDR-spec SDRAMs</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a block diagram showing the overall arrangement of a semiconductor device based on an embodiment of this invention, </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are a set of block diagrams showing in more detail the semiconductor device, </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a schematic diagram of the circuit blocks shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a timing chart illustrating the operation of the DDR-spec SDRAM, </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a timing chart illustrating the operation of the DDR-spec SDRAM, </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a timing chart illustrating the read-interrupt-write operation of the SDR-spec SDRAM, </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a timing chart illustrating the read-interrupt-write operation of the DDR-spec SDRAM, </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a schematic diagram of the mode signal generation circuit, </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a timing chart illustrating the operation of the SDR-spec SDRAM, </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is a block diagram illustrating the transfer route of the y-system pre-decoded signals; </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> is a schematic diagram of the y-system decoder; </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a block diagram of the PLL circuit; </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a block diagram of the DLL circuit; </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> is a schematic diagram of the delay circuit used in the PLL circuit and DLL circuit, </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> is a schematic diagram of the charge pump circuit used in the PLL circuit and DLL circuit; </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> is a schematic diagram of the voltage-controlled oscillation circuit used in the PLL circuit, </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> is a schematic diagram of the variable delay circuit used in the DLL circuit, and </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> is a schematic diagram of the clock generation circuit</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENT </heading>
</section>
<section>
<heading lvl="1">Overall Arrangement </heading>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is an overall view of the semiconductor device (chip) based on an embodiment of this invention, showing the layout of only the principal circuit blocks, signal lines and terminals This simplified schematic diagram is intended to show briefly the memory array and global data lines The details of the circuit blocks, signal lines, and their layout will be set forth in more detail in the following figures and description </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> The semiconductor device indicated by CHIP which forms an SDRAM is designed in the so-called bank structure, which includes four memory banks of Bank<highlight><bold>0</bold></highlight>, Bank<highlight><bold>1</bold></highlight>, Bank<highlight><bold>2</bold></highlight> and Bank<highlight><bold>3</bold></highlight> in this embodiment. Each memory bank consists of multiple memory arrays, and each memory array consists of multiple memory mats The number of memory arrays in a memory bank and the number of memory mats in a memory array are determined depending on the storage capacity and the number of data bits accessed simultaneously. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> In the semiconductor device shown in the figure, each memory bank includes four memory mats, although no limitation is imposed on this invention with regard to the number. Specifically, the memory bank Bank<highlight><bold>0</bold></highlight> includes memory array MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight>, the memory bank Bank<highlight><bold>1</bold></highlight> includes memory array MAY<highlight><bold>5</bold></highlight>-MAY<highlight><bold>8</bold></highlight>, the memory bank Bank<highlight><bold>2</bold></highlight> includes memory array MAY<highlight><bold>9</bold></highlight>-MAY<highlight><bold>12</bold></highlight>, and the memory bank Bank<highlight><bold>3</bold></highlight> includes memory array MAY<highlight><bold>13</bold></highlight>-MAY<highlight><bold>16</bold></highlight> </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> Each memory array consists of two memory mats Specifically, the memory array MAY<highlight><bold>1</bold></highlight> consists of memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>2</bold></highlight>, the memory array MAY<highlight><bold>2</bold></highlight> consists of memory mats MAT<highlight><bold>3</bold></highlight> and MAT<highlight><bold>4</bold></highlight>, the memory array MAY<highlight><bold>3</bold></highlight> consists of memory mats MAT<highlight><bold>5</bold></highlight> and MAT<highlight><bold>6</bold></highlight>, the memory array MAY<highlight><bold>4</bold></highlight> consists of memory mats MAT<highlight><bold>7</bold></highlight> and MAT<highlight><bold>8</bold></highlight>, the memory array MAY<highlight><bold>5</bold></highlight> consists of memory mats MAT<highlight><bold>9</bold></highlight> and MAT<highlight><bold>10</bold></highlight>, the memory array MAY<highlight><bold>6</bold></highlight> consists of memory mats MAT<highlight><bold>11</bold></highlight> and MAT<highlight><bold>12</bold></highlight>, the memory array MAY<highlight><bold>7</bold></highlight> consists of memory mats MAT<highlight><bold>13</bold></highlight> and MAT<highlight><bold>14</bold></highlight>, the memory array MAY<highlight><bold>8</bold></highlight> consists of memory mats MAT<highlight><bold>15</bold></highlight> and MAT<highlight><bold>16</bold></highlight>, the memory array MAY<highlight><bold>9</bold></highlight> consists of memory mats MAT<highlight><bold>17</bold></highlight> and MAT<highlight><bold>18</bold></highlight>, the memory array MAY<highlight><bold>10</bold></highlight> consists of memory mats MAT<highlight><bold>19</bold></highlight> and MAT<highlight><bold>20</bold></highlight>, the memory array MAY<highlight><bold>11</bold></highlight> consists of memory mats MAT<highlight><bold>21</bold></highlight> and MAT<highlight><bold>22</bold></highlight>, the memory array MAY<highlight><bold>12</bold></highlight> consists of memory mats MAT<highlight><bold>23</bold></highlight> and MAT<highlight><bold>24</bold></highlight>, the memory array MAY<highlight><bold>13</bold></highlight> consists of memory mats MAT<highlight><bold>25</bold></highlight> and MAT<highlight><bold>26</bold></highlight>, the memory array MAY<highlight><bold>14</bold></highlight> consists of memory mats MAT<highlight><bold>27</bold></highlight> and MAT<highlight><bold>28</bold></highlight>, the memory array MAY<highlight><bold>15</bold></highlight> consists of memory mats MAT<highlight><bold>29</bold></highlight> and MAT<highlight><bold>30</bold></highlight>, and the memory array MAY<highlight><bold>16</bold></highlight> consists of memory mats MAT<highlight><bold>31</bold></highlight> and MAT<highlight><bold>32</bold></highlight> </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> Each memory mat is arranged similarly to a known dynamic random access memory, and therefore the detailed arrangement thereof is not shown The memory mat includes multiple dynamic memory cells in a matrix arrangement, multiple word lines each connected to the selection terminal of a corresponding row of memory cells, and multiple bit lines (or data lines) each connected to the data terminal of a corresponding column of memory cells Each dynamic memory cell is arranged similarly to a known memory cell of one transistor per cell structure, i e, it consists of an information storage capacitor and a switch element such as a MOSFET located between the storage capacitor and a bit line assigned to the cell, with its gate being used for the cell selection terminal </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> The semiconductor device CHIP has a rectangular top profile as shown. The memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> and MAT<highlight><bold>17</bold></highlight>-MAT<highlight><bold>24</bold></highlight> of the memory banks Bank<highlight><bold>0</bold></highlight> and Bank<highlight><bold>2</bold></highlight> (will also be called the first memory mat row) are aligned along one longer side of the chip, and the remaining mats MAT<highlight><bold>9</bold></highlight>-MAT<highlight><bold>16</bold></highlight> and MAT<highlight><bold>25</bold></highlight>-MAT<highlight><bold>32</bold></highlight> of the memory banks Bank<highlight><bold>1</bold></highlight> and Bank<highlight><bold>3</bold></highlight> (will also be called second memory mat row) are aligned along another longer side of the chip </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> On the side nearer to the chip center of the first memory mat row, there are data input/output circuits INT<highlight><bold>1</bold></highlight>-NT<highlight><bold>8</bold></highlight> and INT<highlight><bold>17</bold></highlight>-INT<highlight><bold>24</bold></highlight> disposed in one-to-one correspondence to the memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> and MAT<highlight><bold>17</bold></highlight>-MAT<highlight><bold>24</bold></highlight>, and on the side nearer to the chip center of the second memory mat row, there are data input/output circuits INT<highlight><bold>9</bold></highlight>-INT<highlight><bold>16</bold></highlight> and INT<highlight><bold>25</bold></highlight>-INT<highlight><bold>32</bold></highlight> disposed in one-to-one correspondence to the memory mats MAT<highlight><bold>9</bold></highlight>-MAT<highlight><bold>16</bold></highlight> and MAT<highlight><bold>25</bold></highlight>-MAT<highlight><bold>32</bold></highlight>. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> In the central section of the chip between the first and second memory mat rows, there are disposed data terminals DQO-DQ<highlight><bold>15</bold></highlight> and global data lines GIOO-GI<highlight><bold>31</bold></highlight> which connect the input/output circuits to the data terminals DQO-DQ<highlight><bold>15</bold></highlight> Further disposed in the chip central section are various control circuits and a voltage generation circuit, and address input terminals, clock signal terminals, control signal terminals and power supply terminals (not shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, but shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) all aligned along the longitudinal direction of the chip </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> The layout of data terminals DQO-DQ<highlight><bold>15</bold></highlight> of the semiconductor device of this embodiment enables the reduction of the length of data transfer route between the memory arrays and data terminals, and enables fast device operation. The alignment of terminals in the longitudinal central area makes the semiconductor chip adaptive to the LOC (lead on chip) packaging scheme </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> The global data lines GIOO-GI<highlight><bold>31</bold></highlight> are shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> as bold lines grouped appropriately for simplicity of purpose Specifically, the global data lines GIOO-GIO<highlight><bold>7</bold></highlight>, GIO<highlight><bold>8</bold></highlight>-GI<highlight><bold>15</bold></highlight>, GI<highlight><bold>16</bold></highlight>-GI<highlight><bold>23</bold></highlight>, and GI<highlight><bold>24</bold></highlight>-GI<highlight><bold>13</bold></highlight> are line groups each including eight lines Each global data line, e g, GIOO, is actually provided as a pair of lines for a reason to be explained later Accordingly, a unit of global data lines is made up of a pair of lines on the semiconductor chip, and it corresponds to a unit of data </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> Although in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> the global data lines GIOO-GI<highlight><bold>31</bold></highlight> are laid in the central section between a row of input/output circuits INT<highlight><bold>1</bold></highlight>-INT<highlight><bold>8</bold></highlight> and INT<highlight><bold>17</bold></highlight>-INT<highlight><bold>24</bold></highlight> and another row of input/output circuits INT<highlight><bold>9</bold></highlight>-INT<highlight><bold>16</bold></highlight> and INT<highlight><bold>25</bold></highlight>-INT<highlight><bold>32</bold></highlight>, these lines may be laid in extended areas of the input/output circuits or expanded areas of the element forming areas for the input/output circuits so that the global data lines are merged into the input/output circuits This merged layout of the global data lines in the input/output circuits is significant in terms of the reduction of the length of the signal route between the input/output circuits and global data lines and of the reduction of the chip size </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> In a broader sense, the global data lines are conceived to be data lines common to all memory banks Bank<highlight><bold>0</bold></highlight>-Bank<highlight><bold>3</bold></highlight>, instead of data lines dedicated to these individual memory banks. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> In a narrower sense, the global data lines are conceived to be hierarchical data lines This embodiment employs 4-level hierarchical data lines, for example, of which those shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> are data lines of the fourth level, with other data lines of the first through third levels being included within the memory arrays </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> Data lines of each hierarchical level are pairs of lines so that complementary data can be transferred, although no limitation is imposed on the invention in this regard. In exchange for an increased number of data lines, transfer of complementary data through data line pairs, in which data is evaluated in terms of the relative signal level on a data line pair, is advantageous in gaining the legibility of signal levels in the presence of some voltage fluctuation, the immunity to power noises and coupling noises caused by the power lines and other signal lines, and the potential capability for the lowering of the signal level, power voltage, power consumption, etc. which are all beneficial to the fast signal transfer and enhanced reliability of the semiconductor device hierarchical data lines are line pairs in the following description </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> Data lines of level 1 are data line pairs included in the memory mats. Data lines of level <highlight><bold>2</bold></highlight> are local data line pairs smaller in number than the level-1 data lines, and are connected selectively to data line pairs through a first selection circuit such as a column switching circuit Data lines of level 3 are main data line pairs which are connected to the local data line pairs through a second selection circuit such as a switching circuit provided commonly to the local data line pairs </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> These level-1, level-2 and level-3 data lines are data lines included in the memory cell matrixes. These data line pairs and main data line pairs are laid to run generally in a first direction on the chip in accordance with the hierarchical data line structure and the layout on the chip The local data line pairs and global data line pairs are laid to run generally in a second direction which is orthogonal to the first direction </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> The main data line pairs are set tip in one-to-one correspondence to the memory mats or memory arrays. These line pairs are not shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> Accordingly, the semiconductor device of <cross-reference target="DRAWINGS">FIG. 1</cross-reference> has main data line pairs (not shown) which correspond to the memory mats or memory arrays. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> Data lines of level 4 are provided commonly to the main data line pairs, and these data lines are the global data line pairs which are connected to the main data line pairs through the input/output circuits INT<highlight><bold>1</bold></highlight>-INT<highlight><bold>32</bold></highlight> </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> It should be noted that in the following description, the terms&apos; local data line pair, main data line pair and global data line pair may be substituted by terms&apos; local I/O line pair, main I/O line pair and global I/O line pair, respectively, where I/O signifies input/output. However, I/O lines not only signify bidirectional lines for input and output, but, in accordance with the operation mode, can be set as unidirectional lines for transferring only input data or output data </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, the global data lines are laid to run along a somewhat intricate route on the semiconductor chip. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> Specifically, a group of global data lines GIOO-GIO<highlight><bold>7</bold></highlight> (will be called the first global data line group or more simply the first group) consists of a first section which runs close to the input/output circuits INT<highlight><bold>10</bold></highlight>-INT<highlight><bold>12</bold></highlight>, a second section which runs close to the input/output circuits INT<highlight><bold>5</bold></highlight>-INT<highlight><bold>8</bold></highlight> and INT<highlight><bold>17</bold></highlight>-INT<highlight><bold>20</bold></highlight>, and a third section which runs close to the input/output-circuits INT<highlight><bold>29</bold></highlight>-INT<highlight><bold>32</bold></highlight> </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> The first and second sections of the first group are joined through a cross section located in the area of the peripheral circuits of memory including the control circuit, voltage generation circuit and buffer circuit in the central section of the chip The second and third sections are joined in the same fashion across the central section of the chip </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> Other groups of global data lines GIO<highlight><bold>8</bold></highlight>-GI<highlight><bold>15</bold></highlight> (second group), GI<highlight><bold>16</bold></highlight>-GI<highlight><bold>23</bold></highlight> (third group), and GI<highlight><bold>24</bold></highlight>-GI<highlight><bold>31</bold></highlight> (fourth group) also have first, second and third sections, and these sections of each group are connected across the central section of the chip </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> The layout route of these global data lines is effective for the achievement of the SDR and DDR modes of the SDRAM while suppressing the number signal lines and the line layout area on the chip, as will be more hilly appreciated from the following explanation </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> The semiconductor device CHIP of this embodiment is determined to be a SDR-spec SDRAM or DDR-spec SDRAM by a mode signal MODE produced by a mode signal generation circuit (or mode selector) <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> which will be explained in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are a set of block diagrams, which when combined, show the details of the semiconductor device of this embodiment of invention </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> The semiconductor device CHIP has various terminals including: a clock terminal CLK for receiving an external clock signal CLK, an inverted clock terminal /CLK for receiving an inverted clock signal /CLK which is the logically inverted version of CLK, a clock enable terminal CKE for receiving a clock enable signal CKE, a chip select terminal ICS for receiving a chip select signal ICS, a terminal /RAS for receiving a row address strobe command /RAS, a terminal /CAS for receiving a column address strobe command /CAS, a terminal /WE for receiving a write enable command signal /WE, terminals BAO and BA<highlight><bold>1</bold></highlight> for receiving a bank select signal BAO-BA<highlight><bold>1</bold></highlight>, address terminals AddO-Add<highlight><bold>12</bold></highlight> for receiving an address signal AddO-Add<highlight><bold>12</bold></highlight>, a terminal DM (or DQM) for receiving a data mask signal DM (or DQM), a terminal VCC for receiving a power voltage VCC, a terminal GND for receiving a reference ground voltage, an option terminal OPT for receiving an option signal OPT, terminals DQO-DQ<highlight><bold>15</bold></highlight> for supplying data DQO-DQ<highlight><bold>15</bold></highlight> into the semiconductor device CHIP or delivering data DQO-DQ<highlight><bold>15</bold></highlight> out of the device CHIP, and a terminal DQS for receiving a data input timing signal DQS </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> These terminals are given the same names or reference symbols as of the signals passing through them for the simplicity of description. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> The semiconductor device CHIP operates when supplied with an external power voltage, such as 3.3&plusmn;0.3 volts, between the power terminal VCC and ground terminal GND The power voltage VCC of 3 3&plusmn;0 3 volts is a typical example, and a lower power voltage such as 2 5&plusmn;0 25 volts may be adopted when necessary </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> The signal levels conform to the known SSTL<highlight><bold>3</bold></highlight> standard for the signals which pass through the clock terminal CLK, inverted clock terminal /CLK, clock enable signal terminal CKE, chip select signal terminal ICS, /RAS and /CAS terminals, write enable command signal terminal /WE, bank select signal terminals BAO and BA<highlight><bold>1</bold></highlight>, address terminals AddO-Add<highlight><bold>12</bold></highlight>, data mask signal terminal DM (or DQM), data terminals DQO-DQ<highlight><bold>15</bold></highlight>, and DQS terminal, although no limitation is imposed on the invention in this regard Specifically, with respect to a reference voltage Vref of 1 45 volts, a high-level threshold voltage is defined to be 1 65 volts which is Vref&plus;0 2 volt, and a low-level threshold voltage is defined to be 1 25 volts which is Vref&minus;0 2 volt. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> This SSTL<highlight><bold>3</bold></highlight> standard of signal levels is a typical example, and another standard such as the SSTL<highlight><bold>2</bold></highlight> standard may be adopted when necessary The SSTL<highlight><bold>2</bold></highlight> standard based on a reference voltage Vref of 1 2 volts defines a high-level threshold voltage to be 1 38 volts which is Vref&plus;0 18 volt and a low-level threshold voltage to be 1 02 volts which is Vref&minus;0.18 volt </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> Next, the circuit blocks shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> will be explained </paragraph>
</section>
<section>
<heading lvl="1">Voltage generation circuit <highlight><bold>1</bold></highlight> </heading>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> The voltage generation circuit <highlight><bold>1</bold></highlight> operates when supplied with the power voltage VCC between the external terminals VCC and GND to produce various voltages and a reset signal used for the operation of all circuit blocks. The generation and usage of the voltages are not a matter of direct concern to the present invention, and an example will merely be presented in the following </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> The voltage generation circuit <highlight><bold>1</bold></highlight> produces from the externally supplied power voltage VCC a negative voltage Vbb, a stepped-up voltage Vpp, a stepped-down voltages VDL and VCL, a plate voltage VDL/2, and a reset signal RST </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> The negative voltage Vbb, which is typically &minus;1 volt, is applied to semiconductor regions such as p-type well regions (not shown) used for the gates of the MOSFETs of the memory cells. The negative voltage Vbb is produced by a voltage converting circuit (not shown) which is included in the voltage generation circuit <highlight><bold>1</bold></highlight> and is made up mainly of an oscillation circuit, a charge pump circuit and a rectifying circuit. This voltage stabilizes the threshold voltage and reduces the leakage current of the memory cell selecting MOSFETS </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> The stepped-up voltage Vpp, which is typically&plus;<highlight><bold>3</bold></highlight> <highlight><bold>5</bold></highlight> volts, is applied to selected word lines for driving the memory cell selecting MOSFETs to a deep conduction state This voltage is produced by a voltage converting circuit similar to that for Vbb. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> The stepped-down voltages VDL and VCL, which are typically 1 6 and 2 5 volts, respectively, are used for the operation voltages of the sense amplifiers and logic circuits such as decoders These voltages are produced by voltage regulators or voltage clamp circuits (not shown) incorporated in the voltage generation circuit <highlight><bold>1</bold></highlight> </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> The plate voltage VDL/2 is typically 0.8 volt, i e, a mid voltage between the high-level and low-level threshold voltages of data signals applied to storage capacitors of memory cells by way of sense amplifiers and bit lines, and it is applied to the common plate electrode (not shown) of storage capacitors of memory cells in the memory mats. This limited plate voltage lowers the voltage which is applied to the dielectric film of storage capacitors, thereby allowing a thinner dielectric film and enabling an increased storage capacity per unit area. </paragraph>
</section>
<section>
<heading lvl="1">Clock Input Circuit <highlight><bold>2</bold></highlight> </heading>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> The clock input circuit <highlight><bold>2</bold></highlight> includes logic AND gates AND<highlight><bold>1</bold></highlight> and AND<highlight><bold>2</bold></highlight>, a clock regenerating circuit (or clock signal generation circuit or clock signal output circuit) (CGC) <highlight><bold>3</bold></highlight>, and a clock generation circuit (or clock signal generation circuit or clock signal output circuit) (CGC) <highlight><bold>4</bold></highlight>. The circuit <highlight><bold>2</bold></highlight> receives the clock signal CLK, inverted clock signal /CLK and clock enable signal CKE through the external terminals to produce an internal clock signal DCLK </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> The AND gate AND<highlight><bold>1</bold></highlight> receives the MODE signal as a gate control signal from the mode signal generation circuit <highlight><bold>68</bold></highlight> and functions to gate the clock signal CLK Specifically, the AND gate AND<highlight><bold>1</bold></highlight> responds to a high-level MODE signal to release a clock signal <highlight><bold>8</bold></highlight>, which is virtually in-phase with the input clock signal CLK, to the clock regenerating circuit <highlight><bold>3</bold></highlight>, and responds to a low-level MODE signal to release a low-level signal <highlight><bold>8</bold></highlight> regardless of the clock signal CLK The AND gate AND<highlight><bold>1</bold></highlight> operates when supplied with the power voltage VCC, although no limitation is imposed on the invention in this regard </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> Similarly, the AND gate AND<highlight><bold>2</bold></highlight> receives the MODE signal as a gate control signal and functions to gate the inverted clock signal /CLK. Specifically, the AND gate AND<highlight><bold>2</bold></highlight> responds to a high-level MODE signal to release a clock signal <highlight><bold>9</bold></highlight>, which is virtually in-phase with the input inverted clock signal /CLK, to the clock regenerating circuit <highlight><bold>3</bold></highlight>, and responds to a low-level MODE signal to release a low-level signal <highlight><bold>9</bold></highlight> regardless of the inverted clock signal /CLK The AND gate AND<highlight><bold>2</bold></highlight> is also supplied with the power voltage VCC. </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> The clock regenerating circuit <highlight><bold>3</bold></highlight> is adapted to produce an internal clock signal which is timed appropriately to the external clock signals CLK and /CLK thereby to offset the signal propagation delay of the internal circuits The AND gates AND<highlight><bold>1</bold></highlight> and AND<highlight><bold>2</bold></highlight> and a selector <highlight><bold>5</bold></highlight> (explained shortly) located on the path from the external clock signal terminals CLK and /CLK to the output node of internal clock signal DCLK have substantial signal propagation delay characteristics If there is only a lag-phase internal clock signal available due to the signal propagation delay characteristics of the circuit, a fast device operation of cannot be expected This limitation of the operation speed is more serious in the DDR mode in which the faster circuit operation is required </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> For coping with this matter, the clock regenerating circuit <highlight><bold>3</bold></highlight> is designed to produce an internal clock signal by compensating the signal propagation delay characteristics of the internal circuits In consequence, it becomes possible for the output buffer <highlight><bold>57</bold></highlight> (Dout-Buff) (explained later) or the like to release data signals which are surely in-phase with the clock signal CLK </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> The clock regenerating circuit <highlight><bold>3</bold></highlight> operates to produce an internal clock signal, with the signal propagation delay of the internal circuits being compensated, based on the replica circuit scheme and phase synchronization (or PLL) scheme The clock regenerating circuit <highlight><bold>3</bold></highlight> includes a replica circuit which produces a clock signal which lags from the clock signal <highlight><bold>6</bold></highlight> by delay time across the route from the external clock terminal CLK to the output of the AND gate AND<highlight><bold>1</bold></highlight> or AND<highlight><bold>2</bold></highlight> plus the delay time of the output buffer <highlight><bold>57</bold></highlight> The replica circuit has its output, i e, a replica clock signal, made in-phase with the external clock signal CLK, so that the input signal of the replica circuit (internal clock signal <highlight><bold>6</bold></highlight>) has a leading phase, which is equal to the above-mentioned total delay time, relative to the external clock signal CLK. </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> In consequence, the output buffer (Dout-Buff) <highlight><bold>57</bold></highlight> which operates based on the internal clock signal <highlight><bold>6</bold></highlight> releases output data which is exactly in-phase with the external clock signal CLK regardless of the signal propagation delay characteristics of the internal circuits </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> The replica circuit has its delay time set equal to one period of the external clock signal CLK reduced by the above-mentioned total delay time Alternatively, the delay time of the replica circuit may be equal to a multiple of one period of the external clock signal CLK reduced by the above-mentioned total delay time. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> The clock regenerating circuit <highlight><bold>3</bold></highlight> is designed to operate when supplied with the relatively stable stepped-down voltage VCL produced by the voltage generation circuit <highlight><bold>1</bold></highlight>, although no limitation is imposed on the invention in this regard </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> In case the semiconductor device CHIP configures a SDR-spec SDRAM in response to a low-level MODE signal, the clock regenerating circuit <highlight><bold>3</bold></highlight> is deactivated so that it consumes less power Specifically, in case the MODE signal is turned low so that the SDRAM operates in the SDR mode, the AND gates AND<highlight><bold>1</bold></highlight> and AND<highlight><bold>2</bold></highlight> have their clock outputs <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight> fixed to the low level and, at the same time, a power switching MOS transistor located between the internal power supply VCL and the source of a PMOS transistor in the circuit <highlight><bold>3</bold></highlight> is cut off so that the voltage VCL is not supplied to the source of the PMOS transistor. Consequently, the amount of power which would be consumed by the clock regenerating circuit <highlight><bold>3</bold></highlight> when it operates to release the output signal <highlight><bold>6</bold></highlight> for the internal clock signal DCLK can be saved. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> As an alternative scheme f or the case of an SDR-spec SDRAM set by a low-level MODE signal, the AND gates AND<highlight><bold>1</bold></highlight> and AND<highlight><bold>2</bold></highlight> have their clock outputs <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight> fixed to the low level, but the circuit <highlight><bold>3</bold></highlight> is not equipped with a power switching MOS transistor between the internal power supply VCL and the source of the PMOS transistor, leaving the power voltage VCL supplied to the source of the PMOS transistor The clock regenerating circuit <highlight><bold>3</bold></highlight> is inert in its operation and releases a fixed-level clock signal <highlight><bold>6</bold></highlight> due to the low-level clock inputs <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight>, and consequently the power consumption is reduced as compared with the operation with the normal input of clock signals <highlight><bold>8</bold></highlight> and <highlight><bold>9</bold></highlight> </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> In another case where the semiconductor device CHIP configures a DDR-spec SDRAM in response to a high-level MODE signal, the clock regenerating circuit <highlight><bold>3</bold></highlight> is activated accordingly </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> The clock regenerating circuit <highlight><bold>3</bold></highlight> can also be arranged by using a DDL (delayed lock loop) circuit, SND (synchronous mirror delay) circuit, or their combination in place of the above-mentioned PLL (phase-locked loop) circuit These PLL, DDL and SMID circuits are known in the art, and so further explanation thereof will be omitted. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> The clock generation circuit <highlight><bold>4</bold></highlight> operates by receiving the clock signal CLK and clock enable signal CKE Specifically, the circuit <highlight><bold>4</bold></highlight> releases a clock signal <highlight><bold>7</bold></highlight> which is in-phase with the external clock signal CLK in response to a high-level clock enable signal CKE, or it releases a low-level signal <highlight><bold>7</bold></highlight> regardless of the clock signal CLK in response to a low-level clock enable signal CKE A specific circuit arrangement of the clock generation circuit <highlight><bold>4</bold></highlight> will be explained later in connection with <cross-reference target="DRAWINGS">FIG. 19</cross-reference> </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows the circuit arrangement of the clock generation circuit <highlight><bold>3</bold></highlight> which is based on PLL operation The PLL circuit includes a phase comparing circuit <highlight><bold>400</bold></highlight>, a charge pump circuit <highlight><bold>401</bold></highlight>, a voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight>, and a delay circuit <highlight><bold>402</bold></highlight> which functions as the above-mentioned replica circuit </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> The phase comparing circuit <highlight><bold>400</bold></highlight> has its one input supplied with the clock signal <highlight><bold>8</bold></highlight> provided by the AND gate AND<highlight><bold>1</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and another input supplied through the delay circuit <highlight><bold>402</bold></highlight> with the clock signal <highlight><bold>6</bold></highlight> provided by the voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight> The circuit <highlight><bold>400</bold></highlight> compares the phases of the clock signal <highlight><bold>8</bold></highlight> and the delayed version of the clock signal <highlight><bold>6</bold></highlight>, i e., the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>402</bold></highlight>, thereby to produce signals UP and DWN depending on the phase difference. The UP and DOWN signals produced by the phase comparing circuit <highlight><bold>400</bold></highlight> are fed to the charge pump circuit <highlight><bold>401</bold></highlight> </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> The charge pump circuit <highlight><bold>401</bold></highlight> incorporates a capacitor C (not shown), which is charged at a rate proportional to the pulse width (phase difference) of the UP signal and is discharged in proportion to the pulse width (phase difference) of the DOWN signal The voltage appearing across the capacitor C becomes a control voltage VC. Accordingly, the charge pump circuit <highlight><bold>401</bold></highlight> behaves as a loop filter which integrates the UP signal and DOWN signal and releases a d c voltage signal </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> The voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight> is an oscillation circuit having its oscillation frequency controlled by the control voltage VC <cross-reference target="DRAWINGS">FIG. 17</cross-reference> shows a specific circuit arrangement of the voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight> </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 17</cross-reference>, the voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight> is a ring oscillator made up of five logic inverters connected in series in a loop Each inverter includes a MOSFET having its conductance varied by the control voltage VC, so that its delay time varies in accordance with the control voltage VC The voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 17</cross-reference> oscillates at a frequency which is inversely proportional to the control voltage VC </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, if the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>402</bold></highlight> lags in phase (or is lower in frequency) relative to the clock signal <highlight><bold>8</bold></highlight>, the phase comparing circuit <highlight><bold>400</bold></highlight> produces an UP signal which reflects any phase difference, causing the charge pump circuit <highlight><bold>401</bold></highlight> to raise the control voltage VC Consequently, the inverters which constitute the ring oscillator shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference> have their delay time decreased, resulting in a raised frequency of the voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight>, and the output signal of the delay circuit <highlight><bold>402</bold></highlight> advances in phase (rises in frequency). Based on this feedback operation, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>402</bold></highlight> is synchronized with the clock signal <highlight><bold>8</bold></highlight>, and the clock signal <highlight><bold>6</bold></highlight> is also synchronized with the clock signal <highlight><bold>8</bold></highlight> </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> If, otherwise, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>402</bold></highlight> leads in phase (or is higher in frequency) relative to the clock signal <highlight><bold>8</bold></highlight>, the phase comparing circuit <highlight><bold>400</bold></highlight> produces a DOWN signal which reflects their phase difference, causing the charge pump circuit <highlight><bold>401</bold></highlight> to lower the control voltage VC. Consequently, the inverters of the ring oscillator have their delay time increased, resulting in a lowered frequency of the voltage-controlled oscillation circuit <highlight><bold>403</bold></highlight>, and the output signal of the delay circuit <highlight><bold>402</bold></highlight> lags in phase (falls in frequency) Based on this feedback operation, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>402</bold></highlight> is synchronized with the clock signal <highlight><bold>8</bold></highlight>, and the clock signal <highlight><bold>6</bold></highlight> is also synchronized with the clock signal <highlight><bold>8</bold></highlight>. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> The delay circuit (replica circuit) <highlight><bold>402</bold></highlight> is designed to have a delay time which is equal to one period of the clock signal CLK reduced by the sum of the delay time of the data output circuit <highlight><bold>56</bold></highlight> including the output buffer <highlight><bold>57</bold></highlight>, the delay time of the AND gate AND<highlight><bold>1</bold></highlight> or AND<highlight><bold>2</bold></highlight>, the delay time across the route from the clock terminal CLK to the AND gate AND<highlight><bold>1</bold></highlight> or from the clock terminal /CLK to the AND gate AND<highlight><bold>2</bold></highlight>, and the delay time of the clock signal DCLK across the route from the clock input circuit <highlight><bold>2</bold></highlight> to the data output circuit <highlight><bold>56</bold></highlight>. The delay time for replica may be altered when necessary. For example, in case the above-mentioned total delay time is longer than the period of the clock signal CLK, the replica circuit is set to have a delay time which is equal to a multiple of one period of the clock signal CLK reduced by the above-mentioned total delay time </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> shows the circuit arrangement of the clock regenerating circuit <highlight><bold>3</bold></highlight> which is based on DLL operation in place of PLL The DLL circuit includes a phase comparing circuit <highlight><bold>404</bold></highlight>, a charge pump circuit <highlight><bold>405</bold></highlight>, a variable delay circuit <highlight><bold>406</bold></highlight>, and a delay circuit (replica circuit) <highlight><bold>407</bold></highlight>. <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows a specific circuit arrangement of the variable delay circuit <highlight><bold>406</bold></highlight>. The circuit <highlight><bold>406</bold></highlight> is made tip of four logic inverters connected in series in a loop, with each inverter having its delay time varied by the control voltage VC The delay time of the variable delay circuit <highlight><bold>406</bold></highlight> is inversely proportional to the control voltage VC. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> In operation, if the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>407</bold></highlight> lags in phase (or is lower in frequency) relative to the clock signal <highlight><bold>8</bold></highlight>, the phase comparing circuit <highlight><bold>404</bold></highlight> produces an UP signal which reflects any phase difference, causing the charge pump circuit <highlight><bold>405</bold></highlight> to raise the control voltage VC. Consequently, the variable delay circuit <highlight><bold>406</bold></highlight> has its delay time decreased, resulting in a leading phase (rising frequency) of the delay circuit output signal <highlight><bold>408</bold></highlight> Based on this feedback operation, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>407</bold></highlight> is synchronized with the clock signal <highlight><bold>8</bold></highlight>, and the clock signal <highlight><bold>6</bold></highlight> is also synchronized with the clock signal <highlight><bold>8</bold></highlight> </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> If, otherwise, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>407</bold></highlight> leads in phase (or is higher in frequency) relative to the clock signal <highlight><bold>8</bold></highlight>, the phase comparing circuit <highlight><bold>404</bold></highlight> produces a DOWN signal which reflects any phase difference, causing the charge pump circuit <highlight><bold>405</bold></highlight> to lower the control voltage VC. Consequently, the variable delay circuit <highlight><bold>406</bold></highlight> has its delay time increased, resulting in a lagging phase (falling frequency) of the delay circuit output signal <highlight><bold>408</bold></highlight> Based on this feedback operation, the output signal <highlight><bold>408</bold></highlight> of the delay circuit <highlight><bold>407</bold></highlight> is synchronized with the clock signal <highlight><bold>8</bold></highlight>, and the clock signal <highlight><bold>6</bold></highlight> is also synchronized with the clock signal <highlight><bold>8</bold></highlight> </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> Similar to the delay circuit <highlight><bold>402</bold></highlight> of <cross-reference target="DRAWINGS">FIG. 13</cross-reference>, the delay circuit (replica circuit) <highlight><bold>407</bold></highlight> is designed to have a delay time which is equal to one period of the clock signal CLK reduced by the sum of the delay time of the data output circuit <highlight><bold>56</bold></highlight> including the output buffer <highlight><bold>57</bold></highlight>, the delay time of the AND gate AND<highlight><bold>1</bold></highlight> or AND<highlight><bold>2</bold></highlight>, the delay time across the route from the clock terminal CLK to the AND gate AND<highlight><bold>1</bold></highlight> or from the clock terminal /CLK to the AND gate AND<highlight><bold>2</bold></highlight>, and the delay time of the clock signal DCLK across the route from the clock input circuit <highlight><bold>2</bold></highlight> to the data output circuit <highlight><bold>56</bold></highlight> In case the above-mentioned total delay time is longer than the period of the clock signal CLK, the replica circuit is set to have a delay time which is equal to a multiple of one period of the clock signal CLK reduced by the above-mentioned total delay time. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows a specific circuit arrangement of the delay circuit (replica circuit) <highlight><bold>402</bold></highlight> or <highlight><bold>407</bold></highlight> included in the PLL circuit of <cross-reference target="DRAWINGS">FIG. 13</cross-reference> and the DLL circuit of <cross-reference target="DRAWINGS">FIG. 14</cross-reference> </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> In the figure, a p-channel MISFET (metal insulation semiconductor field effect transistor) Q<highlight><bold>1</bold></highlight><highlight><italic>a </italic></highlight>having its gate pulled fixedly to the ground voltage conducts a current, which is caused to flow to an n-channel MISFET Q<highlight><bold>2</bold></highlight><highlight><italic>a </italic></highlight>in diode configuration There are n-channel MISFETs Q<highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>which are in current-mirror connection with the MISFET Q<highlight><bold>2</bold></highlight><highlight><italic>a</italic></highlight>. The MISFETs Q<highlight><bold>4</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>5</bold></highlight><highlight><italic>a </italic></highlight>are connected in series to n-channel MISFETs Q<highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>12</bold></highlight><highlight><italic>a</italic></highlight>, respectively, which form a CMOS inverter circuit. MISFETs will also be called MIS transistors in the following description. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> The current produced by the MIS transistor Q<highlight><bold>1</bold></highlight><highlight><italic>a </italic></highlight>is caused to flow by way of an n-channel MIS transistor Q<highlight><bold>3</bold></highlight><highlight><italic>a </italic></highlight>in current-mirror connection with the MIS transistor Q<highlight><bold>2</bold></highlight><highlight><italic>a </italic></highlight>to a p-channel MIS transistor Q<highlight><bold>6</bold></highlight><highlight><italic>a </italic></highlight>There are p-channel MISFETs Q<highlight><bold>7</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>8</bold></highlight><highlight><italic>a </italic></highlight>which are in current-mirror connection with the MISFET Q<highlight><bold>6</bold></highlight><highlight><italic>a </italic></highlight>The MISFETs Q<highlight><bold>7</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>8</bold></highlight><highlight><italic>a </italic></highlight>are connected in series to p-channel MISFETs Q<highlight><bold>9</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>11</bold></highlight><highlight><italic>a</italic></highlight>, respectively, which form a CMOS inverter circuit. </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> The two CMOS inverter circuits formed by the p-channel MIS transistors Q<highlight><bold>9</bold></highlight><highlight><italic>a </italic></highlight>and <highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>and n-channel MIS transistors Q<highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>produce an output current which corresponds with the current produced by the MIS transistor Q<highlight><bold>1</bold></highlight><highlight><italic>a</italic></highlight>, and the output current determines a signal delay time In this embodiment, the clock signal <highlight><bold>6</bold></highlight> is fed through a logic inverter N<highlight><bold>1</bold></highlight><highlight><italic>a </italic></highlight>to the CMOS inverter transistors Q<highlight><bold>9</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>10</bold></highlight><highlight><italic>a </italic></highlight>of the input stage, and the output signal of the CMOS inverter transistors Q<highlight><bold>11</bold></highlight><highlight><italic>a </italic></highlight>and Q<highlight><bold>12</bold></highlight><highlight><italic>a </italic></highlight>of the output stage is delivered as the clock signal <highlight><bold>408</bold></highlight> through a logic inverter N<highlight><bold>2</bold></highlight><highlight><italic>a. </italic></highlight></paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows a specific circuit arrangement of the charge pump circuit <highlight><bold>401</bold></highlight> or <highlight><bold>405</bold></highlight> included in the PLL circuit of <cross-reference target="DRAWINGS">FIG. 13</cross-reference> and the DLL circuit of <cross-reference target="DRAWINGS">FIG. 14</cross-reference> It is made up of a p-channel MIS transistor Q<highlight><bold>1</bold></highlight><highlight><italic>b </italic></highlight>which receives the UP signal, an n-channel MIS transistor Q<highlight><bold>2</bold></highlight><highlight><italic>b </italic></highlight>which receives the DOWN signal, and a capacitor C which is charged and discharged through the MIS transistors Q<highlight><bold>1</bold></highlight><highlight><italic>b </italic></highlight>and Q<highlight><bold>2</bold></highlight><highlight><italic>b. </italic></highlight></paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> The phase comparing circuits <highlight><bold>400</bold></highlight> and <highlight><bold>404</bold></highlight> included in the PLL circuit and DLL circuit have conventional circuit arrangements, and so explanation of their operations will be omitted </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> shows a specific circuit arrangement of the clock generation circuit <highlight><bold>4</bold></highlight> It is made up of logic inverters INV<highlight><bold>1</bold></highlight>-INV<highlight><bold>15</bold></highlight> and a NAND gate NAND<highlight><bold>4</bold></highlight> </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> The inverter INV<highlight><bold>13</bold></highlight> receives the clock signal CLK and releases the inverted version of CLK to one input of the NAND gate NAND<highlight><bold>4</bold></highlight> The inverter INV<highlight><bold>14</bold></highlight> receives the signal CKE and releases the inverted version of CKE to the input of the inverter INV<highlight><bold>15</bold></highlight>, which releases the inverted version of its input signal to another input of the NAND gate NAND<highlight><bold>4</bold></highlight> The NAND gate NAND<highlight><bold>4</bold></highlight> takes the logical NAND product of the two input signals to produce a clock signal <highlight><bold>7</bold></highlight> Namely, the NAND gate NAND<highlight><bold>4</bold></highlight> responds to a high-level CKE signal to release the clock signal <highlight><bold>7</bold></highlight> which lags from the clock signal CLK by the total delay time of the inverter INV<highlight><bold>13</bold></highlight> and itself Otherwise, when the CKE signal is low, the NAND gate NAND<highlight><bold>4</bold></highlight> releases a high-level output invariably The clock signal <highlight><bold>7</bold></highlight> produced by the clock generation circuit <highlight><bold>10</bold></highlight> lags in phase from the clock signal CLK by the total inherent delay time of the inverter INV<highlight><bold>13</bold></highlight> and NAND gate NAND<highlight><bold>4</bold></highlight> </paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> Returning to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, the selector <highlight><bold>5</bold></highlight> receives the MODE signal as selection control signal from the mode signal generation circuit <highlight><bold>68</bold></highlight> to select the clock signal <highlight><bold>6</bold></highlight> provided by the clock regenerating circuit <highlight><bold>3</bold></highlight> or the clock signal <highlight><bold>7</bold></highlight> provided by the clock generation circuit <highlight><bold>4</bold></highlight>, and releases an internal clock signal DCLK Specifically, the selector <highlight><bold>5</bold></highlight> releases the clock signal <highlight><bold>7</bold></highlight> intact as internal clock signal DCLK in response to a low-level MODE signal, or releases the clock signal <highlight><bold>6</bold></highlight> intact as DCLK in response to a high-level MODE signal It operates by being supplied with the stepped-down power voltage VCL. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> Accordingly, when the semiconductor device configures an SDR-spec SDRAM, the internal clock signal DCLK is produced from the output signal <highlight><bold>7</bold></highlight> of the clock generation circuit <highlight><bold>4</bold></highlight>, or when the semiconductor device configures a DDR-spec SDRAM, the internal clock signal DCLK is produced from the output signal <highlight><bold>6</bold></highlight> of the clock regenerating circuit <highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> The clock input circuit <highlight><bold>2</bold></highlight> is designed to use both the external clock signal CLK and inverted clock signal /CLK when the semiconductor device configures a DDR-spec SDRAM. The circuit <highlight><bold>2</bold></highlight> uses only the external clock signal CLK and ignores the inverted clock signal /CLK when the semiconductor device configures a SDR-spec SDRAM </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> Alternatively, however, the clock input circuit <highlight><bold>2</bold></highlight> may use both the external clock signal CLK and inverted clock signal /CLK in both cases of the DDR-spec SDRAM and SDR-spec SDRAM, or the circuit <highlight><bold>2</bold></highlight> may use only the external clock signal CLK in both cases of the DDR-spec SDRAM and SDR-spec SDRAM. It should be noted that in the latter case, the device will have a smaller margin of legitimacy of CLK clock input as compared with the former case. </paragraph>
</section>
<section>
<heading lvl="1">Input Buffers <highlight><bold>10</bold></highlight> </heading>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> The semiconductor device CHIP has external input terminals, which include a clock enable terminal CKE, chip select terminal ICS, row address strobe command terminal /RAS, column address strobe command terminal /CAS, write enable command terminal /WE, bank select signal terminals BAO and BAI, address terminals AddO-Add<highlight><bold>12</bold></highlight>, and data mask terminal DM, and has input buffers <highlight><bold>10</bold></highlight> connected on their inputs to these external input terminals The input buffers <highlight><bold>10</bold></highlight> amplify the input signals by being supplied with the external power voltage VCC Among the amplified output signals <highlight><bold>11</bold></highlight> through <highlight><bold>18</bold></highlight> released from the input buffers <highlight><bold>10</bold></highlight>, the signals <highlight><bold>11</bold></highlight> through <highlight><bold>16</bold></highlight> are fed to a command state control circuit <highlight><bold>19</bold></highlight>, which will be explained in the following </paragraph>
</section>
<section>
<heading lvl="1">Command State Control Circuit <highlight><bold>19</bold></highlight> </heading>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> The Command state control circuit <highlight><bold>19</bold></highlight>, which operates by being supplied with the stepped-down power voltage VCL, incorporates a decoder <highlight><bold>21</bold></highlight> and a command register <highlight><bold>20</bold></highlight> The decoder <highlight><bold>21</bold></highlight> receives the MODE signal, external input signals <highlight><bold>11</bold></highlight>-<highlight><bold>16</bold></highlight> and clock signal <highlight><bold>7</bold></highlight>, and produces an activation signal ACT, a read signal R, write signals W<highlight><bold>1</bold></highlight> and W<highlight><bold>2</bold></highlight>, and a clock signal D<highlight><bold>1</bold></highlight>CLK based on the received signals. The command register <highlight><bold>20</bold></highlight> is used to hold command information </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> The operation of the command state control circuit <highlight><bold>19</bold></highlight> will be explained later with reference to the timing charts of <cross-reference target="DRAWINGS">FIG. 5</cross-reference> through <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. </paragraph>
</section>
<section>
<heading lvl="1">X-system Address Register </heading>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> The x-system address register X-AddReg fetches and holds a 13-bit x-system address signal AXO-AX<highlight><bold>12</bold></highlight> in response to a transition from low to high of the input control signal <highlight><bold>23</bold></highlight> provided by a control gate circuit which is shown as a logic AND gate AND<highlight><bold>3</bold></highlight>, and releases an x-system internal address signal <highlight><bold>25</bold></highlight> which corresponds to the address signal AXO-AX<highlight><bold>12</bold></highlight> The AND gate AND<highlight><bold>3</bold></highlight> produces the input control signal <highlight><bold>23</bold></highlight> in accordance with the activation signal ACT provided by the command state control circuit <highlight><bold>19</bold></highlight> and the internal clock signal provided by the clock generation circuit <highlight><bold>4</bold></highlight> in the clock input circuit <highlight><bold>2</bold></highlight> The AND gate AND<highlight><bold>3</bold></highlight> and x-system address register X-AddReg operate by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Y-system Address Register </heading>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> The y-system address register Y-AddReg fetches and holds a 9-bit y-system address signal AYO-AY<highlight><bold>8</bold></highlight> in response to a low-to-high transition of the input control signal <highlight><bold>24</bold></highlight> provided by a control gate circuit which is shown as a logic OR gate OR<highlight><bold>1</bold></highlight>, and releases a y-system internal address signal <highlight><bold>26</bold></highlight> which corresponds to the address signal AYO-AY<highlight><bold>8</bold></highlight> The OR gate OR<highlight><bold>1</bold></highlight> and y-system address register Y-AddReg operate by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Write Address Shift Register <highlight><bold>27</bold></highlight> </heading>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> The write address shift register <highlight><bold>27</bold></highlight> is made up of AND gates AND<highlight><bold>4</bold></highlight> and AND<highlight><bold>5</bold></highlight>, shift registers <highlight><bold>32</bold></highlight> and <highlight><bold>33</bold></highlight>, and a selector <highlight><bold>34</bold></highlight> The AND gate AND<highlight><bold>4</bold></highlight> receives the MODE signal from the mode signal generation circuit <highlight><bold>68</bold></highlight> and the write signal W<highlight><bold>1</bold></highlight> from the command state control circuit <highlight><bold>19</bold></highlight>, and releases a control signal <highlight><bold>30</bold></highlight> The AND gate AND<highlight><bold>5</bold></highlight> receives the clock signal <highlight><bold>7</bold></highlight> and write signal WI, and releases a control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a </italic></highlight></paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> The shift register <highlight><bold>32</bold></highlight> fetches and holds the y-system address signal <highlight><bold>26</bold></highlight> in response to a low-to-high transition of the control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a</italic></highlight>, and releases a y-system address signal <highlight><bold>28</bold></highlight> which corresponds to the signal <highlight><bold>26</bold></highlight>. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> The shift register <highlight><bold>33</bold></highlight> fetches and holds the y-system address signal <highlight><bold>28</bold></highlight> at the timing of the control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a</italic></highlight>, and releases a y-system address signal <highlight><bold>29</bold></highlight> which corresponds to the signal <highlight><bold>28</bold></highlight> More specifically, the y-system address signal <highlight><bold>26</bold></highlight> is held by the shift register <highlight><bold>32</bold></highlight> at a low-to-high transition of the control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a</italic></highlight>, and thereafter the y-system address signal <highlight><bold>28</bold></highlight> is held by tile shift register <highlight><bold>33</bold></highlight> at the next low-to-high transition of the control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a </italic></highlight>Accordingly, the y-system address signal <highlight><bold>26</bold></highlight> is delayed by two clock cycles of the control clock signal <highlight><bold>27</bold></highlight><highlight><italic>a </italic></highlight>by the shift registers <highlight><bold>32</bold></highlight> and <highlight><bold>33</bold></highlight> to become the y-system address signal <highlight><bold>29</bold></highlight>, which is then fed to the selector <highlight><bold>34</bold></highlight> </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> The selector <highlight><bold>34</bold></highlight> receives the y-system address signals <highlight><bold>26</bold></highlight> and <highlight><bold>29</bold></highlight>, selects one of these address signals in accordance with the control signal <highlight><bold>30</bold></highlight>, and releases the selected address signal as y-system address signal <highlight><bold>31</bold></highlight> With the write signal W<highlight><bold>1</bold></highlight> being high for the data writing operation, the selector <highlight><bold>34</bold></highlight> operates depending on the level of the MODE signal </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> Based on this operation of the selector <highlight><bold>34</bold></highlight>, the write address shift register <highlight><bold>27</bold></highlight> releases the y-system address signal <highlight><bold>26</bold></highlight> as y-system address signal <highlight><bold>31</bold></highlight> in response to a low-level MODE signal which specifies the configuration of SDR-spec SDRAM, or otherwise it releases the y-system address signal <highlight><bold>29</bold></highlight> as y-system address signals <highlight><bold>31</bold></highlight> in response to a high-level MODE signal which specifies the configuration of DDR-spec SDRAM </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> The selector <highlight><bold>34</bold></highlight> releases the y-system address signal <highlight><bold>29</bold></highlight> at a timing which is later by two cycles of the clock signal <highlight><bold>7</bold></highlight> than the timing of release of the y-system address signal <highlight><bold>26</bold></highlight> The y-system address signals <highlight><bold>26</bold></highlight> and <highlight><bold>29</bold></highlight> have the same numeric address value </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> The reason for the foregoing control of the y-system address is to optimize the device operation for both cases of the SDR-spec SDRAM and DDR-spec SDRAM which have different timing relations of the write command input and y-system address input Specifically, in the case of the SDR-spec SDRVM, the y-system address is entered at the same timing or in the same clock cycle as the write command input, whereas in the case of the DDR-spec SDRAM, the y-system address is entered at the next timing or in the next clock cycle after the write command input </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> In consequence, the SDR-spec SDRAM begins the decoding of the y-system address signal <highlight><bold>31</bold></highlight> provided by the write address shift register <highlight><bold>27</bold></highlight> for the y-system selection (column selection) in the same clock cycle as the entry of the write command, whereas the DDR-spec SDRAM begins the decoding of the y-system address signal <highlight><bold>31</bold></highlight> for the y-system selection in the next clock cycle after the entry of the write command. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> All circuits included in the write address shift register <highlight><bold>27</bold></highlight> operate by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">DQS generation circuit <highlight><bold>59</bold></highlight> </heading>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> The DQS generation circuit <highlight><bold>59</bold></highlight> receives the external power voltage VCC, stepped-down power voltage VCL, clock signal <highlight><bold>7</bold></highlight>, clock signal DCLK, MODE signal, and read signal R, and produces a data strobe signal DQS based on these voltages and signals. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> When the MODE signal is high to configure a DDR-spec SDRAM, the DOS generation circuit <highlight><bold>59</bold></highlight> produces and delivers to the DQS terminal a data strobe signal DQS which sets the transitions of its level in synchronism with the timing of data output from the data terminals DQO-DQ<highlight><bold>15</bold></highlight> </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The circuit <highlight><bold>59</bold></highlight> receives a read signal R which is information on the CAS latency and burst length of the data to be output, and produces a data strobe signal DQS which makes a certain number of transitions at a certain timing based on this information. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> When the MODE signal is low to configure a SDR-spec SDRAM, the DQS generation circuit <highlight><bold>59</bold></highlight> has an output of high-impedance state </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> The data read-out operation of the DDR-spec SDRAM will be explained in more detail by taking an example of the case where the CAS latency is 2 and the burst length is 4 </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> On receiving a read signal R having information which specifies a CAS latency of 2 and a burst length of 4, the DQS generation circuit <highlight><bold>59</bold></highlight> produces a data strobe signal DQS as follows </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> The data strobe signal DQS turns from the high-impedance state to the low level and retains the low level for at least a {fraction (3/4)} period of the clock signal CLK The transition from the high-impedance state to the low level is timed to the rising edge of the clock signal <highlight><bold>7</bold></highlight> which sets the transition at the rising edge of the clock signal CLK after one (CAS latency subtracted by 1) CLK period following the rising edge of CLK at which the circuit has received the read command </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> Subsequently, the data strobe signal DQS sets four consecutive transitions for the burst in synchronism with the clock signal DCLK Synchronization with DCLK is intended to synchronize, the output of DQS with the timing of data output to the terminals DQO-DQ<highlight><bold>15</bold></highlight> by the data output circuits <highlight><bold>56</bold></highlight> which takes place in synchronism with DCLK. The data strobe signal DQS sets the first low-to-high transition at the rising edge of the clock signal DCLK which makes the transition at the rising edge of the clock signal CLK after two ((CAS latency) CLK periods following the rising edge of CLK at which the circuit has received the read command </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> The DQS generation circuit <highlight><bold>59</bold></highlight> includes an output buffer (not shown) for the data strobe signal DQS, which has a level shift function and operates by being supplied with the external power voltage VCC. Other circuits (not shown) which constitute the DQS generation circuit <highlight><bold>59</bold></highlight> in unison operate by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Logic circuit <highlight><bold>42</bold></highlight> </heading>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> The logic circuit <highlight><bold>42</bold></highlight>, which functions to control the switching of the global data lines in correspondence to the SDR mode and DDR mode, receives the MODE signal and address bit AYO out of the y-system address signal, and produces control signals /MODE&plus;MODE*AYO and /MODE&plus;MODE*/AYO The control signal /MODE&plus;MODE*AYO results from the logical product of the MODE signal and the address bit AYO, and the logical sum of the result and the inverted MODE signal. The control signal /MODE-&plus;MODE*/AYO results from the logical product of the MODE signal and the inverted address bit AYO, and the logical sum of that result and the inverted MODE signal. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> The output control signal from the logic circuit <highlight><bold>42</bold></highlight> and global data line switching control will be explained in more detail in connection with <cross-reference target="DRAWINGS">FIG. 4</cross-reference> </paragraph>
</section>
<section>
<heading lvl="1">Burst Counter BC </heading>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> The burst counter BC, which functions to control the burst transfer of SDRAM data, receives three address bits <highlight><bold>43</bold></highlight> out of the 9-bit y-system address signal <highlight><bold>31</bold></highlight> provided by the write address shift register <highlight><bold>27</bold></highlight> so that this address value is preset to it, and counts up, i e, adds 1 to the contents having an initial value of address bit <highlight><bold>43</bold></highlight>, in response to the low-to-high transition of the clock signal <highlight><bold>7</bold></highlight> </paragraph>
</section>
<section>
<heading lvl="1">Memory Banks </heading>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> Among the four memory banks BankO-Bank<highlight><bold>3</bold></highlight> of the semiconductor device shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, only two memory banks BankO and Bank<highlight><bold>2</bold></highlight> are shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> for the simplicity of illustration. Although the memory bank BankO has four memory arrays as shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>, only two memory arrays MAY<highlight><bold>1</bold></highlight> and MAY<highlight><bold>2</bold></highlight> are shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> The memory array MAY<highlight><bold>1</bold></highlight> has two memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>2</bold></highlight>, and the memory array MAY<highlight><bold>2</bold></highlight> also has two memory mats MAT<highlight><bold>3</bold></highlight> and MAT<highlight><bold>4</bold></highlight>, as explained previously in connection with <cross-reference target="DRAWINGS">FIG. 1</cross-reference> </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> Each memory array includes word lines WL, data line pairs DL, memory cells MC connected to the word lines and data lines, and sense amplifiers SA connected to the data line pairs (all not shown) as explained previously. The memory cell MC is a dynamic memory cell The sense amplifier SA amplifies a data signal which has been read out of a memory cell onto the data line pair DL and amplifies a data signal to be stored provided by the data writing circuits. The memory bank has word lines of 8192 (8K) in number, for example </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> Further shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> are sub word line drivers <highlight><bold>45</bold></highlight> and main word line drivers <highlight><bold>46</bold></highlight> included in the memory array The sub word line drivers <highlight><bold>45</bold></highlight>, which drive the word lines, have a function of decoding the signals provided by the main word line drivers <highlight><bold>46</bold></highlight> by receiving decoded signals <highlight><bold>47</bold></highlight> from the x-address decoder XDEC, thereby to produce word line select signals </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> The sense amplifiers SA are supplied with the stepped-down power voltage VDL, while sub word line drivers <highlight><bold>45</bold></highlight> and main word line drivers <highlight><bold>46</bold></highlight> are supplied with the stepped-up voltage Vpp Accordingly, the sense amplifiers SA release amplified signals having a level of VDL, which are rewritten into selected memory cells The sub word line drivers <highlight><bold>45</bold></highlight> produce word line selecting signals having a level of the high power Vpp, so that memory cell selecting MOSFETs are brought to a deep conduction state </paragraph>
</section>
<section>
<heading lvl="1">X-address Decoder </heading>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> The x-address decoder XDEC receives a 13-bit x-system address signal <highlight><bold>25</bold></highlight>, and decodes the signal <highlight><bold>25</bold></highlight> into signals <highlight><bold>47</bold></highlight>. The decoded signals <highlight><bold>47</bold></highlight> are given to the sub word line drivers <highlight><bold>45</bold></highlight> and main word line drivers <highlight><bold>46</bold></highlight> The x-address decoder XDEC, sub word line drivers <highlight><bold>45</bold></highlight> and main word line drivers <highlight><bold>46</bold></highlight> operate in unison to select one of 8K word lines mentioned above The x-address decoder XDEC operates by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Y-address Pre-decoder </heading>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> The y-address pre-decoder implements the pre-decoding of the y-system address signal, i e, 6-bit y-system address signal <highlight><bold>49</bold></highlight> from the write address shift register <highlight><bold>27</bold></highlight> and 3-bit y-system address signal <highlight><bold>44</bold></highlight> from the burst counter BC thereby to produce pre-decoded signals <highlight><bold>48</bold></highlight>. The pre-decoded signals <highlight><bold>48</bold></highlight> are fed to the y-system decoder YDEC The y-address pre-decoder YDEC operates by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Y-address Decoder </heading>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> The y-address decoder receives the pre-decoded signals <highlight><bold>48</bold></highlight> and selects one of y-selection lines YS included in the corresponding memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>4</bold></highlight> The y-address decoder operates by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Read/Write Control Circuit <highlight><bold>50</bold></highlight> </heading>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> The read/write control circuit <highlight><bold>50</bold></highlight> receives the clock signal <highlight><bold>7</bold></highlight>, read control signal R, write control signal W<highlight><bold>2</bold></highlight>, y-system address signal AYO and data mask signal <highlight><bold>39</bold></highlight>, and produces a main amplifier enable signal MAE and write buffer enable signal WAE </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> The MAE signal shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is actually eight signals MAE<highlight><bold>1</bold></highlight>-MAE<highlight><bold>8</bold></highlight> corresponding to eight main amplifiers MA<highlight><bold>1</bold></highlight> provided for the eight memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> of the memory bank Bank<highlight><bold>0</bold></highlight>, of which only two sets of them are shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> The main amplifier enable signals MAE<highlight><bold>1</bold></highlight>-MAE<highlight><bold>8</bold></highlight> are controlled by the y-system address bit AYO and MODE signal. specifically, when the MODE signal is high to configure a DDR-spec SDRAM, these signals MAE<highlight><bold>1</bold></highlight>-MAE<highlight><bold>8</bold></highlight> are controlled in common regardless of the y-system address bit AYO in the read-out operation otherwise, when the MODE signal is low to configure a SDR-spec SDRAM, the signals MAE<highlight><bold>1</bold></highlight>, MAE<highlight><bold>3</bold></highlight>, MAE<highlight><bold>5</bold></highlight> and MAE<highlight><bold>7</bold></highlight> are controlled in common and the signals MAE<highlight><bold>2</bold></highlight>, MAE<highlight><bold>4</bold></highlight>, MAE<highlight><bold>6</bold></highlight> and NAE<highlight><bold>8</bold></highlight> are controlled in common in the read-out operation, so that the former signals MAE<highlight><bold>1</bold></highlight>-MAE<highlight><bold>7</bold></highlight> and latter signals MAE<highlight><bold>2</bold></highlight>-MAE<highlight><bold>8</bold></highlight> are brought in common to the select-state and non-select state, respectively, or brought to the non-select-state and select-state, respectively, depending on the y-system address bit AYO </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> The write buffer enable signal WAF shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> is actually eight signals WAE<highlight><bold>1</bold></highlight>-WAE<highlight><bold>8</bold></highlight> corresponding to the eight memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> of the memory bank BankO, of which only two sets of them are shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> These signals WAE<highlight><bold>1</bold></highlight>-WAE<highlight><bold>8</bold></highlight> are controlled by the y-system address bit AYO and MODE signal Specifically, when the MODE signal is high to configure a DDR-spec SDRAM, these signals WAE<highlight><bold>1</bold></highlight>-WAE<highlight><bold>8</bold></highlight> are controlled in common regardless of the y-system address bit AYO in the write operation Otherwise, when the MODE signal is low to configure a SDR-spec SDRAM, the signals WAE<highlight><bold>1</bold></highlight>, WAE<highlight><bold>3</bold></highlight>, WAE<highlight><bold>5</bold></highlight> and WAE<highlight><bold>7</bold></highlight> are controlled in common and the signals WAF<highlight><bold>2</bold></highlight>, WAE<highlight><bold>4</bold></highlight>, WAE<highlight><bold>6</bold></highlight> and WAE<highlight><bold>8</bold></highlight> are controlled commonly in the write operation, so that the former signals WAE<highlight><bold>1</bold></highlight>-WAE<highlight><bold>7</bold></highlight> and latter signals WAE<highlight><bold>2</bold></highlight>-WAE<highlight><bold>8</bold></highlight> are brought in common to the select-state and non-select state, respectively, or brought to the non-select-state and select-state, respectively, depending on the y-system address bit AYO </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> The read/write control circuit <highlight><bold>50</bold></highlight> operates by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Input/output Circuits </heading>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows four input circuits INT<highlight><bold>1</bold></highlight>-INT<highlight><bold>4</bold></highlight> out of the INT<highlight><bold>1</bold></highlight>-INT<highlight><bold>32</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> Each input circuit INT includes a main amplifier MAI, a write buffer WB, and a selection circuit SEL The main amplifier MAL is activated by the main amplifier enable signal MAE to amplify a data signal coming in over the main data line (not shown) of the associated memory mat and deliver the output signal to the associated selection circuit. </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> The write buffer WB is activated by the write buffer enable signal WAE to conduct a data signal coming in through the associated selection circuit onto the data line (not shown) of the associated memory mat. The selection circuit SEL is located logically between the main amplifier MAL and write buffer WB and the global data lines </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> Accordingly, data read out of a memory mat onto the main data line pair MIO is transferred to the global I/O line pair GIO by way of the main amplifier MAL and selection circuit SEL Data to be stored coming over the global I/O line pair GIO is transferred to the main data line pair MIO by way of the selection circuit SEL and write buffer WB </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> The selection circuits SL<highlight><bold>1</bold></highlight>-SL<highlight><bold>4</bold></highlight> are connected to the grouped global data lines mentioned previously, and operate in the SDR mode or DDR mode by being controlled by the control signal from the logic circuit <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> Specifically, the selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>4</bold></highlight> are connected to a group of global data line pairs GIO<highlight><bold>16</bold></highlight>-GIO<highlight><bold>23</bold></highlight>, while the selection circuits SEL<highlight><bold>2</bold></highlight> and SEL<highlight><bold>3</bold></highlight> are connected to another group of global data line pairs GIO<highlight><bold>24</bold></highlight>-GIO<highlight><bold>31</bold></highlight>. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> The selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>2</bold></highlight> receive the logic signal /MODE&plus;MODE*AYO and MODE signal, and have their selection state determined by these signals, i.e., whether the main amplifiers MAL or write buffers WB are connected to the global data line pairs Similarly, the selection circuits SEL<highlight><bold>3</bold></highlight> and SEL<highlight><bold>4</bold></highlight> receive the logic signal /MODE-MODE*/AYO and MODE signal, and have their selection state determined by these signals, i e, whether the main amplifiers MAL or write buffers WB are connected to the global data line pairs </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> The main amplifiers MA<highlight><bold>1</bold></highlight>, write buffers WB and selection circuits SL<highlight><bold>1</bold></highlight>-SL<highlight><bold>4</bold></highlight> operate by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Global I/O Line Drivers </heading>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> The global I/O line driver GIO-DR is connected between the data input circuit <highlight><bold>52</bold></highlight> and the global data line pair GIOO-GIO<highlight><bold>31</bold></highlight>, and it operates in accordance with the clock signal DICLK and MODE signal to place the signal <highlight><bold>51</bold></highlight> from the data input circuit <highlight><bold>52</bold></highlight> on a corresponding global data line pair Global I/O line drivers GIO-DR are provided for the global data line pairs individually, although only one is shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> It operates by being supplied with the stepped-down power voltage VCL </paragraph>
</section>
<section>
<heading lvl="1">Data Input Circuit <highlight><bold>52</bold></highlight> </heading>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> The data input circuit <highlight><bold>52</bold></highlight> is connected between the external data terminals DQO-DQ<highlight><bold>15</bold></highlight> and global I/O line drivers GIO-DR, and it operates in accordance with the MODE signal, data strobe clock signal DQSCLK and data input clock signal DICLK from the command state control circuit <highlight><bold>19</bold></highlight> to conduct the input data signals on the terminals DQO-DQ<highlight><bold>15</bold></highlight> to the global I/O line drivers GIO-DR The data input circuit <highlight><bold>52</bold></highlight> includes an input buffer <highlight><bold>54</bold></highlight> and a serial-to-parallel converter <highlight><bold>53</bold></highlight> provided for each of the <highlight><bold>16</bold></highlight> data terminals DQO-DQ<highlight><bold>15</bold></highlight>, although only one set is shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> The serial-to-parallel converter <highlight><bold>53</bold></highlight> operates in accordance with the MODE signal and clock signals DQSCLK and DICLK In DDR mode, it converts 2-bit serial data <highlight><bold>55</bold></highlight> which is entered at each transition of the clock signal CLK into 2-bit parallel data The covered data <highlight><bold>51</bold></highlight> is fed to the global I/O line driver GIO-DR </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> The input buffer <highlight><bold>54</bold></highlight> operates by being supplied with the external power voltage VCC, while the serial-to-parallel converter <highlight><bold>53</bold></highlight> is supplied with the stepped-down power voltage VCL </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> The data input circuit <highlight><bold>52</bold></highlight> will be explained in more detail in connection with the timing charts of <cross-reference target="DRAWINGS">FIG. 5</cross-reference> and following figures </paragraph>
</section>
<section>
<heading lvl="1">Data Output Circuit <highlight><bold>56</bold></highlight> </heading>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> The data output circuit <highlight><bold>56</bold></highlight> is connected between the global data line pairs GIOO-GIO<highlight><bold>31</bold></highlight> and external data terminals DQO-DQ<highlight><bold>15</bold></highlight> in correspondence to the 16 terminals DQO-DQ<highlight><bold>15</bold></highlight>, and it is made up of an output buffer <highlight><bold>57</bold></highlight> and a parallel-to-serial converter <highlight><bold>58</bold></highlight>, although only one set is shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> The parallel-to-serial converter <highlight><bold>58</bold></highlight> has a main output amplifier MA<highlight><bold>2</bold></highlight> with its input connected to one of the global data line pairs GIO<highlight><bold>16</bold></highlight>-GIO<highlight><bold>23</bold></highlight> of one group, and another main output amplifier MA<highlight><bold>2</bold></highlight> with its input connected to one of the global data line pairs GIO<highlight><bold>24</bold></highlight>-GIO<highlight><bold>31</bold></highlight> of another group </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> The parallel-to-serial converter <highlight><bold>58</bold></highlight> operates in accordance with the clock signal DCLK, MODE signal and RAE signal. In the DDR mode, it converts the 2-bit parallel data coming in over global data line pairs of two groups into 2-bit serial data The converted data is delivered through the output buffer <highlight><bold>57</bold></highlight> to the corresponding external data terminal DQ The parallel-to-serial converter <highlight><bold>58</bold></highlight> operates by being supplied with the stepped-down power voltage VCL, while the output buffer <highlight><bold>57</bold></highlight> is supplied with the external power voltage VCC. The data output circuit <highlight><bold>56</bold></highlight> further includes main amplifiers MA<highlight><bold>2</bold></highlight> corresponding to the global data line pairs GIOOO-GIO<highlight><bold>15</bold></highlight>, although these amplifiers are omitted in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> The data output circuit <highlight><bold>56</bold></highlight> will be explained in more detail in connection with the timing charts of <cross-reference target="DRAWINGS">FIG. 5</cross-reference> and following figures </paragraph>
</section>
<section>
<heading lvl="1">DQS Generation Circuit <highlight><bold>59</bold></highlight> </heading>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> The DQS generation circuit <highlight><bold>59</bold></highlight> functions for the data read-out operation of a DDR-spec SDRAM to produce a data strobe signal DQs for data output to the data terminals DQO-DQ<highlight><bold>15</bold></highlight> The circuit <highlight><bold>59</bold></highlight> receives the external power voltage VCC, stepped-down power voltage VCL, clock signal <highlight><bold>7</bold></highlight>, clock signal DCLK, MODE signal and read signal R, and produces a data strobe signal DQS to be delivered to the external terminal DQS based on these voltages and signals </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> When the MODE signal is high to configure a DDR-spec SDRAM, the DQS signal sets transitions of its level in synchronism with the timing of data output from the data terminals DQO-DQ<highlight><bold>15</bold></highlight>. The data strobe signal DQS makes a certain number of transitions based on information on the CAS latency and burst length of the data to be output to the data terminals DQO-DQ<highlight><bold>15</bold></highlight>. </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> When the MODE signal is low to configure a SDR-spec SDRAM, the DQS generation circuit <highlight><bold>59</bold></highlight> has an output of high-impedance state </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> The read-out operation for the DDR-spec SDRAM will be explained in more detail by taking an example of the case where the CAS latency is 2 and the burst length is 4. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> On receiving a read signal R having information which specifies a CAS latency of 2 and a burst length of 4, the DQS generation circuit <highlight><bold>59</bold></highlight> produces a data strobe signal DQS as follows </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> The data strobe signal DQS turns from the high-impedance state to the low level and retains the low level for at least a &frac34; period of the clock signal CLK. The transition from the high-impedance state to the low level is timed to the rising edge of the clock signal <highlight><bold>7</bold></highlight> which makes the transition at the rising edge of the clock signal CLK after one (CAS latency subtracted by 1) CLK period following the rising edge of CLK at which the circuit has received the read command </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> Subsequently, the data strobe signal DQS sets four consecutive transitions for the burst in synchronism with the clock signal DCLK. Synchronization with DCLK is intended to synchronize the output of DQS with the timing of data output to the terminals DQO-DQ<highlight><bold>15</bold></highlight> by the data output circuits <highlight><bold>56</bold></highlight> which takes place in synchronism with DCLK. The data strobe signal DQS sets the first low-to-high transition at the rising edge of the clock signal DCLK which makes the transition at the rising edge of the clock signal CLK after two (CAS latency) CLK periods following the rising edge of CLK at which the circuit has received the read command </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> The DQS generation circuit <highlight><bold>59</bold></highlight> includes an output buffer (not shown) for the data strobe signal DQS, which has a level shift function and operates by being supplied with the external power voltage VCC Other circuits (not shown) which constitute the DQS generation circuit <highlight><bold>59</bold></highlight> in unison operate by being supplied with the stepped-down power voltage VCL. (Mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight>) </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> The mode signal generation circuit (or signal generation circuit) <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> produces a mode signal (or selection signal) MODE having its level determined by the input signal OPT received on the external terminal OPT </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> The OPT signal specifies whether the semiconductor device CHIP operates as a SDR-spec SDRAM or DDR-spec SDRAM Conceivably, it can be a mode setting signal for specifying the SDR mode or DDR mode of the semiconductor device, or it can be an option setting signal for choosing the SDR-spec or DDR-spec of the semiconductor device </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> The MODE signal has is levels defined as follows, although no limitation is imposed on the invention in this regard A high-level MODE signal instructs the semiconductor device to configure a DDR-spec SDRAM, while a low-level MODE signal instructs the device to configure an SDR-spec SDRAM </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows a specific circuit arrangement of the mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight>. It includes a preset bias circuit and a latch circuit The preset bias circuit gives the external terminal OPT a bias voltage which is one logic level such as the power voltage VCC Accordingly, the OPT terminal has the one logic level if it is not pulled to an external voltage through an external wiring such as a bonded wire, or has the external voltage level if it is supplied with the voltage through the external wiring. This circuit design is beneficial in terms of allowing the setting of the OPT terminal to one logic level without the need of an external wiring. </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> The mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> receives a reset signal RST which is produced by the voltage generation circuit <highlight><bold>1</bold></highlight> such that it retains a reset level for a certain duration after the power voltage VCC has been applied to the device The preset bias circuit operates only in the short duration of the reset signal RST upon turn-on of VCC, and the latch circuit fetches the then voltage level of the OPT terminal This temporary operation of the preset bias circuit is also significant in terms of power saving during the steady operation of the device. </paragraph>
</section>
<section>
<heading lvl="1">Circuit Blocks Controlled by MODE Signal </heading>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> Among the circuit blocks explained in connection with <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, those controlled by the MODE signal are the clock input circuit <highlight><bold>2</bold></highlight>, command state control circuit <highlight><bold>19</bold></highlight>, write address shift register <highlight><bold>27</bold></highlight>, mask control circuit <highlight><bold>35</bold></highlight>, logic circuit <highlight><bold>42</bold></highlight>, data output circuit <highlight><bold>56</bold></highlight>, data input circuit <highlight><bold>52</bold></highlight>, and selection circuits SEL<highlight><bold>1</bold></highlight>-SEL<highlight><bold>4</bold></highlight> in the input/output circuit INT These circuits are controlled depending on whether the semiconductor device configures a SDR-spec SDRAM or DDR-spec SDRAM. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows the details of the memory bank Bank<highlight><bold>0</bold></highlight>, selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>4</bold></highlight>, data output circuit <highlight><bold>56</bold></highlight>, and data input circuit <highlight><bold>52</bold></highlight> The control of the selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>4</bold></highlight>, data output circuit <highlight><bold>56</bold></highlight> and data input circuit <highlight><bold>52</bold></highlight> by the MODE signal will be explained in detail </paragraph>
</section>
<section>
<heading lvl="1">Memory Bank BankO </heading>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> The memory bank BankO includes eight memory mat MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> as mentioned previously, of which two memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> The memory mats MAT<highlight><bold>1</bold></highlight>-MAT<highlight><bold>8</bold></highlight> are accessed simultaneously in the case of the SDR-spec SDRAM. Indicated by MI<highlight><bold>01</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a main I/O line pair or main data line pair provided f or the memory mat MAT<highlight><bold>1</bold></highlight>. There are provided a main amplifier MA<highlight><bold>1</bold></highlight> and a write buffer WB in correspondence to the main I/O line pair MIO<highlight><bold>1</bold></highlight> </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> Each memory mat is provided with main I/O line pairs, main amplifiers and write buffers equal in number to the number of bits accessed simultaneously. In this embodiment, one memory mat, e g, MAT<highlight><bold>1</bold></highlight>, is designed to write and read out four bits, as also shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> Accordingly, the memory mat MAT<highlight><bold>1</bold></highlight> has four main I/O line pairs, four main amplifiers, and four write buffers, although only one set of MIO<highlight><bold>1</bold></highlight>, MA<highlight><bold>1</bold></highlight> and WB are shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> Similarly, only one set of MI<highlight><bold>01</bold></highlight>, MA<highlight><bold>1</bold></highlight> and WB are shown for the memory mat MAT<highlight><bold>4</bold></highlight> </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> Depending on the hierarchical data line structure, the main I/O line pairs are connected with multiple local I/O line pairs (not shown) through switches (not shown) The local I/O line pairs are connected with multiple data line pairs through Y switches (not shown) The data line pairs are connected with sense amplifiers and dynamic memory cells </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> Each memory cell includes a MIS transistor having its gate connected as memory cell selection terminal to a word line, and a capacitor connected between one end of the source-drain path of the MIS transistor and the common electrode which is supplied with VDL/2 The source-drain path has another end connected to one of the data line pair </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> The main amplifier MA<highlight><bold>1</bold></highlight> has its pair of input terminals connected to the main I/O line pair MIO<highlight><bold>1</bold></highlight>, and its pair of output terminals connected to input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> of the selection circuit SEL<highlight><bold>1</bold></highlight> The main amplifier MA<highlight><bold>1</bold></highlight> is activated or deactivated by the main amplifier enable signal MAE from the read/write control circuit <highlight><bold>50</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) </paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> Specifically, the amplifier MA<highlight><bold>1</bold></highlight> responds to a high-level enable signal MAE to amplify complementary data signals on the main I/O line pair MIO<highlight><bold>1</bold></highlight> and place the amplified complementary output signals on the input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> It responds to a low-level enable signal MAE to bring both input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> to the high level so that all logic NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> of the selection circuit SEL<highlight><bold>1</bold></highlight> release low-level outputs. </paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> The write buffer WB has its pair of input terminals connected to the output signal lines <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> of the selection circuit SEL<highlight><bold>1</bold></highlight>, and its pair of output terminals connected to the main I/O line pair MI<highlight><bold>01</bold></highlight> The write buffer WB is activated or deactivated by the write buffer enable signal WAE from the read/write control circuit <highlight><bold>50</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) Specifically, the buffer WB responds to a low-level enable signal WAE to bring its output terminals to a high-impedance (or floating) state It responds to a high-level enable signal WAE to place the complementary data signals received from the output signal lines <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> of the selection circuit SELI on the main I/O line pair MI<highlight><bold>01</bold></highlight>. </paragraph>
</section>
<section>
<heading lvl="1">Selection Circuit SELL </heading>
<paragraph id="P-0232" lvl="0"><number>&lsqb;0232&rsqb;</number> The selection circuit SEL<highlight><bold>1</bold></highlight> is made up of logic inverters INV<highlight><bold>1</bold></highlight> and INV<highlight><bold>2</bold></highlight>, NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> n-channel MIS transistors N<highlight><bold>1</bold></highlight>-N<highlight><bold>4</bold></highlight>, and p-channel MIS transistors P<highlight><bold>1</bold></highlight>-P<highlight><bold>4</bold></highlight> The input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> are a pair of complementary input signal lines, on which the amplified complementary data signals from the main amplifier MA<highlight><bold>1</bold></highlight> are placed as mentioned above </paragraph>
<paragraph id="P-0233" lvl="0"><number>&lsqb;0233&rsqb;</number> The NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> virtually serve as switches which receive the MODE signal from the mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 2</cross-reference>) as a switching control signal </paragraph>
<paragraph id="P-0234" lvl="0"><number>&lsqb;0234&rsqb;</number> Specifically, the NOR gates NOR<highlight><bold>2</bold></highlight> and NOR<highlight><bold>4</bold></highlight> respond to a low-level MODE signal indicative of SDR mode to conduct and release the input signal pair coming in over the input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> At this time, the inverter INV<highlight><bold>2</bold></highlight>, which releases a high-level output due to the low-level MODE signal, causes the NOR gates NOR<highlight><bold>1</bold></highlight> and NOR<highlight><bold>3</bold></highlight> to produce low-level outputs regardless of the levels of the input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight>. </paragraph>
<paragraph id="P-0235" lvl="0"><number>&lsqb;0235&rsqb;</number> Namely, the signal paths through the NOR gates NOR<highlight><bold>2</bold></highlight> and NOR<highlight><bold>4</bold></highlight> are granted, while the signal paths through the NOR gates NOR<highlight><bold>1</bold></highlight> and NOR<highlight><bold>3</bold></highlight> are negated in response to the low-level MODE signal </paragraph>
<paragraph id="P-0236" lvl="0"><number>&lsqb;0236&rsqb;</number> Otherwise, in response to a high-level MODE signal indicative of the DDR mode, the inverter INV<highlight><bold>2</bold></highlight> releases a low-level output, causing the NOR gates NOR<highlight><bold>1</bold></highlight> and NOR<highlight><bold>3</bold></highlight> to conduct and release the input signal pair coming in over the input signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight>, and the NOR gates NOR<highlight><bold>2</bold></highlight> and NOR<highlight><bold>4</bold></highlight> produce low-level outputs. Namely, the signal paths through the NOR gates NOR<highlight><bold>1</bold></highlight> and NOR<highlight><bold>3</bold></highlight> are granted, while the signal paths through the NOR gates NOR<highlight><bold>2</bold></highlight> and NOR<highlight><bold>4</bold></highlight> are negated in response to the high-level MODE signal </paragraph>
<paragraph id="P-0237" lvl="0"><number>&lsqb;0237&rsqb;</number> The n-channel MIS transistors N<highlight><bold>1</bold></highlight>-N<highlight><bold>4</bold></highlight>, which constitute data output elements for driving the global I/O lines, have their gates connected to the outputs of the corresponding NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> and their source-drain paths connected between the corresponding signal lines <highlight><bold>105</bold></highlight>-<highlight><bold>108</bold></highlight> and the reference voltage source (ground voltage GND) of the device The signal lines <highlight><bold>105</bold></highlight> and <highlight><bold>106</bold></highlight> are the global I/O line pair GIO<highlight><bold>16</bold></highlight> and the signal lines <highlight><bold>107</bold></highlight> and <highlight><bold>108</bold></highlight> are the global I/O line pair GIO<highlight><bold>17</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> </paragraph>
<paragraph id="P-0238" lvl="0"><number>&lsqb;0238&rsqb;</number> The inverter INV<highlight><bold>2</bold></highlight>, NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> and MIS transistors N<highlight><bold>1</bold></highlight>-N<highlight><bold>4</bold></highlight> form in unison the output switching circuit of the selection circuit SEL<highlight><bold>1</bold></highlight>. The p-channel MIS transistors P<highlight><bold>1</bold></highlight>-P<highlight><bold>4</bold></highlight> in the selection circuit SELI form write data selectors which are controlled by the control signal /MODE&plus;MODE*AYO provided by the logic circuit <highlight><bold>42</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) </paragraph>
<paragraph id="P-0239" lvl="0"><number>&lsqb;0239&rsqb;</number> The p-channel MIS transistor P<highlight><bold>1</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>103</bold></highlight> and one line <highlight><bold>108</bold></highlight> of the global I/O line pair GIO<highlight><bold>17</bold></highlight> and its gate supplied with the inverted version <highlight><bold>110</bold></highlight> of control signal produced by the inverter INV<highlight><bold>1</bold></highlight> The p-channel MIS transistor P<highlight><bold>2</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>103</bold></highlight> and one line <highlight><bold>106</bold></highlight> of the global I/O line pair GIO<highlight><bold>16</bold></highlight> and its gate supplied with the control signal /MODE&plus;MODE*/AYO The p-channel MIS transistor P<highlight><bold>3</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>104</bold></highlight> and another line <highlight><bold>105</bold></highlight> of the global I/O line pair GIO<highlight><bold>16</bold></highlight> and its gate supplied with the control signal /MODE&plus;MODE*AYO The p-channel MIS transistor P<highlight><bold>4</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>104</bold></highlight> and another line <highlight><bold>107</bold></highlight> of the global I/O line pair GIO<highlight><bold>17</bold></highlight> and its gate supplied with the inverted control signal I/O </paragraph>
<paragraph id="P-0240" lvl="0"><number>&lsqb;0240&rsqb;</number> Next, the operation of the selection circuit SEL<highlight><bold>1</bold></highlight> will be explained </paragraph>
<paragraph id="P-0241" lvl="0"><number>&lsqb;0241&rsqb;</number> First, the selection circuit SEL<highlight><bold>1</bold></highlight> operates for data read-out from the memory mat MAT<highlight><bold>1</bold></highlight> as follows. In case a low-level MODE signal instructs the semiconductor device to configure a SDR-spec SDRAM, the signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> are connected to the global I/O line pair GIO<highlight><bold>16</bold></highlight>, so that readout data released from the main amplifier MA<highlight><bold>1</bold></highlight> is placed on the global I/O line pair GIO<highlight><bold>16</bold></highlight> </paragraph>
<paragraph id="P-0242" lvl="0"><number>&lsqb;0242&rsqb;</number> Otherwise, in case a high-level MODE signal instructs the semiconductor device to configure a DDR-spec SDRAM, the signal lines <highlight><bold>101</bold></highlight> and <highlight><bold>102</bold></highlight> are connected to the global I/O line pair GIO<highlight><bold>17</bold></highlight>, so that read-out data released from the main amplifier MA<highlight><bold>1</bold></highlight> is placed on the global I/O line pair GIO<highlight><bold>17</bold></highlight> </paragraph>
<paragraph id="P-0243" lvl="0"><number>&lsqb;0243&rsqb;</number> Next, the selection circuit SEI<highlight><bold>1</bold></highlight> operates for data writing to the memory mat MAT<highlight><bold>1</bold></highlight> as follows In case a low-level MODE signal instructs the semiconductor device to configure a SDR-spec SDRAM, the control signal /MODE&plus;MODE*AYO has a high level regardless of the y-system address bit AYO By this high-level control signal, data to be stored, which is placed on the I/O line pair GIO<highlight><bold>17</bold></highlight>, is transferred to the write buffer WB by way of the MIS transistors P<highlight><bold>1</bold></highlight> and P<highlight><bold>4</bold></highlight> over the signal lines <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> Otherwise, in case a high-level MODE signal instructs the semiconductor device to configure a DDR-spec SDRAM, the connection between the global I/O line pair and the write buffer WB is determined by the level of MODE signal and the level of y-system address bit AYO Specifically, if the MODE signal is high and the address bit AYO is also high, the control signal /MODE&plus;MODE*AYO has a high level By this high-level control signal, data to be stored on the I/O line pair GIO<highlight><bold>17</bold></highlight> is transferred to the write buffer WB by way of the MIS transistors P<highlight><bold>1</bold></highlight> and P<highlight><bold>4</bold></highlight> over the signal lines <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> Otherwise, if the MODE signal is high and the address bit AYO is low, the control signal /MODE&plus;MODE*AYO has a low level, and data to be stored on the I/O line pair GIO<highlight><bold>16</bold></highlight> is transferred to the write buffer WB by way of the MIS transistors P<highlight><bold>2</bold></highlight> and P<highlight><bold>3</bold></highlight> over the signal lines <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> </paragraph>
</section>
<section>
<heading lvl="1">Selection Circuit SEL<highlight><bold>4</bold></highlight> </heading>
<paragraph id="P-0244" lvl="0"><number>&lsqb;0244&rsqb;</number> The selection circuit SEL<highlight><bold>4</bold></highlight> is made up of a logic inverter INV<highlight><bold>3</bold></highlight> NOR gates NOR<highlight><bold>5</bold></highlight> and NOR<highlight><bold>6</bold></highlight>, n-channel MIS Transistors N<highlight><bold>5</bold></highlight> and N<highlight><bold>6</bold></highlight>, and p-channel MIS transistors P<highlight><bold>5</bold></highlight>-P<highlight><bold>8</bold></highlight> The input signal lines <highlight><bold>111</bold></highlight> and <highlight><bold>112</bold></highlight> are a pair of complementary input signal lines, on which are placed the amplified complementary data signals from the main amplifier MA<highlight><bold>1</bold></highlight> which amplifies the signals on the main I/O line MI<highlight><bold>02</bold></highlight> </paragraph>
<paragraph id="P-0245" lvl="0"><number>&lsqb;0245&rsqb;</number> The NOR gates NOR<highlight><bold>5</bold></highlight> and NOR<highlight><bold>6</bold></highlight> virtually serve as signal propagation elements by receiving the low-level ground voltage, providing the same signal propagation delay as that of the NOR gates NOR<highlight><bold>1</bold></highlight>-NOR<highlight><bold>4</bold></highlight> of the selection circuit SEL<highlight><bold>1</bold></highlight> explained previously, so that both selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>4</bold></highlight> have the same signal propagation characteristics </paragraph>
<paragraph id="P-0246" lvl="0"><number>&lsqb;0246&rsqb;</number> The n-channel MIS transistors N<highlight><bold>5</bold></highlight> and N<highlight><bold>6</bold></highlight> constitute data output elements for driving the global I/O lines in the same fashion as the MIS transistors N<highlight><bold>1</bold></highlight>-N<highlight><bold>4</bold></highlight> of SEL<highlight><bold>1</bold></highlight> The p-channel MIS transistors P<highlight><bold>5</bold></highlight>-P<highlight><bold>8</bold></highlight> constitute write data selectors which are controlled by the control signal /MODE&plus;MODE*/AYO provided by the logic circuit <highlight><bold>42</bold></highlight> (refer to <cross-reference target="DRAWINGS">FIG. 3</cross-reference>) </paragraph>
<paragraph id="P-0247" lvl="0"><number>&lsqb;0247&rsqb;</number> The p-channel MIS transistor P<highlight><bold>5</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>114</bold></highlight> and one line <highlight><bold>108</bold></highlight> of the global I/O line pair GIO<highlight><bold>17</bold></highlight> and its gate supplied with the inverted version <highlight><bold>113</bold></highlight> of control signal produced by the inverter INV<highlight><bold>1</bold></highlight> The p-channel MIS transistor P<highlight><bold>6</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>114</bold></highlight> and one line <highlight><bold>106</bold></highlight> of the global I/O line pair GIO<highlight><bold>16</bold></highlight> and its gate supplied with the control signal /MODE&plus;MODE*/AYO The p-channel MIS transistor P<highlight><bold>7</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>115</bold></highlight> and another line <highlight><bold>105</bold></highlight> of the global I/O line pair GIO<highlight><bold>16</bold></highlight> and its gate supplied with the control signal /MODE&plus;MODE*/AYO The p-channel MIS transistor P<highlight><bold>8</bold></highlight> has its source-drain path connected between the output signal line <highlight><bold>115</bold></highlight> and another line <highlight><bold>107</bold></highlight> of the global I/O line pair GIO<highlight><bold>17</bold></highlight> and its gate supplied with the inverted control signal <highlight><bold>113</bold></highlight> </paragraph>
<paragraph id="P-0248" lvl="0"><number>&lsqb;0248&rsqb;</number> Next, the operation of the selection circuit SEL<highlight><bold>4</bold></highlight> will be explained </paragraph>
<paragraph id="P-0249" lvl="0"><number>&lsqb;0249&rsqb;</number> First, the selection circuit SEL<highlight><bold>4</bold></highlight> operates for data writing as follows. Read-out data amplified by the main amplifier MA<highlight><bold>1</bold></highlight> is placed on the global I/O line pair GIO<highlight><bold>16</bold></highlight> in both cases of the SDR-spec SDRAM and DDR-spec SDRAM In case a high-level MODE signal instructs the semiconductor device to configure a DDR-spec SDRAM, the connection between the global I/O line pair and the write buffer WB is determined by the level of y-system address bit AYO. </paragraph>
<paragraph id="P-0250" lvl="0"><number>&lsqb;0250&rsqb;</number> Otherwise, when the MODE signal is high and the address bit /AYO is also high, in which case the control signal /MODE&plus;MODE*/AYO becomes high, data to be stored, which is placed on the global I/O line pair GIO<highlight><bold>17</bold></highlight>, is transferred to the write buffer WB by way of the MIS transistors P<highlight><bold>5</bold></highlight> and P<highlight><bold>8</bold></highlight> over the signal lines <highlight><bold>114</bold></highlight> and <highlight><bold>115</bold></highlight> Otherwise, when the MODE signal is high and address bit /AYO is low, in which case the control signal /MODE&plus;MODE*/AYO becomes low, data to be stored placed on the global I/O line pair GIO<highlight><bold>16</bold></highlight> is transferred to the write buffer WB by way of the MIS transistors P<highlight><bold>6</bold></highlight> and P<highlight><bold>7</bold></highlight> over the signal lines <highlight><bold>114</bold></highlight> and <highlight><bold>115</bold></highlight> </paragraph>
<paragraph id="P-0251" lvl="0"><number>&lsqb;0251&rsqb;</number> The foregoing operation of the selection circuits SEL<highlight><bold>1</bold></highlight> and SEL<highlight><bold>4</bold></highlight> are summarized as follows In case a low-level MODE signal instructs the semiconductor device to configure a SDR-spec SDRAM, the global I/O line pair GIO<highlight><bold>16</bold></highlight> is set to serve exclusively for data read-out and the global I/O line pair GIO<highlight><bold>17</bold></highlight> is set to serve exclusively for data writing. </paragraph>
<paragraph id="P-0252" lvl="0"><number>&lsqb;0252&rsqb;</number> More specifically, in the case of a read-out operation in the SDR mode, the two main amplifiers MA<highlight><bold>1</bold></highlight> associated with the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are connected to the global I/O line pair GIO<highlight><bold>16</bold></highlight>, with another global I/O line pair GIO<highlight><bold>17</bold></highlight> being left unused. In the case of a write operation in the SDR mode, the two write buffers WB associated with the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are connected to the global I/O line pair GIO<highlight><bold>17</bold></highlight>, with another global I/O line pair GIO<highlight><bold>16</bold></highlight> being left unused. </paragraph>
<paragraph id="P-0253" lvl="0"><number>&lsqb;0253&rsqb;</number> For the SDR-spec SDRAM, the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are not selected simultaneously in both the write and read-out operations In the read-out operation, one of the main amplifier MA<highlight><bold>1</bold></highlight> associated with the memory mat MAT<highlight><bold>1</bold></highlight> and that associated with the memory mat MAT<highlight><bold>4</bold></highlight> is activated selectively In the write operation, one of the write buffer WB associated with the memory mat MAT<highlight><bold>1</bold></highlight> and that associated with the memory mat MAT<highlight><bold>4</bold></highlight> is activated selectively Accordingly, even if the two main amplifiers MA<highlight><bold>1</bold></highlight> or two write buffers WB for the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are connected in common to the global I/O line pair GIO<highlight><bold>16</bold></highlight> or GIO<highlight><bold>17</bold></highlight>, data on the main I/O line pair is not disturbed </paragraph>
<paragraph id="P-0254" lvl="0"><number>&lsqb;0254&rsqb;</number> In contrast, for the DDR-spec SDRAM, the two global I/O line pairs GIO<highlight><bold>16</bold></highlight> and GIO<highlight><bold>17</bold></highlight> are used simultaneously in both the read and write operations. This feature will further be explained in the following </paragraph>
<paragraph id="P-0255" lvl="0"><number>&lsqb;0255&rsqb;</number> In the read-out operation of the DDR-spec SDRAM, the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are selected simultaneously and both main amplifiers MA<highlight><bold>1</bold></highlight> for the MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are activated Accordingly, the global I/O line pair GIO<highlight><bold>17</bold></highlight> are connected to the main amplifier MA<highlight><bold>1</bold></highlight> for the memory mat MAT<highlight><bold>1</bold></highlight> and the global I/O line pair GIO<highlight><bold>16</bold></highlight> are connected to the main amplifier MA<highlight><bold>1</bold></highlight> for the memory mat MAT<highlight><bold>4</bold></highlight>. Consequently, the read-out data amplified by the two main amplifiers MA<highlight><bold>1</bold></highlight> for the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are placed on the global I/O line pairs GIO<highlight><bold>17</bold></highlight> and GIO<highlight><bold>16</bold></highlight> by the selection circuits SELI and SEL<highlight><bold>4</bold></highlight> </paragraph>
<paragraph id="P-0256" lvl="0"><number>&lsqb;0256&rsqb;</number> In the write operation of the DDR-spec SDRAM, with the address bit AYO being low, the global I/O line pair GIO<highlight><bold>16</bold></highlight> is connected to the write buffer WB for the memory mat MAT<highlight><bold>1</bold></highlight> and the global I/O line pair GIO<highlight><bold>17</bold></highlight> is connected to the write buffer WB for the memory mat MAT<highlight><bold>4</bold></highlight> In the write operation of the DDR-spec SDRAM, with the address bit AYO being high, the global I/O line pair GIO<highlight><bold>16</bold></highlight> is connected to the write buffer WB for the memory mat MAT<highlight><bold>4</bold></highlight> and the global I/O line pair GIO<highlight><bold>17</bold></highlight> is connected to the write buffer WB for the memory mat MAT<highlight><bold>1</bold></highlight> In this manner, in the write operation of the DDR-spec SDRAM, the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are selected simultaneously and both write buffers WB for the MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight> are activated Consequently, the data to be stored, which is amplified by the two main amplifiers MA<highlight><bold>1</bold></highlight> for the memory mats MAT<highlight><bold>1</bold></highlight> and MAT<highlight><bold>4</bold></highlight>, is placed on the main I/O line pairs MI<highlight><bold>01</bold></highlight> and MI<highlight><bold>02</bold></highlight>, respectively </paragraph>
<paragraph id="P-0257" lvl="0"><number>&lsqb;0257&rsqb;</number> For the DDR-spec SDRAM, memory mats twice in number relative to the SDR-spec SDRAM are selected, so that data twice in quantity per unit time is written in or read out of the memory mats </paragraph>
</section>
<section>
<heading lvl="1">Data Output Circuit <highlight><bold>56</bold></highlight> </heading>
<paragraph id="P-0258" lvl="0"><number>&lsqb;0258&rsqb;</number> The data output circuit (or output circuit) <highlight><bold>56</bold></highlight> includes a parallel-to-serial converter <highlight><bold>58</bold></highlight> and an output buffer <highlight><bold>57</bold></highlight> The parallel-to-serial converter <highlight><bold>58</bold></highlight> includes main output amplifiers MA<highlight><bold>2</bold></highlight>-<highlight><bold>1</bold></highlight> and MA<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight>, data latches <highlight><bold>119</bold></highlight>, <highlight><bold>120</bold></highlight> and <highlight><bold>121</bold></highlight>, an AND gate AND<highlight><bold>8</bold></highlight>, a NAND gate NAND<highlight><bold>2</bold></highlight>, and a selector <highlight><bold>116</bold></highlight>. </paragraph>
<paragraph id="P-0259" lvl="0"><number>&lsqb;0259&rsqb;</number> The main output amplifier MA<highlight><bold>2</bold></highlight>-<highlight><bold>1</bold></highlight> is activated by the write amplifier enable signal RAE provided by the read/write control circuit <highlight><bold>50</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> to amplify the signal on the global I/O line pair GIO<highlight><bold>16</bold></highlight> at the low-to-high transition of the RAE signal, thereby producing an output signal <highlight><bold>117</bold></highlight> Similarly, the main output amplifier MA<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight> is activated by the RAE signal to amplify the signal on the global I/O line pair GIO<highlight><bold>17</bold></highlight> at the low-to-high transition of the RAE signal, thereby producing an output signal <highlight><bold>118</bold></highlight> </paragraph>
<paragraph id="P-0260" lvl="0"><number>&lsqb;0260&rsqb;</number> The AND gate AND<highlight><bold>8</bold></highlight> takes a logical product of the clock signal DCLK and MODE signal, thereby gating the clock signal with the MODE signal, and releases a resulting signal <highlight><bold>123</bold></highlight> to the clock input terminal CLK of the data latch <highlight><bold>120</bold></highlight>. Similarly, the NAND gate NAND<highlight><bold>2</bold></highlight> takes a logical product of the clock signal DCLK and MODE signal, thereby gating the clock signal with the MODE signal, and releases a resulting signal <highlight><bold>124</bold></highlight> to the clock input terminal CLK of the data latch <highlight><bold>121</bold></highlight> </paragraph>
<paragraph id="P-0261" lvl="0"><number>&lsqb;0261&rsqb;</number> The data latch <highlight><bold>119</bold></highlight>, which has a clock input terminal CLK, signal input terminal D and signal output terminal Q, latches the output signal <highlight><bold>117</bold></highlight> of the main amplifier MA<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight> received on its D terminal in response to a low-to-high transition of the internal clock signal DCLK from the clock input circuit <highlight><bold>2</bold></highlight> received on its CLK terminal, and releases the latched output signal <highlight><bold>125</bold></highlight> from its Q terminal </paragraph>
<paragraph id="P-0262" lvl="0"><number>&lsqb;0262&rsqb;</number> Similarly, the data latch <highlight><bold>120</bold></highlight>, which has a clock input terminal CLK, signal input terminal D and signal output terminal Q, latches the output signal <highlight><bold>117</bold></highlight> of the main amplifier MA<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight> received on its D terminal in response to a low-to-high transition of the clock signal <highlight><bold>123</bold></highlight> provided by the AND gate AND<highlight><bold>8</bold></highlight> received on its CLK terminal, and releases the latched output signal <highlight><bold>126</bold></highlight> from its Q terminal The data latch <highlight><bold>120</bold></highlight> has its output on the Q terminal timed to the rising edge of the internal clock signal DCLK due to its clock gate circuit being formed of the AND gate AND<highlight><bold>8</bold></highlight>. The data latch <highlight><bold>120</bold></highlight> having a low output impedance releases the output signal during the high-level clock signal <highlight><bold>123</bold></highlight>, and it turns the output terminal Q to a high-impedance (or floating) state in response to the fall of the clock signal <highlight><bold>123</bold></highlight> </paragraph>
<paragraph id="P-0263" lvl="0"><number>&lsqb;0263&rsqb;</number> Similarly, the data latch <highlight><bold>121</bold></highlight>, which has a clock input terminal CLK, signal input terminal D and signal output terminal Q, latches the output signal <highlight><bold>124</bold></highlight> of the main amplifier MA<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight> received on its D terminal in response to a low-to-high transition of the clock signal <highlight><bold>124</bold></highlight> received on its CLK terminal, and releases the latched output signal <highlight><bold>127</bold></highlight> from its Q terminal The data latch <highlight><bold>12</bold></highlight>Q has its output on the Q terminal timed to the falling edge of the internal clock signal DCLK due to its clock gate circuit formed of the NAND gate NAND<highlight><bold>2</bold></highlight> The data latch <highlight><bold>121</bold></highlight> having a low output impedance releases the output signal during the high-level clock signal <highlight><bold>124</bold></highlight>, and it turns the output terminal Q to a high-impedance (or floating) state in response to the fall of the clock signal <highlight><bold>124</bold></highlight>. </paragraph>
<paragraph id="P-0264" lvl="0"><number>&lsqb;0264&rsqb;</number> The data latches <highlight><bold>120</bold></highlight> and <highlight><bold>121</bold></highlight> have their output terminals Q connected together, so that their output signals <highlight><bold>126</bold></highlight> and <highlight><bold>127</bold></highlight> are unified as signal <highlight><bold>130</bold></highlight> When the internal clock signal DCLK goes high, the data latch <highlight><bold>120</bold></highlight> turns to the low output impedance state as mentioned above, while the data latch <highlight><bold>121</bold></highlight> is in the high output impedance state, and the signal <highlight><bold>130</bold></highlight> is the same as the output signal Q of the data latches <highlight><bold>120</bold></highlight> Otherwise, when the internal clock signal DCLK goes low, the data latch <highlight><bold>121</bold></highlight> turns to the low output impedance state, while the data latch <highlight><bold>120</bold></highlight> turns to the high output impedance state, and the signal <highlight><bold>130</bold></highlight> is the same as the output signal Q of the data latches <highlight><bold>121</bold></highlight> The merged signal <highlight><bold>130</bold></highlight> which reflects the output signals of the data latches <highlight><bold>120</bold></highlight> and <highlight><bold>121</bold></highlight> is received as one input (second input) by the selector <highlight><bold>116</bold></highlight> </paragraph>
<paragraph id="P-0265" lvl="0"><number>&lsqb;0265&rsqb;</number> The selector <highlight><bold>116</bold></highlight> has a first input terminal <highlight><bold>129</bold></highlight> for receiving the signal <highlight><bold>125</bold></highlight>, second input terminal <highlight><bold>130</bold></highlight> for receiving the signals <highlight><bold>126</bold></highlight> and <highlight><bold>127</bold></highlight>, output terminal <highlight><bold>131</bold></highlight> for releasing an output signal <highlight><bold>128</bold></highlight>, and control terminal <highlight><bold>132</bold></highlight> for receiving the MODE signal. In response to a low-level MODE signal for configuring a SDR-spec SDRAM, the selector <highlight><bold>116</bold></highlight> releases the signal on the first input terminal <highlight><bold>129</bold></highlight> from the output terminal <highlight><bold>131</bold></highlight>. Otherwise, in response to a high-level MODE signal for configuring a DDR-spec SDRAM, it releases the signal on the second input terminal <highlight><bold>130</bold></highlight> from the output terminal <highlight><bold>131</bold></highlight> </paragraph>
<paragraph id="P-0266" lvl="0"><number>&lsqb;0266&rsqb;</number> The output buffer <highlight><bold>57</bold></highlight> receives the output signal <highlight><bold>128</bold></highlight> from the selector <highlight><bold>116</bold></highlight> and releases an output signal <highlight><bold>133</bold></highlight> to the external data terminal DQ<highlight><bold>8</bold></highlight> </paragraph>
<paragraph id="P-0267" lvl="0"><number>&lsqb;0267&rsqb;</number> The operation of the data output circuit <highlight><bold>56</bold></highlight> in accordance with the MODE signal is summarized as follows When the MODE signal is low to configure a SDR-spec SDRAM, the data output circuit <highlight><bold>56</bold></highlight> produces the output signal <highlight><bold>133</bold></highlight> based on the foregoing operation in response to a low-to-high transition of the internal clock signal DCLK which is produced from the clock signal <highlight><bold>7</bold></highlight> A high-to-low transition of DCLK does not cause the circuit <highlight><bold>56</bold></highlight> to vary its output When the MODE signal is high to configure a DDR-spec SDRAM, the data output circuit <highlight><bold>56</bold></highlight> produces the output signal <highlight><bold>133</bold></highlight> by being timed to a low-to-high transition or high-to-low transition of the internal clock signal DCLK which is produced from the clock signal <highlight><bold>6</bold></highlight> provided by the clock generation circuit <highlight><bold>3</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> </paragraph>
<paragraph id="P-0268" lvl="0"><number>&lsqb;0268&rsqb;</number> In the DDR mode, the internal clock signal DCLK advances in phase relative to the clock signal CLK by the delay time compensation mentioned previously. Accordingly, the transition in any direction of the internal clock signal DCLK takes place earlier than that of the external clock signal CLK, enabling the data outputs circuit <highlight><bold>56</bold></highlight> to release data to the external data terminal DQ by being given a certain setup time and hold time with respect to the transition of external clock signal CLK </paragraph>
</section>
<section>
<heading lvl="1">Data Input-circuit </heading>
<paragraph id="P-0269" lvl="0"><number>&lsqb;0269&rsqb;</number> The data input circuit <highlight><bold>52</bold></highlight> includes an input buffer <highlight><bold>54</bold></highlight> and a serial-to-parallel converter <highlight><bold>53</bold></highlight>. The input buffer <highlight><bold>54</bold></highlight> has an input terminal connected to the external data terminal DQ<highlight><bold>8</bold></highlight>, and an output terminal for releasing an output signal <highlight><bold>55</bold></highlight> which is derived from the input signal The serial-to-parallel converter <highlight><bold>53</bold></highlight> is made up of a data latches <highlight><bold>134</bold></highlight>, <highlight><bold>135</bold></highlight>, <highlight><bold>136</bold></highlight>, <highlight><bold>142</bold></highlight> and <highlight><bold>143</bold></highlight> and a selector <highlight><bold>137</bold></highlight> </paragraph>
<paragraph id="P-0270" lvl="0"><number>&lsqb;0270&rsqb;</number> The data latch <highlight><bold>134</bold></highlight> has a clock input terminal /CLK, signal input terminal D and signal output terminal Q The /CLK clock terminal receives a clock signal which is significant at the falling edge for the latch. The data latch <highlight><bold>134</bold></highlight> receives the clock signal DQSCLK provided by the AND gate AND<highlight><bold>7</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference> and latches the input signal <highlight><bold>55</bold></highlight> on its input terminal D i e, the output signal of the input buffer <highlight><bold>54</bold></highlight>, by being timed to a high-to-low transition of DQSCLK and releases an output signal <highlight><bold>139</bold></highlight> </paragraph>
<paragraph id="P-0271" lvl="0"><number>&lsqb;0271&rsqb;</number> The data latch <highlight><bold>135</bold></highlight> has a clock input terminal CLK, signal input terminal D and signal output terminal Q The CLK clock terminal receives a clock signal which is significant at the rising edge for the latch The data latch <highlight><bold>135</bold></highlight> latches the input signal <highlight><bold>55</bold></highlight> on its input terminal D by being timed to a low-to-high transition of the input DQSCLK clock received on its CLK terminal and releases an output signal <highlight><bold>138</bold></highlight>. </paragraph>
<paragraph id="P-0272" lvl="0"><number>&lsqb;0272&rsqb;</number> The data latch <highlight><bold>136</bold></highlight> has a clock input terminal /CLK, signal input terminal D and signal output terminal Q. The data latch <highlight><bold>136</bold></highlight> latches the signal <highlight><bold>138</bold></highlight> on its input terminal D, i e the output signal of the data latch <highlight><bold>135</bold></highlight>, by being timed to a high-to-low transition of the DQSCLK clock signal received on its /CLK terminal and releases an output signal <highlight><bold>140</bold></highlight> </paragraph>
<paragraph id="P-0273" lvl="0"><number>&lsqb;0273&rsqb;</number> The selector <highlight><bold>137</bold></highlight> has a first input terminal <highlight><bold>144</bold></highlight> for receiving the signal provided by the input buffer <highlight><bold>54</bold></highlight>, second input terminal <highlight><bold>145</bold></highlight> for receiving the signal <highlight><bold>140</bold></highlight> provided by the data latch <highlight><bold>136</bold></highlight>, output terminal <highlight><bold>146</bold></highlight> for releasing a selected output signal <highlight><bold>141</bold></highlight>, and control terminal <highlight><bold>131</bold></highlight> for receiving the MODE signal. In response to a low-level MODE signal for configuring a SDR-spec SDRAM, the selector <highlight><bold>137</bold></highlight> releases the signal on the first input terminal <highlight><bold>144</bold></highlight> from the output terminal <highlight><bold>146</bold></highlight>. Otherwise, in response to a high-level MODE signal for configuring a DDR-spec SDRAM, it releases the signal on its second input terminal <highlight><bold>145</bold></highlight> from the output terminal <highlight><bold>146</bold></highlight> </paragraph>
<paragraph id="P-0274" lvl="0"><number>&lsqb;0274&rsqb;</number> The data latch <highlight><bold>142</bold></highlight> has a clock input terminal CLK, signal input terminal D and signal output terminals Q and /Q. It latches the input signal <highlight><bold>141</bold></highlight> on its input terminal D, i e, the output signal of the selector <highlight><bold>137</bold></highlight>, by being timed to a low-to-high transition of the DICLK clock signal received on its clock input terminal CLK and releases an output signal <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>from the output terminal Q and the inverted version <highlight><bold>145</bold></highlight><highlight><italic>b </italic></highlight>of <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>from the output terminal /Q. </paragraph>
<paragraph id="P-0275" lvl="0"><number>&lsqb;0275&rsqb;</number> The data latch <highlight><bold>143</bold></highlight> has a clock input terminal CLK, signal input terminal D and signal output terminals Q and /Q The data latch <highlight><bold>143</bold></highlight> latches the signal <highlight><bold>139</bold></highlight> on its input terminal D, i e, the output signal of the data latch <highlight><bold>134</bold></highlight>, by being timed to a low-to-high transition of the DICLK clock signal received on its CLK terminal and releases an output signal <highlight><bold>146</bold></highlight><highlight><italic>b </italic></highlight>from the output terminal Q and the inverted version <highlight><bold>147</bold></highlight> of <highlight><bold>146</bold></highlight><highlight><italic>b </italic></highlight>from the output terminal /Q </paragraph>
<paragraph id="P-0276" lvl="0"><number>&lsqb;0276&rsqb;</number> The data input circuit <highlight><bold>52</bold></highlight> is controlled by the MODE signal as follows </paragraph>
<paragraph id="P-0277" lvl="0"><number>&lsqb;0277&rsqb;</number> When the MODE signal is low to configure a SDR-spec SDRAM, data coining in through the data terminal DQ<highlight><bold>8</bold></highlight> is conducted as signal <highlight><bold>55</bold></highlight> through the input buffer <highlight><bold>54</bold></highlight> The signal <highlight><bold>55</bold></highlight> is conducted through the selector <highlight><bold>137</bold></highlight> to the latch <highlight><bold>142</bold></highlight>, which latches the signal by being timed to a low-to-high transition of the DICLK clock signal and releases signals <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>145</bold></highlight><highlight><italic>b </italic></highlight>The remaining latches <highlight><bold>134</bold></highlight>, <highlight><bold>135</bold></highlight> and <highlight><bold>144</bold></highlight> are left unused in this SDRAM mode </paragraph>
<paragraph id="P-0278" lvl="0"><number>&lsqb;0278&rsqb;</number> Otherwise, when the MODE signal is high to configure a DDR-spec SDRAM, first data coming in through the data terminal DQ<highlight><bold>8</bold></highlight> is conducted as signal <highlight><bold>55</bold></highlight> through the input buffer <highlight><bold>54</bold></highlight>. The signal <highlight><bold>55</bold></highlight> is latched by the latch <highlight><bold>135</bold></highlight> at a low-to-high transition of the DQSCLK clock signal The output signal <highlight><bold>138</bold></highlight> of the latch <highlight><bold>135</bold></highlight> is latched by the latch <highlight><bold>136</bold></highlight> at a high-to-low transition of the DASCLK clock signal At this time, second input data is coming to the data terminal DQ<highlight><bold>8</bold></highlight>, and it is conducted through the input buffer <highlight><bold>54</bold></highlight> and latched by the latch <highlight><bold>134</bold></highlight> Accordingly, the 2-bit data coming to the data terminal DQ<highlight><bold>8</bold></highlight> at the rising and falling edges of the DQSCLK clock signal is latched by the latches <highlight><bold>134</bold></highlight> and <highlight><bold>136</bold></highlight> successively At the next low-to-high transition of the D<highlight><bold>1</bold></highlight>CLK clock signal, the data held by the latches <highlight><bold>134</bold></highlight> and <highlight><bold>136</bold></highlight> are transferred to the latches <highlight><bold>142</bold></highlight> and <highlight><bold>143</bold></highlight>, which latch and release the data as complementary output data <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>145</bold></highlight> and <highlight><bold>146</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>147</bold></highlight> </paragraph>
</section>
<section>
<heading lvl="1">Global I/O Line Pair Drivers </heading>
<paragraph id="P-0279" lvl="0"><number>&lsqb;0279&rsqb;</number> The global I/O line pair drivers consist of four drivers <highlight><bold>149</bold></highlight>-<highlight><bold>2</bold></highlight>. Each of these drivers <highlight><bold>149</bold></highlight>-<highlight><bold>152</bold></highlight> has control input terminals for receiving the MODE signal and clock signal <highlight><bold>148</bold></highlight>, data input terminals for receiving the data signals <highlight><bold>144</bold></highlight><highlight><italic>b</italic></highlight>, <highlight><bold>145</bold></highlight>, <highlight><bold>146</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>147</bold></highlight>, and an output terminal for releasing an output signal to one of signal lines <highlight><bold>107</bold></highlight>, <highlight><bold>108</bold></highlight>, <highlight><bold>105</bold></highlight> and <highlight><bold>106</bold></highlight> which global I/O lines </paragraph>
<paragraph id="P-0280" lvl="0"><number>&lsqb;0280&rsqb;</number> The drivers <highlight><bold>149</bold></highlight>-<highlight><bold>152</bold></highlight> operate by being controlled in common by the MODE signal and the inverted version <highlight><bold>148</bold></highlight> of KICLK clock signal produced by the inverter INV<highlight><bold>4</bold></highlight> A group of the first and second drivers <highlight><bold>149</bold></highlight> and <highlight><bold>150</bold></highlight> and another group of the third and fourth drivers <highlight><bold>151</bold></highlight> and <highlight><bold>152</bold></highlight> operate differently in the SDRAM mode set by a low-level MODE signal </paragraph>
<paragraph id="P-0281" lvl="0"><number>&lsqb;0281&rsqb;</number> Specifically, when the MODE signal is low to configure a SDR-spec SDRAM, the first and second drivers <highlight><bold>149</bold></highlight> and <highlight><bold>150</bold></highlight> operate based on the clock signal <highlight><bold>148</bold></highlight>, i e, in response to the falling edge of the clock signal, to place the signals <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>145</bold></highlight><highlight><italic>b </italic></highlight>on the signal lines <highlight><bold>107</bold></highlight> and <highlight><bold>108</bold></highlight> These drivers <highlight><bold>149</bold></highlight> and <highlight><bold>150</bold></highlight> are deactivated to have a high-impedance state in response to the rising edge of the clock signal <highlight><bold>148</bold></highlight>. In response to the low-level MODE signal, the third and fourth drivers <highlight><bold>151</bold></highlight> and <highlight><bold>152</bold></highlight> are deactivated steadily to have a high-impedance state. </paragraph>
<paragraph id="P-0282" lvl="0"><number>&lsqb;0282&rsqb;</number> Otherwise, when the MODE signal is high to configure a DDR-spec SDRAM, all the first through fourth drivers <highlight><bold>149</bold></highlight>-<highlight><bold>152</bold></highlight> operate in response to the falling edge of the clock signal <highlight><bold>148</bold></highlight> to place the signals <highlight><bold>144</bold></highlight><highlight><italic>b </italic></highlight>to <highlight><bold>146</bold></highlight><highlight><italic>b </italic></highlight>and <highlight><bold>147</bold></highlight> on the signal lines <highlight><bold>105</bold></highlight>-<highlight><bold>108</bold></highlight> Namely, these drivers are activated by a high-level DICLK clock signal (or low-level clock signal <highlight><bold>148</bold></highlight>), and deactivated by a low-level DICLK clock signal (or high-level clock signal <highlight><bold>148</bold></highlight>) to have the high-impedance state. </paragraph>
<paragraph id="P-0283" lvl="0"><number>&lsqb;0283&rsqb;</number> The global I/O line pairs are connected, when necessary, with a precharge circuit (not shown) which establishes a certain voltage on the global I/O line pairs in response to the low-level DICLK clock signal, so that input data settles on the global I/O lines much faster. </paragraph>
<paragraph id="P-0284" lvl="0"><number>&lsqb;0284&rsqb;</number> Next, the operation of the SDR-spec SDRAM and DDR-spec SDRAM will be explained with reference to the timing charts of <cross-reference target="DRAWINGS">FIG. 5</cross-reference> and <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, respectively </paragraph>
<paragraph id="P-0285" lvl="0"><number>&lsqb;0285&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows the operational timing of the SDR-spec SDRAM with the setup of a CAS latency of 2 and a burst length of 4 The CAS latency signifies the time length in terms of the number of CLK clock cycles after the read command is entered until the first data is released For example, in the case of a CAS latency of 2, the first read-out data is released at a time point which is later by two CLK cycles than the entry of the read command The burst length signifies the number of pieces of data transacted serially by one read command or write command. </paragraph>
<paragraph id="P-0286" lvl="0"><number>&lsqb;0286&rsqb;</number> Active command data which has been entered to the semiconductor device is decoded by the decoder <highlight><bold>21</bold></highlight> and held by the command register <highlight><bold>20</bold></highlight> in the command state control circuit <highlight><bold>19</bold></highlight> at a rising time point T<highlight><bold>1</bold></highlight> of the external clock signal CLK Concurrently to this decoding operation, the entry of an address signal and associated operation take place Specifically, an x-system address signal AO,(X-ADD) applied to the address terminals AddO-Add<highlight><bold>12</bold></highlight> is taken into the semiconductor device and the x-system access operation takes place, i e, a certain word line WL is selected by the operation of the x-address decoder XDEC, main word line drivers <highlight><bold>46</bold></highlight> and sub word line drivers <highlight><bold>45</bold></highlight> </paragraph>
<paragraph id="P-0287" lvl="0"><number>&lsqb;0287&rsqb;</number> At time point T<highlight><bold>2</bold></highlight>, read command data which has been entered to the semiconductor device is decoded by the decoder <highlight><bold>21</bold></highlight> and held by the command register <highlight><bold>20</bold></highlight> in the command state control circuit <highlight><bold>19</bold></highlight> Concurrently with this operation, a y-system address signal A<highlight><bold>1</bold></highlight> (Y-ADD) supplied to the address terminals AddO-Add<highlight><bold>8</bold></highlight> is taken in, and the y-system access operation takes place. Data read out of the memory cells selected by the x-system address signal and y-system address signal is transferred to the data output circuit <highlight><bold>56</bold></highlight> over the data line pairs DL, local I/O line pairs I/O, main I/O line pairs MIO, and global I/O line pairs GIO The read-out data is sent out of the semiconductor device at the next time point T<highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0288" lvl="0"><number>&lsqb;0288&rsqb;</number> The y-system address signal A<highlight><bold>1</bold></highlight> (Y-ADD) is incremented by 1 to form an address signal A<highlight><bold>1</bold></highlight>&plus;1 (Y-ADD), and data read out of the memory cells selected by this y-system address signal Al&plus;1 (Y-ADD) and the x-system address signal AO (X-ADD) is transferred to the data output circuit <highlight><bold>56</bold></highlight>. The read-out data is sent out of the semiconductor device at the next time point T<highlight><bold>4</bold></highlight>. In the same manner, the y-system address signal A<highlight><bold>1</bold></highlight> (Y-ADD) is incremented by 2 and 3 to form y-system address signals, and data read out of the memory cells selected by these y-system address signals and the x-system address signal are transferred to the data output circuit <highlight><bold>56</bold></highlight> and sent out of the semiconductor device at time points T<highlight><bold>5</bold></highlight> and T<highlight><bold>6</bold></highlight> </paragraph>
<paragraph id="P-0289" lvl="0"><number>&lsqb;0289&rsqb;</number> Based on the burst length of 4 of this example, 4-bit data Q(A<highlight><bold>1</bold></highlight>), Q(A<highlight><bold>1</bold></highlight>&plus;1), Q(A<highlight><bold>1</bold></highlight>&plus;2) and Q(A<highlight><bold>1</bold></highlight>&plus;3) are sent out sequentially at the successive low-to-high transitions of the external clock signal CLK for the read command which was received at time point T<highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0290" lvl="0"><number>&lsqb;0290&rsqb;</number> At time point T<highlight><bold>7</bold></highlight>, write command data which has been entered to the semiconductor device is decoded by the decoder <highlight><bold>21</bold></highlight> and held by the command register in the command state control circuit <highlight><bold>19</bold></highlight> Concurrently with this operation, a y-system address signal A<highlight><bold>2</bold></highlight> (Y-ADD) supplied to the address terminals AddO-Add<highlight><bold>8</bold></highlight> is taken in, and the y-system access operation takes place Specifically, signals for selecting certain y-selection lines YS and switches LSW located between main I/O line pairs MIO and local I/O line pairs LIO are produced Data D(A<highlight><bold>2</bold></highlight>) supplied to the data terminal DQ is taken into the semiconductor device at the time point T<highlight><bold>7</bold></highlight> Then, the data D(A<highlight><bold>2</bold></highlight>) is written to certain memory cells which are selected by the x-system address signal AO (X-Add) which was entered at the time point T<highlight><bold>2</bold></highlight> and the y-system address signal A<highlight><bold>2</bold></highlight> (Y-Add) entered at the time point T<highlight><bold>7</bold></highlight> </paragraph>
<paragraph id="P-0291" lvl="0"><number>&lsqb;0291&rsqb;</number> The y-system address signal A<highlight><bold>2</bold></highlight> (Y-ADD) is incremented by 1 to form an address signal A<highlight><bold>2</bold></highlight>&plus;1 (Y-ADD) by the burst counter BC, and y-selection lines YS and switches LSW are selected by this y-system address signal. Then, data D(A<highlight><bold>2</bold></highlight>&plus;1) to the semiconductor device is written to certain memory cells which are selected by the y-system address signal A<highlight><bold>2</bold></highlight>&plus;1 (Y-ADD) and x-system address signal AO (X-Add). In the same manner, the y-system address signal A<highlight><bold>2</bold></highlight> (Y-ADD) is incremented by 2 and 3 to form y-system address signals, and data D(A&plus;2) and D(D&plus;3) entered at time points T<highlight><bold>9</bold></highlight> and TIO are written sequentially to certain memory cells which are selected by these y-system address signals and the x-system address signal. </paragraph>
<paragraph id="P-0292" lvl="0"><number>&lsqb;0292&rsqb;</number> Next, the operation of the DDR-spec SDRAM will be explained with reference to the timing charts of <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, showing an example with the setup of a CAS latency of 2 and a burst length of 4 The operation of this semiconductor device CHIP synchronized with the external clock signal CLK is identical to the case of the SDR-spec SDRAM shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, and the following mainly explains the differences from the SDR-spec SDRAM </paragraph>
<paragraph id="P-0293" lvl="0"><number>&lsqb;0293&rsqb;</number> In contrast to the foregoing SDR-spec SDRAM in which data input and output take place only at the rise of external clock signal CLK, the DDR-spec SDRAM shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference> have the data input and output actions occur at both rise and fall of the clock signal CLK. </paragraph>
<paragraph id="P-0294" lvl="0"><number>&lsqb;0294&rsqb;</number> The DDR-spec SDRAM has a data strobe signal DQS established on the DQS terminal In the read-out operation, the DQS signal is sent out of the semiconductor device together with read-out data. In the write operation, the DQS signal is supplied to the semiconductor device together with input data to be stored The transaction of data accompanied by the data strobe signal is intended for the higher data transfer rate expected of the DDR-spec SDRAM, and it enhances the reliability of data transaction with an external device such as a memory controller (not shown). </paragraph>
<paragraph id="P-0295" lvl="0"><number>&lsqb;0295&rsqb;</number> The output circuit in the semiconductor device CHIP for delivering the data strobe signal DQS becomes a high output impedance state on completion of data output, enabling the external terminal DQS to receive a data strobe signal from the external device More specifically, at the transition to the state of data transaction with an external device, e g., memory controller, the strobe signal output circuit retains the strobe signal DQS at the low level for a &frac34; CLK cycle, which is called the preamble period, and thereafter releases the high-level DQS signal. </paragraph>
<paragraph id="P-0296" lvl="0"><number>&lsqb;0296&rsqb;</number> In the write operation, in contrast to the SDR-spec SDRAM which takes in data by being timed to the entry of the write command, the DDR-spec SDRAM takes in data at a time point which is later by one CLK cycle than the entry of the write command. The reason for this time shift is that a preamble period of a &frac34; CLK cycle is needed before the DQS signal attached to input data turns from low to high Next, the read-interrupt-write operation, i e, the operation with the entry of a read command followed after one CLK cycle by the entry of a write command of the SDR-spec SDRAM and DDR-spec SDRAM will be explained with reference to <cross-reference target="DRAWINGS">FIG. 7</cross-reference> and <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. A matter of notice on this operation is that the SDR-spec SDRAM cannot use the global I/O line pairs in common for both reading and write, whereas the DDR-spec SDRAM can do. </paragraph>
<paragraph id="P-0297" lvl="0"><number>&lsqb;0297&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows the read-interrupt-write operation of the SDR-spec SDRAM. Before time point tO on this timing chart, active command data and an x-system address signal are entered to select a certain word line, although the operation before the time point to is disregarded in this figure The timing of address signal input is also omitted in this figure <cross-reference target="DRAWINGS">FIG. 5</cross-reference> should be referenced for the input timings of active command data and the address signal </paragraph>
<paragraph id="P-0298" lvl="0"><number>&lsqb;0298&rsqb;</number> First, a series of read-out operation steps which are commenced by the read command entered at time point tO will be explained. Shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is an example with the setup of a CAS latency of <highlight><bold>3</bold></highlight> and a burst length of <highlight><bold>1</bold></highlight> for the read command. </paragraph>
<paragraph id="P-0299" lvl="0"><number>&lsqb;0299&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the supply of read command data from the external device to the /CS, /PAS, /CAS and /WE terminals and part of the address terminals begins in advance by a &frac14; CLK cycle of the rising CLK clock signal at time point tO The read command data is taken into the command state control circuit <highlight><bold>19</bold></highlight> by being timed to the settling of the data level at tO, and then is decoded by the decoder <highlight><bold>21</bold></highlight> </paragraph>
<paragraph id="P-0300" lvl="0"><number>&lsqb;0300&rsqb;</number> In accordance with the decoded read command data, certain y-selection lines YS and switches LSW for connecting main I/O line pairs MIO and local I/O line pairs LIO are made conductive Memory cells are selected in accordance with the x-system address signal and y-system address signal, and stored data is read out of the memory cells The read-out data is placed on the main I/O line pairs MIOT/B by way of the data line pairs DL and local IO line pairs. </paragraph>
<paragraph id="P-0301" lvl="0"><number>&lsqb;0301&rsqb;</number> The read-out data placed on the main I/O line pairs MIOT/B is amplified by the main amplifiers MA<highlight><bold>1</bold></highlight> which commence the amplifying operation at the low-to-ligh transition of the main amplifier enable signal MAE. The amplified read-out data is placed on global I/O line pairs at an intermediate time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight> </paragraph>
<paragraph id="P-0302" lvl="0"><number>&lsqb;0302&rsqb;</number> The read-out data on the global I/O line pairs is amplified by the main amplifiers MA<highlight><bold>2</bold></highlight> in the data output circuit <highlight><bold>56</bold></highlight> by being timed to the low-to-high transition of the RAE signal, and then it is transferred and held by the data latch <highlight><bold>119</bold></highlight> (or Dout-latch <highlight><bold>1</bold></highlight>) </paragraph>
<paragraph id="P-0303" lvl="0"><number>&lsqb;0303&rsqb;</number> The output buffer <highlight><bold>57</bold></highlight> releases the read-out data (data Dout<highlight><bold>1</bold></highlight>) to the external data terminals DQ at time point t<highlight><bold>3</bold></highlight> which is later by three CLK cycles than the read command data input More precisely, the release of read-out data from the output buffer <highlight><bold>57</bold></highlight> commences approximately in advance by a {fraction (1/4)} clock cycle of the time point t<highlight><bold>3</bold></highlight>, instead of the rise at t<highlight><bold>3</bold></highlight> after three CLK cycles, and the data settles at t<highlight><bold>3</bold></highlight> Although the commencement of data output and the setting of data differ in timing, the data settlement and output will not be described distinctively for the simplicity of description since their accurate timing relation is shown in the figure. </paragraph>
<paragraph id="P-0304" lvl="0"><number>&lsqb;0304&rsqb;</number> Next, a series of write operation steps for write command data which is entered at time point t<highlight><bold>1</bold></highlight> will be explained in connection with <cross-reference target="DRAWINGS">FIG. 7</cross-reference> The write command and input data Din<highlight><bold>1</bold></highlight> are entered to the SDRAM at time point t<highlight><bold>1</bold></highlight> which is later by one CLK cycle than the time point tO The write command data is decoded by the decoder <highlight><bold>21</bold></highlight>. </paragraph>
<paragraph id="P-0305" lvl="0"><number>&lsqb;0305&rsqb;</number> The internal clock signal DICLK rises in response to the rise of the clock signal CLK at time point tO Input data Din<highlight><bold>1</bold></highlight> entered at the time point tO is placed on the global I/O line pairs by being timed to the rise of DICLK. </paragraph>
<paragraph id="P-0306" lvl="0"><number>&lsqb;0306&rsqb;</number> In response to the rise of the clock signal CLK at the time point t<highlight><bold>1</bold></highlight>, the write amplifier enable signal WAE rises to activate the write buffers WB, thereby transferring the input data on the global I/O line pairs to the main I/O line pairs MIOT/B The input data placed on the main I/O line pairs MIOT/B is written by way of the local I/O line pairs LIO and data line pairs DL to the memory cells selected by the x-system address signal and y-system address signal at a time point (not shown) </paragraph>
<paragraph id="P-0307" lvl="0"><number>&lsqb;0307&rsqb;</number> Here is a remark on the dealing of data on the global I/O line pairs in the foregoing read operation and write operation In the read-out operation, the main amplifiers MA<highlight><bold>1</bold></highlight> place the read-out data on the global I/O line pairs at an intermediate time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight>, and in the write operation, the input data is placed on the global I/O line pairs also at a time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight> </paragraph>
<paragraph id="P-0308" lvl="0"><number>&lsqb;0308&rsqb;</number> Accordingly, in the foregoing read-interrupt-write operation of the SDR-spec SDRAM, there is a timing at which the global I/O line pairs are used simultaneously for the read-out operation by a read command and the write operation by a write command Therefore, it becomes necessary to separately provide global I/O line pairs for writing and global I/O line pairs for read-out, i e, global I/O line pairs of 2-fold bits, for the SDR-spec SDRAM For the 16-bit data line scheme of the SDR-spec SDRAM of this embodiment 16 pairs of global I/O lines for writing and 16 pairs of global I/O lines for read-out, i e, a total of 32 pairs, are required. </paragraph>
<paragraph id="P-0309" lvl="0"><number>&lsqb;0309&rsqb;</number> Next, the read-interrupt-write operation of the DDR-spec SDRAM will be explained with reference to <cross-reference target="DRAWINGS">FIG. 8</cross-reference> for an example with the setup of a CAS latency of 2 and a burst length of 2 </paragraph>
<paragraph id="P-0310" lvl="0"><number>&lsqb;0310&rsqb;</number> First, a series of read-out operation steps for read command data which is entered at time point tO will be explained </paragraph>
<paragraph id="P-0311" lvl="0"><number>&lsqb;0311&rsqb;</number> Read command data is entered to the SDRAM device at the rise of clock signal CLK at time point tO The read command data is decoded by the decoder <highlight><bold>21</bold></highlight>. The read command data is supplied to the ICS, /RAS, /CAS and /WE terminals and part of address terminals, as in the preceding case of the SDR-spec SDRAM </paragraph>
<paragraph id="P-0312" lvl="0"><number>&lsqb;0312&rsqb;</number> In accordance with tile read command data, certain y-selection lines YS and switches LSW for connecting main I/O line pairs MIO and local I/O line pairs LIO are made conductive Stored data read out of memory cells selected in accordance with the x-system address signal and y-system address signal is placed on the main I/O line pairs MIOT/B by way of the data line pairs DL and local IO line pairs </paragraph>
<paragraph id="P-0313" lvl="0"><number>&lsqb;0313&rsqb;</number> The read-out data placed on the main I/O line pairs MIOT/B is amplified by the main amplifiers MA<highlight><bold>1</bold></highlight>, which commence the amplifying operation at the low-to-high transition of the main amplifier enable signal MAE The amplified read-out data is placed on the global I/O line pairs at an intermediate time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight> The amplified read-out data is placed on the global I/O line pairs at an intermediate time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight> </paragraph>
<paragraph id="P-0314" lvl="0"><number>&lsqb;0314&rsqb;</number> The read-out data on the global I/O line pairs is amplified by the main amplifiers MA<highlight><bold>2</bold></highlight> in the data output circuit <highlight><bold>56</bold></highlight> by being timed to the low-to-high transition of the RAE signal, and then it is transferred and held by the data latches <highlight><bold>120</bold></highlight> and <highlight><bold>121</bold></highlight> (or Dout-latch<highlight><bold>2</bold></highlight> and latch<highlight><bold>3</bold></highlight>) </paragraph>
<paragraph id="P-0315" lvl="0"><number>&lsqb;0315&rsqb;</number> The output buffer <highlight><bold>57</bold></highlight> releases the readouts data (data Doutodd) to the external data terminals DQ at time point t<highlight><bold>3</bold></highlight> which is later by three CLK cycles than the read command data input Subsequently, the output buffer <highlight><bold>57</bold></highlight> releases the read-out data (data Douteven) to the external data terminals DQ at time point t<highlight><bold>3</bold></highlight>&prime; which is later by a half CLK cycle than t<highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0316" lvl="0"><number>&lsqb;0316&rsqb;</number> Next, a series of write operation steps for write command data which is entered at lime point t<highlight><bold>1</bold></highlight> will be explained The write command data is entered to the SDRAM at time point t<highlight><bold>1</bold></highlight> which is later by one CLK cycle than the time point tO The write command data is decoded by the decoder <highlight><bold>21</bold></highlight> The strobe signal DOS is kept at the low level for a &frac34; CLK cycle until time point t<highlight><bold>2</bold></highlight>, at which it is turned to the high level </paragraph>
<paragraph id="P-0317" lvl="0"><number>&lsqb;0317&rsqb;</number> Input data Din<highlight><bold>1</bold></highlight> which is entered at time point t<highlight><bold>2</bold></highlight> is held by the latch <highlight><bold>135</bold></highlight> at the low-to-high transition of the DQSCLK clock signal Input data Din<highlight><bold>2</bold></highlight> which is entered at time point t<highlight><bold>2</bold></highlight>&prime; is held by the latch <highlight><bold>134</bold></highlight> at the high-to-low transition of the DQSCLK clock signal, at which the input data Din<highlight><bold>1</bold></highlight> held in the latch <highlight><bold>135</bold></highlight> is transferred to the latch <highlight><bold>136</bold></highlight> </paragraph>
<paragraph id="P-0318" lvl="0"><number>&lsqb;0318&rsqb;</number> The internal clock signal DCLK rises in response to the rise of the clock signal CLK at time point t<highlight><bold>3</bold></highlight> Input data Din<highlight><bold>1</bold></highlight> held in the latch <highlight><bold>136</bold></highlight> and input data Din<highlight><bold>2</bold></highlight> held in the latch <highlight><bold>134</bold></highlight> are placed on the global I/O line pairs in response to the rise of the internal clock signal DCLK </paragraph>
<paragraph id="P-0319" lvl="0"><number>&lsqb;0319&rsqb;</number> In response to the rise of the clock signal CLK at the time point t<highlight><bold>3</bold></highlight>, the write amplifier enable signal WAE rises to activate the write buffers WB, thereby transferring the input data Din<highlight><bold>1</bold></highlight> and Din<highlight><bold>2</bold></highlight> on the global I/O line pairs to the main I/O line pairs MIOT/B The input data placed on the main I/O line pairs MIOT/B are written by way of the local I/O line pairs LIO and data line pairs DL to the memory cells selected by the x-system address signal and y-system address signal at a time point (not shown) </paragraph>
<paragraph id="P-0320" lvl="0"><number>&lsqb;0320&rsqb;</number> Here is a remark on the dealing of data on the global I/O line pairs in the foregoing read-out operation and write operation In the read-out operation, the main amplifiers MA<highlight><bold>1</bold></highlight> place the read-out data on the global I/O line pairs at an intermediate time point between t<highlight><bold>1</bold></highlight> and t<highlight><bold>2</bold></highlight>, and in the write operation, the input data is placed on the global I/O line pairs at a time point between t<highlight><bold>3</bold></highlight> and t<highlight><bold>4</bold></highlight> Accordingly, in the foregoing read-interrupt-write operation of the DDR-spec SDRAM, there is no timing at which the global I/O line pairs are used simultaneously for the read operation by a read command and the write operation by a write command </paragraph>
<paragraph id="P-0321" lvl="0"><number>&lsqb;0321&rsqb;</number> In other data transacting operations as well as the read-interrupt-write operation, the DDR-spec SDRAM can prevent the simultaneous use of tile global I/O line pairs for both the read operation by a read command and the write operation by a write command Consequently, the DDR-spec SDRAM can use one set of global I/O line pairs in common for data writing and read-out </paragraph>
<paragraph id="P-0322" lvl="0"><number>&lsqb;0322&rsqb;</number> For the DDR-spec SDRAM, it is desirable to take a bit width conversion of 2-to-1 or 1-to-2 for the data input/output operations by utilization of the parallel-to-serial converter <highlight><bold>58</bold></highlight> or serial-to-parallel converter <highlight><bold>53</bold></highlight>. Although the bit width conversion imposes an increased number of data bits to be processed simultaneously or an increased number of signal lines, it is beneficial as follows It becomes possible for the principal internal circuits of the semiconductor device to operate relatively slower to an extent of matching with the external clock signal CLK based on the bit width conversion in spite of the data transaction with an external device at both the rise and fall of CLK </paragraph>
<paragraph id="P-0323" lvl="0"><number>&lsqb;0323&rsqb;</number> In conclusion, it is preferable for both the SDR-spec SDRAM and DDR-spec SDRAM, which use the global I/O line pairs in different fashions, to have twice as many global I/O line pairs as the data bit width, provided that the bit width is common to the SDRAMs of both types </paragraph>
<paragraph id="P-0324" lvl="0"><number>&lsqb;0324&rsqb;</number> Based on the above-mentioned feature, this embodiment is designed to have twice as many global I/O line pairs as the data bit width and to alter their usage in response to the MODE signal Specifically, selection circuits SEL, which are controlled by the MODE signal, are provided between the global I/O line pairs and main amplifiers MA<highlight><bold>1</bold></highlight> and between the global I/O line pairs and write buffers WB, with the data input circuit <highlight><bold>52</bold></highlight> and data output circuit <highlight><bold>56</bold></highlight> being controlled by the MODE signal </paragraph>
<paragraph id="P-0325" lvl="0"><number>&lsqb;0325&rsqb;</number> In the case of an SDR-spec SDRAM, the selection circuits SEL and data output circuit are controlled so that read-out data from the main amplifiers MA<highlight><bold>1</bold></highlight> is transferred to the data output circuit by using exclusive reading global I/O line pairs that are a half of all the global I/O line pairs, and the selection circuits SEL and data in-out circuit are controlled so that input data entered to the data input circuit is transferred to the write buffers WB by using exclusive writing global I/O line pairs that remain half of all the global I/O line pairs </paragraph>
<paragraph id="P-0326" lvl="0"><number>&lsqb;0326&rsqb;</number> In the case of a DDR-spec SDRAM, the selection circuits SEL and data output circuit are controlled so that read-out data from the main amplifiers MA<highlight><bold>1</bold></highlight> is transferred to the data output circuit in two operations by using all the global I/O line pairs, and the selection circuits SEL and the data input circuit are controlled so that input data entered to the data input circuit is transferred to the write buffers WB in two operations by using all of the global I/O line pairs </paragraph>
<paragraph id="P-0327" lvl="0"><number>&lsqb;0327&rsqb;</number> As an alternative scheme different from the foregoing embodiment, a semiconductor device which is intended for the configuration of either an SDR-spec SDRAM or DDR-spec SDRAM by a uniform chip may be provided with global I/O line pairs used exclusively for the SDR-spec SDRAM and global I/O line pairs used exclusively for the DDR-spec SDRAM, with these global I/O line pairs being switched depending on the selected mode. A larger chip area for the increased number of I/O lines will be required in this case however </paragraph>
<paragraph id="P-0328" lvl="0"><number>&lsqb;0328&rsqb;</number> Whereas, the foregoing embodiment enables the effective use of a relatively smaller number of global I/O line pairs, so that the chip area necessary for the I/O lines is relatively small. </paragraph>
<paragraph id="P-0329" lvl="0"><number>&lsqb;0329&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> shows the details of the mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight>, and also shows the relation between the circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> and the lead The mode signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> is made tip of a resistor R<highlight><bold>1</bold></highlight>, an n-channel MIS transistor N<highlight><bold>7</bold></highlight>, p-channel MIS transistors P<highlight><bold>9</bold></highlight> and F<highlight><bold>10</bold></highlight>, and logic inverters INV<highlight><bold>5</bold></highlight> and INV<highlight><bold>6</bold></highlight>. </paragraph>
<paragraph id="P-0330" lvl="0"><number>&lsqb;0330&rsqb;</number> The semiconductor device CHIP is provided on its top with a bonding pad OPT which is connected electrically to the input of the mode-signal generation circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> and also can be bond-wired externally. This bonding pad OPT serves for the option pad for selecting functions of the semiconductor device The resistor R<highlight><bold>1</bold></highlight> connected between the bonding pad OPT and the node <highlight><bold>201</bold></highlight> of the circuit <highlight><bold>68</bold></highlight>-<highlight><bold>1</bold></highlight> and the n-channel MIS transistor N<highlight><bold>7</bold></highlight> having its source and drain connected together to form a diode between the node <highlight><bold>201</bold></highlight> and the ground terminal <highlight><bold>201</bold></highlight> constitute in unison an input protection circuit which protects the inverter INV<highlight><bold>5</bold></highlight> from surge voltages which can be applied by electrostatic voltage sources or the like. The resistor R<highlight><bold>1</bold></highlight> is formed of a well region having a relatively large resistance </paragraph>
<paragraph id="P-0331" lvl="0"><number>&lsqb;0331&rsqb;</number> The p-channel MIS transistor P<highlight><bold>9</bold></highlight> has a gate which receives the reset signal RST and a source-drain path connected between the external power voltage VCC and node <highlight><bold>201</bold></highlight>, thereby constituting the preset bias circuit mentioned previously Namely, the reset signal RST is a pulse signal which goes low, e g, to the ground voltage, temporarily when the semiconductor device is turned on, and thereafter returns to a high level, e g, VCC voltage. In response to the reset signal RST, the p-channel MIS transistor P<highlight><bold>9</bold></highlight> becomes conductive to supply a preset bias voltage to the node <highlight><bold>201</bold></highlight> only during the temporary period at power-on. </paragraph>
<paragraph id="P-0332" lvl="0"><number>&lsqb;0332&rsqb;</number> In case the bonding pad OPT is not connected externally, the node <highlight><bold>201</bold></highlight> is pulled to the high-level power voltage VCC through the p-channel MNS transistor P<highlight><bold>9</bold></highlight> at the power-on event Otherwise, in case the bonding pad OPT is grounded through an external wire, the node <highlight><bold>201</bold></highlight> is kept at the low level regardless of the conduction state of the transistor P<highlight><bold>9</bold></highlight>. </paragraph>
<paragraph id="P-0333" lvl="0"><number>&lsqb;0333&rsqb;</number> The p-channel MIS transistor P<highlight><bold>9</bold></highlight> and inverters INV<highlight><bold>5</bold></highlight> form in unison a latch circuit, which holds the signal level of the node <highlight><bold>201</bold></highlight> and releases the inverted signal level from its output <highlight><bold>202</bold></highlight>. Another inverters INV<highlight><bold>6</bold></highlight> inverts the output of INV<highlight><bold>5</bold></highlight> to produce the mode signal MODE. </paragraph>
<paragraph id="P-0334" lvl="0"><number>&lsqb;0334&rsqb;</number> In case the semiconductor device has external terminals aligning in the longitudinal central area on the chip so as to be adapted to the LOC packaging scheme of resin-sealed semiconductor devices mentioned previously, the bonding pad OPT is preferably disposed among the terminals For the facility of grounding tile bonding pad OPT when necessary, an external grounding terminal GNDPIN may be provided among the LOC-based external terminals In this case, the semiconductor device which is intended to configure a SDR-spec SDRAM has its bonding pad OPT connected to the GNDPIN terminal through a metallic wire or the like Otherwise, the semiconductor device which is intended to configure a DDR-spec SDRAM has its bonding pad OPT left open-circuited </paragraph>
<paragraph id="P-0335" lvl="0"><number>&lsqb;0335&rsqb;</number> This function selection by a simple addition of a wire is advantageous in the elimination of the need for alteration of the external wiring design An alternative scheme of function selection involves the connection or disconnection of the bonding pad OPT to the ground line based on a mask, e g, final wiring mask, used in the fabricating process. </paragraph>
<paragraph id="P-0336" lvl="0"><number>&lsqb;0336&rsqb;</number> The SDR-spec SDRAM is occasionally required to accept a non-steady period clock signal having its period changed in a relatively short interval with the intention of reducing the noise generation which is based on the fact that the noise created by an application electronic system operating under a clock signal is reduced by using a non-steady period clock signal or by changing the clock period in a relatively short interval as described previously. </paragraph>
<paragraph id="P-0337" lvl="0"><number>&lsqb;0337&rsqb;</number> The following explains with reference to FIG.. IO why the semiconductor device of the foregoing embodiment which configures an SDR-spec SDRAM using a clock regenerating circuit cannot occasionally deal with a relatively fast change in period of the external clock signal. <cross-reference target="DRAWINGS">FIG. 10</cross-reference> shows the read-out operation with a burst length of 2 The clock signal DCLK (or internally regenerated clock) shown in the figure is produced by a clock regenerating circuit mentioned previously which receives a clock signal synchronized with the external clock signal which is supplied to the semiconductor device </paragraph>
<paragraph id="P-0338" lvl="0"><number>&lsqb;0338&rsqb;</number> This clock regenerating circuit <highlight><bold>3</bold></highlight> uses a PLL circuit, while it can also use a DDL circuit or SMD circuit as mentioned previously The clock regenerating circuit <highlight><bold>3</bold></highlight>, in the case of receiving an external clock signal with a virtually constant period, produces an internal clock signal DCLK which is timed to compensate for the signal propagation delay of the internal circuits. However, for a circuit which produces a signal that is synchronous with an external signal based on the variable delay and phase discrimination of the PLL circuit, DLL circuit or SMD circuit, it is difficult to be responsive to relatively fast changing periods of the external clock signal CLK </paragraph>
<paragraph id="P-0339" lvl="0"><number>&lsqb;0339&rsqb;</number> Specifically, in the case of the PLL circuit, the charge pump circuit which receives the output of the phase comparing circuit has a relatively large time constant so that the voltage-controlled oscillation circuit operates stably The charge pump circuit having such a large time constant can merely be responsive at most to the change of clock period in an interval of several tens periods of the external clock signal In short, the voltage-controlled oscillation circuit which produces the internal clock signal cannot respond to the external clock signal which changes the period in a short interval. </paragraph>
<paragraph id="P-0340" lvl="0"><number>&lsqb;0340&rsqb;</number> The DLL circuit, which resembles the PLL circuit in the arrangement including a phase comparing circuit, charge pump circuit and voltage-controlled variable delay circuit, cannot respond to fast changing periods of the external clock signal either The SMD circuit needs to produce signals having delay times as long as two periods of the external clock signal CLK and compare the signal phases for timing the internal clock signal to reflect the phase of CLK, and accordingly, it cannot respond to fast changing periods of the external clock signal either </paragraph>
<paragraph id="P-0341" lvl="0"><number>&lsqb;0341&rsqb;</number> In conclusion, in case the input clock signal changes in period in a relatively short interval, it is difficult to produce an internal clock signal which responds accurately to changing periods of the input clock signal by being based solely on the relatively simple signal regeneration scheme achieved by the signal phase judging function and signal phase varying function of the PLL circuit, DLL circuit or SMD circuit. In the following description, the internal clock signal produced based on the above-mentioned signal phase judging function and signal phase varying function will be called the internally regenerated clock signal so as to distinguish it from the internal clock signal that is virtually the input clock signal fed through a buffer </paragraph>
<paragraph id="P-0342" lvl="0"><number>&lsqb;0342&rsqb;</number> The external clock signal CLK shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is designed to have a first period tck for the first clock period from time point tO to t<highlight><bold>1</bold></highlight> and second clock period from t<highlight><bold>1</bold></highlight> to t<highlight><bold>2</bold></highlight>, and a second period tck&plus;&agr; which is longer then tck by &agr; for the third clock period from time point t<highlight><bold>2</bold></highlight> to t<highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0343" lvl="0"><number>&lsqb;0343&rsqb;</number> The clock regenerating circuit <highlight><bold>3</bold></highlight> produces an internally regenerated clock signal DCLK in response to the external clock signal having these changing periods The internally regenerated clock signal DCLK has its resulting period determined from the changing periods of the external clock signal CLK supplied to the clock regenerating circuit <highlight><bold>3</bold></highlight> and from its circuit arrangement. On the timing chart of <cross-reference target="DRAWINGS">FIG. 10</cross-reference>, the internally regenerated clock signal DCLK is shown to have the above-mentioned first period tck for the simplicity of explanation </paragraph>
<paragraph id="P-0344" lvl="0"><number>&lsqb;0344&rsqb;</number> Read command data is entered to the semiconductor device through the /RAS, /CAS, ICS and /WE terminals and part of address terminals by being timed to the rise of the external clock signal CLK at time point tO The read command data, which is shown in <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, is decoded by the decoder <highlight><bold>21</bold></highlight> so that it is developed into various control signals </paragraph>
<paragraph id="P-0345" lvl="0"><number>&lsqb;0345&rsqb;</number> The internally regenerated clock signal DCLK shown in <cross-reference target="DRAWINGS">FIG. 10</cross-reference> rises from low to high at time points t<highlight><bold>1</bold></highlight>&prime;, t<highlight><bold>2</bold></highlight>&prime; and t<highlight><bold>3</bold></highlight>&prime; in synchronism with the rise of the external clock signal CLK at time points t<highlight><bold>1</bold></highlight>, t<highlight><bold>2</bold></highlight> and t<highlight><bold>3</bold></highlight> The rising time points t<highlight><bold>1</bold></highlight>&prime;, t<highlight><bold>2</bold></highlight>&prime; and t<highlight><bold>3</bold></highlight>&prime; of DCLK precede the rising time points t<highlight><bold>1</bold></highlight>, t<highlight><bold>2</bold></highlight> and t<highlight><bold>3</bold></highlight> of CLK by the time length of signal phase compensation of the clock regenerating circuit <highlight><bold>3</bold></highlight> mentioned previously </paragraph>
<paragraph id="P-0346" lvl="0"><number>&lsqb;0346&rsqb;</number> The leading data DQ in the burst read-out operation has its output level settling at time point t<highlight><bold>2</bold></highlight> which is later by two CLK cycles than the read command input at tO in compliance with the CAS latency of <highlight><bold>2</bold></highlight>. more specifically, the leading data (data<highlight><bold>1</bold></highlight>) out of the 2-bit data to be read out successively has its output level settling at the rise of CLK at time point t<highlight><bold>2</bold></highlight> </paragraph>
<paragraph id="P-0347" lvl="0"><number>&lsqb;0347&rsqb;</number> In the semiconductor device, the leading data DQ is released by being timed to the time point t<highlight><bold>2</bold></highlight>&prime; which is determined by the internally regenerated clock signal DCSK The time point t<highlight><bold>2</bold></highlight>&prime; is derived from the rise of the external clock signal CLK at time point t<highlight><bold>2</bold></highlight>, with the setup and hold time toh being added for the output of data DQ. The time length toh is set with reference to the relation with the external device, such as a memory controller (memory control circuit or control chip) or CPU (central processing unit), which reads data in synchronism with the clock signal CLK. </paragraph>
<paragraph id="P-0348" lvl="0"><number>&lsqb;0348&rsqb;</number> In case the clock regenerating circuit <highlight><bold>3</bold></highlight> produces an internally regenerated clock signal DCSK having a period equal to the above-mentioned first period tck, a sufficient hold time toh is provided before the time point t<highlight><bold>2</bold></highlight>, enabling the external device such as a memory control controller or CPU to read the data data<highlight><bold>1</bold></highlight> placed on the data terminal DQ of the SDRAM correctly </paragraph>
<paragraph id="P-0349" lvl="0"><number>&lsqb;0349&rsqb;</number> At time point <highlight><bold>13</bold></highlight> following the expiration of the second period tck&plus;&agr; after the rise of the external clock signal CLK at t<highlight><bold>2</bold></highlight>, the external clock signal CLK rises again The internally regenerated clock signal DCSK rises again at time point t<highlight><bold>3</bold></highlight>&prime; which precedes the rising of CLK at t<highlight><bold>3</bold></highlight> The data output DQ is of the second data data<highlight><bold>2</bold></highlight> which is timed to the internally regenerated clock signal rising at time point t<highlight><bold>3</bold></highlight>&prime;. </paragraph>
<paragraph id="P-0350" lvl="0"><number>&lsqb;0350&rsqb;</number> The output duration for the first data data <highlight><bold>1</bold></highlight> and the output duration for the second data data<highlight><bold>2</bold></highlight> are virtually a constant time length determined from the internally regenerated clock signal DCSK Accordingly, the hold time, which is determined from the relation with the external clock signal CLK, of data data<highlight><bold>2</bold></highlight> at t<highlight><bold>3</bold></highlight> is shorter by a than the hold time of data data<highlight><bold>2</bold></highlight> at t<highlight><bold>2</bold></highlight>. Due to the reduced hold time, it is difficult for the external device of the SDRAM to receive correctly the data which is read out of the SDRAM </paragraph>
<paragraph id="P-0351" lvl="0"><number>&lsqb;0351&rsqb;</number> The semiconductor device of this embodiment includes much desirable switching control for the clock regenerating circuit <highlight><bold>3</bold></highlight> associated with the selection or switching of the SDR-spec SDRAM and DDR-spec SDRAM Specifically, according to this embodiment, when the semiconductor device configures an SDR-spec SDRAM, the clock signal <highlight><bold>7</bold></highlight> produced by the clock generation circuit <highlight><bold>4</bold></highlight> is used as clock signal DCLK, instead of using the clock regenerating circuit <highlight><bold>3</bold></highlight> </paragraph>
<paragraph id="P-0352" lvl="0"><number>&lsqb;0352&rsqb;</number> In this case, the clock generation circuit <highlight><bold>4</bold></highlight> inevitably has a virtually constant signal delay after the supply of external clock signal CLK until the release of internal clock signal <highlight><bold>7</bold></highlight> In addition, it is not possible to produce an internal clock signal which is capable of compensating the signal propagation delay of internal circuits mentioned above based solely on the buffering of the external clock signal by the input circuit, or in other words based solely on the clock signal production in a passive manner. Such a signal delay and the like can possibly hamper the fast operation expected inherently of the SDRAM However, the results of various studies suggest the successful achievement of the intended operational characteristics thanks to the recent advances in semiconductor integrated circuit technology. </paragraph>
<paragraph id="P-0353" lvl="0"><number>&lsqb;0353&rsqb;</number> Next, when the semiconductor device configures a DDR-spec SDRAM, the clock signal <highlight><bold>6</bold></highlight> produced by the clock regenerating circuit <highlight><bold>3</bold></highlight> is used as clock signal DCLK. In this case, the clock regenerating circuit <highlight><bold>3</bold></highlight> can produce an internal clock signal which is relatively accurate and is capable of compensating the above-mentioned signal propagation delay, enabling the SDRAM to operate sufficiently fast. </paragraph>
<paragraph id="P-0354" lvl="0"><number>&lsqb;0354&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> explains the transfer route of the decoded signals sent from the y-system pre-decoder Y-Pre-Dec to the y-system decoders YDEC. Shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> is part of the overall block diagram of <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> including four memory arrays MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight> of the memory bank BankO, four y-system decoders YDEC which correspond to the memory arrays, a y-system pre-decoder Y-Pre-Dec, and four drivers <highlight><bold>307</bold></highlight>-<highlight><bold>310</bold></highlight> </paragraph>
<paragraph id="P-0355" lvl="0"><number>&lsqb;0355&rsqb;</number> The y-system pre-decoder Y-Pre-Dec receives the 9-bit address signal AYO-AY<highlight><bold>7</bold></highlight> and produces 24-bit decoded signals YO-Y<highlight><bold>23</bold></highlight> based on the following partial decoding scheme The 8-bit decoded signals YO-Y<highlight><bold>7</bold></highlight> as the first pre-decoded signal are produced by decoding a 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight>. The 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight> is used for the count operation of the burst counter The 8-bit decoded signals Y<highlight><bold>8</bold></highlight>-Y<highlight><bold>15</bold></highlight> as the second pre-decoded signal are produced from a 3-bit y-system address signal AY<highlight><bold>3</bold></highlight>-AY<highlight><bold>5</bold></highlight>. The 8-bit decoded signals Y<highlight><bold>16</bold></highlight>-Y<highlight><bold>23</bold></highlight> as the third pre-decoded signal are produced from a 3-bit y-system address signal AY<highlight><bold>6</bold></highlight>-AY<highlight><bold>8</bold></highlight> </paragraph>
<paragraph id="P-0356" lvl="0"><number>&lsqb;0356&rsqb;</number> The decoded signals YO-Y<highlight><bold>3</bold></highlight> are sent to the drivers <highlight><bold>308</bold></highlight> and <highlight><bold>310</bold></highlight> over signal lines <highlight><bold>302</bold></highlight> The drivers <highlight><bold>308</bold></highlight> and <highlight><bold>310</bold></highlight> amplify the decoded signals YO-Y<highlight><bold>3</bold></highlight> and place the amplified signals on signal lines <highlight><bold>303</bold></highlight> and <highlight><bold>306</bold></highlight>, respectively. The drivers <highlight><bold>308</bold></highlight> and <highlight><bold>310</bold></highlight> are provided so that the decoded signals YO-Y<highlight><bold>3</bold></highlight> reach the y-system decoders YDEC corresponding to the memory arrays MAY<highlight><bold>2</bold></highlight> and MAY<highlight><bold>4</bold></highlight> fast without a time difference. The decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> are sent to the drivers <highlight><bold>307</bold></highlight> and <highlight><bold>309</bold></highlight> over signal lines <highlight><bold>301</bold></highlight> The drivers <highlight><bold>307</bold></highlight> and <highlight><bold>309</bold></highlight> amplify the decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> and place the amplified signals on signal lines <highlight><bold>304</bold></highlight> and <highlight><bold>305</bold></highlight> The drivers <highlight><bold>307</bold></highlight> and <highlight><bold>309</bold></highlight> are provided so that the decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> reach the y-system decoders YDEC corresponding to the memory arrays MAYI and MAY<highlight><bold>3</bold></highlight> fast without a time difference. The decoded signals Y<highlight><bold>8</bold></highlight>-Y<highlight><bold>15</bold></highlight> are placed intact on the signal lines <highlight><bold>311</bold></highlight>, and the decoded signals Y<highlight><bold>16</bold></highlight>-Y<highlight><bold>23</bold></highlight> are placed intact on the signal line <highlight><bold>312</bold></highlight> </paragraph>
<paragraph id="P-0357" lvl="0"><number>&lsqb;0357&rsqb;</number> The signal lines <highlight><bold>303</bold></highlight>-<highlight><bold>306</bold></highlight> are provided individually for the memory arrays MAY<highlight><bold>1</bold></highlight> -MAY<highlight><bold>4</bold></highlight>, whereas the signal lines <highlight><bold>311</bold></highlight> and <highlight><bold>312</bold></highlight> are provided in common to the memory arrays MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight> This signal line layout for the distribution of pre-decoded signals achieves the following effectiveness </paragraph>
<paragraph id="P-0358" lvl="0"><number>&lsqb;0358&rsqb;</number> The 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight> is used for the address signal of the count operation of the burst counter Therefore, in the burst operation with a burst length of 2 or more, only 3 address bits AYO-AY<highlight><bold>2</bold></highlight> out of the 9-bit y-system address signal AYO-AY<highlight><bold>8</bold></highlight> are varied. In the continuous read or write operation with a burst length of 2 or more, it is crucial to produce the decoded signals YO-Y<highlight><bold>7</bold></highlight> from the 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight> fast and transfer the decoded signals YO-Y<highlight><bold>7</bold></highlight> to the y-system decoder YDEC fast </paragraph>
<paragraph id="P-0359" lvl="0"><number>&lsqb;0359&rsqb;</number> In order to speed up the signal transfer from the y-system pre-decoder Y-Pre-Dec to the y-system decoders YDEC, the inventive semiconductor device is designed to transfer the signals between these decoders through drivers, shorten the signal lines <highlight><bold>303</bold></highlight>-<highlight><bold>306</bold></highlight> connected to the y-system pre-decoder Y-Pre-Dec, and reduce the number of circuit elements connected to the signal lines <highlight><bold>303</bold></highlight>-<highlight><bold>306</bold></highlight> </paragraph>
<paragraph id="P-0360" lvl="0"><number>&lsqb;0360&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> shows the detailed arrangement of the y-system decoder, in which the signal lines of the decoded signals have already been explained in connection with <cross-reference target="DRAWINGS">FIG. 10</cross-reference> </paragraph>
<paragraph id="P-0361" lvl="0"><number>&lsqb;0361&rsqb;</number> Shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> are four y-system decoders YDEC which correspond to the memory arrays MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight>. The y-system decoder for each memory array MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight> has inputs for receiving the decoded signals YO-Y<highlight><bold>23</bold></highlight> and outputs connected to the y-selection lines YSO-YS<highlight><bold>512</bold></highlight>. The memory arrays MAY<highlight><bold>1</bold></highlight>-MAY<highlight><bold>4</bold></highlight> have two memory mats each The y-selection lines YSO-YS<highlight><bold>255</bold></highlight> are for the odd-numbered memory mats MAT, and the y-selection lines YS<highlight><bold>256</bold></highlight>-YS<highlight><bold>511</bold></highlight> are for the even-numbered memory mats MAT For example, the y-selection lines YSO-YS<highlight><bold>255</bold></highlight> correspond to the memory mat MAT<highlight><bold>1</bold></highlight> included in the memory array MAY, while the y-selection lines YS<highlight><bold>256</bold></highlight>-YS<highlight><bold>511</bold></highlight> correspond to the memory mat MAT<highlight><bold>2</bold></highlight> </paragraph>
<paragraph id="P-0362" lvl="0"><number>&lsqb;0362&rsqb;</number> First, the circuit arrangement of the y-system decoder YDEC which corresponds to the memory array MAY<highlight><bold>1</bold></highlight> will be explained This y-system decoder YDEC includes a NAND gate NAND<highlight><bold>3</bold></highlight>, inverters INV<highlight><bold>7</bold></highlight>-INV<highlight><bold>13</bold></highlight>, n-channel MIS transistors N<highlight><bold>8</bold></highlight>N<highlight><bold>11</bold></highlight>, and p-channel MIS transistors P<highlight><bold>11</bold></highlight>-P<highlight><bold>14</bold></highlight> These circuit elements correspond to the y-selection lines YSO-YS<highlight><bold>3</bold></highlight>, and there are the same sorts of elements (not shown) corresponding to the remaining lines YS<highlight><bold>4</bold></highlight>-YS<highlight><bold>511</bold></highlight>. The explanation of the circuit elements corresponding to the y-selection lines YS<highlight><bold>5</bold></highlight>-YS<highlight><bold>63</bold></highlight> is omitted </paragraph>
<paragraph id="P-0363" lvl="0"><number>&lsqb;0363&rsqb;</number> The NAND gate NAND<highlight><bold>3</bold></highlight> has its input receiving the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight>, and its output connected to the input of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>1</bold></highlight>. The p-channel MIS transistor P<highlight><bold>11</bold></highlight> and n-channel MIS transistor N<highlight><bold>8</bold></highlight> form an inverter circuit, which receives the decoded signal Y<highlight><bold>7</bold></highlight> on its input and has its output connected to the Input of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>2</bold></highlight>. The p-channel MIS transistor P<highlight><bold>11</bold></highlight> has its source connected to the output of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>1</bold></highlight>. The inverter INV<highlight><bold>14</bold></highlight> has its input receiving the output of the inverter INV <highlight><bold>13</bold></highlight>-<highlight><bold>2</bold></highlight>, and its output connected to the y-selection line YS<highlight><bold>3</bold></highlight>. Accordingly, the y-selection line YS<highlight><bold>3</bold></highlight> has a high level (selection level) when the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight> are high and Y<highlight><bold>7</bold></highlight> is low </paragraph>
<paragraph id="P-0364" lvl="0"><number>&lsqb;0364&rsqb;</number> The p-channel MIS transistor P<highlight><bold>12</bold></highlight> and n-channel MIS transistor N<highlight><bold>9</bold></highlight> form an inverter circuit, which receives the decoded signal Y<highlight><bold>6</bold></highlight> on its input and has its output connected to the input of the inverter INV<highlight><bold>11</bold></highlight> The p-channel MIS transistor P<highlight><bold>12</bold></highlight> has its source connected to the output of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>1</bold></highlight> The inverter INV<highlight><bold>12</bold></highlight> has its input receiving the output of the inverter INV<highlight><bold>11</bold></highlight>, and its output connected to the y-selection line YS<highlight><bold>2</bold></highlight> Accordingly, the y-selection line YS<highlight><bold>2</bold></highlight> has a high level (selection level) when the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight> are high and Y<highlight><bold>6</bold></highlight> is low </paragraph>
<paragraph id="P-0365" lvl="0"><number>&lsqb;0365&rsqb;</number> The p-channel MIS transistor P<highlight><bold>13</bold></highlight> and n-channel MIS transistor N<highlight><bold>10</bold></highlight> form an inverter circuit, which receives the decoded signal Y<highlight><bold>5</bold></highlight> on its input and has its output connected to the input of the inverter INV<highlight><bold>9</bold></highlight>. The p-channel MIS transistor P<highlight><bold>13</bold></highlight> has its source connected to the output of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>1</bold></highlight> The inverter INV<highlight><bold>10</bold></highlight> has its input receiving the output of the inverter INV<highlight><bold>9</bold></highlight>, and its output connected to the y-selection line YS<highlight><bold>1</bold></highlight> Accordingly, the y-selection line YS<highlight><bold>1</bold></highlight> has a high level (selection level) when the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight> are high and Y<highlight><bold>5</bold></highlight> is low. </paragraph>
<paragraph id="P-0366" lvl="0"><number>&lsqb;0366&rsqb;</number> The p-channel MIS transistor P<highlight><bold>14</bold></highlight> and n-channel MIS transistor N<highlight><bold>11</bold></highlight> form an inverter circuit, which receives the decoded signal Y<highlight><bold>4</bold></highlight> on its input and has its output connected to the input of the inverter INV<highlight><bold>7</bold></highlight>. The p-channel MIS transistor P<highlight><bold>14</bold></highlight> has its source connected to the output of the inverter INV<highlight><bold>13</bold></highlight>-<highlight><bold>1</bold></highlight> The inverter INV<highlight><bold>8</bold></highlight> has its input receiving the output of the inverter INV<highlight><bold>7</bold></highlight>, and its output connected to the y-selection line YSO Accordingly, the y-selection line YSO has a high level (selection level) when the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight> are high and Y<highlight><bold>4</bold></highlight> is low Based on this circuit arrangement, each of the 256 y-selection lines YSO-YS<highlight><bold>255</bold></highlight> has its signal level determined by three signals, which are one of four decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> (or YO-Y<highlight><bold>3</bold></highlight>), one of eight decoded signals Y<highlight><bold>8</bold></highlight>-Y<highlight><bold>15</bold></highlight>, and one of eight decoded signals Y<highlight><bold>16</bold></highlight>-Y<highlight><bold>23</bold></highlight> The remaining selection lines YS<highlight><bold>256</bold></highlight>-YS<highlight><bold>511</bold></highlight> have the same signal levels as the selection lines YSO-YS<highlight><bold>255</bold></highlight>, respectively Namely, a y-selection line YSn and a y-selection line YSn&plus;256 (where n ranges from 0 to 255) have the same level (selection level) Specifically, when the decoded signals Y<highlight><bold>8</bold></highlight> and Y<highlight><bold>16</bold></highlight> are high and Y<highlight><bold>4</bold></highlight> is Low, the y-selection lines YSO and YS<highlight><bold>256</bold></highlight> have a high level (selection level) </paragraph>
<paragraph id="P-0367" lvl="0"><number>&lsqb;0367&rsqb;</number> The driver <highlight><bold>307</bold></highlight> provided for the memory array MAY<highlight><bold>1</bold></highlight> includes four drivers which produce decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> The driver <highlight><bold>309</bold></highlight> provided for the memory array MAY<highlight><bold>3</bold></highlight> includes four drivers which produce decoded signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight>. The driver <highlight><bold>308</bold></highlight> provided for the memory array MAY<highlight><bold>2</bold></highlight> includes four drivers which produce decoded signals YO-Y<highlight><bold>3</bold></highlight> The driver <highlight><bold>310</bold></highlight> provided for the memory array MAY<highlight><bold>4</bold></highlight> includes four drivers which produce decoded signals YO-Y<highlight><bold>3</bold></highlight>. </paragraph>
<paragraph id="P-0368" lvl="0"><number>&lsqb;0368&rsqb;</number> Next, the operation of the y-system decoder YDEC will be explained for the cases of a SDR-spec SDRAM and DDR-spec SDRAM of X16 bits line scheme, i.e., 16 -bit simultaneous input/output </paragraph>
<paragraph id="P-0369" lvl="0"><number>&lsqb;0369&rsqb;</number> First, the operation of the y-system decoder YDEC of the SDR-spec SDRAM will be explained The y-system pre-decoder Y-Pre-Dec receives a 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight> and releases a low-level (selection level) signal for one of the decoded output signals YO-Y<highlight><bold>7</bold></highlight>, with the rest being left high It receives a 3-bit y-system address signal AY<highlight><bold>3</bold></highlight>-AY<highlight><bold>5</bold></highlight> to release a high-level (selection level) signal for one of the decoded output signals Y<highlight><bold>8</bold></highlight>-Y<highlight><bold>15</bold></highlight>, with the rest being left low It receives a 3-bit y-system address signal AY<highlight><bold>6</bold></highlight>-AY<highlight><bold>8</bold></highlight> to release a high-level (selection level) signal for one of the decoded output signals Y<highlight><bold>16</bold></highlight>-Y<highlight><bold>23</bold></highlight>, with the rest being left low in consequence, a total of four y-selection lines, i e, two lines from each of two memory arrays of the four memory arrays of the memory bank BankO, are selected One y-selection line controls four y-switches YSW, so that it selects four data lines pairs Accordingly, for the SDR-spec SDRAM of X16 bits line scheme, four y-selection lines of a selected memory bank are selected, and a total of 16 data line pairs are selected by four y-selection lines </paragraph>
<paragraph id="P-0370" lvl="0"><number>&lsqb;0370&rsqb;</number> Next, the operation of the y-system decoder YDEC of the DDR-spec SDRAM will be explained The y-system pre-decoder Y-Pre-Dec receives a 3-bit y-system address signal AYO-AY<highlight><bold>2</bold></highlight> and releases a low-level (selection level) signal for one of the decoded output signals YO-Y<highlight><bold>7</bold></highlight>, as in the case of the SDR-spec SDRAM The difference from the SDR-spec SDRAM is that the y-system address signal AYO-AY<highlight><bold>2</bold></highlight> have same levels as the y-system address signal AY<highlight><bold>3</bold></highlight>-AY<highlight><bold>5</bold></highlight>, respectively. </paragraph>
<paragraph id="P-0371" lvl="0"><number>&lsqb;0371&rsqb;</number> In consequence, a total of eight y-selection lines, i e, two lines from all four memory arrays of the memory bank BankO, are selected One y-selection line controls four y-switches YSW, so that it selects four data line pairs Accordingly, for the DDR-spec SDRAM of X16 bits line scheme, four y-selection lines of a selected memory bank are selected, and a total of 32 data line pairs DL are selected by eight y-selection lines For example, in the read-out operation, data which has been read out onto the 32 pairs of data line pairs DL is released out of the SDRAM by being timed to the low-to-high transitions and high-to-low transitions of the clock signal </paragraph>
<paragraph id="P-0372" lvl="0"><number>&lsqb;0372&rsqb;</number> The semiconductor device has a maximum burst length of 8, although no limitation is imposed on the invention in this regard Address bits AY<highlight><bold>1</bold></highlight> and AY<highlight><bold>2</bold></highlight> of the 2-bit y-system address signal are each up-counted by 1 by the binary counter BC, so that four sets of y-system address signals are produced The remaining address bits AY<highlight><bold>3</bold></highlight>-AY<highlight><bold>8</bold></highlight> are left unvaried Data read out in one access is released out of the SDRAM by being divided in two times. Data is released out of the SDRAM eight times successively At this time, the y-system address signal up-counted by the binary counter BC is decoded by the y-system pre-decoder Y-Pre-Dec, which then releases address signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> Accordingly, during the periods (burst periods) of data read-out equal in number to the burst length, the address signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> vary three times, while the address signals Y<highlight><bold>8</bold></highlight>-Y<highlight><bold>23</bold></highlight> are unvaried On this account, in order to read out data fast in the burst period, it is crucial to send the address signals Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> fast to the y-system decoders YDEC </paragraph>
<paragraph id="P-0373" lvl="0"><number>&lsqb;0373&rsqb;</number> In the inventive semiconductor device, the divided address signals YO-Y<highlight><bold>3</bold></highlight> and Y<highlight><bold>4</bold></highlight>-Y<highlight><bold>7</bold></highlight> are allotted to the memory malts. The signal lines for sending the y-system address signals which vary in the burst period are divided for each memory array and driven by individual drivers, so that the input capacitance of the circuit elements connected to the y-system address signal liked is reduced, whereby it becomes possible to read out data fast in the burst period </paragraph>
<paragraph id="P-0374" lvl="0"><number>&lsqb;0374&rsqb;</number> While the present invention has been described for the specific embodiment, the invention is not confined to this embodiment, but various changes can be made obviously without departing from the essence of the invention </paragraph>
<paragraph id="P-0375" lvl="0"><number>&lsqb;0375&rsqb;</number> Although in the foregoing embodiment, the clock regenerating circuit <highlight><bold>3</bold></highlight> and clock generation circuit <highlight><bold>4</bold></highlight> are provided independently, these and other circuits having like functions or like arrangements, such as the output stage, may be unified </paragraph>
<paragraph id="P-0376" lvl="0"><number>&lsqb;0376&rsqb;</number> The clock generation circuit <highlight><bold>4</bold></highlight> is not necessarily a simple passive circuit such as a buffer circuit, but if an increased power consumption and increased number of circuit elements are permitted, it may have a more intricate arrangement recognized to be a sync signal generation circuit which is responsive to the external clock signal with changing periods and produces a clock signal with the property of compensation of the signal propagation delay of the internal circuits </paragraph>
<paragraph id="P-0377" lvl="0"><number>&lsqb;0377&rsqb;</number> For example, the clock generation circuit <highlight><bold>4</bold></highlight> may be arranged identically to the clock regenerating circuit <highlight><bold>3</bold></highlight> to include a phase comparing circuit, a charge pump circuit, a voltage-controlled oscillation circuit, a delay circuit as a replica circuit, and an operation control circuit <highlight><bold>1</bold></highlight>n case the external clock signal has a relatively simple period alteration pattern having first and second periods as mentioned previously, the voltage-controlled oscillation circuit used in the clock generation circuit <highlight><bold>4</bold></highlight> can have its ring oscillator circuit elements replaced partially with a first gate circuit with reference propagation characteristics and a second gate circuit with propagation characteristics different from the former one, thereby to be operative for changing the oscillation period in response to fast changing periods of the external clock signal The signal path through the first gate circuit or the signal path through the second gate circuit is selected by an operation control circuit, which may include a clock period detecting circuit for detecting the phase difference of the oscillation output from the external clock signal during the period when the signal path through the first gate circuit is selected, a detection circuit for detecting the period alteration pattern of the external clock signal based on the output of the clock period detecting circuit and on the comparison with several stored reference patterns, and a sequential circuit which switches the first and second gate paths by being determined of the signal output order by the output of the pattern detecting circuit and controlled for the sequential operation by the output of the voltage-controlled oscillation circuit </paragraph>
<paragraph id="P-0378" lvl="0"><number>&lsqb;0378&rsqb;</number> A more accurate internal clock signal can be produced by controlling the delay time of the second gate circuit which is provided with a control terminal for it. The output frequency of the whole voltage-controlled oscillation circuit and the delay time of the second gate circuit are each controlled appropriately The voltage-controlled oscillation circuit is controlled preferably based on the result of phase comparison obtained when the first gate path is selected and on the output of the charge pump The delay time of the second gate circuit may be controlled based on the phase comparison without a time limit and the output of the charge pump </paragraph>
<paragraph id="P-0379" lvl="0"><number>&lsqb;0379&rsqb;</number> If such an increased complexity is permitted, the clock generation circuit <highlight><bold>4</bold></highlight> will have the same componential circuits as those of the clock regenerating circuit <highlight><bold>3</bold></highlight> These circuits <highlight><bold>3</bold></highlight> and <highlight><bold>4</bold></highlight> may be unified so that the same componential circuits are shared These circuits <highlight><bold>3</bold></highlight> and <highlight><bold>4</bold></highlight> have distinct functions, but are substantially one unit on the semiconductor chip </paragraph>
<paragraph id="P-0380" lvl="0"><number>&lsqb;0380&rsqb;</number> The effectiveness achieved by the present invention is summarized as follows </paragraph>
<paragraph id="P-0381" lvl="0"><number>&lsqb;0381&rsqb;</number> (1) The single uniform semiconductor chip can be configured to provide for switching between two types of SDRAM SDR-spec SDRAM and DDR-spec SDRAM. The SDR-spec SDRAM enables application electronic systems, which alter the clock period periodically, to transact data without error, and the DDR-spec SDRAM enables application electronic systems, which have high clock frequencies, to transact data accurately </paragraph>
<paragraph id="P-0382" lvl="0"><number>&lsqb;0382&rsqb;</number> (2) The uniform semiconductor chip functioning as a SDR-spec SDRAM can have separate data lines for read-out data and Input data to be stored, and accordingly can process both types of data simultaneously The semiconductor device does not have separate data lines for the SDR-spec SDRAM and DDR-spec SDRAM, enabling a smaller chip area </paragraph>
<paragraph id="P-0383" lvl="0"><number>&lsqb;0383&rsqb;</number> (3) The uniform semiconductor chip functioning as a SDR-spec SDRAM or DDR-spec SDRAM can place input data to be stored on the internal data lines at the optimal timing of each type of SDRAM </paragraph>
<paragraph id="P-0384" lvl="0"><number>&lsqb;0384&rsqb;</number> (4) The SDR-spec SDRAM and DDR-spec SDRAM can have different control timings (data mask control timings) of the validation or invalidation of data entered to the data input circuit in compliance with their different data entries of both types of SDRAM </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What we claim is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A semiconductor device comprising: 
<claim-text>a signal generation circuit which produces a selection signal; </claim-text>
<claim-text>an input/output circuit; </claim-text>
<claim-text>first and second data transfer lines connected to said input/output circuit; </claim-text>
<claim-text>a memory mat including a plurality of memory cells; and </claim-text>
<claim-text>a control circuit connected between said memory mat and said first and second data transfer lines, </claim-text>
<claim-text>wherein said control circuit and said input/output circuit are controllable such that if said selection signal is in a first state, said first and second data transfer lines are used for bidirectional transfer of data, and if said selection signal is in a second state, said first and second data transfer lines are used for unidirectional transfer of data. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, 
<claim-text>wherein said memory cells comprise dynamic memory cells, and said semiconductor device configures a semiconductor memory device of Double Data Rate type if said selection signal is in said first state, or configures a semiconductor memory device of Single Data Rate type if said selection signal is in said second state. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, 
<claim-text>wherein said signal generation circuit has a terminal, and said selection signal is determined to have said first state or said second state depending on a voltage applied to said terminal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00003">claim 3</dependent-claim-reference>, 
<claim-text>wherein said terminal is brought to an electrical floating state or is applied with a predetermined voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, 
<claim-text>wherein said input/output circuit receives data from the outside of said semiconductor device and outputs data to the outside of said semiconductor device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A semiconductor device comprising: 
<claim-text>a signal generation circuit which produces a selection signal; </claim-text>
<claim-text>an input/output circuit; </claim-text>
<claim-text>a first data transfer line connected to said input/output circuit; </claim-text>
<claim-text>a second data transfer line connected to said input/output circuit; </claim-text>
<claim-text>a memory mat including a plurality of memory cells; and </claim-text>
<claim-text>a control circuit connected between said memory mat and said first and second data transfer lines, </claim-text>
<claim-text>wherein said control circuit and said input/output circuit are controllable such that if said selection signal is in a first state, a transfer direction of data on said first data transfer line is bidirectional and a transfer direction of data on said second data transfer line is bidirectional, and </claim-text>
<claim-text>wherein said control circuit and said input/output circuit are controllable such that if said selection signal is in a second state, a transfer direction of data on said first data transfer line is unidirectional and a transfer direction of data on said second data transfer line is unidirectional. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, 
<claim-text>wherein said memory cells comprise dynamic memory cells, and said semiconductor device configures a semiconductor memory device of Double Data Rate type if said selection signal is in said first state, or configures a semiconductor memory device of Single Data Rate type if said selection signal is in said second state. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, 
<claim-text>wherein said signal generation circuit has a terminal, and said selection signal is determined to have said first state or second state depending on the voltage applied to said terminal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, 
<claim-text>wherein said terminal is brought to an electrical floating state or is applied with a predetermined voltage. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00006">claim 6</dependent-claim-reference>, 
<claim-text>wherein said input/output circuit receives data from the outside of said semiconductor device and outputs data to the outside of said semiconductor device. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A semiconductor device comprising: 
<claim-text>a signal generation circuit which produces a selection signal; </claim-text>
<claim-text>a first data transfer line for transferring data; </claim-text>
<claim-text>a second data transfer line for transferring data; and </claim-text>
<claim-text>a memory mat including a plurality of memory cells, said memory mat being coupled to said first and second data transfer lines; </claim-text>
<claim-text>wherein a transfer direction of data on said first data transfer line is bidirectional and a transfer direction of data on said second data transfer line is bidirectional, if said selection signal is in a first state, and </claim-text>
<claim-text>wherein a transfer direction of data on said first data transfer line is unidirectional and a transfer direction of data on said second data transfer line is unidirectional, if said selection signal is in a second state. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, 
<claim-text>wherein said memory cells comprise dynamic memory cells, and said semiconductor device configures a semiconductor memory device of Double Data Rate type if said selection signal is in said first state, or configures a semiconductor memory device of Single Data Rate type if said selection signal is in said second state. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, 
<claim-text>wherein said signal generation circuit has a terminal, and said selection signal is determined to have said first state or said second state depending on a voltage applied to said terminal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A semiconductor device according to <dependent-claim-reference depends_on="CLM-00011">claim 13</dependent-claim-reference>, 
<claim-text>wherein said terminal is brought to an electrical floating state or is applied with a predetermined voltage.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030002316A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030002316A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030002316A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030002316A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030002316A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030002316A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030002316A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030002316A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030002316A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030002316A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030002316A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030002316A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030002316A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030002316A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030002316A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030002316A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
