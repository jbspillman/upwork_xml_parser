<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030003914A1-20030102-D00000.TIF SYSTEM "US20030003914A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00001.TIF SYSTEM "US20030003914A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00002.TIF SYSTEM "US20030003914A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00003.TIF SYSTEM "US20030003914A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00004.TIF SYSTEM "US20030003914A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00005.TIF SYSTEM "US20030003914A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00006.TIF SYSTEM "US20030003914A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00007.TIF SYSTEM "US20030003914A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00008.TIF SYSTEM "US20030003914A1-20030102-D00008.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00009.TIF SYSTEM "US20030003914A1-20030102-D00009.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00010.TIF SYSTEM "US20030003914A1-20030102-D00010.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00011.TIF SYSTEM "US20030003914A1-20030102-D00011.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00012.TIF SYSTEM "US20030003914A1-20030102-D00012.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00013.TIF SYSTEM "US20030003914A1-20030102-D00013.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00014.TIF SYSTEM "US20030003914A1-20030102-D00014.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00015.TIF SYSTEM "US20030003914A1-20030102-D00015.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00016.TIF SYSTEM "US20030003914A1-20030102-D00016.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00017.TIF SYSTEM "US20030003914A1-20030102-D00017.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00018.TIF SYSTEM "US20030003914A1-20030102-D00018.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00019.TIF SYSTEM "US20030003914A1-20030102-D00019.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00020.TIF SYSTEM "US20030003914A1-20030102-D00020.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00021.TIF SYSTEM "US20030003914A1-20030102-D00021.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00022.TIF SYSTEM "US20030003914A1-20030102-D00022.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00023.TIF SYSTEM "US20030003914A1-20030102-D00023.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00024.TIF SYSTEM "US20030003914A1-20030102-D00024.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00025.TIF SYSTEM "US20030003914A1-20030102-D00025.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00026.TIF SYSTEM "US20030003914A1-20030102-D00026.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00027.TIF SYSTEM "US20030003914A1-20030102-D00027.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00028.TIF SYSTEM "US20030003914A1-20030102-D00028.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00029.TIF SYSTEM "US20030003914A1-20030102-D00029.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00030.TIF SYSTEM "US20030003914A1-20030102-D00030.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00031.TIF SYSTEM "US20030003914A1-20030102-D00031.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00032.TIF SYSTEM "US20030003914A1-20030102-D00032.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00033.TIF SYSTEM "US20030003914A1-20030102-D00033.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00034.TIF SYSTEM "US20030003914A1-20030102-D00034.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00035.TIF SYSTEM "US20030003914A1-20030102-D00035.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00036.TIF SYSTEM "US20030003914A1-20030102-D00036.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00037.TIF SYSTEM "US20030003914A1-20030102-D00037.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00038.TIF SYSTEM "US20030003914A1-20030102-D00038.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00039.TIF SYSTEM "US20030003914A1-20030102-D00039.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00040.TIF SYSTEM "US20030003914A1-20030102-D00040.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00041.TIF SYSTEM "US20030003914A1-20030102-D00041.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00042.TIF SYSTEM "US20030003914A1-20030102-D00042.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00043.TIF SYSTEM "US20030003914A1-20030102-D00043.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00044.TIF SYSTEM "US20030003914A1-20030102-D00044.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00045.TIF SYSTEM "US20030003914A1-20030102-D00045.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00046.TIF SYSTEM "US20030003914A1-20030102-D00046.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00047.TIF SYSTEM "US20030003914A1-20030102-D00047.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00048.TIF SYSTEM "US20030003914A1-20030102-D00048.TIF" NDATA TIF>
<!ENTITY US20030003914A1-20030102-D00049.TIF SYSTEM "US20030003914A1-20030102-D00049.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030003914</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10233789</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020903</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>10-021761</doc-number>
</priority-application-number>
<filing-date>19980203</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>H04Q007/20</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>455</class>
<subclass>441000</subclass>
</uspc>
</classification-us-primary>
<classification-us-secondary>
<uspc>
<class>455</class>
<subclass>436000</subclass>
</uspc>
</classification-us-secondary>
</classification-us>
<title-of-invention>Apparatus and method for controlling communications based on moving speed</title-of-invention>
</technical-information>
<continuity-data>
<division-of>
<parent-child>
<child>
<document-id>
<doc-number>10233789</doc-number>
<kind-code>A1</kind-code>
<document-date>20020903</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09123548</doc-number>
<document-date>19980728</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>GRANTED</parent-status>
<parent-patent>
<document-id>
<doc-number>6456827</doc-number>
<country-code>US</country-code>
</document-id>
</parent-patent>
</parent-child>
</division-of>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Tokuro</given-name>
<family-name>Kubo</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
<inventor>
<name>
<given-name>Morihiko</given-name>
<family-name>Minowa</family-name>
</name>
<residence>
<residence-non-us>
<city>Kanagawa</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</inventor>
</inventors>
<correspondence-address>
<name-1>KATTEN MUCHIN ZAVIS ROSENMAN</name-1>
<name-2></name-2>
<address>
<address-1>575 MADISON AVENUE</address-1>
<city>NEW YORK</city>
<state>NY</state>
<postalcode>10022-2585</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A communication control apparatus installed in a base station or a mobile station in mobile communications system estimates the relative moving speed of an opposing station, and adjusts the values of communication parameters for a searcher, a transmission power control unit, an absolute synchronous detector unit, etc. according to an obtained moving speed. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">BACKGROUND OF THE INVENTION </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> 1. Field of the Invention </paragraph>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> The present invention relates to a communication control apparatus and method for setting the parameters for a communication apparatus in a base station to optimal values based on an estimated moving speed of a mobile station in a mobile communications system. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> 2. Description of the Related Art </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> Conventionally, for a channel multiplex method in a mobile communications system, a time division multiple access (TDMA) system, a frequency division multiple access (FDMA) system, etc. have been used. However, the development of a method with a more efficient use of frequency is desired, and particularly, a direct sequence code division multiple access (DS-CDMA) system is a promising candidate, since a large volume of communications is available in this system. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> The DS-CDMA system is one kind of a spread spectrum communication system. In this system, on the transmitting side, data signals are transmitted with the spread spectrum by using the same frequency for a plurality of channels and multiplying the data signals by an independent spread code with a broad band for each channel. On the receiving side the data signals for each channel are restored by multiplying received signals by the same spread code. The multiplication of a spread code on the receiving side is called a reverse-spread. When this DS-CDMA system is applied to mobile communications, a searcher function, a transmission power control function, a coherent detection function, etc. are indispensable features. </paragraph>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> A searcher function means a function for detecting a transmission path and a despread code timing being a timing for performing a reverse-spread. A transmission power control function means a function for modifying a transmission power against a distance problem due to the difference in the distance between a mobile station and a base station, and an instantaneous fluctuation (fading) due to multi-paths. A coherent detection function means a function for adding a pilot signal to data signals in order to obtain a required bit error rate (BER) in a lower transmission power when transmitting, and performing a coherent detection. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> In mobile communications a stable communication is required in a variety of dynamically changing environments, such that a mobile station may transit from a stationary status to a high-speed status, that a mobile station may transit from an urban environment to a suburban environment, etc. Particularly, in a multi-path environment with reflected waves and delayed waves passing through a plurality of transmission lines, countermeasures are indispensable, since fading (instantaneous value fluctuation) is generated by such interference. In the DS-CDMA system, effective fading countermeasures are also desired in connection with each of the above-mentioned functions. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> However, there are the following problems in mobile communications using the DS-CDMA system. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> Generally speaking, although there are optimal values for parameters for each unit of a communication apparatus against a fading generated during the communication, each parameter is not always set to the optimal value, since the fluctuation speed of the fading varies depending on the moving speed of the mobile station (or fading pitch). Therefore, when the parameters are not optimized, the receiving characteristic is degraded, and thereby the channel capacity is reduced. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> Since as described above, the DS-CDMA system comprises a searcher function, a transmission power control function, a coherent detection function, etc., it is necessary to dynamically modify the parameters of these functions and to reduce the influence of fading on received signals. </paragraph>
</section>
<section>
<heading lvl="1">SUMMARY OF THE INVENTION </heading>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> It is an object of the present invention to provide a communication control apparatus and method for setting each parameter for a communication apparatus to an optimal value in mobile communications using a DS-CDMA system. etc. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> The communication control apparatus of the present invention comprises a speed estimation unit and a modification unit, and controls parameters for mobile communications between a transmitting station and a receiving station. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> The speed estimation unit estimates the moving speed of either the transmitting station or the receiving station, and outputs a control signal corresponding to the estimated moving speed. The modification unit modifies the value of the parameters based on the control signal. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> Each of the transmitting station and the receiving station corresponds to a base station or a mobile station in mobile communications. For example, the speed estimation unit estimates the moving speed of the receiving station using a transmission power control command transmitted from the receiving station to the transmitting station, and estimates the moving speed of the transmitting station using a desired signal power generated in the receiving station. In fact, since either of the base station and the mobile station has both functions of a transmitting station and a receiving station, either of the base station and the mobile station can estimate the moving speed of an opposing station using either the transmission power control command or desired signal power. </paragraph>
<paragraph id="P-0015" lvl="0"><number>&lsqb;0015&rsqb;</number> The modification unit modifies a variety of apparatus parameters for the transmitting and receiving stations based on a control signal outputted from the speed estimation unit. For these parameters, the frequency of a search operation for detecting a timing for despreadingspread spectrum signals, the accumulation frequency of receiving correlation values in the search operation, the number and weight coefficient of pilot signals used in a coherent detection, an observation length for observing signals in an invalid path detection, the power value variation width and power value modification frequency in a transmission power control, etc. are considered. By controlling these parameters based on a control signal, communication control is available according to the moving speed, and thereby the receiving characteristic of the receiving station is improved.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows the principle of the communication control apparatus of the present invention. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> shows the principle of a transmitter. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows the principle of a first receiver. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows the configuration of a first searcher. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows the configuration of a matched filter. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> shows a spread code. </paragraph>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> shows the peaks of the correlation value. </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> shows five increments of estimated speeds. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> is a flowchart showing a first search operation (No.<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 10</cross-reference> is a flowchart showing a first search operation (No.<highlight><bold>2</bold></highlight>). </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> shows the principle of a second receiver. </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> shows the configuration of a second searcher. </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 13</cross-reference> is a flowchart showing a second search operation (No.<highlight><bold>1</bold></highlight>). </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 14</cross-reference> is a flowchart showing a second search operation (No.<highlight><bold>2</bold></highlight>). </paragraph>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows a pilot signal. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows the configuration of a first inserted type coherent detection circuit. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 17</cross-reference> shows a switch control method. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows the configuration of a second inserted type coherent detection circuit. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 19</cross-reference> shows a weight coefficient control method. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> shows the configuration of a first invalid path detector unit. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> shows the configuration of a second invalid path detector unit. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 22</cross-reference> shows a filter length control method. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 23</cross-reference> shows the configuration of the transmission power control unit of the receiver. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> shows a transmission power control method. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> shows the configuration of the transmission power control unit of the transmitter. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 26</cross-reference> shows the timing control of power value transmission. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> shows a speed estimation using a TPC command. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 28</cross-reference> shows the first count result of a TPC command. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 29</cross-reference> shows the second count result of a TPC command. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 30</cross-reference> shows the third count result of a TPC command. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 31</cross-reference> shows the fourth count result of a TPC command. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 32</cross-reference> shows the first configuration example of a fading pitch estimation unit. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 33</cross-reference> shows the second configuration example of a fading pitch estimation unit. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 34</cross-reference> shows a circuit for generating a fading pitch from a count value. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 35</cross-reference> shows a speed estimation using the accumulated value of a TPC command. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 36</cross-reference> shows the sampling of accumulated values. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 37</cross-reference> shows the third configuration example of a fading pitch estimation unit. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 38</cross-reference> shows the reference value of the accumulated values of a TPC command. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 39</cross-reference> shows the fourth configuration example of a fading pitch estimation unit. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 40</cross-reference> shows a speed estimation using a desired signal power. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 41</cross-reference> shows the sampling of a receiving correlation value. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 42</cross-reference> shows a sampling circuit. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 43</cross-reference> shows a first power composition. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 44</cross-reference> shows a second power composition. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 45</cross-reference> shows a third power composition. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 46</cross-reference> shows the first configuration example of a power composer unit. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 47</cross-reference> shows the second configuration example of a power composer unit. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 48</cross-reference> shows the reference values of a desired signal power. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 49</cross-reference> shows the relationship between two estimation methods.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS </heading>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> The embodiments of the present invention are described in detail below with reference to the drawings. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> shows the principle of the communication control apparatus of the present invention. The communication control apparatus shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> comprises a speed estimation unit <highlight><bold>1</bold></highlight> and a modification unit <highlight><bold>2</bold></highlight>, and controls parameters for mobile communications between a transmitting and a receiving station. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> The speed estimation unit <highlight><bold>1</bold></highlight> estimates the moving speed of either the transmitting station or the receiving station described above, and outputs a control signal corresponding to the estimated moving speed. The modification unit <highlight><bold>2</bold></highlight> modifies the value of the above-mentioned parameters based on this control signal. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Each of the transmitting station and the receiving station corresponds to a base station or a mobile station in mobile communications. For example, the speed estimation unit <highlight><bold>1</bold></highlight> estimates the moving speed of the receiving station using a transmission power control command transmitted from the receiving station to the transmitting station, and estimates the moving speed of the transmitting station using a desired signal power generated in the receiving station. In fact, since either of the base station and the mobile station has both the functions of a transmitting station and a receiving station, either of the base station and the mobile station can estimate the moving speed of an opposing station using either the transmission power control command or desired signal power. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> The modification unit <highlight><bold>2</bold></highlight> modifies a variety of apparatus parameters for the transmitting and receiving stations based on a control signal outputted from the speed estimation unit <highlight><bold>1</bold></highlight>. For these parameters, the frequency of a search operation for detecting a timing for despreadingspread spectrum signals, the accumulation frequency of receiving correlation values in the search operation, the number and weight coefficient of pilot signals used in a coherent detection, an observation length for observing signals in an invalid path detection, the power value variation width and power value modification frequency in a transmission power control, etc. are considered. By controlling these parameters based on a control signal, communication control is available according to the moving speed, and thereby the receiving characteristic of the receiving station is improved. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> For example, the speed estimation unit <highlight><bold>1</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference> corresponds to a speed estimation unit <highlight><bold>61</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>, etc., and the modification unit <highlight><bold>2</bold></highlight> corresponds to a searcher start timer <highlight><bold>54</bold></highlight> and a counter initial value setting unit <highlight><bold>56</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4, a</cross-reference> counter initial value setting unit <highlight><bold>114</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 12, a</cross-reference> switch control unit <highlight><bold>136</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 16, a</cross-reference> weight coefficient control unit <highlight><bold>152</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 18, a</cross-reference> filter length control unit <highlight><bold>175</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 21, a</cross-reference> TPC step selection control unit <highlight><bold>225</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 25</cross-reference> and a timing control unit <highlight><bold>228</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 26</cross-reference>. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> It is necessary to estimate the moving speed of a mobile station in a base station in order to optimize each parameter for a communication apparatus in the base station. However, in a DS-CDMA system, since a plurality of channels are overlaid on the same frequency, unlike a TDMA or FDMS system which are also known as multiplex systems, it is difficult to estimate a moving speed based on the measurement of the receiving field strength. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> Therefore, in this embodiment the moving speed is estimated utilizing a TPC command used in the transmission power control (TPC) of a DS-CDMA system or the receiving correlation value of a received wave. Then, the value of each parameter for a searcher, transmission power control unit, a phase estimation unit in a coherent detection, etc. is set so as to be optimized against generated fading. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> First, a configuration for setting a variety of parameters according to the moving speed, and then a configuration for estimating the moving speed are described. Although in the following embodiments, mainly the moving speed estimation and parameter control for a mobile station by a base station are described, the similar configuration can also be adopted in the mobile station. In this case, the relative moving speed against the mobile station of the base station can be estimated, and a variety of parameters for apparatuses at the mobile station based on the estimated moving speed can be set. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> and <cross-reference target="DRAWINGS">FIG. 3</cross-reference> show the conceptual principle of a transmitter and a receiver of a DS-CDMA system, respectively. In <cross-reference target="DRAWINGS">FIG. 2</cross-reference>, data to be transmitted overlaid on a carrier are multiplied by a spread code from a code generator <highlight><bold>11</bold></highlight> using a multiplier <highlight><bold>12</bold></highlight>, and are transmitted from an antenna <highlight><bold>14</bold></highlight> through an amplifier <highlight><bold>13</bold></highlight>. For the logic of the multiplier <highlight><bold>12</bold></highlight> an arbitrary logic such as an exclusive-OR (EXOR), etc. is used. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, received signals inputted from an antenna <highlight><bold>21</bold></highlight> are converted to baseband signals (digital signals) by a converter unit <highlight><bold>23</bold></highlight> after passing through an amplifier <highlight><bold>22</bold></highlight>, and are restored to the original data by a demodulator unit <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> The demodulator unit <highlight><bold>24</bold></highlight> comprises a plurality of sets consisting of a code generator <highlight><bold>31</bold></highlight>, a multiplier <highlight><bold>32</bold></highlight> and a detector unit <highlight><bold>33</bold></highlight>. Each code generator <highlight><bold>31</bold></highlight> generates a despread code with a different timing. For the despread code usually the same code as a spread code used for transmission is used. The multiplier <highlight><bold>32</bold></highlight> multiplies signals by a despread code, and restores the spectrum to the original band. The detector unit <highlight><bold>33</bold></highlight> detects the despread signals. An adder <highlight><bold>34</bold></highlight> sums and outputs the outputs of the detector units <highlight><bold>33</bold></highlight>. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> A searcher <highlight><bold>25</bold></highlight> is provided in order to match the timings of a spread on the transmitting side and a despread on the receiving side. The searcher <highlight><bold>25</bold></highlight> judges the signal delay of each path in a multi-path environment from the output signals of the converter unit <highlight><bold>23</bold></highlight>, and controls the timing of each code generator <highlight><bold>31</bold></highlight> so that a reverse spread may be performed with a timing in accordance with each path. In this way, data consisting of signals passing through a plurality of paths are outputted from the demodulator unit <highlight><bold>24</bold></highlight>. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> Next, an embodiment for optimizing the parameter for the searcher <highlight><bold>25</bold></highlight> using an estimated moving speed is described below. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> shows a configuration example of the searcher <highlight><bold>25</bold></highlight> using a matched filter. In <cross-reference target="DRAWINGS">FIG. 4, a</cross-reference> matched filter <highlight><bold>41</bold></highlight> generates a correlation value for a desired signal from the inputted signals. An accumulator unit <highlight><bold>42</bold></highlight> adds and accumulates the correlation values in order to improve the signal-to-noise ratio (SNR), and stores the accumulated values in a profile memory <highlight><bold>43</bold></highlight>. A valid path detector unit <highlight><bold>44</bold></highlight> extracts one or more peak values greater than a certain value from the accumulated values stored in the profile memory <highlight><bold>43</bold></highlight>. Then, the valid path detector unit <highlight><bold>44</bold></highlight> regards each peak as a peak corresponding to one valid path, and sets the path timing in each code generator <highlight><bold>31</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> A code generator unit <highlight><bold>51</bold></highlight> generates a despread code according to a code output start signal from a timing control unit <highlight><bold>55</bold></highlight>, and provides the despread code to the matched filter <highlight><bold>41</bold></highlight> as a multiplication coefficient. A memory address generator unit <highlight><bold>52</bold></highlight> comprises an address counter. The memory address generator unit <highlight><bold>52</bold></highlight> generates a memory address according to an address counter start signal from the timing control unit <highlight><bold>55</bold></highlight>, and provides the memory address to the profile memory <highlight><bold>43</bold></highlight> as a write address. A counter <highlight><bold>53</bold></highlight> counts the number of accumulation additions according to a count-up signal, and outputs a detection start signal to the valid path detector unit <highlight><bold>44</bold></highlight> when the count value reaches a certain value. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> A searcher start timer <highlight><bold>54</bold></highlight> optimizes the frequency of search operations according to the moving speed of a mobile station estimated by a speed estimation unit <highlight><bold>61</bold></highlight>, and outputs a search start signal to the timing control unit <highlight><bold>55</bold></highlight> based on the optimal search frequency. In this embodiment, an optimization means to control the search frequency so as to reduce the search frequency when the moving speed is low, since at that time the timing of despread changes slowly, and so as to increase the search frequency when the moving speed is high, since at that time the timing changes rapidly. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> By optimizing the search frequency using the estimated moving speed the timing detection of despread can be prevented from being late for path fluctuations, and thereby the search operation can be prevented from being performed more than needed. Accordingly, the power consumption of the searcher is reduced. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> In order to improve the SNR of a receiving correlation value at one search operation the optimization of the number of the accumulation additions based on the moving speed can also be considered. Fading is generated when a mobile station moves. Accordingly, even while a receiving correlation value is detected with a certain timing, the value is detected at a low level when the value corresponds to the trough of fading, and the reliability of the timing is low. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> For this reason, the number of the accumulation additions is set to an appropriate number by altering the number between when a mobile station of each channel moves and when the station stands still, or between when the station travels at a high speed and when the station travels at a low speed. When the station stands still (or travels at a low speed), the number of the accumulation additions is set to a small number, since there is little path fluctuation. When the station moves (at a high speed), the number is set to a large number, since there is a lot of path fluctuation. In order to implement a control like this a counter initial value setting unit <highlight><bold>56</bold></highlight> modifies the initial value of the counter <highlight><bold>53</bold></highlight> according to the moving speed estimated by the speed estimation unit <highlight><bold>61</bold></highlight>. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> The configuration and operation of the matched filter <highlight><bold>41</bold></highlight> are described below. <cross-reference target="DRAWINGS">FIG. 5</cross-reference> shows the configuration of the matched filter <highlight><bold>41</bold></highlight> in the case where a 3-bit spread code is assumed to be used, to simplify the description. In <cross-reference target="DRAWINGS">FIG. 5, a</cross-reference> delay unit <highlight><bold>71</bold></highlight> consists of three flip-flops (FF), and converts an inputted serial signal to a 3-bit parallel signal. Three multipliers <highlight><bold>72</bold></highlight> multiply this parallel signal by a 3-bit despread code. An adder <highlight><bold>73</bold></highlight> sums the outputs of these multipliers <highlight><bold>72</bold></highlight>, and outputs the result of the addition as a receiving correlation value. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> For example, as shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, when an EXOR of data &ldquo;1&rdquo; and a spread code &ldquo;101&rdquo; is generated and transmitted from the transmitting side, the received signal becomes &ldquo;010&rdquo;. When this signal is outputted from the delay unit <highlight><bold>71</bold></highlight> and the EXOR operation of the signal and a despread code &ldquo;101&rdquo; is performed by the multipliers <highlight><bold>72</bold></highlight>, a logic &ldquo;1&rdquo; is outputted from each multiplier <highlight><bold>72</bold></highlight>. As a result, the correlation value outputted from the adder <highlight><bold>73</bold></highlight> becomes &ldquo;3&rdquo;. Actually, a spread code with a greater number of bits is used, and thereby the matched filter <highlight><bold>41</bold></highlight> comprises a plurality of FFs and multipliers. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> Every time data in the delay unit <highlight><bold>71</bold></highlight> is shifted by one bit, the correlation value changes. When a despread code is multiplied with the same timing as a spread code is multiplied with on the transmitting side, the peak of the correlation value is formed. Generally speaking, since received signals include signals passing through a plurality of paths and the arriving time of each signal differs depending on a path through which the signal passes, a plurality of peaks are formed as shown in <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 7</cross-reference>, the first peak corresponds to the shortest path P<highlight><bold>1</bold></highlight> between a base station and a mobile station, and the second and third peaks correspond to the paths P<highlight><bold>2</bold></highlight> and P<highlight><bold>3</bold></highlight> of a reflected wave or delayed wave. The valid path detector unit <highlight><bold>44</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> generates a timing signal for a despread corresponding to each path by measuring the difference in time between such peaks. The accumulator unit <highlight><bold>42</bold></highlight> and profile memory <highlight><bold>43</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> are provided to enable these peaks to be easily detected. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 8</cross-reference>, the speed estimation unit <highlight><bold>61</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference> estimates the moving speed of a mobile station in five increments of a speed range of A (stationary state), B (0 to 40 km/h), C (40 to 80 km/h), D (80 to 120 km/h) and E (120 km/h or more), and outputs a control signal corresponding to each speed range to both the searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight>. Then, a searcher <highlight><bold>25</bold></highlight> performs a search operation according to the control signal. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 9</cross-reference> and <cross-reference target="DRAWINGS">FIG. 10</cross-reference> are flowcharts showing search operations based on an estimated moving speed. When receiving a control signal from the speed estimation unit <highlight><bold>61</bold></highlight> (step S<highlight><bold>1</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 9</cross-reference>), both searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight> judge whether or not a moving speed V corresponds to a stage A (step S<highlight><bold>2</bold></highlight>). If the speed V corresponds to the stage A, the initial value setting unit <highlight><bold>56</bold></highlight> sets the initial value of the counter <highlight><bold>53</bold></highlight> to 41 (step S<highlight><bold>3</bold></highlight>), and the timer <highlight><bold>54</bold></highlight> sets the timer cycle to 500 ms (step S<highlight><bold>4</bold></highlight>). </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> If the speed V does not correspond to the stage A, then both searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight> judge whether or not the moving speed V corresponds to a stage B (step S<highlight><bold>5</bold></highlight>). If the speed V corresponds to the stage B, the initial value setting unit <highlight><bold>56</bold></highlight> sets the initial value of the counter <highlight><bold>53</bold></highlight> to 31 (step S<highlight><bold>6</bold></highlight>), and the timer <highlight><bold>54</bold></highlight> sets the timer cycle to 250 ms (step S<highlight><bold>7</bold></highlight>). </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> If the speed V does not correspond to the stage B, then both searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight> judge whether or not the moving speed V corresponds to a stage C (step S<highlight><bold>8</bold></highlight>). If the speed V corresponds to the stage C, the initial value setting unit <highlight><bold>56</bold></highlight> sets the initial value of the counter <highlight><bold>53</bold></highlight> to 21 (step S<highlight><bold>9</bold></highlight>), and the timer <highlight><bold>54</bold></highlight> sets the timer cycle to 125 ms (step S<highlight><bold>10</bold></highlight>). </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> If the speed V does not correspond to the stage C, then both searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight> judge whether or not the moving speed V corresponds to a stage D (step S<highlight><bold>11</bold></highlight>). If the speed V corresponds to the stage D, the initial value setting unit <highlight><bold>56</bold></highlight> sets the initial value of the counter <highlight><bold>53</bold></highlight> to 11 (step S<highlight><bold>12</bold></highlight>), and the timer <highlight><bold>54</bold></highlight> sets the timer cycle to 62.5 ms (step S<highlight><bold>13</bold></highlight>). </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> If the speed V does not correspond to the stage D, then both searcher start timer <highlight><bold>54</bold></highlight> and counter initial value setting unit <highlight><bold>56</bold></highlight> judge whether or not the moving speed V corresponds to a stage E (step S<highlight><bold>14</bold></highlight>). If the speed V corresponds to the stage E, the initial value setting unit <highlight><bold>56</bold></highlight> sets the initial value of the counter <highlight><bold>53</bold></highlight> to 1 (step S<highlight><bold>15</bold></highlight>), and the timer <highlight><bold>54</bold></highlight> sets the timer cycle to 31.25 ms (step S<highlight><bold>16</bold></highlight>). </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> When both the initial value of the counter <highlight><bold>53</bold></highlight> and the cycle of the timer <highlight><bold>54</bold></highlight> are set, the searcher <highlight><bold>25</bold></highlight> starts a search operation (step S<highlight><bold>17</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 10</cross-reference>). First, the code generator unit <highlight><bold>51</bold></highlight> sets a despread code to the matched filter <highlight><bold>41</bold></highlight> (step S<highlight><bold>18</bold></highlight>), and the profile memory <highlight><bold>43</bold></highlight> starts to acquire the profile data of a correlation value (correlation values within a certain time period) outputted from the matched filter <highlight><bold>41</bold></highlight> (step S<highlight><bold>19</bold></highlight>). </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> At this time, the address counter of the memory address generator unit <highlight><bold>52</bold></highlight> increments an address Adr until the value of the address Adr reaches 2048, and outputs the address Adr to the profile memory <highlight><bold>43</bold></highlight> (steps S<highlight><bold>20</bold></highlight>, S<highlight><bold>21</bold></highlight>). The profile memory <highlight><bold>43</bold></highlight> stores the correlation values in addresses in the order designated by the address Adr. Then, when the address Adr reaches 2048, the address counter of the memory address generator unit <highlight><bold>52</bold></highlight> completes the acquisition of profile data for one operation (step S<highlight><bold>22</bold></highlight>). </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> Then, the counter <highlight><bold>53</bold></highlight> increments the count value N of the accumulation additions by one (step S<highlight><bold>23</bold></highlight>), and judges whether or not the value N reaches 63 (step S<highlight><bold>24</bold></highlight>). In this embodiment, for the counter <highlight><bold>53</bold></highlight> a 6-bit counter is used, and the final value is 63 (&equals;2<highlight><superscript>6</superscript></highlight>&minus;1). The initial value of N is set in one of steps S<highlight><bold>3</bold></highlight>, S<highlight><bold>6</bold></highlight>, S<highlight><bold>9</bold></highlight>, S<highlight><bold>12</bold></highlight> and S<highlight><bold>15</bold></highlight>. If the value N is less than 63, the operations in steps <highlight><bold>17</bold></highlight> and after are repeated, and the accumulation is performed by the accumulator unit <highlight><bold>42</bold></highlight>. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> In this case, the initial values 41, 31, 21, 11 and 1 correspond to the number of the accumulation additions <highlight><bold>22</bold></highlight>, <highlight><bold>32</bold></highlight>, <highlight><bold>42</bold></highlight>, <highlight><bold>52</bold></highlight> and <highlight><bold>62</bold></highlight>, respectively, and it is clear that the higher the speed V is, the greater is the number that is set. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> When the value reaches 63, the valid path detector unit <highlight><bold>44</bold></highlight> extracts one or more peaks corresponding to a valid path from the accumulated value stored in the profile memory <highlight><bold>43</bold></highlight>, and outputs a control signal indicating the timing of each peak (step S<highlight><bold>25</bold></highlight>). </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> When the search operation is completed in this way (step S<highlight><bold>26</bold></highlight>), the timer <highlight><bold>54</bold></highlight> (sleep timer) is started by a control signal (pulse) from the counter <highlight><bold>53</bold></highlight> (step S<highlight><bold>27</bold></highlight>), and a search operation is not performed until a time set by one of steps S<highlight><bold>4</bold></highlight>, S<highlight><bold>7</bold></highlight>, S<highlight><bold>10</bold></highlight>, S<highlight><bold>13</bold></highlight> and S<highlight><bold>16</bold></highlight> elapses (step S<highlight><bold>28</bold></highlight>). </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> Then, when the set time elapses, operations in steps S<highlight><bold>2</bold></highlight> and after are repeated according to the moving speed at that time. In this case, since the higher the speed V is, the shorter is the cycle time of the timer <highlight><bold>54</bold></highlight> set to, and the higher the speed V is, the higher the search frequency becomes. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> By the way, when a base station is configured to communicate with a plurality of mobile stations (channels), the path timing detection of these channels is also available by the time division operation of one searcher. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 11</cross-reference> shows the principle of a receiver for performing such a search operation. Both configurations and operations of an antenna <highlight><bold>21</bold></highlight>, an amplifier <highlight><bold>22</bold></highlight>, a converter unit <highlight><bold>23</bold></highlight> and each of demodulators <highlight><bold>24</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 11</cross-reference> are the same as the configurations and operations shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. Each demodulator unit <highlight><bold>24</bold></highlight> demodulates received signals using a despread code corresponding to each channel. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> In a normal operation mode a searcher <highlight><bold>81</bold></highlight> performs a search operation for each channel with the same frequency in order. However, since it cannot be considered that each mobile station travels at the same speed, each channel differs in the path fluctuation. Thus, a search frequency is optimized for each channel based on the estimated moving speed of each mobile station. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> In this case, the search frequency of a channel with a low moving speed is set to a small number, since at that time the timing of despreadingchanges little. Meanwhile, the search frequency of a channel with a high moving speed is set to a large number, since at that time the timing of despreadingchanges rapidly, in a similar manner to the searcher <highlight><bold>25</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> The searcher <highlight><bold>81</bold></highlight> can also optimize the number of the accumulation additions for each channel based on the estimated moving speed, in the same manner as the searcher <highlight><bold>25</bold></highlight>. In this case, the number of the accumulation additions of a channel with a low moving speed is set to a small number, since at that time there is little path fluctuation. Meanwhile, the number of the accumulation additions of a channel with a high moving speed is set to a large number, since at that time there is a lot of path fluctuation, in a similar manner to the searcher <highlight><bold>25</bold></highlight>. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> By such a control, both the optimal search frequency and the optimal number of the accumulation additions set for the path fluctuation of each channel. Since a search is not performed at a higher frequency than is needed, the detection time can be reduced, and time to search a plurality of channels can be secured by one searcher. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 12</cross-reference> shows a configuration example of the searcher <highlight><bold>81</bold></highlight> in the Case where the number of the accumulation additions is optimized for each channel. Although the case of three channels CH<highlight><bold>1</bold></highlight>, CH<highlight><bold>2</bold></highlight> and CH<highlight><bold>3</bold></highlight> is described here, the same is true in the case of more than three channels. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 12, a</cross-reference> matched filter <highlight><bold>92</bold></highlight> generates a correlation value for a desired signal from a channel-multiplexed input signal. An accumulator unit <highlight><bold>93</bold></highlight> accumulates the correlation values, and stores the accumulated value in a profile memory <highlight><bold>94</bold></highlight>. A valid path detector unit <highlight><bold>95</bold></highlight> extracts one or more peaks corresponding to a valid path from the accumulated values stored in a profile memory <highlight><bold>94</bold></highlight>, and outputs these path timings to the demodulator <highlight><bold>24</bold></highlight> of the corresponding channel, as shown in <cross-reference target="DRAWINGS">FIG. 11</cross-reference>. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> Code generator units <highlight><bold>102</bold></highlight>, <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> generate despread codes for CH<highlight><bold>1</bold></highlight>, CH<highlight><bold>2</bold></highlight> and CH<highlight><bold>3</bold></highlight>, respectively, according to a code output start signal from a timing control unit <highlight><bold>113</bold></highlight>, and provide the despread code to the matched filter <highlight><bold>92</bold></highlight> as multiplication coefficient. A selector <highlight><bold>101</bold></highlight> outputs the despread codes CH<highlight><bold>1</bold></highlight>, CH<highlight><bold>2</bold></highlight> and CH<highlight><bold>3</bold></highlight> to the matched filter <highlight><bold>92</bold></highlight> selectively, and a selector <highlight><bold>105</bold></highlight> inputs a code output start signal to the code generator units <highlight><bold>102</bold></highlight>, <highlight><bold>103</bold></highlight> and <highlight><bold>104</bold></highlight> selectively. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> A memory address generator unit <highlight><bold>107</bold></highlight> comprises an address counter. The memory address generator unit <highlight><bold>107</bold></highlight> generates a memory address according to an address counter start signal from the timing control unit <highlight><bold>113</bold></highlight>, and provides the memory address to the profile memory <highlight><bold>94</bold></highlight> as a write address. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> Counters <highlight><bold>108</bold></highlight>, <highlight><bold>109</bold></highlight> and <highlight><bold>110</bold></highlight> count the number of the accumulation additions of CH<highlight><bold>1</bold></highlight>, CH<highlight><bold>2</bold></highlight> and CH<highlight><bold>3</bold></highlight>, respectively, according to a count-up signal, and when the count value reaches a certain value, output a detection start signal to a valid path detector unit <highlight><bold>95</bold></highlight>. A selector <highlight><bold>111</bold></highlight> inputs a count-up signal to the counters <highlight><bold>108</bold></highlight>, <highlight><bold>109</bold></highlight> and <highlight><bold>110</bold></highlight> selectively. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> A counter initial value setting unit <highlight><bold>114</bold></highlight> modifies the initial values of counters <highlight><bold>108</bold></highlight>, <highlight><bold>109</bold></highlight> and <highlight><bold>110</bold></highlight> according to the moving speeds of CH<highlight><bold>1</bold></highlight>, CH<highlight><bold>2</bold></highlight> and CH<highlight><bold>3</bold></highlight> estimated by speed estimation units <highlight><bold>121</bold></highlight>, <highlight><bold>122</bold></highlight> and <highlight><bold>123</bold></highlight>, respectively. The selector <highlight><bold>115</bold></highlight> outputs control signals from the speed estimation units <highlight><bold>121</bold></highlight>, <highlight><bold>122</bold></highlight> and <highlight><bold>123</bold></highlight> to the counter initial value setting unit <highlight><bold>114</bold></highlight> selectively. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> A channel selector unit <highlight><bold>112</bold></highlight> is controlled by the timing control unit <highlight><bold>113</bold></highlight>, and switches selectors <highlight><bold>101</bold></highlight>, <highlight><bold>105</bold></highlight>, <highlight><bold>111</bold></highlight> and <highlight><bold>115</bold></highlight>. The speed estimation units <highlight><bold>121</bold></highlight>, <highlight><bold>122</bold></highlight> and <highlight><bold>123</bold></highlight> estimate the moving speed of a mobile station in five stages of speed ranges, and output control signals corresponding to each speed range in the same way as the speed estimation unit <highlight><bold>61</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 13 and 14</cross-reference> are flowcharts showing the search operation of a searcher <highlight><bold>81</bold></highlight>. When receiving a control signal from one of the speed estimation units <highlight><bold>121</bold></highlight>, <highlight><bold>122</bold></highlight> and <highlight><bold>123</bold></highlight> (steps S<highlight><bold>31</bold></highlight>, S<highlight><bold>32</bold></highlight> and S<highlight><bold>33</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>), the channel selector unit <highlight><bold>112</bold></highlight> controls the selectors <highlight><bold>101</bold></highlight>, <highlight><bold>105</bold></highlight>, <highlight><bold>111</bold></highlight> and <highlight><bold>115</bold></highlight> so as to select each corresponding channel (step S<highlight><bold>34</bold></highlight>). </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> Then, the counter initial value setting unit <highlight><bold>114</bold></highlight> judges whether or not a moving speed V corresponds to a stage A (step S<highlight><bold>35</bold></highlight>). If the speed V corresponds to the stage A, the counter initial value setting unit <highlight><bold>114</bold></highlight> sets the initial value of the counter (<highlight><bold>108</bold></highlight>, <highlight><bold>109</bold></highlight> or <highlight><bold>110</bold></highlight>) of a corresponding channel to 41 (step S<highlight><bold>36</bold></highlight>). </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> If the speed V does not correspond to the stage A, then the counter initial value setting unit <highlight><bold>114</bold></highlight> judges whether or not a moving speed V corresponds to a stage B (step S<highlight><bold>37</bold></highlight>). If the speed V corresponds to the stage B, the counter initial value setting unit <highlight><bold>114</bold></highlight> sets the initial value of the counter to 31 (step S<highlight><bold>38</bold></highlight>). </paragraph>
<paragraph id="P-0118" lvl="0"><number>&lsqb;0118&rsqb;</number> If the speed V does not correspond to the stage B, then the counter initial value setting unit <highlight><bold>114</bold></highlight> judges whether or not a moving speed V corresponds to a stage C (step S<highlight><bold>39</bold></highlight>). If the speed V corresponds to the stage C, the counter initial value setting unit <highlight><bold>114</bold></highlight> sets the initial value of the counter to 21 (step S<highlight><bold>40</bold></highlight>). </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> If the speed V does not correspond to the stage C, then the counter initial value setting unit <highlight><bold>114</bold></highlight> judges whether or not a moving speed V corresponds to a stage D (step S<highlight><bold>41</bold></highlight>). If the speed V corresponds to the stage D, the counter initial value setting unit <highlight><bold>114</bold></highlight> sets the initial value of the counter to 11 (step S<highlight><bold>42</bold></highlight>). </paragraph>
<paragraph id="P-0120" lvl="0"><number>&lsqb;0120&rsqb;</number> If the speed V does not correspond to the stage D, then the counter initial value setting unit <highlight><bold>114</bold></highlight> judges whether or not a moving speed V corresponds to a stage E (step S<highlight><bold>43</bold></highlight>). If the speed V corresponds to the stage E, the counter initial value setting unit <highlight><bold>114</bold></highlight> sets the initial value of the counter to 1 (step S<highlight><bold>44</bold></highlight>). </paragraph>
<paragraph id="P-0121" lvl="0"><number>&lsqb;0121&rsqb;</number> When the initial value of the counter is set in this way, the searcher <highlight><bold>81</bold></highlight> starts a search operation (step S<highlight><bold>46</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 14</cross-reference>). First, the code generator unit (<highlight><bold>102</bold></highlight>, <highlight><bold>103</bold></highlight> or <highlight><bold>104</bold></highlight>) of a corresponding channel sets a despread code in the matched filter <highlight><bold>92</bold></highlight> (step S<highlight><bold>47</bold></highlight>), and the profile memory <highlight><bold>94</bold></highlight> starts to acquire the profile data of a correlation value outputted from the matched filter <highlight><bold>92</bold></highlight> (step S<highlight><bold>48</bold></highlight>). </paragraph>
<paragraph id="P-0122" lvl="0"><number>&lsqb;0122&rsqb;</number> In this case, the address counter of the memory address generator unit <highlight><bold>107</bold></highlight> increments an address Adr until the value of the address Adr reaches 2048, and outputs the address Adr to the profile memory <highlight><bold>94</bold></highlight> (steps S<highlight><bold>49</bold></highlight>, S<highlight><bold>50</bold></highlight>). The profile memory <highlight><bold>94</bold></highlight> stores the correlation values in addresses in order, designated by the address Adr. Then, when the address Adr reaches 2048, the acquisition of profile data for one operation is completed (step S<highlight><bold>51</bold></highlight>). </paragraph>
<paragraph id="P-0123" lvl="0"><number>&lsqb;0123&rsqb;</number> Then, the counter of a corresponding channel increments the count value N of the number of the accumulation additions by one (step S<highlight><bold>52</bold></highlight>), and judges whether or not the count value N reaches 63 (step S<highlight><bold>53</bold></highlight>). The initial value of N is set in one of the steps S<highlight><bold>36</bold></highlight>, S<highlight><bold>38</bold></highlight>, S<highlight><bold>40</bold></highlight>, S<highlight><bold>42</bold></highlight> and S<highlight><bold>44</bold></highlight>. If the value N is less than 63, operations in steps S<highlight><bold>46</bold></highlight> and after are repeated, and the accumulation is performed by the accumulator unit <highlight><bold>93</bold></highlight>. </paragraph>
<paragraph id="P-0124" lvl="0"><number>&lsqb;0124&rsqb;</number> When the value N reaches 63, the valid path detector unit <highlight><bold>95</bold></highlight> extracts one or more peaks corresponding to a valid path from the accumulated values stored in the profile memory <highlight><bold>94</bold></highlight>, and outputs a control signal indicating the timing of each peak (step S<highlight><bold>54</bold></highlight>). </paragraph>
<paragraph id="P-0125" lvl="0"><number>&lsqb;0125&rsqb;</number> When in this way the search operation is completed (step S<highlight><bold>55</bold></highlight>), the channel selector unit <highlight><bold>112</bold></highlight> selects the next channel (step S<highlight><bold>45</bold></highlight> in <cross-reference target="DRAWINGS">FIG. 13</cross-reference>), and operations in steps S<highlight><bold>35</bold></highlight> and after are repeated according to the moving speed. </paragraph>
<paragraph id="P-0126" lvl="0"><number>&lsqb;0126&rsqb;</number> Although in <cross-reference target="DRAWINGS">FIGS. 9, 10</cross-reference>, <highlight><bold>13</bold></highlight> and <highlight><bold>14</bold></highlight> the initial values of the counters <highlight><bold>53</bold></highlight>, <highlight><bold>108</bold></highlight>, <highlight><bold>109</bold></highlight> and <highlight><bold>110</bold></highlight> are set according to the moving speed V, instead of the initial values, the final values can also be set in the number of the accumulation additions according to the speed V with the initial values of these counters set to 0. </paragraph>
<paragraph id="P-0127" lvl="0"><number>&lsqb;0127&rsqb;</number> Next, an embodiment for optimizing the parameter for a pilot signal inserted type absolute synchronous detector circuit used in a receiver using an estimated moving speed is described below. For example, when performing the coherent detection of signals in the detector unit <highlight><bold>33</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3, a</cross-reference> phase estimation is needed. In the inserted type synchronous detector circuit a phase estimation is performed using a pilot signal being a known signal. </paragraph>
<paragraph id="P-0128" lvl="0"><number>&lsqb;0128&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 15</cross-reference> shows a signal to be transmitted with a pilot signal inserted. In this embodiment, one symbol of a pilot signal is inserted before N symbols of data, and forms one slot of signals with the N symbols of data. </paragraph>
<paragraph id="P-0129" lvl="0"><number>&lsqb;0129&rsqb;</number> Generally speaking, the greater the number of pilot signals for observing a phase estimation is, the more the SNR and then the estimation accuracy are improved. However, when fading is generated by the moving of a mobile station, phase rotation occurs in the signals, and the phase correlation between a plurality of pilot signals becomes low. For this reason, when performing a phase estimation using a lot of pilot signals distant from each other in terms of time, the estimation accuracy is sometimes degraded. </paragraph>
<paragraph id="P-0130" lvl="0"><number>&lsqb;0130&rsqb;</number> Therefore, a control is performed to optimize the number of pilots used for a phase estimation based on an estimated moving speed. Since the closer to the stationary state a mobile station is, the smaller the phase rotation becomes, the closer to the stationary state a mobile station is, the more pilot signals are used by the synchronous detector circuit when performing a phase estimation; while the higher the moving speed becomes, the less pilot signals are used when performing a phase estimation. </paragraph>
<paragraph id="P-0131" lvl="0"><number>&lsqb;0131&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 16</cross-reference> shows a configuration example of such an inserted type absolute synchronous detector circuit. In <cross-reference target="DRAWINGS">FIG. 16, a</cross-reference> pilot/data demultiplexer unit <highlight><bold>131</bold></highlight> demultiplexes input signals after being despread as shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> on data signals and pilot signals. </paragraph>
<paragraph id="P-0132" lvl="0"><number>&lsqb;0132&rsqb;</number> A data delay unit <highlight><bold>132</bold></highlight> delays data signals by two slots, and outputs the data signals to a multiplier <highlight><bold>133</bold></highlight>. A phase estimation unit <highlight><bold>135</bold></highlight> generates the estimated phase value of the pilot signals ( complex conjugate of the pilot signals) according to a control signal from the speed estimation unit <highlight><bold>141</bold></highlight>, and outputs the estimated phase value to the multiplier <highlight><bold>133</bold></highlight>. The multiplier <highlight><bold>133</bold></highlight> multiplies the output of the data delay unit <highlight><bold>132</bold></highlight> by the output of the phase estimation unit <highlight><bold>135</bold></highlight>, and the identification unit <highlight><bold>134</bold></highlight> identifies data from the result of the multiplication (discretization of data), and outputs the decoded data. </paragraph>
<paragraph id="P-0133" lvl="0"><number>&lsqb;0133&rsqb;</number> The phase estimation unit <highlight><bold>135</bold></highlight> comprises a switch control unit <highlight><bold>136</bold></highlight>, a plurality of shift registers <highlight><bold>137</bold></highlight> (SR), a plurality of switches <highlight><bold>138</bold></highlight> (SW<highlight><bold>1</bold></highlight>, SW<highlight><bold>2</bold></highlight>, SW<highlight><bold>3</bold></highlight>, SW<highlight><bold>4</bold></highlight> and SW<highlight><bold>5</bold></highlight>) and an adder <highlight><bold>139</bold></highlight> (ADD). </paragraph>
<paragraph id="P-0134" lvl="0"><number>&lsqb;0134&rsqb;</number> Each shift register <highlight><bold>137</bold></highlight> comprises, for example, flip-flops, and shifts pilot signals from the pilot/data multiplexer unit <highlight><bold>131</bold></highlight> by one slot. Each switch <highlight><bold>138</bold></highlight> is controlled by the switch control unit <highlight><bold>136</bold></highlight>. The switches <highlight><bold>138</bold></highlight> extract outputted pilot signals or the output of each shift register <highlight><bold>137</bold></highlight>, and output the signals or output to the adder <highlight><bold>139</bold></highlight>. The adder <highlight><bold>139</bold></highlight> adds the outputs from the switches <highlight><bold>138</bold></highlight> and outputs the result to the multiplier <highlight><bold>133</bold></highlight>. </paragraph>
<paragraph id="P-0135" lvl="0"><number>&lsqb;0135&rsqb;</number> According to such a configuration, when the data delay unit <highlight><bold>132</bold></highlight> outputs a data signal being a target of identification (a target of demodulation), a switch SW<highlight><bold>3</bold></highlight> can input the pilot signal in the same slot as the data signal to the adder <highlight><bold>139</bold></highlight>. </paragraph>
<paragraph id="P-0136" lvl="0"><number>&lsqb;0136&rsqb;</number> The switch control unit <highlight><bold>136</bold></highlight> controls each switch <highlight><bold>138</bold></highlight>, for example, by such a logic as shown in <cross-reference target="DRAWINGS">FIG. 17</cross-reference>. When a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed of 0 km/h (stationary state), the switch control unit <highlight><bold>136</bold></highlight> turns all switches ON. As a result, five pilot signals inserted before and after the data signal being the identification target are inputted to the adder <highlight><bold>139</bold></highlight>. </paragraph>
<paragraph id="P-0137" lvl="0"><number>&lsqb;0137&rsqb;</number> When a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed 0 to 80 km/h, the switch control unit <highlight><bold>136</bold></highlight> turns switches SW<highlight><bold>2</bold></highlight>, SW<highlight><bold>3</bold></highlight> and SW<highlight><bold>4</bold></highlight> ON, and turns the remaining switches SW<highlight><bold>1</bold></highlight> and SW<highlight><bold>5</bold></highlight> OFF. As a result, three pilot signals inserted before and after the data signal being the identification target are inputted to the adder <highlight><bold>139</bold></highlight>. </paragraph>
<paragraph id="P-0138" lvl="0"><number>&lsqb;0138&rsqb;</number> When a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed over 80 km/h, the switch control unit <highlight><bold>136</bold></highlight> turns only the switch SW<highlight><bold>3</bold></highlight> ON, and turns the remaining switches <highlight><bold>138</bold></highlight> OFF. As a result, only the pilot signal in the same slot as the data signal being the identification target is inputted to the adder <highlight><bold>139</bold></highlight>. </paragraph>
<paragraph id="P-0139" lvl="0"><number>&lsqb;0139&rsqb;</number> In this way, in the phase estimation unit <highlight><bold>135</bold></highlight>, the lower an estimated moving speed is, the more pilot signals are used, while the lower the estimated moving speed is, the less pilot signals are used. Thus, the accuracy of a phase estimation can be optimized according to the moving speed. </paragraph>
<paragraph id="P-0140" lvl="0"><number>&lsqb;0140&rsqb;</number> In the phase estimation unit of such an inserted type absolute synchronous detector circuit, a plurality of pilot signals before and after data being an identification target can also be used with a weight in accordance with the time distance from the data. Conventionally, the weight coefficient of each pilot signal is fixed to a certain value. </paragraph>
<paragraph id="P-0141" lvl="0"><number>&lsqb;0141&rsqb;</number> However, as described above, when a mobile station travels, phase rotation occurs, and as the moving speed varies, the phase correlation between a plurality of pilot signals fluctuates. For this reason, it is desirable to modify the value of each weight coefficient according to an estimated moving speed. In this embodiment, the closer to a stationary state a mobile station is in, the more flatly a plurality of weight coefficients are set, and the higher the moving speed becomes, the smaller the weight coefficients of pilot signals distant from data being an identification target, are made. </paragraph>
<paragraph id="P-0142" lvl="0"><number>&lsqb;0142&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 18</cross-reference> shows a configuration example of such an inserted type absolute synchronous detector circuit. In <cross-reference target="DRAWINGS">FIG. 18</cross-reference>, the operations of a pilot/data demultiplexer unit <highlight><bold>131</bold></highlight>, a data delay unit <highlight><bold>132</bold></highlight>, a multiplier <highlight><bold>133</bold></highlight> and an identification unit <highlight><bold>134</bold></highlight> are the same as the operations of the circuits shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. </paragraph>
<paragraph id="P-0143" lvl="0"><number>&lsqb;0143&rsqb;</number> A phase estimation unit <highlight><bold>151</bold></highlight> comprises a weight coefficient control unit <highlight><bold>152</bold></highlight>, a plurality of shift registers <highlight><bold>153</bold></highlight> (SR), a plurality of multipliers <highlight><bold>154</bold></highlight> and an adder <highlight><bold>155</bold></highlight> (ADD). The phase estimation unit <highlight><bold>151</bold></highlight> generates the estimated phase value of pilot signals according to a control signal inputted from a speed estimation unit <highlight><bold>141</bold></highlight>, and outputs the estimated phase value to the multiplier <highlight><bold>133</bold></highlight>. </paragraph>
<paragraph id="P-0144" lvl="0"><number>&lsqb;0144&rsqb;</number> Each shift register <highlight><bold>153</bold></highlight> shifts pilot signals inputted from the pilot/data demultiplexer unit <highlight><bold>131</bold></highlight> by one symbol. Each multiplier <highlight><bold>154</bold></highlight> multiplies inputted pilot signals or the output of each shift register <highlight><bold>153</bold></highlight> by weight coefficients (K<highlight><bold>1</bold></highlight>, K<highlight><bold>2</bold></highlight>, K<highlight><bold>3</bold></highlight>, K<highlight><bold>4</bold></highlight> and K<highlight><bold>5</bold></highlight>) provided from the weight coefficient control unit <highlight><bold>152</bold></highlight>, and provides the result of the multiplication to the adder <highlight><bold>155</bold></highlight>. The adder <highlight><bold>155</bold></highlight> sums and outputs those multiplication results. </paragraph>
<paragraph id="P-0145" lvl="0"><number>&lsqb;0145&rsqb;</number> The weight coefficient control unit <highlight><bold>152</bold></highlight> sets weight coefficients, for example, as shown in <cross-reference target="DRAWINGS">FIG. 19</cross-reference>. If a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed of 0 km/h (stationary state), all the coefficients are set to 1.0. As a result, five pilot signals inserted before and after a data signal being an identification target are inputted to the adder <highlight><bold>155</bold></highlight> with the same weight. </paragraph>
<paragraph id="P-0146" lvl="0"><number>&lsqb;0146&rsqb;</number> If a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed of 0 to 80 km/h, weight coefficients K<highlight><bold>2</bold></highlight>, K<highlight><bold>3</bold></highlight> and K<highlight><bold>4</bold></highlight> are set to 1.0, and the remaining weight coefficients K<highlight><bold>1</bold></highlight> and K<highlight><bold>5</bold></highlight> are set to 0.5. As a result, out of the five pilot signals, three pilot signals close to the data signal being the identification target are inputted to the adder <highlight><bold>155</bold></highlight> with a weight of 1.0, and the remaining two pilot signals distant from the data signal are inputted to the adder <highlight><bold>155</bold></highlight> with a weight of 0.5. </paragraph>
<paragraph id="P-0147" lvl="0"><number>&lsqb;0147&rsqb;</number> If a control signal from the speed estimation unit <highlight><bold>141</bold></highlight> corresponds to a speed of more than 80 km/h, weight coefficients K<highlight><bold>3</bold></highlight>, K<highlight><bold>2</bold></highlight> and K<highlight><bold>4</bold></highlight>, and K<highlight><bold>1</bold></highlight> and K<highlight><bold>5</bold></highlight> are set to 1.0, 0.5 and 0.2, respectively. As a result, out of the five pilot signals a pilot signal in the same slot as the data signal being the identification target, pilot signals in the slots just before and after the data signal being the identification target, the remaining pilot signals in the slots next to the slots just before and after the data signal being the identification target, are inputted to the adder <highlight><bold>155</bold></highlight> with weights 1.0, 0.5 and 0.2, respectively. </paragraph>
<paragraph id="P-0148" lvl="0"><number>&lsqb;0148&rsqb;</number> In the phase estimation unit <highlight><bold>151</bold></highlight>, in this way, if an estimated moving speed is low, a plurality of weight coefficients are set to values close to each other, while if the estimated moving speed is high, the more distant from the data being the identification target a pilot signal is, the lower a weight coefficient is set. Thus, the accuracy of a phase estimation unit can be optimized according to a moving speed. </paragraph>
<paragraph id="P-0149" lvl="0"><number>&lsqb;0149&rsqb;</number> If the weight coefficients of some pilot signals distant from data being the identification target are set to 0, the number of pilot signals used for phase estimation can be modified like the phase estimation unit <highlight><bold>135</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 16</cross-reference>. </paragraph>
<paragraph id="P-0150" lvl="0"><number>&lsqb;0150&rsqb;</number> In the receiver of a DS-CDMA system, the receiving characteristic can be improved by demultiplexing received signals to signals corresponding to each path in a despread process and combining the signals after a coherent detection. A function like this is called rake combining, and for the combining method a maximum ratio combining, etc. is used. In this case, all the demultiplexed signals for each path do not necessarily have the same strength, and there are meaninglessly weak signals even if being combined. There is also a possibility that signals consisting completely of only noise generated by the incorrect timing of despreadingdue to a wrong search exist. </paragraph>
<paragraph id="P-0151" lvl="0"><number>&lsqb;0151&rsqb;</number> First, an invalid path detector unit being a circuit for detecting an invalid path corresponding to these signals is described. Then, an embodiment for optimizing the parameters of the invalid path detector unit according to an estimated moving speed is described. </paragraph>
<paragraph id="P-0152" lvl="0"><number>&lsqb;0152&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 20</cross-reference> shows a configuration example of a receiver comprising an invalid path detector unit. The circuit shown in <cross-reference target="DRAWINGS">FIG. 20</cross-reference> corresponds to the demodulator unit <highlight><bold>24</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, and is provided with a plurality of sets consisting of a despread unit <highlight><bold>160</bold></highlight>, an inserted type synchronous detector unit <highlight><bold>161</bold></highlight> and an invalid path detector unit <highlight><bold>162</bold></highlight> corresponding to a plurality of paths. The despread unit <highlight><bold>160</bold></highlight> reverse-spreads input signals with a timing corresponding to a specific path. The inserted type synchronous detector unit <highlight><bold>161</bold></highlight> performs a coherent detection using pilot signals, and outputs an obtained signal (receiving correlation value) to the invalid path detector unit <highlight><bold>162</bold></highlight>. </paragraph>
<paragraph id="P-0153" lvl="0"><number>&lsqb;0153&rsqb;</number> The invalid path detector unit <highlight><bold>162</bold></highlight> comprises a moving average filter <highlight><bold>171</bold></highlight>, an identification level generator unit <highlight><bold>172</bold></highlight>, a comparator <highlight><bold>173</bold></highlight> and a selector <highlight><bold>174</bold></highlight>, and outputs signals inputted from the inserted type synchronous detector unit <highlight><bold>161</bold></highlight> or signals of 0 level to a rake combiner unit <highlight><bold>163</bold></highlight>. </paragraph>
<paragraph id="P-0154" lvl="0"><number>&lsqb;0154&rsqb;</number> The moving average filter <highlight><bold>171</bold></highlight> calculates a moving average of input signals for a certain period of time, and the identification level generator unit <highlight><bold>172</bold></highlight> outputs signals with a predetermined identification level. The comparator <highlight><bold>173</bold></highlight> compares an input signal A from the moving average filter <highlight><bold>171</bold></highlight> with an input signal B from the identification level generator unit <highlight><bold>172</bold></highlight>, and outputs a control signal to the selector <highlight><bold>174</bold></highlight> based on the result of this comparison. </paragraph>
<paragraph id="P-0155" lvl="0"><number>&lsqb;0155&rsqb;</number> If the signal A is greater than the signal B, a control signal is outputted such that the selector <highlight><bold>174</bold></highlight> may select an input I<highlight><bold>1</bold></highlight> from the inserted type synchronous detector unit <highlight><bold>161</bold></highlight>, and if the signal A is less than or equal to the signal B, a control signal is outputted such that the selector <highlight><bold>174</bold></highlight> may select an input I<highlight><bold>2</bold></highlight>. The input I<highlight><bold>2</bold></highlight> is fixed to a logic &ldquo;0&rdquo;. The selector <highlight><bold>174</bold></highlight> outputs a signal with the inputs I<highlight><bold>1</bold></highlight> or I<highlight><bold>2</bold></highlight> selectively according to the control signal. </paragraph>
<paragraph id="P-0156" lvl="0"><number>&lsqb;0156&rsqb;</number> According to such an invalid path detector unit <highlight><bold>162</bold></highlight>, if the moving average value of a signal is less than or equal to an identification level, the output from the inserted type synchronous detector unit <highlight><bold>161</bold></highlight> is cut. Accordingly, signals of a low level path are not inputted to the rake combiner unit <highlight><bold>163</bold></highlight>, and only signals of good level paths are inputted to the rake combiner unit <highlight><bold>163</bold></highlight>. The rake combiner unit <highlight><bold>163</bold></highlight> combines inputted signals from each path. The identification unit <highlight><bold>164</bold></highlight> performs the data identification of combined signals, and outputs the decoded data. </paragraph>
<paragraph id="P-0157" lvl="0"><number>&lsqb;0157&rsqb;</number> The shorter the observation time (observation length or filter length) for a receiving correlation value observed by the moving average filter <highlight><bold>171</bold></highlight> is, the more frequently an invalid path can be rejected. However, the shorter the observation time for a receiving correlation value observed by the moving average filter <highlight><bold>171</bold></highlight> is, the more possibility there is that the detection accuracy of invalid paths may be degraded. For this reason, it is considered that a filter length for detecting invalid paths is modified according to an estimated moving speed. </paragraph>
<paragraph id="P-0158" lvl="0"><number>&lsqb;0158&rsqb;</number> A filter length is considered to have an optimal value for each moving speed, and it is desirable to be controlled so as to reject invalid paths in the minimum required time. In this embodiment, the lower the moving speed is, the shorter a filter length is set, since the lower the moving speed is, the less the influence of fading is. Meanwhile, the higher the moving speed is, the longer a filter length is set, since the higher the moving speed is, the greater is the influence of fading. </paragraph>
<paragraph id="P-0159" lvl="0"><number>&lsqb;0159&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 21</cross-reference> shows a configuration example of an invalid path detector unit. In the configuration shown in <cross-reference target="DRAWINGS">FIG. 21 a</cross-reference> filter length control unit <highlight><bold>175</bold></highlight> is added to the invalid path detector unit <highlight><bold>162</bold></highlight>, and further a speed estimation unit <highlight><bold>181</bold></highlight> is provided. The filter length control unit <highlight><bold>175</bold></highlight> modifies the filter length of the moving average filter <highlight><bold>171</bold></highlight> according to a control signal from the speed estimation unit <highlight><bold>181</bold></highlight>. </paragraph>
<paragraph id="P-0160" lvl="0"><number>&lsqb;0160&rsqb;</number> At this time, the filter length control unit <highlight><bold>175</bold></highlight> sets the filter length, for example, as shown in <cross-reference target="DRAWINGS">FIG. 22</cross-reference>. If a control signal from the speed estimation unit <highlight><bold>181</bold></highlight> corresponds to speeds of 0 km/h (stationary state), 0 to 80 km/h and more than 80 km/h, the filter length control unit <highlight><bold>175</bold></highlight> sets the filter lengths to 5 ms, 10 ms and 15 ms, respectively. </paragraph>
<paragraph id="P-0161" lvl="0"><number>&lsqb;0161&rsqb;</number> In this way, if an estimated moving speed is low, a short filter length is set, and if the estimated moving speed is high, a long filter length is set. Thus, the accuracy of an invalid path detection can be optimized according to a moving speed. </paragraph>
<paragraph id="P-0162" lvl="0"><number>&lsqb;0162&rsqb;</number> In a DS-CDMA system, for example, a transmission power control as shown in <cross-reference target="DRAWINGS">FIG. 23</cross-reference> is performed in the transmission power control unit on the receiving side against fading generated due to the differences in distance and the multi-path transmission line between a base station and a mobile station. </paragraph>
<paragraph id="P-0163" lvl="0"><number>&lsqb;0163&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 23</cross-reference>, an antenna <highlight><bold>191</bold></highlight>, a receiver unit <highlight><bold>192</bold></highlight> and a demodulator unit <highlight><bold>193</bold></highlight> correspond to the antenna <highlight><bold>21</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the amplifier <highlight><bold>22</bold></highlight> and converter unit <highlight><bold>23</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, and the demodulator unit <highlight><bold>24</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, respectively. The demodulator unit <highlight><bold>193</bold></highlight> performs both despreadingand rake combining of baseband signals, and outputs a receiving correlation value. A receiving correlation value means a signal after being reverse-spread. </paragraph>
<paragraph id="P-0164" lvl="0"><number>&lsqb;0164&rsqb;</number> A transmission power control unit <highlight><bold>194</bold></highlight> comprises an SIR estimation unit <highlight><bold>195</bold></highlight> and a comparator unit <highlight><bold>196</bold></highlight>. The SIR estimation unit <highlight><bold>195</bold></highlight> estimates the signal-to-interference ratio (SIR) from the receiving correlation value, and the comparator unit <highlight><bold>196</bold></highlight> compares the estimated SIR value with a target SIR value. If the estimated SIR value is greater than the target SIR value, the comparator unit <highlight><bold>196</bold></highlight> generates a TPC command to reduce the transmission power. If the estimated SIR value is smaller than the target SIR value, the comparator unit <highlight><bold>196</bold></highlight> generates a TPC command to increase the transmission power. Then, the transmission power control unit <highlight><bold>194</bold></highlight> transmits the TPC command to the transmitting side, and controls the transmission power. </paragraph>
<paragraph id="P-0165" lvl="0"><number>&lsqb;0165&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 24</cross-reference> shows a transmission power control using a TPC command generated on the receiving side. When a transmission power control unit <highlight><bold>201</bold></highlight> on the transmitting side receives a TPC command from the receiving side, the transmission power control unit <highlight><bold>201</bold></highlight> increases or reduces the transmission power value according to the TPC command, and provides a corresponding control signal to a transmission power modification unit <highlight><bold>202</bold></highlight>. The transmission power modification unit <highlight><bold>202</bold></highlight> comprises a variable amplifier, and modifies the transmission power of transmission signals. The transmission signals are transmitted from an antenna <highlight><bold>204</bold></highlight> to the receiving side through an amplifier <highlight><bold>203</bold></highlight>. </paragraph>
<paragraph id="P-0166" lvl="0"><number>&lsqb;0166&rsqb;</number> According to such a control, the transmission power of the transmission side can be controlled so that the SIR value of the receiving side may be optimized. However, usually both the variable width (TPC increase/reduction step) of the transmission power value in the transmission power control unit <highlight><bold>201</bold></highlight> and the modification interval (variable time width) are constant. </paragraph>
<paragraph id="P-0167" lvl="0"><number>&lsqb;0167&rsqb;</number> However, when a mobile station moves, the fluctuation of SIR becomes rapid, and there is a possibility that a transmission power may not be controlled according to the fluctuation of the SIR of the mobile station using normal TPC increase/reduction step and the variable time width in the base station. For this reason, it is desirable to optimize these parameters according to an estimated moving speed. In this case, the transmission power control unit <highlight><bold>201</bold></highlight> modifies both the TPC increase/reduction steps and the variable time width according to a control signal from the speed estimation unit <highlight><bold>211</bold></highlight>. </paragraph>
<paragraph id="P-0168" lvl="0"><number>&lsqb;0168&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 25</cross-reference> shows a configuration example of a transmission power control unit <highlight><bold>201</bold></highlight> for modifying a TPC increase/reduction step according to an estimated moving speed. A TPC command is usually a command of one bit only for instructing increasing or reducing of the transmission power. Command modification units <highlight><bold>221</bold></highlight>, <highlight><bold>222</bold></highlight> and <highlight><bold>223</bold></highlight> duplicate an inputted TPC command with a different magnification each, and output the TPC command to a selector <highlight><bold>224</bold></highlight>. </paragraph>
<paragraph id="P-0169" lvl="0"><number>&lsqb;0169&rsqb;</number> The command modification unit <highlight><bold>221</bold></highlight> (&times;1) outputs an inputted command as it is, the command modification unit <highlight><bold>222</bold></highlight> (&times;2) makes and outputs double of the inputted command, and the command modifier <highlight><bold>223</bold></highlight> (&times;3) makes and outputs triple of the inputted command. </paragraph>
<paragraph id="P-0170" lvl="0"><number>&lsqb;0170&rsqb;</number> The selector <highlight><bold>224</bold></highlight> is controlled by a TPC step selection control unit <highlight><bold>225</bold></highlight>, and selectively outputs TPC commands inputted from the command modification units <highlight><bold>221</bold></highlight>, <highlight><bold>222</bold></highlight> and <highlight><bold>223</bold></highlight> to a TPC command accumulator unit <highlight><bold>226</bold></highlight>. The command accumulator unit <highlight><bold>226</bold></highlight> accumulates inputted TPC commands, and the transmission power value conversion table <highlight><bold>227</bold></highlight> outputs a signal with a, transmission power value corresponding to the accumulated value. </paragraph>
<paragraph id="P-0171" lvl="0"><number>&lsqb;0171&rsqb;</number> For example, if a TPC command to increase the transmission power and a TPC command to reduce the transmission power are indicated by &ldquo;&plus;1&rdquo; and &ldquo;&minus;1&rdquo;, respectively, the TPC command accumulator unit <highlight><bold>226</bold></highlight> sums the values of TPC commands inputted in succession and in order, and produces a command accumulated value as a result of the accumulation. Then, a transmission power value proportional to this accumulated value is outputted from the transmission power value conversion table <highlight><bold>227</bold></highlight>. </paragraph>
<paragraph id="P-0172" lvl="0"><number>&lsqb;0172&rsqb;</number> The speed estimation unit <highlight><bold>211</bold></highlight> estimates a moving speed in three stages of a stationary state, low-speed travel and high-speed travel, and outputs a control signal corresponding to each stage. The TPC step selection control unit <highlight><bold>225</bold></highlight> enables the selector <highlight><bold>224</bold></highlight> select an input from the command modification units <highlight><bold>221</bold></highlight>, <highlight><bold>222</bold></highlight> and <highlight><bold>223</bold></highlight> when a control signal corresponds to a stationary state, low-speed travel and high-speed travel, respectively. </paragraph>
<paragraph id="P-0173" lvl="0"><number>&lsqb;0173&rsqb;</number> For example, if the accumulated value &ldquo;&plus;/&minus;1&rdquo; of a TPC command corresponds to a 0.5 dB of variable width, against one input of TPC command the command modification units <highlight><bold>221</bold></highlight>, <highlight><bold>222</bold></highlight> and <highlight><bold>223</bold></highlight> generate a 0.5 dB, 1.0 dB and 1.5 dB of variable width, respectively. </paragraph>
<paragraph id="P-0174" lvl="0"><number>&lsqb;0174&rsqb;</number> In this way, if an estimated moving speed is low, a small variable width of the transmission power value is set, while if the estimated moving speed is high, a great variable width of the transmission power value is set. Accordingly, even if the moving speed becomes high, a power transmission can be controlled according to the speed. </paragraph>
<paragraph id="P-0175" lvl="0"><number>&lsqb;0175&rsqb;</number> A variable time width for modifying the transmission power value can also be controlled according to the moving speed. <cross-reference target="DRAWINGS">FIG. 26</cross-reference> shows a configuration example of a transmission power control unit for controlling such a timing. </paragraph>
<paragraph id="P-0176" lvl="0"><number>&lsqb;0176&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 26, a</cross-reference> timing control unit <highlight><bold>228</bold></highlight> outputs a variable strobe signal according to a control signal inputted from the speed estimation unit <highlight><bold>211</bold></highlight>, and a power value transmission control unit <highlight><bold>229</bold></highlight> modifies a time interval (variable time width) for outputting a transmission power value from the transmission power value conversion table <highlight><bold>227</bold></highlight> according to the variable strobe signal. </paragraph>
<paragraph id="P-0177" lvl="0"><number>&lsqb;0177&rsqb;</number> Here, the closer to a stationary state an estimated moving speed is, the greater a variable time width is set. The higher the estimated moving speed becomes, the smaller a variable time width is set. Thus, the frequency of the case where a transmission power value is modified according to an estimated moving speed is optimized, and even if the estimated moving speed becomes high, a transmission power can be controlled according to the speed. </paragraph>
<paragraph id="P-0178" lvl="0"><number>&lsqb;0178&rsqb;</number> Next, the configuration and the operation of a speed estimation unit for estimating the moving speed of a mobile station are described below. For the estimation methods of the moving speed there are two methods. That is, one is a method using a TPC command from a mobile station, and the other is a method for using a desired signal power. First, the estimation method using a TPC command is described. </paragraph>
<paragraph id="P-0179" lvl="0"><number>&lsqb;0179&rsqb;</number> Since the TPC command changes according to an instantaneous fluctuation such as fading, etc., the moving speed can be estimated, only if the change rate of the TPC command is detected. However, since in the case of an extremely-high-speed fading the TPC command cannot follow the instantaneous fluctuation, and the change rate is saturated and becomes constant when the moving speed exceeds a certain level. The area where the change rate of the TPC command is saturated and becomes constant depends on both the variable width and the variable time width of the TPC command. </paragraph>
<paragraph id="P-0180" lvl="0"><number>&lsqb;0180&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 27</cross-reference> shows the configuration for estimating a moving speed using a TPC command generated in a system for controlling a transmission power, as shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>. A fading pitch estimation unit <highlight><bold>231</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 27</cross-reference> corresponds to the speed estimation unit <highlight><bold>211</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>, and detects the change of an inputted TPC command. </paragraph>
<paragraph id="P-0181" lvl="0"><number>&lsqb;0181&rsqb;</number> As described above, if a TPC command is assumed to be one bit of data (&plus;/&minus;1), the fading pitch estimation unit <highlight><bold>231</bold></highlight> compares two consecutive TPC commands, counts the frequency of the cases where data with the same code continue twice, and the moving speed is estimated based on the count value. Generally speaking, if the moving speed is low, the code of the TPC command does not change frequently. If the moving speed is high, the code is often reversed. Accordingly, the frequency of the case where data with the same code continues tends to increase and decrease, when the moving speed becomes low and high, respectively. </paragraph>
<paragraph id="P-0182" lvl="0"><number>&lsqb;0182&rsqb;</number> For example, in the TPC command string shown in <cross-reference target="DRAWINGS">FIGS. 28 and 29</cross-reference> the count values (SUM) are seven and four, respectively. Accordingly, it is estimated that a moving speed in the state shown in <cross-reference target="DRAWINGS">FIG. 29</cross-reference> is higher than the moving speed in the state shown in <cross-reference target="DRAWINGS">FIG. 28</cross-reference>. A moving speed can also be estimated at a plurality of stages by dividing the range of the count value. A moving speed can also be represented as an appropriate function of the count value. </paragraph>
<paragraph id="P-0183" lvl="0"><number>&lsqb;0183&rsqb;</number> <cross-reference target="DRAWINGS">FIGS. 30 and 31</cross-reference> show other count methods of the TPC command string shown in <cross-reference target="DRAWINGS">FIGS. 28 and 29</cross-reference>, respectively. Even if these count methods are adopted, a moving speed can be estimated in the same way as described above. </paragraph>
<paragraph id="P-0184" lvl="0"><number>&lsqb;0184&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 32</cross-reference> shows a configuration example of the fading pitch estimation unit <highlight><bold>231</bold></highlight> for performing count operations shown in <cross-reference target="DRAWINGS">FIGS. 28 and 29</cross-reference>. The configuration shown in <cross-reference target="DRAWINGS">FIG. 32</cross-reference> comprises a delay unit <highlight><bold>241</bold></highlight>, an EX_NOR gate <highlight><bold>242</bold></highlight>, a moving average filter <highlight><bold>243</bold></highlight> and a speed conversion memory <highlight><bold>245</bold></highlight>. </paragraph>
<paragraph id="P-0185" lvl="0"><number>&lsqb;0185&rsqb;</number> The delay unit <highlight><bold>241</bold></highlight> delays and outputs an inputted TPC command by one sample time. The EX_NOR gate <highlight><bold>242</bold></highlight> performs an exclusive-NOR operation on the inputted TPC command and the output of the delay unit <highlight><bold>241</bold></highlight>. Thus, the exclusive-NOR signal of the inputted TPC command and the TPC command one sample before is outputted. Accordingly, if the values of two consecutive TPC commands are the same, a logic &ldquo;1&rdquo; is outputted. If not, a logic &ldquo;0&rdquo; is outputted. </paragraph>
<paragraph id="P-0186" lvl="0"><number>&lsqb;0186&rsqb;</number> The moving average filter <highlight><bold>243</bold></highlight> comprises a plurality of delay units <highlight><bold>241</bold></highlight> and an adder <highlight><bold>244</bold></highlight>. The moving average filter <highlight><bold>243</bold></highlight> sums the outputs of the EX_NOR gate <highlight><bold>242</bold></highlight> for a certain time, and outputs the result of the addition as a count value. The speed conversion memory <highlight><bold>245</bold></highlight> stores a conversion table for converting the count value inputted from the moving average filter <highlight><bold>243</bold></highlight> to a fading pitch, and outputs the estimated value of the fading pitch using the conversion table. </paragraph>
<paragraph id="P-0187" lvl="0"><number>&lsqb;0187&rsqb;</number> The configuration shown in <cross-reference target="DRAWINGS">FIG. 33</cross-reference> comprises an integrator consisting of an adder <highlight><bold>246</bold></highlight> and a latch circuit <highlight><bold>247</bold></highlight> instead of the moving average filter <highlight><bold>243</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 32</cross-reference>. The adder <highlight><bold>246</bold></highlight> repeats a certain number of times an operation for adding the output of the EX_NOR gate <highlight><bold>242</bold></highlight> to a count value stored in the latch circuit <highlight><bold>247</bold></highlight>, and the latch circuit <highlight><bold>247</bold></highlight> outputs the count value to a speed conversion memory <highlight><bold>245</bold></highlight>. Thus, the estimated value of the fading pitch is outputted from the speed average conversion memory <highlight><bold>245</bold></highlight>. </paragraph>
<paragraph id="P-0188" lvl="0"><number>&lsqb;0188&rsqb;</number> The count value can also be converted to a fading pitch using such a circuit as shown in <cross-reference target="DRAWINGS">FIG. 34</cross-reference> instead of the speed conversion memory <highlight><bold>245</bold></highlight>. The circuit shown in <cross-reference target="DRAWINGS">FIG. 34</cross-reference> comprises four comparators <highlight><bold>251</bold></highlight> and a decoder <highlight><bold>252</bold></highlight>. </paragraph>
<paragraph id="P-0189" lvl="0"><number>&lsqb;0189&rsqb;</number> Each comparator <highlight><bold>251</bold></highlight> compares an inputted count value A with given thresholds B (S<highlight><bold>1</bold></highlight>, S<highlight><bold>2</bold></highlight>, S<highlight><bold>3</bold></highlight> and S<highlight><bold>4</bold></highlight>). If A&gt;B, the comparator <highlight><bold>251</bold></highlight> outputs a logic &ldquo;1&rdquo;, and if not, the comparator <highlight><bold>251</bold></highlight> outputs a logic &ldquo;0&rdquo;. It is assumed that the thresholds S<highlight><bold>1</bold></highlight>, S<highlight><bold>2</bold></highlight>, S<highlight><bold>3</bold></highlight> and S<highlight><bold>4</bold></highlight> are determined beforehand based on the relationship between a count value and a fading pitch, and that S<highlight><bold>1</bold></highlight>&lt;S<highlight><bold>2</bold></highlight>&lt;S<highlight><bold>3</bold></highlight>&lt;S<highlight><bold>4</bold></highlight>. </paragraph>
<paragraph id="P-0190" lvl="0"><number>&lsqb;0190&rsqb;</number> The decoder <highlight><bold>252</bold></highlight> generates a signal corresponding to a fading pitch from the output of each comparator <highlight><bold>251</bold></highlight>. For example, the output of the decoder <highlight><bold>252</bold></highlight> is indicated with three bits. If a count value &lE;S<highlight><bold>1</bold></highlight>, S<highlight><bold>1</bold></highlight>&lt;a count value&lE;S<highlight><bold>2</bold></highlight>, S<highlight><bold>2</bold></highlight>&lt;a count value&lE;S<highlight><bold>3</bold></highlight>, S<highlight><bold>3</bold></highlight>&lt;a count value&lE;S<highlight><bold>4</bold></highlight> and S<highlight><bold>4</bold></highlight>&lt;a count value, the outputs become &ldquo;100&rdquo;, &ldquo;011&rdquo;, &ldquo;010&rdquo;, &ldquo;001&rdquo; and &ldquo;000&rdquo;, respectively. Accordingly, the greater the count value becomes, the lower the output of the decoder <highlight><bold>252</bold></highlight> becomes. </paragraph>
<paragraph id="P-0191" lvl="0"><number>&lsqb;0191&rsqb;</number> In such a speed estimation method, when the transmission frequencies of the TPC commands differ due to differences in system, the frequency of the cases where data with the same code continues twice is not necessarily optimal for the speed estimation. For this reason, this method is generalized, the frequency of the cases where data with the same code continue N times is counted, and a count value optimal for the system is used for the estimation. It is recommended that the greater the transmission frequency of a TPC command is, the greater the value of N is made. </paragraph>
<paragraph id="P-0192" lvl="0"><number>&lsqb;0192&rsqb;</number> Next, <cross-reference target="DRAWINGS">FIG. 35</cross-reference> shows a configuration for estimating a moving speed using the accumulated value of TPC commands. A fading pitch estimation unit <highlight><bold>262</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 35</cross-reference> corresponds to the speed estimation unit <highlight><bold>211</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 24</cross-reference>. The fading pitch estimation unit <highlight><bold>262</bold></highlight> receives the accumulated value from the TPC command accumulator unit <highlight><bold>226</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 25</cross-reference>, and estimates the moving speed. </paragraph>
<paragraph id="P-0193" lvl="0"><number>&lsqb;0193&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 36</cross-reference>, the fading pitch estimation unit <highlight><bold>262</bold></highlight> samples the accumulated values of the TPC command at a certain sampling intervals, sums the absolute values of the differences between two consecutive sample values (A, B, C, D, E, F, G, H, I, J and K) over a certain period of time, and estimates the moving speed from this sum. </paragraph>
<paragraph id="P-0194" lvl="0"><number>&lsqb;0194&rsqb;</number> The higher the moving speed is, the greater this sum becomes, since the higher the moving speed is, the more rapidly the accumulated value increases or decreases. Meanwhile, the lower the moving speed is, the smaller this sum becomes, since the lower the moving speed is, the more slowly the accumulated value increases or decreases. Accordingly, a moving speed can be estimated at a plurality of stages by dividing the range of the sum of the differences between sample values. A moving speed can also be represented as an appropriate function of the sum. </paragraph>
<paragraph id="P-0195" lvl="0"><number>&lsqb;0195&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 37</cross-reference> shows a configuration example of the fading pitch estimation unit <highlight><bold>262</bold></highlight> for performing such an operation. The configuration shown in <cross-reference target="DRAWINGS">FIG. 37</cross-reference> comprises a delay unit <highlight><bold>271</bold></highlight>, a comparator <highlight><bold>272</bold></highlight>, a converter circuit <highlight><bold>273</bold></highlight>, a subtracter <highlight><bold>274</bold></highlight>, an adder <highlight><bold>275</bold></highlight>, a latch circuit <highlight><bold>276</bold></highlight> and a speed conversion memory <highlight><bold>277</bold></highlight>. </paragraph>
<paragraph id="P-0196" lvl="0"><number>&lsqb;0196&rsqb;</number> The delay unit <highlight><bold>271</bold></highlight> delays and outputs an inputted accumulated value by one sample time. The comparator <highlight><bold>272</bold></highlight> compares the inputted accumulated value B with the output A of the delay unit <highlight><bold>271</bold></highlight>. If A&gt;B, the comparator <highlight><bold>272</bold></highlight> outputs a logic &ldquo;1&rdquo;, and if not, the comparator <highlight><bold>272</bold></highlight> outputs a logic &ldquo;0&rdquo;. </paragraph>
<paragraph id="P-0197" lvl="0"><number>&lsqb;0197&rsqb;</number> The converter circuit <highlight><bold>273</bold></highlight> is controlled by the output of the comparator <highlight><bold>272</bold></highlight>. If the output of the comparator <highlight><bold>272</bold></highlight> is a logic &ldquo;1&rdquo;, the converter circuit <highlight><bold>273</bold></highlight> outputs inputs A and B from outputs X and Y, respectively, while if the output of the comparator <highlight><bold>272</bold></highlight> is a logic &ldquo;0&rdquo;, the converter circuit <highlight><bold>273</bold></highlight> outputs inputs A and B from outputs Y and X, respectively. Accordingly, if the inputted accumulated value B is greater than the accumulated value A one sample before, X&equals;B and Y&equals;A, while if the inputted accumulated value B is smaller than the accumulated value A one sample before, X&equals;A and Y&equals;B. </paragraph>
<paragraph id="P-0198" lvl="0"><number>&lsqb;0198&rsqb;</number> The subtracter <highlight><bold>274</bold></highlight> subtracts the output Y from the output X of the converter circuit <highlight><bold>273</bold></highlight>, and outputs the balance. Since the output of the converter circuit <highlight><bold>273</bold></highlight> is always X&gE;Y, the output of the subtracter <highlight><bold>274</bold></highlight> always becomes 0 or positive. This output corresponds to the absolute value of the difference between an inputted accumulated value and an accumulated value one sample before. </paragraph>
<paragraph id="P-0199" lvl="0"><number>&lsqb;0199&rsqb;</number> The adder <highlight><bold>275</bold></highlight> repeats an operation for adding the output of the subtracter <highlight><bold>274</bold></highlight> to a sum stored by the latch circuit <highlight><bold>276</bold></highlight> a certain number of times, and the latch circuit <highlight><bold>276</bold></highlight> outputs the sum to the speed conversion memory <highlight><bold>277</bold></highlight>. Thus, the estimated value of a fading pitch is outputted from the speed conversion memory <highlight><bold>277</bold></highlight>. Instead of the speed conversion memory <highlight><bold>277</bold></highlight> the sum can also be converted to an estimated value using a circuit such as shown in <cross-reference target="DRAWINGS">FIG. 34</cross-reference>. </paragraph>
<paragraph id="P-0200" lvl="0"><number>&lsqb;0200&rsqb;</number> A moving speed can also be estimated from the average value by measuring the moving average of these values when summing the differences between sample values for a certain period of time. More precise fluctuation of the moving speed can be estimated by measuring the moving average accurately. </paragraph>
<paragraph id="P-0201" lvl="0"><number>&lsqb;0201&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 38</cross-reference>, by making the fading pitch estimation unit <highlight><bold>262</bold></highlight> count the frequency of the cases where the accumulated value of a TPC command crosses a certain reference value, a moving speed can also be estimated from the count value (SUM). An accumulated value crossing a reference value means that the accumulated value becomes greater than the reference value or that the accumulated value becomes smaller than the reference value. The higher the moving speed is, the greater the count value becomes, while the lower the moving speed is, the smaller the count value becomes. Accordingly, by using this count value, a moving speed can be estimated in the same way as the differences between sample values are summed. </paragraph>
<paragraph id="P-0202" lvl="0"><number>&lsqb;0202&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 39</cross-reference> shows a configuration example of a fading pitch estimation unit <highlight><bold>262</bold></highlight> for performing such an operation. The configuration shown in <cross-reference target="DRAWINGS">FIG. 39</cross-reference> comprises a reference value calculator unit <highlight><bold>281</bold></highlight>, a comparator <highlight><bold>282</bold></highlight>, a rising edge detector unit <highlight><bold>283</bold></highlight>, a multiplier <highlight><bold>284</bold></highlight>, an adder <highlight><bold>285</bold></highlight>, a latch circuit <highlight><bold>286</bold></highlight> and a speed conversion memory <highlight><bold>277</bold></highlight>. </paragraph>
<paragraph id="P-0203" lvl="0"><number>&lsqb;0203&rsqb;</number> In this embodiment the reference value calculator unit <highlight><bold>281</bold></highlight> further comprises (n&minus;1) delay units <highlight><bold>271</bold></highlight>, an adder <highlight><bold>287</bold></highlight>, a multiplier <highlight><bold>288</bold></highlight> and an adder <highlight><bold>289</bold></highlight>, and calculates a reference value from the average of n accumulated values. The adder <highlight><bold>287</bold></highlight> adds an inputted accumulated value and the outputs of (n&minus;1) delay units <highlight><bold>271</bold></highlight>, and the multiplier <highlight><bold>288</bold></highlight> multiplies the result of the addition by 1/n. The adder <highlight><bold>289</bold></highlight> adds a certain value &agr; to the result of the multiplication, and generates a reference value. </paragraph>
<paragraph id="P-0204" lvl="0"><number>&lsqb;0204&rsqb;</number> The comparator <highlight><bold>282</bold></highlight> compares a reference value A from the reference value calculator unit <highlight><bold>281</bold></highlight> with an inputted accumulated value B. If A&lt;B, the comparator <highlight><bold>282</bold></highlight> outputs a logic &ldquo;1&rdquo;, and if not, the comparator <highlight><bold>282</bold></highlight> outputs a logic &ldquo;0&rdquo;. When the output of the comparator <highlight><bold>282</bold></highlight> changes from a logic &ldquo;0&rdquo; to a logic &ldquo;1&rdquo;, the rising edge detector unit <highlight><bold>283</bold></highlight> outputs a logic &ldquo;1&rdquo;. The multiplier <highlight><bold>284</bold></highlight> multiplies the output of the rising edge detector unit <highlight><bold>283</bold></highlight> by 2. </paragraph>
<paragraph id="P-0205" lvl="0"><number>&lsqb;0205&rsqb;</number> The adder <highlight><bold>285</bold></highlight> repeats an operation for adding the output of the multiplier <highlight><bold>284</bold></highlight> to a count value stored by the latch circuit <highlight><bold>286</bold></highlight> a certain number of times, and the latch circuit <highlight><bold>286</bold></highlight> outputs the count value to the speed conversion memory <highlight><bold>277</bold></highlight>. Thus, double the frequency of the cases where the accumulated value exceeds the reference value for a certain time is outputted as the count value, and this count value corresponds to the frequency of the cases where the accumulated value crosses the reference value. </paragraph>
<paragraph id="P-0206" lvl="0"><number>&lsqb;0206&rsqb;</number> The speed conversion memory <highlight><bold>277</bold></highlight> outputs the estimated value of a fading pitch corresponding to an inputted count value. The count value can also be converted to an estimated value using a circuit such as shown in <cross-reference target="DRAWINGS">FIG. 34</cross-reference> instead of the speed conversion memory <highlight><bold>277</bold></highlight>. </paragraph>
<paragraph id="P-0207" lvl="0"><number>&lsqb;0207&rsqb;</number> By measuring the moving average of the count values over a certain period of time when counting the crossing frequency, a moving speed can also be estimated from the average. More precise fluctuation of the moving speed can be estimated by measuring the moving average accurately. </paragraph>
<paragraph id="P-0208" lvl="0"><number>&lsqb;0208&rsqb;</number> Although all the methods described above are the estimation methods of a moving speed using a TPC command, there is also another method using a desired signal power obtained from a receiving correlation value. In a DS-CDMA system, received signals before being despread are in a state where the spectrum is spread, and a plurality of channels are multiplexed. For this reason, signals affected by fading from a target mobile station cannot be observed until being reverse-spread. However, a target desired signal can be extracted by despreadingthe signals, the fading can be observed, and thereby the moving speed can be estimated. </paragraph>
<paragraph id="P-0209" lvl="0"><number>&lsqb;0209&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 40</cross-reference> shows a configuration for estimating the moving speed using a desired signal power. A power composer unit <highlight><bold>291</bold></highlight> composes a desired signal power using a receiving correlation value corresponding to the output of the demodulator <highlight><bold>24</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>. A fading pitch estimation unit <highlight><bold>292</bold></highlight> corresponds to a speed estimation unit and estimates a moving speed based on the composed desired signal power. </paragraph>
<paragraph id="P-0210" lvl="0"><number>&lsqb;0210&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 41</cross-reference>, the fading pitch estimation unit <highlight><bold>292</bold></highlight> measures the receiving correlation value, and samples desired signal powers every certain period of time. Each sample value (SP<highlight><bold>1</bold></highlight>, SP<highlight><bold>2</bold></highlight>, . . . , SPi, SPj) of the desired signal power is generated from n consecutive receiving correlation values (1, 2, . . . , n). </paragraph>
<paragraph id="P-0211" lvl="0"><number>&lsqb;0211&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 42</cross-reference> shows a configuration example of the circuit for performing such a sampling operation. The sampling circuit shown in <cross-reference target="DRAWINGS">FIG. 42</cross-reference> comprises an adder <highlight><bold>301</bold></highlight> and latch circuits <highlight><bold>302</bold></highlight> and <highlight><bold>303</bold></highlight>, and generates the sample value of a desired signal power. </paragraph>
<paragraph id="P-0212" lvl="0"><number>&lsqb;0212&rsqb;</number> The adder <highlight><bold>301</bold></highlight> and the latch circuit <highlight><bold>302</bold></highlight> integrate n consecutive receiving correlation values, and the latch circuit <highlight><bold>302</bold></highlight> is cleared each one sample time by a sampling signal. The latch circuit <highlight><bold>303</bold></highlight> latches the output of the latch circuit <highlight><bold>302</bold></highlight> for each one sample time by a sampling signal, and outputs a sample value. According to a circuit such as, the sum of n receiving correlation values inputted for one sample time is outputted as a sample value. </paragraph>
<paragraph id="P-0213" lvl="0"><number>&lsqb;0213&rsqb;</number> For example, for a method of generating a desired signal power from the receiving correlation value of signals including a pilot signal as shown in <cross-reference target="DRAWINGS">FIG. 15</cross-reference> three methods shown in <cross-reference target="DRAWINGS">FIGS. 43, 44</cross-reference>, and <highlight><bold>45</bold></highlight> can be considered. </paragraph>
<paragraph id="P-0214" lvl="0"><number>&lsqb;0214&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 43, a</cross-reference> rake combiner unit <highlight><bold>304</bold></highlight> outputs the receiving correlation value of a desired signal corresponding to a specific channel, and a pilot extractor unit <highlight><bold>305</bold></highlight> extracts the receiving correlation value of a pilot signal being a known signal. A power composer unit <highlight><bold>291</bold></highlight> performs the power composition of the extracted receiving correlation values, and generates the sample value of a desired signal power. In this embodiment a sample value is the sum of n values obtained by squaring n receiving correlation values. </paragraph>
<paragraph id="P-0215" lvl="0"><number>&lsqb;0215&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 44, a</cross-reference> power composer unit <highlight><bold>291</bold></highlight> performs the amplitude composition of the extracted receiving correlation values, and generates the sample value of a desired signal power. In this embodiment a sample value is obtained by squaring the average value of n receiving correlation values. </paragraph>
<paragraph id="P-0216" lvl="0"><number>&lsqb;0216&rsqb;</number> In <cross-reference target="DRAWINGS">FIG. 45, a</cross-reference> pilot signal is not extracted, and a power composition unit <highlight><bold>291</bold></highlight> performs the power composition of the receiving correlation values of the pilot signal and data signal outputted from the rake combiner unit <highlight><bold>304</bold></highlight> and generates the sample value of a desired signal power. In this embodiment a sample value is the sum of n values obtained by squaring n receiving correlation values. The method shown in <cross-reference target="DRAWINGS">FIG. 45</cross-reference> can be applied to an arbitrary signal regardless of whether or not there is a pilot signal. </paragraph>
<paragraph id="P-0217" lvl="0"><number>&lsqb;0217&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 46</cross-reference> shows a configuration example of the power composer unit <highlight><bold>291</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 43</cross-reference>. The configuration shown in <cross-reference target="DRAWINGS">FIG. 46</cross-reference> comprises a square generator <highlight><bold>311</bold></highlight>, an adder <highlight><bold>312</bold></highlight> and a latch circuit <highlight><bold>313</bold></highlight>. The square generator <highlight><bold>311</bold></highlight> squares an inputted receiving correlation value. The adder <highlight><bold>312</bold></highlight> and latch circuit <highlight><bold>313</bold></highlight> integrate the n consecutive outputs from the square generator <highlight><bold>311</bold></highlight>, and output the result of the integration as a sample value. The latch circuit <highlight><bold>313</bold></highlight> is cleared for each one sample time by a sampling signal. The power composer unit <highlight><bold>291</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 45</cross-reference> comprises the same circuits as shown in <cross-reference target="DRAWINGS">FIG. 46</cross-reference>. </paragraph>
<paragraph id="P-0218" lvl="0"><number>&lsqb;0218&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 47</cross-reference> shows a configuration example of the power composer unit <highlight><bold>291</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 44</cross-reference>. The configuration shown in <cross-reference target="DRAWINGS">FIG. 47</cross-reference> comprises an adder <highlight><bold>321</bold></highlight>, latch circuits <highlight><bold>322</bold></highlight> and <highlight><bold>323</bold></highlight>, a multiplier <highlight><bold>324</bold></highlight> and a square generator <highlight><bold>325</bold></highlight>. </paragraph>
<paragraph id="P-0219" lvl="0"><number>&lsqb;0219&rsqb;</number> The adder <highlight><bold>321</bold></highlight> and the latch circuit <highlight><bold>322</bold></highlight> integrate n consecutive receiving correlation values, and the latch circuit <highlight><bold>322</bold></highlight> is cleared for each one sample time by a sampling signal. The latch circuit <highlight><bold>323</bold></highlight> latches the output of the latch circuit <highlight><bold>322</bold></highlight> for each one sample time by a sampling signal, and the multiplier <highlight><bold>324</bold></highlight> multiplies the output of the latch circuit <highlight><bold>323</bold></highlight> by 1/n. The square generator <highlight><bold>325</bold></highlight> squares the output of the multiplier <highlight><bold>324</bold></highlight>, and outputs the result of the calculation as a sample value. </paragraph>
<paragraph id="P-0220" lvl="0"><number>&lsqb;0220&rsqb;</number> A fading pitch estimation unit <highlight><bold>292</bold></highlight> shown in <cross-reference target="DRAWINGS">FIG. 40</cross-reference> adds the absolute values of the differences between two consecutive values over a certain period of time, and estimates the moving speed from the sum based on the sample value of a desired signal power generated in this way, in the same way as shown in <cross-reference target="DRAWINGS">FIG. 36</cross-reference>. In this case, the fading pitch estimation unit <highlight><bold>292</bold></highlight> comprises, for example, the same circuits as shown in <cross-reference target="DRAWINGS">FIG. 37</cross-reference>. </paragraph>
<paragraph id="P-0221" lvl="0"><number>&lsqb;0221&rsqb;</number> The higher the moving speed is, the greater this sum becomes, since the higher the moving speed is, the more rapidly the desired signal power increases or decreases. Meanwhile, the lower the moving speed is, the smaller this sum becomes, since the lower the moving speed is, the more slowly the desired signal power increases or decreases. Accordingly, a moving speed can be estimated at a plurality of stages by dividing the range of the sum of differences between sample values. A moving speed can also be represented as an appropriate function of the sum. </paragraph>
<paragraph id="P-0222" lvl="0"><number>&lsqb;0222&rsqb;</number> A moving speed can also be estimated from the average value by measuring the moving average of these values when summing differences between sample values over a certain period of time. More precise fluctuation of the moving speed can be estimated by measuring the moving average accurately. </paragraph>
<paragraph id="P-0223" lvl="0"><number>&lsqb;0223&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 48</cross-reference>, by making the fading pitch estimation unit <highlight><bold>292</bold></highlight> count the frequency of the cases where the sample values of a desired signal power cross a certain reference value, a moving speed can also be estimated from the count value (SUM). The higher the moving speed is, the greater the count value becomes, while the lower the moving speed is, the smaller the count value becomes. Accordingly, a moving speed can be estimated using this count value in the same way as the above-mentioned differences between sample values are summed. In this case, the fading pitch estimation unit <highlight><bold>292</bold></highlight> comprises, for example, the same circuits as shown in <cross-reference target="DRAWINGS">FIG. 39</cross-reference>. </paragraph>
<paragraph id="P-0224" lvl="0"><number>&lsqb;0224&rsqb;</number> By measuring the moving average of count values over a certain period of time when counting the crossing frequency, a moving speed can also be estimated from the average. More precise fluctuation of the moving speed can be estimated by measuring the moving average accurately. </paragraph>
<paragraph id="P-0225" lvl="0"><number>&lsqb;0225&rsqb;</number> Although both estimation methods using a TPC command and a desired signal power are described above, there is a certain correlation between the results of these two methods. Generally speaking, since the transmission power cannot be controlled by a TPC command when the moving speed exceeds a certain level, the change rate of a TPC command generated on the receiving side becomes constant. </paragraph>
<paragraph id="P-0226" lvl="0"><number>&lsqb;0226&rsqb;</number> For this reason, in a method using a TPC command, the estimated speed obtained based on this change rate indicates a constant value in a high speed area beyond a certain level as shown in <cross-reference target="DRAWINGS">FIG. 49</cross-reference>. <cross-reference target="DRAWINGS">FIG. 49</cross-reference> shows the relationship between the fading pitch (fdT) of a generated fading and the estimated speed. There is a close relationship between a fading pitch and an actual moving speed. The greater the fading pitch becomes, the higher the moving speed becomes. </paragraph>
<paragraph id="P-0227" lvl="0"><number>&lsqb;0227&rsqb;</number> On the other hand, in a method using a desired signal power, the estimated speed indicates a constant value in a low speed area below a certain level, the converse to the method using a TPC command. This is because when the moving speed is low, the value of a desired signal power becomes constant by the effective transmission power control of a TPC command. If the moving speed becomes high to some extent, the transmission power control becomes ineffective, and the desired signal power fluctuates. Accordingly, the moving speed can be estimated using the fluctuation. </paragraph>
<paragraph id="P-0228" lvl="0"><number>&lsqb;0228&rsqb;</number> Therefore, it is desirable to estimate a moving speed using these estimation methods simultaneously. For example, in an area where the estimated value obtained by a TPC command is saturated, an estimated value obtained by a desired signal power can be adopted, and in an area where the estimated value obtained by a desired signal power is saturated, an estimated value obtained by a TPC command can be adopted. By using the two methods simultaneously, the drawbacks of both methods can be supplemented by each other, and thereby the estimation range of a moving speed can be expanded. </paragraph>
<paragraph id="P-0229" lvl="0"><number>&lsqb;0229&rsqb;</number> In the above-mentioned embodiments, an arbitrary hardware or firmware such as a digital signal processor (DSP), etc. can be used for a circuit for estimating a moving speed and circuits for setting a variety of parameters for a communication apparatus. The target parameters for control are not limited to a searcher function, a transmission power control function and a coherent detection function, but can include any other functions. </paragraph>
<paragraph id="P-0230" lvl="0"><number>&lsqb;0230&rsqb;</number> Furthermore, the present invention is not limited to the communications in a DS-CDMA system, but can also be widely applied to the communications in a phase shift keying (PSK) system, a personal digital cellular (PDC) system, etc. </paragraph>
<paragraph id="P-0231" lvl="0"><number>&lsqb;0231&rsqb;</number> According to the present invention, in mobile communications in a CDMA system, etc. a variety of parameters for a communication apparatus can also be dynamically controlled according to an estimated speed, and thereby the receiving characteristic and the channel capacity can be improved. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<heading lvl="1">What is claimed is: </heading>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. A communication control apparatus for controlling a parameter for mobile communications between a transmitting station and a receiving station, comprising: 
<claim-text>speed estimating means for estimating a moving speed of one of said transmitting station and receiving station and outputting a control signal corresponding to the estimated moving speed; and </claim-text>
<claim-text>modifying means for modifying a value of said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said receiving station comprises searcher means for detecting a timing for despreadinga spread spectrum signal, and </claim-text>
<claim-text>said modifying means controls a frequency of a search operation performed by said searcher means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein 
<claim-text>said modifying means comprises timer means for controlling the frequency of the search operation, and controls a cycle of said timer means as said parameter. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00002">claim 2</dependent-claim-reference>, wherein 
<claim-text>said searcher means detects a timing for despreadingeach signal of a plurality of spread spectrum channels, and </claim-text>
<claim-text>said modifying means controls the frequency of said search operation based on a control signal corresponding to an estimated moving speed of each channel. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said receiving station comprises searcher means for detecting a timing for despreadinga spread spectrum signal, and </claim-text>
<claim-text>said modifying means controls the number of accumulation additions of a receiving correlation value generated by the searcher means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00005">claim 5</dependent-claim-reference>, wherein 
<claim-text>said searcher means detects a timing for despreadingeach signal of a plurality of spread spectrum channels, and </claim-text>
<claim-text>said modifying means controls said number of accumulation additions based on a control signal corresponding to an estimated moving speed of each channel. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said receiving station comprises coherent detecting means for detecting a signal including a pilot signal, and </claim-text>
<claim-text>said modifying means controls the number of pilot signals used to perform a phase estimation by the coherent detecting means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said receiving station comprises coherent detecting means for detecting a signal including a pilot signal, and </claim-text>
<claim-text>said modifying means controls a weight coefficient of the pilot signal used to perform a phase estimation by the coherent detecting means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said receiving station comprises invalid path detecting means for detecting an invalid path with a signal level below a certain value, and </claim-text>
<claim-text>said modifying means controls an observation length for the invalid path detecting means observing a signal as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, wherein 
<claim-text>said invalid path detecting means comprises a filter means for filtering a signal to be observed, and </claim-text>
<claim-text>said modifying means controls a filter length of the filter means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said transmitting station comprises a transmission power controlling means for modifying a transmission power, and </claim-text>
<claim-text>said modifying means controls a variable width of a power value modified by the transmission power controlling means as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, wherein 
<claim-text>said transmission power controlling means comprises an accumulating means for accumulating transmission power control commands transmitted from said receiving station and a converting means for converting the accumulated value to the power value, and </claim-text>
<claim-text>said modifying means controls the accumulated value of the transmission power control commands based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said transmitting station comprises a transmission power controlling means for modifying a transmission power, and </claim-text>
<claim-text>said modifying means controls a frequency of the transmission power controlling means modifying a power value as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said speed estimating means estimates one of a relative moving speed to said receiving station of said transmitting station and a relative moving speed to the transmitting station of the receiving station. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said speed estimating means estimates said moving speed using a transmission power control command transmitted from said receiving station to said transmitting station. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. The communication control apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, wherein 
<claim-text>said speed estimating means estimates said moving speed using a desired signal power generated in said receiving station. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A receiver, comprising: 
<claim-text>speed estimating means for estimating a moving speed of a transmitting station in mobile communications and outputting a control signal corresponding to the estimated moving speed; and </claim-text>
<claim-text>modifying means for modifying a value of a parameter for said mobile communications based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. The receiver according to <dependent-claim-reference depends_on="CLM-00011">claim 17</dependent-claim-reference>, wherein 
<claim-text>said modifying means controls at least one or more of a frequency of a search operation for detecting a timing for despreadinga spread spectrum signal, the number of accumulation additions of receiving correlation values in the search operation, the number of pilot signals used to perform a coherent detection, a weight coefficient of a pilot signal and an observation length for observing a signal in an invalid path detection as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A transmitter, comprising: 
<claim-text>speed estimating means for estimating a moving speed of a receiving station in mobile communications and outputting a control signal corresponding to the estimated moving speed; and </claim-text>
<claim-text>modifying means for modifying a value of a parameter for said mobile communications based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. The transmitter according to <dependent-claim-reference depends_on="CLM-00011">claim 19</dependent-claim-reference>, wherein 
<claim-text>said modifying means controls at least one or more of a variable width of a power value and a modification frequency of a power value in a transmission power control as said parameter based on said control signal. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A communication control method, comprising the steps of: 
<claim-text>performing mobile communications between a transmitting station and a receiving station; </claim-text>
<claim-text>estimating a moving speed of one of said transmitting station and receiving station; and </claim-text>
<claim-text>modifying a value of a parameter for said mobile communications based on the estimated moving speed. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00022">
<claim-text><highlight><bold>22</bold></highlight>. The communication control method according to <dependent-claim-reference depends_on="CLM-00022">claim 21</dependent-claim-reference>, wherein 
<claim-text>at least one or more of a frequency of a search operation for detecting a timing for despreadinga spread spectrum signal, the number of accumulation additions of receiving correlation values in the search operation, the number of pilot signals used to perform a coherent detection, a weight coefficient of a pilot signal and an observation length for observing a signal in an invalid path detection, a variable width of a power value in a transmission power control and a modification frequency of a power value in the transmission power control are controlled as a parameter based on said estimated moving speed.</claim-text>
</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030003914A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030003914A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030003914A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030003914A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030003914A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030003914A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030003914A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030003914A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030003914A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00009">
<image id="EMI-D00009" file="US20030003914A1-20030102-D00009.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00010">
<image id="EMI-D00010" file="US20030003914A1-20030102-D00010.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00011">
<image id="EMI-D00011" file="US20030003914A1-20030102-D00011.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00012">
<image id="EMI-D00012" file="US20030003914A1-20030102-D00012.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00013">
<image id="EMI-D00013" file="US20030003914A1-20030102-D00013.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00014">
<image id="EMI-D00014" file="US20030003914A1-20030102-D00014.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00015">
<image id="EMI-D00015" file="US20030003914A1-20030102-D00015.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00016">
<image id="EMI-D00016" file="US20030003914A1-20030102-D00016.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00017">
<image id="EMI-D00017" file="US20030003914A1-20030102-D00017.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00018">
<image id="EMI-D00018" file="US20030003914A1-20030102-D00018.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00019">
<image id="EMI-D00019" file="US20030003914A1-20030102-D00019.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00020">
<image id="EMI-D00020" file="US20030003914A1-20030102-D00020.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00021">
<image id="EMI-D00021" file="US20030003914A1-20030102-D00021.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00022">
<image id="EMI-D00022" file="US20030003914A1-20030102-D00022.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00023">
<image id="EMI-D00023" file="US20030003914A1-20030102-D00023.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00024">
<image id="EMI-D00024" file="US20030003914A1-20030102-D00024.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00025">
<image id="EMI-D00025" file="US20030003914A1-20030102-D00025.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00026">
<image id="EMI-D00026" file="US20030003914A1-20030102-D00026.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00027">
<image id="EMI-D00027" file="US20030003914A1-20030102-D00027.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00028">
<image id="EMI-D00028" file="US20030003914A1-20030102-D00028.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00029">
<image id="EMI-D00029" file="US20030003914A1-20030102-D00029.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00030">
<image id="EMI-D00030" file="US20030003914A1-20030102-D00030.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00031">
<image id="EMI-D00031" file="US20030003914A1-20030102-D00031.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00032">
<image id="EMI-D00032" file="US20030003914A1-20030102-D00032.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00033">
<image id="EMI-D00033" file="US20030003914A1-20030102-D00033.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00034">
<image id="EMI-D00034" file="US20030003914A1-20030102-D00034.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00035">
<image id="EMI-D00035" file="US20030003914A1-20030102-D00035.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00036">
<image id="EMI-D00036" file="US20030003914A1-20030102-D00036.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00037">
<image id="EMI-D00037" file="US20030003914A1-20030102-D00037.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00038">
<image id="EMI-D00038" file="US20030003914A1-20030102-D00038.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00039">
<image id="EMI-D00039" file="US20030003914A1-20030102-D00039.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00040">
<image id="EMI-D00040" file="US20030003914A1-20030102-D00040.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00041">
<image id="EMI-D00041" file="US20030003914A1-20030102-D00041.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00042">
<image id="EMI-D00042" file="US20030003914A1-20030102-D00042.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00043">
<image id="EMI-D00043" file="US20030003914A1-20030102-D00043.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00044">
<image id="EMI-D00044" file="US20030003914A1-20030102-D00044.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00045">
<image id="EMI-D00045" file="US20030003914A1-20030102-D00045.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00046">
<image id="EMI-D00046" file="US20030003914A1-20030102-D00046.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00047">
<image id="EMI-D00047" file="US20030003914A1-20030102-D00047.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00048">
<image id="EMI-D00048" file="US20030003914A1-20030102-D00048.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00049">
<image id="EMI-D00049" file="US20030003914A1-20030102-D00049.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
