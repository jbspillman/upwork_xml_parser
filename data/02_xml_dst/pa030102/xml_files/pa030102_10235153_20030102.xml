<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE patent-application-publication SYSTEM "pap-v16-2002-01-01.dtd" [
<!ENTITY US20030005213A1-20030102-D00000.TIF SYSTEM "US20030005213A1-20030102-D00000.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00001.TIF SYSTEM "US20030005213A1-20030102-D00001.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00002.TIF SYSTEM "US20030005213A1-20030102-D00002.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00003.TIF SYSTEM "US20030005213A1-20030102-D00003.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00004.TIF SYSTEM "US20030005213A1-20030102-D00004.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00005.TIF SYSTEM "US20030005213A1-20030102-D00005.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00006.TIF SYSTEM "US20030005213A1-20030102-D00006.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00007.TIF SYSTEM "US20030005213A1-20030102-D00007.TIF" NDATA TIF>
<!ENTITY US20030005213A1-20030102-D00008.TIF SYSTEM "US20030005213A1-20030102-D00008.TIF" NDATA TIF>
]>
<patent-application-publication>
<subdoc-bibliographic-information>
<document-id>
<doc-number>20030005213</doc-number>
<kind-code>A1</kind-code>
<document-date>20030102</document-date>
</document-id>
<publication-filing-type>new</publication-filing-type>
<domestic-filing-data>
<application-number>
<doc-number>10235153</doc-number>
</application-number>
<application-number-series-code>10</application-number-series-code>
<filing-date>20020905</filing-date>
</domestic-filing-data>
<foreign-priority-data>
<priority-application-number>
<doc-number>P10-246407</doc-number>
</priority-application-number>
<filing-date>19980831</filing-date>
<country-code>JP</country-code>
</foreign-priority-data>
<technical-information>
<classification-ipc>
<classification-ipc-primary>
<ipc>G06F012/00</ipc>
</classification-ipc-primary>
<classification-ipc-edition>07</classification-ipc-edition>
</classification-ipc>
<classification-us>
<classification-us-primary>
<uspc>
<class>711</class>
<subclass>103000</subclass>
</uspc>
</classification-us-primary>
</classification-us>
<title-of-invention>Memory apparatus, data-processing apparatus, and data-processing method</title-of-invention>
</technical-information>
<continuity-data>
<continuations>
<continuation-of>
<parent-child>
<child>
<document-id>
<doc-number>10235153</doc-number>
<kind-code>A1</kind-code>
<document-date>20020905</document-date>
</document-id>
</child>
<parent>
<document-id>
<doc-number>09530290</doc-number>
<document-date>20000427</document-date>
<country-code>US</country-code>
</document-id>
</parent>
<parent-status>PENDING</parent-status>
</parent-child>
</continuation-of>
</continuations>
<a-371-of-international>
<parent-child>
<child>
<document-id>
<doc-number>09530290</doc-number>
<document-date>20000427</document-date>
<country-code>US</country-code>
</document-id>
</child>
<parent>
<document-id>
<doc-number>PCT/JP99/04725</doc-number>
<document-date>19990831</document-date>
<country-code>WO</country-code>
</document-id>
</parent>
<parent-status>UNKNOWN</parent-status>
</parent-child>
</a-371-of-international>
</continuity-data>
<inventors>
<first-named-inventor>
<name>
<given-name>Kaoru</given-name>
<family-name>Suzuki</family-name>
</name>
<residence>
<residence-non-us>
<city>Aichi</city>
<country-code>JP</country-code>
</residence-non-us>
</residence>
<authority-applicant>INV</authority-applicant>
</first-named-inventor>
</inventors>
<assignee>
<organization-name>SONY CORPORATION</organization-name>
<assignee-type>03</assignee-type>
</assignee>
<correspondence-address>
<name-1>FROMMER LAWRENCE &amp; HAUG LLP</name-1>
<name-2></name-2>
<address>
<address-1>745 FIFTH AVENUE</address-1>
<city>NEW YORK</city>
<state>NY</state>
<postalcode>10151</postalcode>
<country>
<country-code>US</country-code>
</country>
</address>
</correspondence-address>
</subdoc-bibliographic-information>
<subdoc-abstract>
<paragraph id="A-0001" lvl="0">A memory apparatus, such as a memory card, comprising a first storage region and a second storage region. Data can be read from, and written into, the first storage region, in accordance with instructions made by a user. Data can be read from, and written into, the second storage region when a data-processing apparatus, to which the memory apparatus is connected, performs prescribed procedures. Data that should not be easily rewritten or read by users, such as a password or a use history, is stored into the second storage region. The security of the memory apparatus, such as a memory card, can therefore be enhanced. </paragraph>
</subdoc-abstract>
<subdoc-description>
<summary-of-invention>
<section>
<heading lvl="1">TECHNICAL FIELD </heading>
<paragraph id="P-0001" lvl="0"><number>&lsqb;0001&rsqb;</number> The present invention relates to a memory apparatus for storing data, a data-processing apparatus that uses the memory apparatus as a recording medium, and a data-processing method. </paragraph>
</section>
<section>
<heading lvl="1">BACKGROUND ART </heading>
<paragraph id="P-0002" lvl="0"><number>&lsqb;0002&rsqb;</number> A memory apparatus shaped like a card or a stick (hereinafter referred to as memory card is used as a recording medium in personal computers and digital still cameras. The memory card has a flash memory that is used as memory means. </paragraph>
<paragraph id="P-0003" lvl="0"><number>&lsqb;0003&rsqb;</number> The memory card has a storage area, which is divided into a plurality of blocks. The data written into the flash memory used as memory means is managed in units of blocks. These blocks may be roughly classified into system blocks and user blocks. A system block stores read-only data. System-related data, such as data representing the block configuration, is written as the read-only data into the system block before the memory card is delivered from the factory. A user block stores user data. </paragraph>
<paragraph id="P-0004" lvl="0"><number>&lsqb;0004&rsqb;</number> The data items recorded in the memory card may include ones that should not be easily rewritten or read out by the user. Among such data items are the password and the use history. (Hereinafter, data items of this type shall be generally called &ldquo;special data&rdquo;. In the conventional memory card, special data is stored in the user block, too. </paragraph>
<paragraph id="P-0005" lvl="0"><number>&lsqb;0005&rsqb;</number> There arise no problems if the special data is stored in the user block, provided that the memory card is used in an electronic apparatus so designed that ordinary users cannot make an access to the special data. If the memory card is used in a general-purpose data-processing electronic apparatus, such as a personal computer, however, ordinary users can easily access the user block. This is because the entire user block can be usually accessed. Inevitably, the contents of the special data are easily made known to the ordinary users or may be easily rewritten. </paragraph>
</section>
<section>
<heading lvl="1">DISCLOSURE OF THE INVENTION </heading>
<paragraph id="P-0006" lvl="0"><number>&lsqb;0006&rsqb;</number> The present invention has been made in view of the foregoing. The object of this invention is to provide a memory apparatus that can manage special data to disable users to access the special data easily, and also a data-processing apparatus and a data-processing method that use the memory apparatus as a recording medium. </paragraph>
<paragraph id="P-0007" lvl="0"><number>&lsqb;0007&rsqb;</number> The memory apparatus according to the present invention memory apparatus comprises: a first storage region from which data can be read and into which data can be written, in accordance with instructions made by a user; and a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures. </paragraph>
<paragraph id="P-0008" lvl="0"><number>&lsqb;0008&rsqb;</number> That is, the memory apparatus according to the invention comprises the second storage region, i.e., a storage region other than the first storage region from which data can be read and into which data can be written, in accordance with instructions made by the user. Data can be read from, and written into, the second storage region when a data-processing apparatus, to which the memory apparatus is connected, performs prescribed procedures. Special data, such as a password, information about the copyright of the data stored in the first storage region, the use history of the memory apparatus or the quality history thereof, may be stored in the second storage region. If so, the user cannot easily make an access to the special data. </paragraph>
<paragraph id="P-0009" lvl="0"><number>&lsqb;0009&rsqb;</number> The memory apparatus may further comprise a read-only storage region storing address data of the second storage region. In this case, the second storage region can be designated by referring to the address data written in the read-only storage region. </paragraph>
<paragraph id="P-0010" lvl="0"><number>&lsqb;0010&rsqb;</number> The data-processing apparatus according to the invention comprises data-processing means for writing data into, and reading data from, a memory apparatus. The memory apparatus comprises: a first storage region from which data can be read and into which data can be written, in accordance with instructions made by a user, and a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures. The data-processing means writes data into, or reads data from, the first storage region when the instructions made by the user are supplied to the memory apparatus to write the data into, or to read the data from, the memory apparatus. </paragraph>
<paragraph id="P-0011" lvl="0"><number>&lsqb;0011&rsqb;</number> In the data-processing apparatus, data is written into the first storage region of the memory apparatus when the instructions made by the user are supplied to the memory apparatus to write the data into the memory apparatus. Data is read from the first storage region when the instructions made by the user are supplied to the memory apparatus to read the data from the memory apparatus. That is, data cannot be written into, or read from, the second storage region in accordance with the instructions made by the user. </paragraph>
<paragraph id="P-0012" lvl="0"><number>&lsqb;0012&rsqb;</number> Thus, when the data-processing apparatus is used to write data into or read the data from the memory apparatus, such special data as described above written into the second storage region, remains unknown to the user and cannot be rewritten by the user. </paragraph>
<paragraph id="P-0013" lvl="0"><number>&lsqb;0013&rsqb;</number> In the data-processing apparatus, the data-processing means may designate the second storage region of the memory apparatus upon receipt of instructions for writing the data into the second storage region of the memory apparatus or reading the data from the second storage region, thereby writing the data into the second storage region or reading the data from the second storage region. </paragraph>
<paragraph id="P-0014" lvl="0"><number>&lsqb;0014&rsqb;</number> In this case, the data-processing means can read such special data as described above from, and write such special data into, the second storage region. However, the user cannot make the instruction to write the data into, or read the data from, the second storage region. This instruction can be issued only on a special occasion, for example when the password input by the user is authenticated. </paragraph>
<paragraph id="P-0015" lvl="7"><number>&lsqb;0015&rsqb;</number> The data-processing apparatus may be designed such that password data is written in the second storage region of the memory apparatus. The data-processing means receives instructions to read the password data from the second storage region when the user makes instructions to write data into the memory apparatus or read data from the memory apparatus. The data-processing means reads the password data from the second storage region or writes data into the first storage region of the memory apparatus or reads data from the first storage region when the password data read from the second storage region coincides with the password data input by the user. </paragraph>
<paragraph id="P-0016" lvl="0"><number>&lsqb;0016&rsqb;</number> In this case, valid instructions are only those made by the authenticated user who knows the password data written in the second storage region. That is, data can be read from and written into the first storage region, only in accordance with the instructions made by the authenticated user. </paragraph>
<paragraph id="P-0017" lvl="0"><number>&lsqb;0017&rsqb;</number> In the data-processing method according to the present invention, use is made, as a recording medium, an memory apparatus comprising a first storage region from which data can be read and into which data can be written, on the basis of instructions made by a user, and a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures. Data is written into, or read from, the first storage region when the user makes instructions to write the data into, or to read the data from, the memory apparatus. </paragraph>
<paragraph id="P-0018" lvl="0"><number>&lsqb;0018&rsqb;</number> In this method, data cannot be written into or read from the second storage region in accordance with the instructions made by the user. Hence, such special data as mentioned above, which is written in the second storage region, remains unknown to the user and cannot be rewritten by the user. </paragraph>
<paragraph id="P-0019" lvl="0"><number>&lsqb;0019&rsqb;</number> In the data-processing method, the second storage region of the memory apparatus may be designated upon receipt of instructions for writing the data into the second storage region of the memory apparatus or reading the data from the second storage region, and the data is written into the second storage region or read from the second storage region. </paragraph>
<paragraph id="P-0020" lvl="0"><number>&lsqb;0020&rsqb;</number> If this in the case, it is possible to read such special data as mentioned above from, and write the same into, the second storage region of the memory apparatus. However, the user cannot make the instruction to write the data into, or read the data from, the second storage region. This instruction can be issued only on a special occasion, for example when the password input by the user is authenticated. In the data-processing method, password data may be written in the second storage region of the memory apparatus. Instructions to read the password data from the second storage region may be received when the user makes instructions to write data into the memory apparatus or read data from the memory apparatus, and the password data may thereby be read from the second storage region. Then, data is written into the first storage region of the memory apparatus or read from the first storage region when the password data red from the second storage region coincides with the password data input by the user. </paragraph>
<paragraph id="P-0021" lvl="0"><number>&lsqb;0021&rsqb;</number> In this case, valid instructions are only those made by the authenticated user who knows the password data written in the second storage region. That is, data can be read from and written into the first storage region, only in accordance with the instructions made by the authenticated user.</paragraph>
</section>
</summary-of-invention>
<brief-description-of-drawings>
<section>
<heading lvl="1">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<paragraph id="P-0022" lvl="0"><number>&lsqb;0022&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 1</cross-reference> is a diagram showing the configuration of the storage area of a memory card according to the present invention; </paragraph>
<paragraph id="P-0023" lvl="0"><number>&lsqb;0023&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 2</cross-reference> is a flow chart explaining an example of the system initialization performed when the memory card is set in a data-processing apparatus and then activated. </paragraph>
<paragraph id="P-0024" lvl="0"><number>&lsqb;0024&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 3</cross-reference> illustrates a conversion table showing the correspondence between physical addresses and logical addresses; </paragraph>
<paragraph id="P-0025" lvl="0"><number>&lsqb;0025&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 4</cross-reference> is a flow chart explaining a process of setting a password in the memory card; </paragraph>
<paragraph id="P-0026" lvl="0"><number>&lsqb;0026&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 5</cross-reference> is a block diagram depicting a music data recording/reproducing system that uses the memory card containing a password, as a recording medium; </paragraph>
<paragraph id="P-0027" lvl="0"><number>&lsqb;0027&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 6</cross-reference> is a block diagram showing an example of the data-processing section incorporated in a music data receiving apparatus; </paragraph>
<paragraph id="P-0028" lvl="0"><number>&lsqb;0028&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 7</cross-reference> is a flow chart explaining a process of authenticating the user in accordance with the password written into the special user block of the memory card; and </paragraph>
<paragraph id="P-0029" lvl="0"><number>&lsqb;0029&rsqb;</number> <cross-reference target="DRAWINGS">FIG. 8</cross-reference> is a flow chart explaining a process reproducing and outputting the music data written into the memory card, in the music data recording/reproducing system mentioned above.</paragraph>
</section>
</brief-description-of-drawings>
<detailed-description>
<section>
<heading lvl="1">BEST MODE FOR CARRYING OUT THE INVENTION </heading>
<paragraph id="P-0030" lvl="0"><number>&lsqb;0030&rsqb;</number> The best mode for carrying out the present invention will be described, with reference to the accompanying drawings. In the following description, a memory card according to the invention will be explained, which is designed to be used while connected to a personal computer, a digital still camera, or the like. </paragraph>
<paragraph id="P-0031" lvl="0"><number>&lsqb;0031&rsqb;</number> This memory card comprises a nonvolatile memory device (flash memory) that is used as memory means. In the memory card, the flash memory, i.e., the memory means, has a storage area. The storage area is divided into a plurality of blocks for recording data. The data stored in the memory means are managed in units of blocks. </paragraph>
<paragraph id="P-0032" lvl="0"><number>&lsqb;0032&rsqb;</number> The storage area of the memory card according to the invention may have such a configuration as is illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>. As shown in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>(<highlight><italic>a</italic></highlight>), the storage area of the memory card has a system block, which is a read-only storage region. The storage area further has a first storage region, or a plurality of user blocks, in which data can be rewritten. Still further, the storage area has a second storage region, or at least one special user block, in which data can be rewritten. </paragraph>
<paragraph id="P-0033" lvl="0"><number>&lsqb;0033&rsqb;</number> Of the storage regions of the memory card, the system block is a read-only region in which data has been already written. That is, the system-related data, e.g., data representing the block configuration, had been written as the read-only data into the system block before the memory card was delivered from the factory. More precisely, a block ID and a user-use prohibition table are stored in the system block as is illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>(<highlight><italic>b</italic></highlight>). The block ID specifies that this block is a system block. The user-use prohibition table specifies the blocks any user cannot use. </paragraph>
<paragraph id="P-0034" lvl="0"><number>&lsqb;0034&rsqb;</number> Only the block ID and the user-use prohibition table are exemplified here as the information that is already written in the system block. Nonetheless, other information may be written in the system block. More specifically, it is desired that the data required to activate the memory card, such as the type of the memory card, the total number of blocks and the size of each block, be written in the system block. Moreover, management data, such as serial numbers, may be written in the system block, as well. </paragraph>
<paragraph id="P-0035" lvl="0"><number>&lsqb;0035&rsqb;</number> The user-use prohibition table stored in the system block is a table that contains the address data items of those blocks any user cannot use. In other words, the user cannot use any block the address of which is registered in the user-use prohibition table. More precisely, the addresses of initially defective blocks and the address of the special user block are registered in the user-use prohibition table as is illustrated in <cross-reference target="DRAWINGS">FIG. 1</cross-reference>(<highlight><italic>c</italic></highlight>). The word &ldquo;initially defective blocks means user blocks&rdquo; in which defective memory chips have been found at the time of assembling the memory card. </paragraph>
<paragraph id="P-0036" lvl="0"><number>&lsqb;0036&rsqb;</number> Once the addresses of the initially defective blocks are registered in the user-use prohibition table, the user will never happen to access the user blocks containing initially defective memory chips. This prevents errors at the time of storing data into the memory card. </paragraph>
<paragraph id="P-0037" lvl="0"><number>&lsqb;0037&rsqb;</number> Since the address of the special user block is registered in the user-use prohibition table, the access to the special user block, made by the user, is restricted. Thus, the data stored in the special user block will not be easily known to the user or easily rewritten by the user. </paragraph>
<paragraph id="P-0038" lvl="0"><number>&lsqb;0038&rsqb;</number> Of the storage regions of the memory card, the user blocks are storage regions in which data can be rewritten. Data can be rewritten in the user blocks, in accordance with the instructions made by the user. That is, the user blocks are storage areas open to the user. The user can write data into the user blocks, can erase the data stored in the user blocks and can read the data stored in the user blocks. </paragraph>
<paragraph id="P-0039" lvl="0"><number>&lsqb;0039&rsqb;</number> To state more specifically, the image data the user has photographed with a digital still camera, the data the user has generated in a personal computer, the music data distributed from a music distributor, or similar data is stored, as user data, into the user blocks in accordance with the instructions made by the user. </paragraph>
<paragraph id="P-0040" lvl="0"><number>&lsqb;0040&rsqb;</number> Of the storage regions of the memory card, the special user block is a storage region in which data can be rewritten. However, data can neither be read from nor written into the special user block in accordance with the instructions made by the user. The data can be read from and written into the special user block only when the data-processing apparatus to which the memory card is connected carries out special procedures. </paragraph>
<paragraph id="P-0041" lvl="0"><number>&lsqb;0041&rsqb;</number> Special data items, such as a password, that should not be easily rewritten or read by the user are stored into the special user block when the data-processing apparatus to which the memory card is connected performs the special procedures. </paragraph>
<paragraph id="P-0042" lvl="0"><number>&lsqb;0042&rsqb;</number> Once the special data items are stored in the special user block in this way, the contents of the special data items would not easily be known to, or rewritten by, ordinary users. </paragraph>
<paragraph id="P-0043" lvl="0"><number>&lsqb;0043&rsqb;</number> The memory card may have only one special user block or a plurality of special user blocks. If the card has too many special user blocks, however, the user blocks will decrease in number. In view of this, it is desired that special user blocks be provided in an appropriate number in consideration of the storage capacity the memory card has, the use of the special user blocks, and the like. </paragraph>
<paragraph id="P-0044" lvl="0"><number>&lsqb;0044&rsqb;</number> The memory card having the block configuration described above may be connected to a data-processing apparatus such as a personal computer, by the use of a PCMCIA (ATA card) adapter or the like. In this case, the personal computer can make accesses to only the user blocks in the storage area of the memory card. Neither the system block nor the special user block is seen from the personal computer. That is, their existence is unknown to the personal computer. </paragraph>
<paragraph id="P-0045" lvl="0"><number>&lsqb;0045&rsqb;</number> Further, the memory card may be connected directly to a data-processing apparatus compatible with the memory card, such as a digital still camera or a music data receiving apparatus. In this case, the user data, i.e., the image data generated by the digital still camera or the music data received by the music data receiving apparatus, is stored into the user blocks in accordance with the user&apos;s instructions. If necessary, the digital still camera and the music data receiving apparatus can write special data, such as a password and use history, into the special user block and can read the special data from the special user block, by performing special procedures. </paragraph>
<paragraph id="P-0046" lvl="0"><number>&lsqb;0046&rsqb;</number> With reference to the flow chart of <cross-reference target="DRAWINGS">FIG. 2</cross-reference> it will be explained how the system is initialized when the memory card is connected to a data-processing apparatus and then activated. </paragraph>
<paragraph id="P-0047" lvl="0"><number>&lsqb;0047&rsqb;</number> When the memory card is connected to the data-processing apparatus, the data-processing apparatus searches the memory card for the system block in Step S<highlight><bold>101</bold></highlight>. The block ID stored in the system block is used to detect the system block. </paragraph>
<paragraph id="P-0048" lvl="0"><number>&lsqb;0048&rsqb;</number> Then, in Step S<highlight><bold>1</bold></highlight>-<highlight><bold>2</bold></highlight>, the data-processing apparatus reads the user-use prohibition table stored in the system block of the memory card. </paragraph>
<paragraph id="P-0049" lvl="0"><number>&lsqb;0049&rsqb;</number> In Step S<highlight><bold>1</bold></highlight>-<highlight><bold>3</bold></highlight>, the data-processing apparatus initializes a conversion table for converting physical addresses to logic addresses and vice versa. This table is stored in a memory provided in the data-processing apparatus. The conversion table stores the correspondence between the physical addresses that are assigned to the blocks of the memory card and the logic addresses that are used in the data-processing apparatus to manage data. The conversion table also stores the flags specifying the types of blocks, which correspond to the physical addresses and logic addresses. </paragraph>
<paragraph id="P-0050" lvl="0"><number>&lsqb;0050&rsqb;</number> In Sep S<highlight><bold>1</bold></highlight>-<highlight><bold>4</bold></highlight>, the data-processing apparatus sets, as variable N, the physical address of the block next to the system block. </paragraph>
<paragraph id="P-0051" lvl="0"><number>&lsqb;0051&rsqb;</number> Next, in Step S<highlight><bold>1</bold></highlight>-<highlight><bold>5</bold></highlight>, the data-processing apparatus refers to the user-use prohibition table, thereby determining whether or not the block having the physical address of N is one that the user is prohibited from using. If it is determined that the block is not one the user is prohibited from using, the flow goes to Step S<highlight><bold>1</bold></highlight>-<highlight><bold>6</bold></highlight>. In Step S<highlight><bold>1</bold></highlight>-<highlight><bold>6</bold></highlight>, the logic address corresponding to the block having the physical address of N and the flag specifying the type of this block are written into the conversion table for converting physical addresses to logic addresses and vice versa. </paragraph>
<paragraph id="P-0052" lvl="0"><number>&lsqb;0052&rsqb;</number> If it is determined in Step S<highlight><bold>1</bold></highlight>-<highlight><bold>5</bold></highlight> that the block is one the user is prohibited from using, the flow goes to Step S<highlight><bold>1</bold></highlight>-<highlight><bold>7</bold></highlight>. In Step S<highlight><bold>1</bold></highlight>-<highlight><bold>7</bold></highlight>, only the flag specifying the type of this block is written into the conversion table for converting physical addresses to logic addresses and vice versa. </paragraph>
<paragraph id="P-0053" lvl="0"><number>&lsqb;0053&rsqb;</number> Then, the data-processing apparatus adds one (1) to variable N In Step S<highlight><bold>1</bold></highlight>-<highlight><bold>8</bold></highlight> and compares the value of variable N with the value of the physical address of the last block of the memory card in Step S<highlight><bold>1</bold></highlight>-<highlight><bold>9</bold></highlight>. Thus, the apparatus determines whether variable N has become greater than the value of the last block. If the apparatus determines that the variable N has not become so yet, the flow returns to Step S<highlight><bold>1</bold></highlight>-<highlight><bold>5</bold></highlight>, whereby the process is repeated. </paragraph>
<paragraph id="P-0054" lvl="0"><number>&lsqb;0054&rsqb;</number> If it is determined in Step S<highlight><bold>1</bold></highlight>-<highlight><bold>9</bold></highlight> that variable N has become greater than the value of the last block, the process of initializing the system is terminated. </paragraph>
<paragraph id="P-0055" lvl="0"><number>&lsqb;0055&rsqb;</number> When the system is initialized as described above, there is generated a conversion table for converting physical addresses to logic addresses and vice versa, in the memory of the data-processing apparatus. <cross-reference target="DRAWINGS">FIG. 3</cross-reference> shows an example of the conversion table. As shown in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, the conversion table stores the correlation between physical addresses and logic addresses. </paragraph>
<paragraph id="P-0056" lvl="0"><number>&lsqb;0056&rsqb;</number> Stored also in the conversion table are flags that specify the types of the blocks. That is, each flag indicates whether the block is the system block, a user block, the special user block, or a defective block. The flag &ldquo;S&rdquo; specifies the system block. A flag &ldquo;U&rdquo;, a flag &ldquo;SU&rdquo; and a flag &ldquo;B&rdquo; specify a user block, the special user block and a defective block, respectively. </paragraph>
<paragraph id="P-0057" lvl="0"><number>&lsqb;0057&rsqb;</number> Of the blocks of the memory card, the system block and the user-use-prohibited blocks are not assigned with logic addresses. Therefore, in the logic-address column in <cross-reference target="DRAWINGS">FIG. 3</cross-reference>, marks &ldquo;X&rdquo; are shown for the system block and the user-use prohibited blocks. </paragraph>
<paragraph id="P-0058" lvl="0"><number>&lsqb;0058&rsqb;</number> An example of the process of setting a password in the memory card described above will be explained, with reference to the flow chart of <cross-reference target="DRAWINGS">FIG. 4</cross-reference>. To set a password in the memory card, there is used a data-processing apparatus designed only to set a password, not a general-purpose, data-processing apparatus such as a personal computer. </paragraph>
<paragraph id="P-0059" lvl="0"><number>&lsqb;0059&rsqb;</number> In order to set a password in the memory card, the data-processing apparatus designed only to set a password in the memory card makes a request for a password in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>1</bold></highlight>. For example, the apparatus displays a message on a display, asking the person who can set a password to input a password and, thus, making a request for a password. </paragraph>
<paragraph id="P-0060" lvl="0"><number>&lsqb;0060&rsqb;</number> Then, in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight>, a password is input to the data-processing apparatus. In Step S<highlight><bold>2</bold></highlight>-<highlight><bold>3</bold></highlight>, the data-processing apparatus acquires the address data of the special user block, from the user-use prohibition table stored in the system block of the memory card. The apparatus therefore designates the address of the special user block. </paragraph>
<paragraph id="P-0061" lvl="0"><number>&lsqb;0061&rsqb;</number> The data-processing apparatus that is designed only to set a password may initializes the system in such a way as has been described. If so, it can refer to the conversion table stored in the memory, thereby to designate the address of the special user block. </paragraph>
<paragraph id="P-0062" lvl="0"><number>&lsqb;0062&rsqb;</number> Next, in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>4</bold></highlight>, the data-processing apparatus makes an access to the special user block that has been designated in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>3</bold></highlight>. The apparatus then performs the process of writing the password input in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight>, into the special user block. </paragraph>
<paragraph id="P-0063" lvl="0"><number>&lsqb;0063&rsqb;</number> In Step S<highlight><bold>2</bold></highlight>-<highlight><bold>5</bold></highlight>, the data-processing apparatus accesses the special user block and reads the password that has been written in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>4</bold></highlight>. The apparatus correlates the password with the password input in Step S<highlight><bold>2</bold></highlight>-<highlight><bold>2</bold></highlight>, thus determining if the correct password has been written into the special user block. </paragraph>
<paragraph id="P-0064" lvl="0"><number>&lsqb;0064&rsqb;</number> If the correct password has not been written into the special user block, the flow returns to Step S<highlight><bold>2</bold></highlight>-<highlight><bold>4</bold></highlight>, and the process of writing the password into the special user block is performed again. If the correct password has not been written into the special user block, the process of setting a password is terminated. </paragraph>
<paragraph id="P-0065" lvl="0"><number>&lsqb;0065&rsqb;</number> Once the password has been written into the special user block of the memory card as described above, ordinary users cannot to this special user block. The ordinary users cannot know the password. Nor can they alter or rewritten the password. Hence, the data-processing apparatus that uses the memory card as the recording medium writes and reads data, exclusively in accordance with the instructions made by the authenticated user. This prevents the undesirable event that any other person may read or rewrite the data written in the memory card. </paragraph>
<paragraph id="P-0066" lvl="0"><number>&lsqb;0066&rsqb;</number> Thus far, it has been described how password data is stored into the special user block. Nonetheless, the data to be stored into the special user block is not limited to password data. </paragraph>
<paragraph id="P-0067" lvl="0"><number>&lsqb;0067&rsqb;</number> For instance, the information concerning the copyright of the data stored in the user blocks may be stored into the special user block. Once stored in the special user block, the copyright information cannot be accessed by ordinary users. This prevents alteration of the copyright information. </paragraph>
<paragraph id="P-0068" lvl="0"><number>&lsqb;0068&rsqb;</number> Further, the use history of the memory card may be stored into the special user block. The term &ldquo;use history&rdquo; means a record of the accesses that were made to the memory card in the past to read data, for example, from the memory card, write data into the memory card, and format the memory card. Once the use history is recorded in the special user block, it is possible for the user to obtain statistical information about the past use of the memory card. </paragraph>
<paragraph id="P-0069" lvl="0"><number>&lsqb;0069&rsqb;</number> Still further, the quality history of the memory card may be stored into the special user block. The term &ldquo;quality history&rdquo; means a record of the conditions in which the memory card was used while connected to electronic apparatuses and also of the errors that were made in the memory card. Once recorded in the special user block, the quality history can be confirmed and studied, whenever necessary, for example when the memory card is sent back from the user to the sales shop or the manufacturer. </paragraph>
<paragraph id="P-0070" lvl="0"><number>&lsqb;0070&rsqb;</number> The memory card with a password set in it can be used in various ways. A music data recording/reproducing system, which uses the memory card as a recording medium, will be described below. </paragraph>
<paragraph id="P-0071" lvl="0"><number>&lsqb;0071&rsqb;</number> The music data recording/reproducing system has a music data receiving apparatus and a speaker. The music data receiving apparatus receives the music data distributed from a music distributor. The music data is stored into a user block of the memory card. The music data is reproduced from the user block of the memory card and output by means of the speaker. It should be noted that the music data receiving apparatus is not a general-purpose data-processing apparatus such as a personal computer. Rather, it is an apparatus compatible with the memory card. It can make an access to the special user block of the memory card. </paragraph>
<paragraph id="P-0072" lvl="0"><number>&lsqb;0072&rsqb;</number> As is shown in <cross-reference target="DRAWINGS">FIG. 5</cross-reference>, the music data receiving apparatus <highlight><bold>10</bold></highlight> comprises an input/output section <highlight><bold>11</bold></highlight>, a data-processing section <highlight><bold>12</bold></highlight>, and an output section <highlight><bold>13</bold></highlight>. The input/output section <highlight><bold>11</bold></highlight> receives the music data transmitted from the music source the music distributor <highlight><bold>20</bold></highlight>. The data-processing section <highlight><bold>12</bold></highlight> writes the music data into the user blocks of the memory card <highlight><bold>30</bold></highlight> and reads the music data from the user blocks of the memory card <highlight><bold>30</bold></highlight>. The output section <highlight><bold>13</bold></highlight> outputs the music data the data-processing section <highlight><bold>12</bold></highlight> has read from the user blocks of the memory card. </paragraph>
<paragraph id="P-0073" lvl="0"><number>&lsqb;0073&rsqb;</number> An input apparatus <highlight><bold>40</bold></highlight> and a display apparatus <highlight><bold>50</bold></highlight> are connected to the data-processing section <highlight><bold>12</bold></highlight>. The input apparatus <highlight><bold>40</bold></highlight> is, for example, a keyboard and receives the instructions made by the user and other data. The display apparatus <highlight><bold>50</bold></highlight> is, for example, a liquid crystal panel, and displays the data generated by the data-processing section <highlight><bold>12</bold></highlight>. The memory card <highlight><bold>30</bold></highlight>, in which a password has been set, is connected to the data-processing section <highlight><bold>12</bold></highlight>. An audio output apparatus <highlight><bold>60</bold></highlight>, such as a speaker, is connected to the output section <highlight><bold>13</bold></highlight>. </paragraph>
<paragraph id="P-0074" lvl="0"><number>&lsqb;0074&rsqb;</number> As shown in <cross-reference target="DRAWINGS">FIG. 6</cross-reference>, the data-processing section <highlight><bold>12</bold></highlight> comprises a central processing unit (CPU) <highlight><bold>14</bold></highlight> and a memory <highlight><bold>15</bold></highlight>. The CPU <highlight><bold>14</bold></highlight> and the memory <highlight><bold>15</bold></highlight> are connected by a bus <highlight><bold>16</bold></highlight>. The memory card <highlight><bold>30</bold></highlight>, input apparatus <highlight><bold>40</bold></highlight> and display apparatus <highlight><bold>50</bold></highlight> are connected to the CPU <highlight><bold>14</bold></highlight> and the memory <highlight><bold>15</bold></highlight> by the bus <highlight><bold>16</bold></highlight>. </paragraph>
<paragraph id="P-0075" lvl="0"><number>&lsqb;0075&rsqb;</number> The CPU <highlight><bold>14</bold></highlight> serves to perform various processes in the data-processing section <highlight><bold>12</bold></highlight>. The memory <highlight><bold>15</bold></highlight> is used as a work area for assisting the CPU <highlight><bold>14</bold></highlight> to effect the processes. It serves as a storage area in which the operation system (OS) (the program the CPU <highlight><bold>14</bold></highlight> uses to perform the processes), device drivers, and application programs are stored. </paragraph>
<paragraph id="P-0076" lvl="0"><number>&lsqb;0076&rsqb;</number> In the music data recording/reproducing system thus constructed, the music data the music data receiving apparatus <highlight><bold>10</bold></highlight> has received is written into a user block of the memory card <highlight><bold>30</bold></highlight> in the following manner. First, the memory card <highlight><bold>30</bold></highlight> is connected to the music data receiving apparatus <highlight><bold>10</bold></highlight>. At this time, the system is initialized as has been described above, and a conversion table is generated in the memory <highlight><bold>15</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight>. The conversion table shows the correlation between physical addresses and logic addresses of the blocks in the memory card <highlight><bold>30</bold></highlight> and stores flags indicating the types of the blocks. At the same time, a FAT (File Allocation Table) and a directory entry are generated in the memory of the music data receiving layer <highlight><bold>10</bold></highlight>. </paragraph>
<paragraph id="P-0077" lvl="0"><number>&lsqb;0077&rsqb;</number> When the memory card <highlight><bold>30</bold></highlight> is connected to the music data receiving apparatus <highlight><bold>10</bold></highlight>, the apparatus <highlight><bold>10</bold></highlight> authenticates the password. </paragraph>
<paragraph id="P-0078" lvl="0"><number>&lsqb;0078&rsqb;</number> How the music data receiving apparatus <highlight><bold>10</bold></highlight> authenticates the password will be explained, with reference to the flow chart of <cross-reference target="DRAWINGS">FIG. 7</cross-reference>. </paragraph>
<paragraph id="P-0079" lvl="0"><number>&lsqb;0079&rsqb;</number> First, in Step S<highlight><bold>3</bold></highlight>-<highlight><bold>1</bold></highlight>, the music data receiving apparatus <highlight><bold>10</bold></highlight>, to which the memory card <highlight><bold>30</bold></highlight> has been connected, requests that the user input a password. For example, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> causes the display apparatus <highlight><bold>50</bold></highlight> to display a message, asking the user to input a password. </paragraph>
<paragraph id="P-0080" lvl="0"><number>&lsqb;0080&rsqb;</number> In Step S<highlight><bold>3</bold></highlight>-<highlight><bold>2</bold></highlight>, the user operates the input apparatus <highlight><bold>40</bold></highlight>, thereby inputting a password. Then, in Step S<highlight><bold>3</bold></highlight>-<highlight><bold>3</bold></highlight>, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> accesses the system block of the memory card <highlight><bold>30</bold></highlight>, acquiring the address data of the special user block from the user-use prohibition table. The section <highlight><bold>12</bold></highlight> specifies the address of the special user block on the basis of the address data. </paragraph>
<paragraph id="P-0081" lvl="0"><number>&lsqb;0081&rsqb;</number> The conversion table storing the flags indicating the types of the blocks in the memory card <highlight><bold>30</bold></highlight> has been generated in the memory <highlight><bold>15</bold></highlight> of the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> by initializing the system as described above. More correctly, the conversion table is stored in that storage area of the memory <highlight><bold>15</bold></highlight>, in which the device drivers are stored. Therefore, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> may refer to the conversion table, thereby to specify the address of the special user block. </paragraph>
<paragraph id="P-0082" lvl="0"><number>&lsqb;0082&rsqb;</number> In Step S<highlight><bold>3</bold></highlight>-<highlight><bold>4</bold></highlight>, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> accesses the special user block that has been specified in Step S<highlight><bold>3</bold></highlight>-<highlight><bold>3</bold></highlight>. The section <highlight><bold>12</bold></highlight> then reads the password from the special user block. </paragraph>
<paragraph id="P-0083" lvl="0"><number>&lsqb;0083&rsqb;</number> In Step S<highlight><bold>3</bold></highlight>-<highlight><bold>5</bold></highlight>, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> correlates the password input in Step S<highlight><bold>3</bold></highlight>-<highlight><bold>2</bold></highlight> with the password read in Step S<highlight><bold>3</bold></highlight>-<highlight><bold>4</bold></highlight> from the special user block. If these passwords do not coincide, the section <highlight><bold>12</bold></highlight> does not allow the user to use the memory card, and the flow returns to Step S<highlight><bold>3</bold></highlight>-<highlight><bold>1</bold></highlight>. In Step S<highlight><bold>3</bold></highlight>-<highlight><bold>1</bold></highlight>, the music data receiving apparatus <highlight><bold>10</bold></highlight> requests again that the user input a password. If Step S<highlight><bold>3</bold></highlight>-<highlight><bold>5</bold></highlight> is repeated several times and the passwords have yet to coincide, the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> determines that the password has been input by a user who has not been authenticated. In this case, the data-processing section <highlight><bold>12</bold></highlight> may cause the display apparatus <highlight><bold>50</bold></highlight> to display a message, indicating that an error has been made, and may terminates the process of authenticating the user, not allowing the user to use the memory card. </paragraph>
<paragraph id="P-0084" lvl="0"><number>&lsqb;0084&rsqb;</number> On the other hand, if the passwords coincide, the section <highlight><bold>12</bold></highlight> allows the user to use the memory card. The process of authenticating the user in accordance with the password then ends. </paragraph>
<paragraph id="P-0085" lvl="0"><number>&lsqb;0085&rsqb;</number> After completion of the process of authenticating the user in accordance with the password, the user can write the music data received by the music data receiving apparatus <highlight><bold>10</bold></highlight>, as user data, into the user block of the memory card <highlight><bold>30</bold></highlight>. Also, the user can reproduce the music data read from the user block of the memory card <highlight><bold>30</bold></highlight> and then output the music data from the audio output apparatus <highlight><bold>60</bold></highlight>, which is, for example, a speaker or a headphone. </paragraph>
<paragraph id="P-0086" lvl="0"><number>&lsqb;0086&rsqb;</number> An example of the process of writing the music data received by the music data receiving apparatus <highlight><bold>10</bold></highlight>, as user data, into the user block of the memory card <highlight><bold>30</bold></highlight> will be described below. </paragraph>
<paragraph id="P-0087" lvl="0"><number>&lsqb;0087&rsqb;</number> First, the music data is transmitted from the music distributor <highlight><bold>20</bold></highlight> to the music data receiving apparatus <highlight><bold>10</bold></highlight>. The music data is stored as music source and include the numbers assigned to various musical pieces. The music data receiving apparatus <highlight><bold>10</bold></highlight> receives the music data and makes the display apparatus <highlight><bold>50</bold></highlight> display the music data. </paragraph>
<paragraph id="P-0088" lvl="0"><number>&lsqb;0088&rsqb;</number> Next, the user refers to the music data displayed by the display apparatus <highlight><bold>50</bold></highlight> and selects one of the musical pieces. The user then operates the input apparatus <highlight><bold>40</bold></highlight>, thereby inputting the number assigned to the musical piece selected. </paragraph>
<paragraph id="P-0089" lvl="0"><number>&lsqb;0089&rsqb;</number> The music data receiving apparatus <highlight><bold>10</bold></highlight> transmits the number assigned to the musical piece selected by the user, to the music distributor <highlight><bold>20</bold></highlight>. The music distributor <highlight><bold>20</bold></highlight> transmits the music data that corresponds to the music number received at the music distributor <highlight><bold>20</bold></highlight>. </paragraph>
<paragraph id="P-0090" lvl="0"><number>&lsqb;0090&rsqb;</number> In the music data receiving apparatus <highlight><bold>10</bold></highlight>, the input/output section <highlight><bold>11</bold></highlight> receives the music data transmitted from the music distributor <highlight><bold>20</bold></highlight>. The data-processing section <highlight><bold>12</bold></highlight> writes the music data as user data, in the form of a file, into the user block of the memory card <highlight><bold>30</bold></highlight>. The data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> may render copyright bits valid in the memory card <highlight><bold>30</bold></highlight>. This can make it impossible to read the music data from the user block of the memory card <highlight><bold>30</bold></highlight> by the use of a data-processing apparatus such as a general-purpose personal computer. The copyright bits have been defined to limit the use of any data protected by copyright. As long as the copyright bits remain valid, the memory card <highlight><bold>30</bold></highlight> can not be used in data-processing apparatuses such as general-purpose personal computers. </paragraph>
<paragraph id="P-0091" lvl="0"><number>&lsqb;0091&rsqb;</number> The process of writing the music data into the user block of the memory card <highlight><bold>30</bold></highlight> ends. Then, the data representing the charge for use of the music data, the information about the user and the like are transmitted to the music distributor <highlight><bold>20</bold></highlight> from the data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight>. More precisely, they are transmitted from the input/output section <highlight><bold>11</bold></highlight> of the section <highlight><bold>12</bold></highlight>. </paragraph>
<paragraph id="P-0092" lvl="0"><number>&lsqb;0092&rsqb;</number> An example of the process of reproducing the music data written in the user block of the memory card <highlight><bold>30</bold></highlight> and outputting the same from the audio output apparatus <highlight><bold>60</bold></highlight> will now be described, with reference to the flow chart of <cross-reference target="DRAWINGS">FIG. 8</cross-reference>. </paragraph>
<paragraph id="P-0093" lvl="0"><number>&lsqb;0093&rsqb;</number> First, in Step S<highlight><bold>4</bold></highlight>-<highlight><bold>1</bold></highlight>, the instruction made by the user is input to the music data receiving apparatus <highlight><bold>10</bold></highlight> via the input apparatus <highlight><bold>40</bold></highlight>, upon completion of the process of authenticating the user on the basis of the password. The instruction is so input to reproduce the music data. </paragraph>
<paragraph id="P-0094" lvl="0"><number>&lsqb;0094&rsqb;</number> The data-processing section <highlight><bold>12</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight> accesses the user block of the memory card <highlight><bold>30</bold></highlight>. The section <highlight><bold>12</bold></highlight> reads the music data written in the user block of the memory card <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0095" lvl="0"><number>&lsqb;0095&rsqb;</number> More specifically, the CPU <highlight><bold>14</bold></highlight> reads a command to reproduce the music data stored in the application storage area, when the instruction is input from the user to reproduce the music data. To execute this command, the name of the file constituting the music data the user has designated as one to be read is specified in Step S<highlight><bold>4</bold></highlight>-<highlight><bold>1</bold></highlight>. The music data is thereby read from the application storage area. </paragraph>
<paragraph id="P-0096" lvl="0"><number>&lsqb;0096&rsqb;</number> When the name of the file constituting the music data is specified, the device driver receives the file name and the data-reproducing command. In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>3</bold></highlight>, the device driver refers to the FAT and the directory entry, thus designating the logic address of the music data that constitutes that file. </paragraph>
<paragraph id="P-0097" lvl="0"><number>&lsqb;0097&rsqb;</number> Next, in Step S<highlight><bold>4</bold></highlight>-<highlight><bold>4</bold></highlight>, the device driver refers to the conversion table that stores the correlation between the addresses of physical blocks and the addresses of logic blocks, all blocks provided in the memory card <highlight><bold>30</bold></highlight>. Thus, the device driver acquires the physical address data of the user block that contains the music data constituting the file. </paragraph>
<paragraph id="P-0098" lvl="0"><number>&lsqb;0098&rsqb;</number> In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>5</bold></highlight>, the device driver generates a block-reading command that has, as a parameter, the physical address it has acquired. The device driver then accesses the user block of the memory card <highlight><bold>30</bold></highlight>, reading the music data from the user block having the physical address acquired. </paragraph>
<paragraph id="P-0099" lvl="0"><number>&lsqb;0099&rsqb;</number> In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>6</bold></highlight>, the CPU <highlight><bold>14</bold></highlight> converts the music data read from the user block, in a particular manner, to data that can be output to the audio output apparatus <highlight><bold>60</bold></highlight>. This data-converting process is performed in units of data items, each read at a time from a user block of the memory card <highlight><bold>30</bold></highlight>. </paragraph>
<paragraph id="P-0100" lvl="0"><number>&lsqb;0100&rsqb;</number> Next, in Step S<highlight><bold>4</bold></highlight>-<highlight><bold>7</bold></highlight>, it is determined whether all music data constituting the file has been read and converted. If it is determined that any part of the music data that constitutes the file has not been read or converted yet, the flow returns to Step S<highlight><bold>4</bold></highlight>-<highlight><bold>5</bold></highlight>. In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>5</bold></highlight>, the music data is read again from the user block. In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>6</bold></highlight>, the music data read out is converted. </paragraph>
<paragraph id="P-0101" lvl="0"><number>&lsqb;0101&rsqb;</number> If it is determined in Step S<highlight><bold>4</bold></highlight>-<highlight><bold>7</bold></highlight> that all music data constituting the file has been read and converted, the flow goes to Step S<highlight><bold>4</bold></highlight>-<highlight><bold>8</bold></highlight>. In Step S<highlight><bold>4</bold></highlight>-<highlight><bold>8</bold></highlight>, the music data is transmitted to the audio output apparatus <highlight><bold>60</bold></highlight> from the output section <highlight><bold>13</bold></highlight> of the music data receiving apparatus <highlight><bold>10</bold></highlight>. The audio output apparatus <highlight><bold>60</bold></highlight> outputs the music data. Thus does end the process reproducing and outputting the music data. </paragraph>
<paragraph id="P-0102" lvl="0"><number>&lsqb;0102&rsqb;</number> In the case described above, the music data written in the user block of the memory card <highlight><bold>30</bold></highlight> is reproduced when the user is authenticated in accordance with the password. Only the data not protected by copyright may be reproduced, while the data protected by copyright is not reproduced, even if the user cannot be authenticated in accordance with the password. The data protected by copyright is encrypted, as usual, and stored in the user block of the memory card <highlight><bold>30</bold></highlight>. The data encrypted is read from the user block, decrypted by a data-decrypting means and finally output. Hence, the data not protected by copyright can be reproduced, while preventing illegal reproduction of the copyrighted data, if the copyrighted data is not decrypted when the user is not authenticated in accordance with the password. </paragraph>
<paragraph id="P-0103" lvl="0"><number>&lsqb;0103&rsqb;</number> The music data recording/reproducing system described above uses, as recording medium, the memory card <highlight><bold>30</bold></highlight> that stores a password. A system for recording and reproducing various kinds of data, such as movie data, can be provided, which is similar in structure to the music data recording/reproducing system. For example, a movie data recording/reproducing system may be provided. In this system, the video data receiving apparatus receives the movie data distributed from a movie distributor. The movie data is stored into the user blocks of the memory card <highlight><bold>30</bold></highlight>. The motion-picture data and audio data are read from the user blocks of the memory card <highlight><bold>30</bold></highlight>. The motion-picture data is transmitted to the display apparatus such as a CRT display or a liquid crystal display, whereas the audio data is transmitted to the audio output apparatus such as a speaker. The display apparatus displays the motion picture, and the audio output apparatus outputs the sound. </paragraph>
<paragraph id="P-0104" lvl="0"><number>&lsqb;0104&rsqb;</number> The memory card with a password set in it may be used in a security system, in which the password a member of is authenticated by using the memory card in order to open or close a clock. </paragraph>
<paragraph id="P-0105" lvl="0"><number>&lsqb;0105&rsqb;</number> In the security system, memory cards are issued to only the members. Each member operates a data-processing apparatus for setting passwords, thereby writing a password into the special user block of his or her memory card. Alternatively, memory cards, each having a password written in it by the use of a dedicated data-processing apparatus, are issued to the members, and each member is informed of the password written in the memory card issued to him or her. </paragraph>
<paragraph id="P-0106" lvl="0"><number>&lsqb;0106&rsqb;</number> Each member connects the memory card to the data-processing apparatus that comprises an actuator for controlling the opening and closing of the lock. This data-processing apparatus is not a general-purposed one such as a personal computer. Rather, it is a data-processing apparatus compatible with the memory cards and can make an access to the special user blocks of the memory cards if prescribed procedures are performed. </paragraph>
<paragraph id="P-0107" lvl="0"><number>&lsqb;0107&rsqb;</number> When the memory card is connected to it, the data-processing apparatus authenticates the member holding the memory card, on the basis of the password in such a way as described above. Only when the member is authenticated in accordance with the password, the actuator of the apparatus is operated, thereby opening the lock. In this security system, any person who has illegally obtained a memory card cannot have the lock opened. This is because he or she does not know the password set in the memory card. The password, which is necessary to open the lock, is written in the special user block of the memory card, to which the user cannot make an access. Hence, the password remains unknown to anyone who has illegally possesses the memory card. </paragraph>
<paragraph id="P-0108" lvl="0"><number>&lsqb;0108&rsqb;</number> In the security system described above, the opening and closing of the lock can be controlled only by authenticating the holder of the memory card in accordance with the password. Therefore, procedures, such as registering of the members, need not be performed at all. The security system can be simple and can yet perform its function reliably. </paragraph>
<paragraph id="P-0109" lvl="0"><number>&lsqb;0109&rsqb;</number> The memory card with a password set in it may be put to another use. It may be effectively used in a personal-data management system. In this system, the holder of the memory card is authenticated in accordance with the password. Only if so authenticated, the card holder can refer to and rewrite the personal data, such as medical care record. </paragraph>
<paragraph id="P-0110" lvl="0"><number>&lsqb;0110&rsqb;</number> In the personal-data management system, the memory card with the password set in it is used as a recording medium for recording the personal data such as the medical care record. The personal data may be written in the user blocks of the memory card. If the data is very important and is not of a great amount, it may be written into the special user block. In this case, however, the personal data is written into a region of the special user block, other than the region into which the password has been written. For instance, if the password is written in the first page of the special user block, the personal data will be written into the second page of the special user block. </paragraph>
<paragraph id="P-0111" lvl="0"><number>&lsqb;0111&rsqb;</number> To refer to or correct the personal data written in the memory card, or to write additional personal data, the memory card is connected to the data-processing apparatus having a data-processing section for reading data from, and writing data into, the memory card. The data-processing apparatus is not a general-purpose one such as a personal computer. Instead, one is compatible with memory cards. It can access the special user block of each memory card by performing prescribed procedures. </paragraph>
<paragraph id="P-0112" lvl="0"><number>&lsqb;0112&rsqb;</number> When a memory card is connected to it, the data-processing apparatus authenticates the holder of the memory card in accordance with the password. Only if the card holder is authenticated on the basis of the password, the apparatus reads the personal data from the user blocks or special user block of the memory card in accordance with an instruction made by the user. At this time, to read the personal data from the user blocks, the data-processing apparatus performs the same process as music data is read from the user blocks of the memory card in the music data recording/reproducing system described above. To read the personal data from the special user block, the apparatus carries out the same process as the user is authenticated on the basis of the password. </paragraph>
<paragraph id="P-0113" lvl="0"><number>&lsqb;0113&rsqb;</number> Next, in the data-processing apparatus, a video encoder or the like causes a display apparatus, such as a CRT display or a liquid crystal display, to display the personal data that has been read from the memory card. When the user input an instruction to correct the personal data displayed by the display apparatus or to add new personal data, the data-processing apparatus rewrites the personal data, in the memory card to the personal data input by the user, or writes the new personal data into the memory card. </paragraph>
<paragraph id="P-0114" lvl="0"><number>&lsqb;0114&rsqb;</number> The personal-data management system allows the user to refer to or correct the personal data written in the memory card and to write new personal data into the memory card, only if the user is authenticated in accordance with the password. Thus, the personal data, e.g., medical care record, can be managed in safety. In the personal-data management system, the password that the user must input in order to refer to or correct the personal data or to add new personal data remains unknown to any other persons. This is because the password is written in the special user block of the memory card, to which nobody can make an access. Hence, any other person cannot read or rewrite the personal data. </paragraph>
<paragraph id="P-0115" lvl="0"><number>&lsqb;0115&rsqb;</number> As has been described above in detail, the memory card according to the present invention has a special user block that cannot be accessed by ordinary users. Data that should not be disclosed to the user, such as a password, can be stored in the special user block. </paragraph>
<paragraph id="P-0116" lvl="0"><number>&lsqb;0116&rsqb;</number> In the case of the conventional memory card, all blocks except the system block can be accessed from general-purpose data-processing apparatuses such as personal computer. It is therefore impossible to store data that should not be disclosed to the user, such as the password, in such a way to maintain it concealed from the user. </paragraph>
<paragraph id="P-0117" lvl="0"><number>&lsqb;0117&rsqb;</number> By contrast, the memory card according to the present invention has a special user block for storing data that should not be disclosed to the user. Hence, the data, e.g., the password, can be stored and concealed from the user. Unlike the conventional memory card, the memory card according to this invention can therefore help to provide a system that excels in security. </paragraph>
<paragraph id="P-0118" lvl="7"><number>&lsqb;0118&rsqb;</number> Industrial Applicability </paragraph>
<paragraph id="P-0119" lvl="0"><number>&lsqb;0119&rsqb;</number> With the memory apparatus according to the present invention, such as a memory card, it is possible manage data that should not be easily rewritten or read by the user, such as the password or the use history, so that the user cannot easily make an access to that data. </paragraph>
</section>
</detailed-description>
</subdoc-description>
<subdoc-claims>
<claim id="CLM-00001">
<claim-text><highlight><bold>1</bold></highlight>. An memory apparatus comprising: 
<claim-text>a first storage region from which data can be read and into which data can be written, in accordance with instructions made by a user; and </claim-text>
<claim-text>a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00002">
<claim-text><highlight><bold>2</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the first storage region and the second storage region are composed of non-volatile memory elements. </claim-text>
</claim>
<claim id="CLM-00003">
<claim-text><highlight><bold>3</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the second memory region is used as a region for storing password data. </claim-text>
</claim>
<claim id="CLM-00004">
<claim-text><highlight><bold>4</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the second storage region is used as a region for storing copyright data concerning the data stored in the first storage region. </claim-text>
</claim>
<claim id="CLM-00005">
<claim-text><highlight><bold>5</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the second memory region is used as a region for storing a use history of the memory apparatus. </claim-text>
</claim>
<claim id="CLM-00006">
<claim-text><highlight><bold>6</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized in that the second storage region is used as a region for storing a quality history of the memory apparatus. </claim-text>
</claim>
<claim id="CLM-00007">
<claim-text><highlight><bold>7</bold></highlight>. A memory apparatus according to <dependent-claim-reference depends_on="CLM-00001">claim 1</dependent-claim-reference>, characterized by further comprising a read-only storage region storing address data of the second storage region. </claim-text>
</claim>
<claim id="CLM-00008">
<claim-text><highlight><bold>8</bold></highlight>. A data-processing apparatus comprising data-processing means for writing data into, and reading data from, an memory apparatus comprising a first storage region from which data can be read and into which data can be written, in accordance with instructions made by a user, and a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures, 
<claim-text>wherein said data-processing means writes data into, or reads data from, the first storage region when the instructions made by the user are supplied to the memory apparatus to write the data into, or to read the data from, the memory apparatus. </claim-text>
</claim-text>
</claim>
<claim id="CLM-00009">
<claim-text><highlight><bold>9</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, characterized in that the data-processing means refers to a conversion table showing a physical address of the first storage region of the memory apparatus and data to be written into the first storage region or a logic address of the data written in the first storage region, thereby writing the data into the first storage region or reading the data from the first storage region. </claim-text>
</claim>
<claim id="CLM-00010">
<claim-text><highlight><bold>10</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00009">claim 9</dependent-claim-reference>, characterized in that the data to be written into the first storage region of the memory apparatus or the data written in the first storage region of the memory apparatus is managed in units of files, and the data-processing means designates a logic address of data from the data to be written into the first storage region of the memory apparatus or from the file name of the data written in the first storage region and refers to the conversion table, thereby writing the data into the first storage region or reading the data from the first storage region. </claim-text>
</claim>
<claim id="CLM-00011">
<claim-text><highlight><bold>11</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00008">claim 8</dependent-claim-reference>, characterized in that the data-processing means designates the second storage region of the memory apparatus upon receipt of instructions for writing the data into the second storage region of the memory apparatus or reading the data from the second storage region, thereby writing the data into the second storage region or reading the data from the second storage region. </claim-text>
</claim>
<claim id="CLM-00012">
<claim-text><highlight><bold>12</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, characterized in that the data-processing means refers to a conversion table showing a physical address of the second storage region of the memory apparatus, thereby designating the second storage region, and writes data into the second storage region or reads data from the second storage region. </claim-text>
</claim>
<claim id="CLM-00013">
<claim-text><highlight><bold>13</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, characterized in that the memory apparatus comprises a read-only storage region storing address data of the second storage region, and the data-processing means designates the second storage region on the basis of the address data stored in the read-only storage region, thereby writing data into the second storage region or reading data from the second storage region. </claim-text>
</claim>
<claim id="CLM-00014">
<claim-text><highlight><bold>14</bold></highlight>. A data-processing apparatus according to <dependent-claim-reference depends_on="CLM-00011">claim 11</dependent-claim-reference>, characterized in that password data is written in the second storage region of the memory apparatus; the control means receives instructions to read the password data from the second storage region when the user makes instructions to write data into the memory apparatus or read data from the memory apparatus, thereby reading the password data from the second storage region, or writing data into the first storage region of the memory apparatus or reads data from the first storage region when the password data read from the second storage region coincides with the password data input by the user. </claim-text>
</claim>
<claim id="CLM-00015">
<claim-text><highlight><bold>15</bold></highlight>. A data-processing method characterized in that use is made, as a recording medium, an memory apparatus comprising a first storage region from which data can be read and into which data can be written, in accordance with instructions made by a user, and a second storage region from which data can be read and into which data can be written, when a data-processing apparatus to which the memory apparatus is connected performs prescribed procedures; and data is written into, or read from, the first storage region when the user makes instructions to write the data into, or to read the data from, the memory apparatus. </claim-text>
</claim>
<claim id="CLM-00016">
<claim-text><highlight><bold>16</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 15</dependent-claim-reference>, characterized in that a conversion table showing a physical address of the first storage region of the memory apparatus and data to be written into the first storage region or a logic address of the data written in the first storage region is referred to, and the data is thereby written into the first storage region or read from the first storage region. </claim-text>
</claim>
<claim id="CLM-00017">
<claim-text><highlight><bold>17</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, characterized in that the data to be written into the first storage region of the memory apparatus or the data written in the first storage region of the memory apparatus is managed in units of files, a logic address of data is designated from the data to be written into the first storage region of the memory apparatus or from the file name of the data written in the first storage region, and the conversion table is referred to, and the data is thereby written into the first storage region or read from the first storage region. </claim-text>
</claim>
<claim id="CLM-00018">
<claim-text><highlight><bold>18</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 16</dependent-claim-reference>, characterized in that the second storage region of the memory apparatus is designated upon receipt of instructions for writing the data into the second storage region of the memory apparatus or reading the data from the second storage region, and the data is written into the second storage region or read from the second storage region. </claim-text>
</claim>
<claim id="CLM-00019">
<claim-text><highlight><bold>19</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, characterized in that a conversion table showing a physical address of the second storage region of the memory apparatus is referred to, thereby designating the second storage region, and data is written into the second storage region or read from the second storage region. </claim-text>
</claim>
<claim id="CLM-00020">
<claim-text><highlight><bold>20</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, characterized in that the memory apparatus comprises a read-only storage region storing address data of the second storage region, the second storage region is designated on the basis of the address data stored in the read-only storage region, and data is written into the second storage region or read from the second storage region. </claim-text>
</claim>
<claim id="CLM-00021">
<claim-text><highlight><bold>21</bold></highlight>. A data-processing method according to <dependent-claim-reference depends_on="CLM-00011">claim 18</dependent-claim-reference>, characterized in that password data is written in the second storage region of the memory apparatus; instructions to read the password data from the second storage region are received when the user makes instructions to write data into the memory apparatus or read data from the memory apparatus, the password data is thereby read from the second storage region, and data is written into the first storage region of the memory apparatus or read from the first storage region when the password data red from the second storage region coincides with the password data input by the user.</claim-text>
</claim>
</subdoc-claims>
<subdoc-drawings id="DRAWINGS">
<heading lvl="0" align="CENTER">Drawings</heading>
<representative-figure>1</representative-figure>
<figure id="figure-D00000">
<image id="EMI-D00000" file="US20030005213A1-20030102-D00000.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00001">
<image id="EMI-D00001" file="US20030005213A1-20030102-D00001.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00002">
<image id="EMI-D00002" file="US20030005213A1-20030102-D00002.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00003">
<image id="EMI-D00003" file="US20030005213A1-20030102-D00003.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00004">
<image id="EMI-D00004" file="US20030005213A1-20030102-D00004.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00005">
<image id="EMI-D00005" file="US20030005213A1-20030102-D00005.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00006">
<image id="EMI-D00006" file="US20030005213A1-20030102-D00006.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00007">
<image id="EMI-D00007" file="US20030005213A1-20030102-D00007.TIF" imf="TIFF" ti="DR"/>
</figure>
<figure id="figure-D00008">
<image id="EMI-D00008" file="US20030005213A1-20030102-D00008.TIF" imf="TIFF" ti="DR"/>
</figure>
</subdoc-drawings>
</patent-application-publication>
